"use strict";var lW=Object.defineProperty,uW=Object.defineProperties,cW=Object.getOwnPropertyDescriptors,CP=Object.getOwnPropertySymbols,hW=Object.prototype.hasOwnProperty,dW=Object.prototype.propertyIsEnumerable,bP=(Ce,zt,un)=>zt in Ce?lW(Ce,zt,{enumerable:!0,configurable:!0,writable:!0,value:un}):Ce[zt]=un,te=(Ce,zt)=>{for(var un in zt||(zt={}))hW.call(zt,un)&&bP(Ce,un,zt[un]);if(CP)for(var un of CP(zt))dW.call(zt,un)&&bP(Ce,un,zt[un]);return Ce},qt=(Ce,zt)=>uW(Ce,cW(zt));(self.webpackChunkwcg=self.webpackChunkwcg||[]).push([[179],{458:()=>{function Ce(i){return"function"==typeof i}function zt(i){const e=i(t=>{Error.call(t),t.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const un=zt(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,o)=>`${o+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function tr(i,n){if(i){const e=i.indexOf(n);0<=e&&i.splice(e,1)}}class Pt{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:t}=this;if(Ce(t))try{t()}catch(s){n=s instanceof un?s.errors:[s]}const{_teardowns:o}=this;if(o){this._teardowns=null;for(const s of o)try{Xm(s)}catch(r){n=null!=n?n:[],r instanceof un?n=[...n,...r.errors]:n.push(r)}}if(n)throw new un(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Xm(n);else{if(n instanceof Pt){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&tr(e,n)}remove(n){const{_teardowns:e}=this;e&&tr(e,n),n instanceof Pt&&n._removeParent(this)}}Pt.EMPTY=(()=>{const i=new Pt;return i.closed=!0,i})();const qm=Pt.EMPTY;function Zm(i){return i instanceof Pt||i&&"closed"in i&&Ce(i.remove)&&Ce(i.add)&&Ce(i.unsubscribe)}function Xm(i){Ce(i)?i():i.unsubscribe()}const fs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vu={setTimeout(...i){const{delegate:n}=vu;return((null==n?void 0:n.setTimeout)||setTimeout)(...i)},clearTimeout(i){const{delegate:n}=vu;return((null==n?void 0:n.clearTimeout)||clearTimeout)(i)},delegate:void 0};function Km(i){vu.setTimeout(()=>{const{onUnhandledError:n}=fs;if(!n)throw i;n(i)})}function Da(){}const wP=ud("C",void 0,void 0);function ud(i,n,e){return{kind:i,value:n,error:e}}let gs=null;function yu(i){if(fs.useDeprecatedSynchronousErrorHandling){const n=!gs;if(n&&(gs={errorThrown:!1,error:null}),i(),n){const{errorThrown:e,error:t}=gs;if(gs=null,e)throw t}}else i()}class cd extends Pt{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Zm(n)&&n.add(this)):this.destination=SP}static create(n,e,t){return new hd(n,e,t)}next(n){this.isStopped?pd(ud("N",n,void 0),this):this._next(n)}error(n){this.isStopped?pd(ud("E",void 0,n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?pd(wP,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class hd extends cd{constructor(n,e,t){let o;if(super(),Ce(n))o=n;else if(n){let s;({next:o,error:e,complete:t}=n),this&&fs.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe()):s=n,o=null==o?void 0:o.bind(s),e=null==e?void 0:e.bind(s),t=null==t?void 0:t.bind(s)}this.destination={next:o?dd(o):Da,error:dd(null!=e?e:Qm),complete:t?dd(t):Da}}}function dd(i,n){return(...e)=>{try{i(...e)}catch(t){fs.useDeprecatedSynchronousErrorHandling?function(i){fs.useDeprecatedSynchronousErrorHandling&&gs&&(gs.errorThrown=!0,gs.error=i)}(t):Km(t)}}}function Qm(i){throw i}function pd(i,n){const{onStoppedNotification:e}=fs;e&&vu.setTimeout(()=>e(i,n))}const SP={closed:!0,next:Da,error:Qm,complete:Da},fd="function"==typeof Symbol&&Symbol.observable||"@@observable";function Do(i){return i}let Ze=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){const t=new i;return t.source=this,t.operator=e,t}subscribe(e,t,o){const s=function(i){return i&&i instanceof cd||function(i){return i&&Ce(i.next)&&Ce(i.error)&&Ce(i.complete)}(i)&&Zm(i)}(e)?e:new hd(e,t,o);return yu(()=>{const{operator:r,source:a}=this;s.add(r?r.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=e_(t))((o,s)=>{let r;r=this.subscribe(a=>{try{e(a)}catch(l){s(l),null==r||r.unsubscribe()}},s,o)})}_subscribe(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}[fd](){return this}pipe(...e){return function(i){return 0===i.length?Do:1===i.length?i[0]:function(e){return i.reduce((t,o)=>o(t),e)}}(e)(this)}toPromise(e){return new(e=e_(e))((t,o)=>{let s;this.subscribe(r=>s=r,r=>o(r),()=>t(s))})}}return i.create=n=>new i(n),i})();function e_(i){var n;return null!==(n=null!=i?i:fs.Promise)&&void 0!==n?n:Promise}const EP=zt(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ze=(()=>{class i extends Ze{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const t=new t_(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new EP}next(e){yu(()=>{if(this._throwIfClosed(),!this.isStopped){const t=this.observers.slice();for(const o of t)o.next(e)}})}error(e){yu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:t}=this;for(;t.length;)t.shift().error(e)}})}complete(){yu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:t,isStopped:o,observers:s}=this;return t||o?qm:(s.push(e),new Pt(()=>tr(s,e)))}_checkFinalizedStatuses(e){const{hasError:t,thrownError:o,isStopped:s}=this;t?e.error(o):s&&e.complete()}asObservable(){const e=new Ze;return e.source=this,e}}return i.create=(n,e)=>new t_(n,e),i})();class t_ extends ze{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===t||t.call(e,n)}error(n){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===t||t.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,t;return null!==(t=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==t?t:qm}}function n_(i){return Ce(null==i?void 0:i.lift)}function Ct(i){return n=>{if(n_(n))return n.lift(function(e){try{return i(e,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}class pt extends cd{constructor(n,e,t,o,s){super(n),this.onFinalize=s,this._next=e?function(r){try{e(r)}catch(a){n.error(a)}}:super._next,this._error=o?function(r){try{o(r)}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=t?function(){try{t()}catch(r){n.error(r)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}function Ee(i,n){return Ct((e,t)=>{let o=0;e.subscribe(new pt(t,s=>{t.next(i.call(n,s,o++))}))})}function ms(i){return this instanceof ms?(this.v=i,this):new ms(i)}function IP(i,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,t=e.apply(i,n||[]),s=[];return o={},r("next"),r("throw"),r("return"),o[Symbol.asyncIterator]=function(){return this},o;function r(_){t[_]&&(o[_]=function(v){return new Promise(function(k,w){s.push([_,v,k,w])>1||a(_,v)})})}function a(_,v){try{!function(_){_.value instanceof ms?Promise.resolve(_.value.v).then(u,p):g(s[0][2],_)}(t[_](v))}catch(k){g(s[0][3],k)}}function u(_){a("next",_)}function p(_){a("throw",_)}function g(_,v){_(v),s.shift(),s.length&&a(s[0][0],s[0][1])}}function AP(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=i[Symbol.asyncIterator];return n?n.call(i):(i=function(i){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&i[n],t=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&t>=i.length&&(i=void 0),{value:i&&i[t++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),e={},t("next"),t("throw"),t("return"),e[Symbol.asyncIterator]=function(){return this},e);function t(s){e[s]=i[s]&&function(r){return new Promise(function(a,l){!function(s,r,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},r)}(a,l,(r=i[s](r)).done,r.value)})}}}const md=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function r_(i){return Ce(null==i?void 0:i.then)}function a_(i){return Ce(i[fd])}function l_(i){return Symbol.asyncIterator&&Ce(null==i?void 0:i[Symbol.asyncIterator])}function u_(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const c_="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function h_(i){return Ce(null==i?void 0:i[c_])}function d_(i){return IP(this,arguments,function*(){const e=i.getReader();try{for(;;){const{value:t,done:o}=yield ms(e.read());if(o)return yield ms(void 0);yield yield ms(t)}}finally{e.releaseLock()}})}function p_(i){return Ce(null==i?void 0:i.getReader)}function En(i){if(i instanceof Ze)return i;if(null!=i){if(a_(i))return function(i){return new Ze(n=>{const e=i[fd]();if(Ce(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(md(i))return function(i){return new Ze(n=>{for(let e=0;e<i.length&&!n.closed;e++)n.next(i[e]);n.complete()})}(i);if(r_(i))return function(i){return new Ze(n=>{i.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Km)})}(i);if(l_(i))return f_(i);if(h_(i))return function(i){return new Ze(n=>{for(const e of i)if(n.next(e),n.closed)return;n.complete()})}(i);if(p_(i))return function(i){return f_(d_(i))}(i)}throw u_(i)}function f_(i){return new Ze(n=>{(function(i,n){var e,t,o,s;return function(i,n,e,t){return new(e||(e=Promise))(function(s,r){function a(p){try{u(t.next(p))}catch(g){r(g)}}function l(p){try{u(t.throw(p))}catch(g){r(g)}}function u(p){p.done?s(p.value):function(s){return s instanceof e?s:new e(function(r){r(s)})}(p.value).then(a,l)}u((t=t.apply(i,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=AP(i);!(t=yield e.next()).done;)if(n.next(t.value),n.closed)return}catch(r){o={error:r}}finally{try{t&&!t.done&&(s=e.return)&&(yield s.call(e))}finally{if(o)throw o.error}}n.complete()})})(i,n).catch(e=>n.error(e))})}function Ki(i,n,e,t=0,o=!1){const s=n.schedule(function(){e(),o?i.add(this.schedule(null,t)):this.unsubscribe()},t);if(i.add(s),!o)return s}function At(i,n,e=1/0){return Ce(n)?At((t,o)=>Ee((s,r)=>n(t,s,o,r))(En(i(t,o))),e):("number"==typeof n&&(e=n),Ct((t,o)=>function(i,n,e,t,o,s,r,a){const l=[];let u=0,p=0,g=!1;const _=()=>{g&&!l.length&&!u&&n.complete()},v=w=>u<t?k(w):l.push(w),k=w=>{u++;let M=!1;En(e(w,p++)).subscribe(new pt(n,O=>{n.next(O)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;l.length&&u<t;){const O=l.shift();k(O)}_()}catch(O){n.error(O)}}))};return i.subscribe(new pt(n,v,()=>{g=!0,_()})),()=>{}}(t,o,i,e)))}function Ea(i=1/0){return At(Do,i)}const Qi=new Ze(i=>i.complete());function g_(i){return i&&Ce(i.schedule)}function _d(i){return i[i.length-1]}function m_(i){return Ce(_d(i))?i.pop():void 0}function Ta(i){return g_(_d(i))?i.pop():void 0}function __(i,n=0){return Ct((e,t)=>{e.subscribe(new pt(t,o=>Ki(t,i,()=>t.next(o),n),()=>Ki(t,i,()=>t.complete(),n),o=>Ki(t,i,()=>t.error(o),n)))})}function v_(i,n=0){return Ct((e,t)=>{t.add(i.schedule(()=>e.subscribe(t),n))})}function y_(i,n){if(!i)throw new Error("Iterable cannot be null");return new Ze(e=>{Ki(e,n,()=>{const t=i[Symbol.asyncIterator]();Ki(e,n,()=>{t.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Gt(i,n){return n?function(i,n){if(null!=i){if(a_(i))return function(i,n){return En(i).pipe(v_(n),__(n))}(i,n);if(md(i))return function(i,n){return new Ze(e=>{let t=0;return n.schedule(function(){t===i.length?e.complete():(e.next(i[t++]),e.closed||this.schedule())})})}(i,n);if(r_(i))return function(i,n){return En(i).pipe(v_(n),__(n))}(i,n);if(l_(i))return y_(i,n);if(h_(i))return function(i,n){return new Ze(e=>{let t;return Ki(e,n,()=>{t=i[c_](),Ki(e,n,()=>{let o,s;try{({value:o,done:s}=t.next())}catch(r){return void e.error(r)}s?e.complete():e.next(o)},0,!0)}),()=>Ce(null==t?void 0:t.return)&&t.return()})}(i,n);if(p_(i))return function(i,n){return y_(d_(i),n)}(i,n)}throw u_(i)}(i,n):En(i)}function Cu(...i){const n=Ta(i),e=function(i,n){return"number"==typeof _d(i)?i.pop():1/0}(i),t=i;return t.length?1===t.length?En(t[0]):Ea(e)(Gt(t,n)):Qi}function nr(i){return i<=0?()=>Qi:Ct((n,e)=>{let t=0;n.subscribe(new pt(e,o=>{++t<=i&&(e.next(o),i<=t&&e.complete())}))})}function vd(i,n,...e){return!0===n?(i(),null):!1===n?null:n(...e).pipe(nr(1)).subscribe(()=>i())}function Je(i){for(let n in i)if(i[n]===Je)return n;throw Error("Could not find renamed property on target object.")}function yd(i,n){for(const e in n)n.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=n[e])}function Ne(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Ne).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const n=i.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Cd(i,n){return null==i||""===i?null===n?"":n:null==n||""===n?i:i+" "+n}const QP=Je({__forward_ref__:Je});function He(i){return i.__forward_ref__=He,i.toString=function(){return Ne(this())},i}function we(i){return C_(i)?i():i}function C_(i){return"function"==typeof i&&i.hasOwnProperty(QP)&&i.__forward_ref__===He}class Tn extends Error{constructor(n,e){super(function(i,n){return`${i?`NG0${i}: `:""}${n}`}(n,e)),this.code=n}}function ge(i){return"string"==typeof i?i:null==i?"":String(i)}function cn(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ge(i)}function bu(i,n){const e=n?` in ${n}`:"";throw new Tn("201",`No provider for ${cn(i)} found${e}`)}function In(i,n){null==i&&function(i,n,e,t){throw new Error(`ASSERTION ERROR: ${i}`+(null==t?"":` [Expected=> ${e} ${t} ${n} <=Actual]`))}(n,i,null,"!=")}function ne(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function bt(i){return{providers:i.providers||[],imports:i.imports||[]}}function wd(i){return b_(i,wu)||b_(i,x_)}function b_(i,n){return i.hasOwnProperty(n)?i[n]:null}function w_(i){return i&&(i.hasOwnProperty(xd)||i.hasOwnProperty(sS))?i[xd]:null}const wu=Je({\u0275prov:Je}),xd=Je({\u0275inj:Je}),x_=Je({ngInjectableDef:Je}),sS=Je({ngInjectorDef:Je});var ye=(()=>((ye=ye||{})[ye.Default=0]="Default",ye[ye.Host=1]="Host",ye[ye.Self=2]="Self",ye[ye.SkipSelf=4]="SkipSelf",ye[ye.Optional=8]="Optional",ye))();let kd;function Eo(i){const n=kd;return kd=i,n}function k_(i,n,e){const t=wd(i);return t&&"root"==t.providedIn?void 0===t.value?t.value=t.factory():t.value:e&ye.Optional?null:void 0!==n?n:void bu(Ne(i),"Injector")}function To(i){return{toString:i}.toString()}var Yn=(()=>((Yn=Yn||{})[Yn.OnPush=0]="OnPush",Yn[Yn.Default=1]="Default",Yn))(),gi=(()=>{return(i=gi||(gi={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",gi;var i})();const aS="undefined"!=typeof globalThis&&globalThis,lS="undefined"!=typeof window&&window,uS="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qe=aS||"undefined"!=typeof global&&global||lS||uS,ir={},et=[],xu=Je({\u0275cmp:Je}),Pd=Je({\u0275dir:Je}),Sd=Je({\u0275pipe:Je}),P_=Je({\u0275mod:Je}),eo=Je({\u0275fac:Je}),Oa=Je({__NG_ELEMENT_ID__:Je});let cS=0;function X(i){return To(()=>{const e={},t={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Yn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||et,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||gi.Emulated,id:"c",styles:i.styles||et,_:null,setInput:null,schemas:i.schemas||null,tView:null},o=i.directives,s=i.features,r=i.pipes;return t.id+=cS++,t.inputs=E_(i.inputs,e),t.outputs=E_(i.outputs),s&&s.forEach(a=>a(t)),t.directiveDefs=o?()=>("function"==typeof o?o():o).map(S_):null,t.pipeDefs=r?()=>("function"==typeof r?r():r).map(M_):null,t})}function S_(i){return Jt(i)||function(i){return i[Pd]||null}(i)}function M_(i){return function(i){return i[Sd]||null}(i)}const D_={};function St(i){return To(()=>{const n={type:i.type,bootstrap:i.bootstrap||et,declarations:i.declarations||et,imports:i.imports||et,exports:i.exports||et,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(D_[i.id]=i.type),n})}function E_(i,n){if(null==i)return ir;const e={};for(const t in i)if(i.hasOwnProperty(t)){let o=i[t],s=o;Array.isArray(o)&&(s=o[1],o=o[0]),e[o]=t,n&&(n[o]=s)}return e}const ae=X;function hn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Jt(i){return i[xu]||null}function Wn(i,n){const e=i[P_]||null;if(!e&&!0===n)throw new Error(`Type ${Ne(i)} does not have '\u0275mod' property.`);return e}function Ti(i){return Array.isArray(i)&&"object"==typeof i[1]}function _i(i){return Array.isArray(i)&&!0===i[1]}function Ed(i){return 0!=(8&i.flags)}function Mu(i){return 2==(2&i.flags)}function Du(i){return 1==(1&i.flags)}function vi(i){return null!==i.template}function mS(i){return 0!=(512&i[2])}function bs(i,n){return i.hasOwnProperty(eo)?i[eo]:null}class yS{constructor(n,e,t){this.previousValue=n,this.currentValue=e,this.firstChange=t}isFirstChange(){return this.firstChange}}function re(){return O_}function O_(i){return i.type.prototype.ngOnChanges&&(i.setInput=bS),CS}function CS(){const i=A_(this),n=null==i?void 0:i.current;if(n){const e=i.previous;if(e===ir)i.previous=n;else for(let t in n)e[t]=n[t];i.current=null,this.ngOnChanges(n)}}function bS(i,n,e,t){const o=A_(i)||function(i,n){return i[I_]=n}(i,{previous:ir,current:null}),s=o.current||(o.current={}),r=o.previous,a=this.declaredInputs[e],l=r[a];s[a]=new yS(l&&l.currentValue,n,r===ir),i[t]=n}re.ngInherit=!0;const I_="__ngSimpleChanges__";function A_(i){return i[I_]||null}const R_="http://www.w3.org/2000/svg";let Id;function Ad(){return void 0!==Id?Id:"undefined"!=typeof document?document:void 0}function _t(i){return!!i.listen}const N_={createRenderer:(i,n)=>Ad()};function Mt(i){for(;Array.isArray(i);)i=i[0];return i}function Eu(i,n){return Mt(n[i])}function Xn(i,n){return Mt(n[i.index])}function Rd(i,n){return i.data[n]}function lr(i,n){return i[n]}function Rn(i,n){const e=n[i];return Ti(e)?e:e[0]}function B_(i){return 4==(4&i[2])}function Fd(i){return 128==(128&i[2])}function Io(i,n){return null==n?null:i[n]}function V_(i){i[18]=0}function Nd(i,n){i[5]+=n;let e=i,t=i[3];for(;null!==t&&(1===n&&1===e[5]||-1===n&&0===e[5]);)t[5]+=n,e=t,t=t[3]}const pe={lFrame:Y_(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function L_(){return pe.bindingsEnabled}function G(){return pe.lFrame.lView}function Be(){return pe.lFrame.tView}function E(i){return pe.lFrame.contextLView=i,i[8]}function Rt(){let i=z_();for(;null!==i&&64===i.type;)i=i.parent;return i}function z_(){return pe.lFrame.currentTNode}function Oi(i,n){const e=pe.lFrame;e.currentTNode=i,e.isParent=n}function Bd(){return pe.lFrame.isParent}function Vd(){pe.lFrame.isParent=!1}function Tu(){return pe.isInCheckNoChangesMode}function Ou(i){pe.isInCheckNoChangesMode=i}function dn(){const i=pe.lFrame;let n=i.bindingRootIndex;return-1===n&&(n=i.bindingRootIndex=i.tView.bindingStartIndex),n}function to(){return pe.lFrame.bindingIndex}function ur(){return pe.lFrame.bindingIndex++}function no(i){const n=pe.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+i,e}function NS(i,n){const e=pe.lFrame;e.bindingIndex=e.bindingRootIndex=i,Ld(n)}function Ld(i){pe.lFrame.currentDirectiveIndex=i}function zd(i){const n=pe.lFrame.currentDirectiveIndex;return-1===n?null:i[n]}function H_(){return pe.lFrame.currentQueryIndex}function Gd(i){pe.lFrame.currentQueryIndex=i}function VS(i){const n=i[1];return 2===n.type?n.declTNode:1===n.type?i[6]:null}function U_(i,n,e){if(e&ye.SkipSelf){let o=n,s=i;for(;!(o=o.parent,null!==o||e&ye.Host||(o=VS(s),null===o||(s=s[15],10&o.type))););if(null===o)return!1;n=o,i=s}const t=pe.lFrame=$_();return t.currentTNode=n,t.lView=i,!0}function Iu(i){const n=$_(),e=i[1];pe.lFrame=n,n.currentTNode=e.firstChild,n.lView=i,n.tView=e,n.contextLView=i,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function $_(){const i=pe.lFrame,n=null===i?null:i.child;return null===n?Y_(i):n}function Y_(i){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=n),n}function W_(){const i=pe.lFrame;return pe.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const q_=W_;function Au(){const i=W_();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function pn(){return pe.lFrame.selectedIndex}function Ao(i){pe.lFrame.selectedIndex=i}function vt(){const i=pe.lFrame;return Rd(i.tView,i.selectedIndex)}function yi(){pe.lFrame.currentNamespace=R_}function ws(){pe.lFrame.currentNamespace=null}function Ru(i,n){for(let e=n.directiveStart,t=n.directiveEnd;e<t;e++){const s=i.data[e].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:p}=s;r&&(i.contentHooks||(i.contentHooks=[])).push(-e,r),a&&((i.contentHooks||(i.contentHooks=[])).push(e,a),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(e,a)),l&&(i.viewHooks||(i.viewHooks=[])).push(-e,l),u&&((i.viewHooks||(i.viewHooks=[])).push(e,u),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(e,u)),null!=p&&(i.destroyHooks||(i.destroyHooks=[])).push(e,p)}}function Fu(i,n,e){Z_(i,n,3,e)}function Nu(i,n,e,t){(3&i[2])===e&&Z_(i,n,e,t)}function jd(i,n){let e=i[2];(3&e)===n&&(e&=2047,e+=1,i[2]=e)}function Z_(i,n,e,t){const s=null!=t?t:-1,r=n.length-1;let a=0;for(let l=void 0!==t?65535&i[18]:0;l<r;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=t&&a>=t)break}else n[l]<0&&(i[18]+=65536),(a<s||-1==s)&&($S(i,e,n,l),i[18]=(4294901760&i[18])+l+2),l++}function $S(i,n,e,t){const o=e[t]<0,s=e[t+1],a=i[o?-e[t]:e[t]];if(o){if(i[2]>>11<i[18]>>16&&(3&i[2])===n){i[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Na{constructor(n,e,t){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=t}}function Bu(i,n,e){const t=_t(i);let o=0;for(;o<e.length;){const s=e[o];if("number"==typeof s){if(0!==s)break;o++;const r=e[o++],a=e[o++],l=e[o++];t?i.setAttribute(n,a,l,r):n.setAttributeNS(r,a,l)}else{const r=s,a=e[++o];Ud(r)?t&&i.setProperty(n,r,a):t?i.setAttribute(n,r,a):n.setAttribute(r,a),o++}}return o}function X_(i){return 3===i||4===i||6===i}function Ud(i){return 64===i.charCodeAt(0)}function Vu(i,n){if(null!==n&&0!==n.length)if(null===i||0===i.length)i=n.slice();else{let e=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?e=o:0===e||K_(i,e,o,null,-1===e||2===e?n[++t]:null)}}return i}function K_(i,n,e,t,o){let s=0,r=i.length;if(-1===n)r=-1;else for(;s<i.length;){const a=i[s++];if("number"==typeof a){if(a===n){r=-1;break}if(a>n){r=s-1;break}}}for(;s<i.length;){const a=i[s];if("number"==typeof a)break;if(a===e){if(null===t)return void(null!==o&&(i[s+1]=o));if(t===i[s+1])return void(i[s+2]=o)}s++,null!==t&&s++,null!==o&&s++}-1!==r&&(i.splice(r,0,n),s=r+1),i.splice(s++,0,e),null!==t&&i.splice(s++,0,t),null!==o&&i.splice(s++,0,o)}function Q_(i){return-1!==i}function cr(i){return 32767&i}function hr(i,n){let e=function(i){return i>>16}(i),t=n;for(;e>0;)t=t[15],e--;return t}let $d=!0;function Lu(i){const n=$d;return $d=i,n}let KS=0;function Va(i,n){const e=Wd(i,n);if(-1!==e)return e;const t=n[1];t.firstCreatePass&&(i.injectorIndex=n.length,Yd(t.data,i),Yd(n,null),Yd(t.blueprint,null));const o=zu(i,n),s=i.injectorIndex;if(Q_(o)){const r=cr(o),a=hr(o,n),l=a[1].data;for(let u=0;u<8;u++)n[s+u]=a[r+u]|l[r+u]}return n[s+8]=o,s}function Yd(i,n){i.push(0,0,0,0,0,0,0,0,n)}function Wd(i,n){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===n[i.injectorIndex+8]?-1:i.injectorIndex}function zu(i,n){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let e=0,t=null,o=n;for(;null!==o;){const s=o[1],r=s.type;if(t=2===r?s.declTNode:1===r?o[6]:null,null===t)return-1;if(e++,o=o[15],-1!==t.injectorIndex)return t.injectorIndex|e<<16}return-1}function Gu(i,n,e){!function(i,n,e){let t;"string"==typeof e?t=e.charCodeAt(0)||0:e.hasOwnProperty(Oa)&&(t=e[Oa]),null==t&&(t=e[Oa]=KS++);const o=255&t;n.data[i+(o>>5)]|=1<<o}(i,n,e)}function t4(i,n,e){if(e&ye.Optional)return i;bu(n,"NodeInjector")}function n4(i,n,e,t){if(e&ye.Optional&&void 0===t&&(t=null),0==(e&(ye.Self|ye.Host))){const o=i[9],s=Eo(void 0);try{return o?o.get(n,t,e&ye.Optional):k_(n,t,e&ye.Optional)}finally{Eo(s)}}return t4(t,n,e)}function i4(i,n,e,t=ye.Default,o){if(null!==i){const s=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const n=i.hasOwnProperty(Oa)?i[Oa]:void 0;return"number"==typeof n?n>=0?255&n:eM:n}(e);if("function"==typeof s){if(!U_(n,i,t))return t&ye.Host?t4(o,e,t):n4(n,e,t,o);try{const r=s(t);if(null!=r||t&ye.Optional)return r;bu(e)}finally{q_()}}else if("number"==typeof s){let r=null,a=Wd(i,n),l=-1,u=t&ye.Host?n[16][6]:null;for((-1===a||t&ye.SkipSelf)&&(l=-1===a?zu(i,n):n[a+8],-1!==l&&r4(t,!1)?(r=n[1],a=cr(l),n=hr(l,n)):a=-1);-1!==a;){const p=n[1];if(s4(s,a,p.data)){const g=tM(a,n,e,r,t,u);if(g!==o4)return g}l=n[a+8],-1!==l&&r4(t,n[1].data[a+8]===u)&&s4(s,a,n)?(r=p,a=cr(l),n=hr(l,n)):a=-1}}}return n4(n,e,t,o)}const o4={};function eM(){return new dr(Rt(),G())}function tM(i,n,e,t,o,s){const r=n[1],a=r.data[i+8],p=ju(a,r,e,null==t?Mu(a)&&$d:t!=r&&0!=(3&a.type),o&ye.Host&&s===a);return null!==p?La(n,r,p,a):o4}function ju(i,n,e,t,o){const s=i.providerIndexes,r=n.data,a=1048575&s,l=i.directiveStart,p=s>>20,_=o?a+p:i.directiveEnd;for(let v=t?a:a+p;v<_;v++){const k=r[v];if(v<l&&e===k||v>=l&&k.type===e)return v}if(o){const v=r[l];if(v&&vi(v)&&v.type===e)return l}return null}function La(i,n,e,t){let o=i[e];const s=n.data;if(function(i){return i instanceof Na}(o)){const r=o;r.resolving&&function(i,n){throw new Tn("200",`Circular dependency in DI detected for ${i}`)}(cn(s[e]));const a=Lu(r.canSeeViewProviders);r.resolving=!0;const l=r.injectImpl?Eo(r.injectImpl):null;U_(i,t,ye.Default);try{o=i[e]=r.factory(void 0,s,i,t),n.firstCreatePass&&e>=t.directiveStart&&function(i,n,e){const{ngOnChanges:t,ngOnInit:o,ngDoCheck:s}=n.type.prototype;if(t){const r=O_(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(i,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,r)}o&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-i,o),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,s))}(e,s[e],n)}finally{null!==l&&Eo(l),Lu(a),r.resolving=!1,q_()}}return o}function s4(i,n,e){return!!(e[n+(i>>5)]&1<<i)}function r4(i,n){return!(i&ye.Self||i&ye.Host&&n)}class dr{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,t){return i4(this._tNode,this._lView,n,t,e)}}function qd(i){return C_(i)?()=>{const n=qd(we(i));return n&&n()}:bs(i)}const gr="__parameters__";function _r(i,n,e){return To(()=>{const t=function(i){return function(...e){if(i){const t=i(...e);for(const o in t)this[o]=t[o]}}}(n);function o(...s){if(this instanceof o)return t.apply(this,s),this;const r=new o(...s);return a.annotation=r,a;function a(l,u,p){const g=l.hasOwnProperty(gr)?l[gr]:Object.defineProperty(l,gr,{value:[]})[gr];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(r),l}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=i,o.annotationCls=o,o})}class oe{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ne({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const oM=new oe("AnalyzeForEntryComponents");function Kn(i,n){void 0===n&&(n=i);for(let e=0;e<i.length;e++){let t=i[e];Array.isArray(t)?(n===i&&(n=i.slice(0,e)),Kn(t,n)):n!==i&&n.push(t)}return n}function Ii(i,n){i.forEach(e=>Array.isArray(e)?Ii(e,n):n(e))}function a4(i,n,e){n>=i.length?i.push(e):i.splice(n,0,e)}function Hu(i,n){return n>=i.length-1?i.pop():i.splice(n,1)[0]}function Ha(i,n){const e=[];for(let t=0;t<i;t++)e.push(n);return e}function Nn(i,n,e){let t=vr(i,n);return t>=0?i[1|t]=e:(t=~t,function(i,n,e,t){let o=i.length;if(o==n)i.push(e,t);else if(1===o)i.push(t,i[0]),i[0]=e;else{for(o--,i.push(i[o-1],i[o]);o>n;)i[o]=i[o-2],o--;i[n]=e,i[n+1]=t}}(i,t,n,e)),t}function Kd(i,n){const e=vr(i,n);if(e>=0)return i[1|e]}function vr(i,n){return function(i,n,e){let t=0,o=i.length>>e;for(;o!==t;){const s=t+(o-t>>1),r=i[s<<e];if(n===r)return s<<e;r>n?o=s:t=s+1}return~(o<<e)}(i,n,1)}const Ua={},Jd="__NG_DI_FLAG__",$u="ngTempTokenPath",fM=/\n/gm,d4="__source",mM=Je({provide:String,useValue:Je});let $a;function p4(i){const n=$a;return $a=i,n}function _M(i,n=ye.Default){if(void 0===$a)throw new Error("inject() must be called from an injection context");return null===$a?k_(i,void 0,n):$a.get(i,n&ye.Optional?null:void 0,n)}function j(i,n=ye.Default){return(kd||_M)(we(i),n)}const g4=j;function ep(i){const n=[];for(let e=0;e<i.length;e++){const t=we(i[e]);if(Array.isArray(t)){if(0===t.length)throw new Error("Arguments array must have arguments.");let o,s=ye.Default;for(let r=0;r<t.length;r++){const a=t[r],l=vM(a);"number"==typeof l?-1===l?o=a.token:s|=l:o=a}n.push(j(o,s))}else n.push(j(t))}return n}function Ya(i,n){return i[Jd]=n,i.prototype[Jd]=n,i}function vM(i){return i[Jd]}const Wa=Ya(_r("Inject",i=>({token:i})),-1),Ai=Ya(_r("Optional"),8),yr=Ya(_r("SkipSelf"),4);let Wu,qu;function br(i){var n;return(null==(n=function(){if(void 0===Wu&&(Wu=null,Qe.trustedTypes))try{Wu=Qe.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Wu}())?void 0:n.createHTML(i))||i}function C4(i){var n;return(null==(n=function(){if(void 0===qu&&(qu=null,Qe.trustedTypes))try{qu=Qe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return qu}())?void 0:n.createHTML(i))||i}class x4{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Fo(i){return i instanceof x4?i.changingThisBreaksApplicationSecurity:i}function Za(i,n){const e=function(i){return i instanceof x4&&i.getTypeName()||null}(i);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}class BM{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(br(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class VM{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=br(n),e;const t=this.inertDocument.createElement("body");return t.innerHTML=br(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(t),t}stripCustomNsAttrs(n){const e=n.attributes;for(let o=e.length-1;0<o;o--){const r=e.item(o).name;("xmlns:ns1"===r||0===r.indexOf("ns1:"))&&n.removeAttribute(r)}let t=n.firstChild;for(;t;)t.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(t),t=t.nextSibling}}const zM=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,GM=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zu(i){return(i=String(i)).match(zM)||i.match(GM)?i:"unsafe:"+i}function P4(i){return(i=String(i)).split(",").map(n=>Zu(n.trim())).join(", ")}function Ri(i){const n={};for(const e of i.split(","))n[e]=!0;return n}function Xa(...i){const n={};for(const e of i)for(const t in e)e.hasOwnProperty(t)&&(n[t]=!0);return n}const S4=Ri("area,br,col,hr,img,wbr"),M4=Ri("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),D4=Ri("rp,rt"),op=Xa(S4,Xa(M4,Ri("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xa(D4,Ri("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xa(D4,M4)),sp=Ri("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rp=Ri("srcset"),E4=Xa(sp,rp,Ri("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ri("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jM=Ri("script,style,template");class HM{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,t=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?t=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,t&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!op.hasOwnProperty(e))return this.sanitizedSomething=!0,!jM.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const t=n.attributes;for(let o=0;o<t.length;o++){const s=t.item(o),r=s.name,a=r.toLowerCase();if(!E4.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;sp[a]&&(l=Zu(l)),rp[a]&&(l=P4(l)),this.buf.push(" ",r,'="',T4(l),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();op.hasOwnProperty(e)&&!S4.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(T4(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const UM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$M=/([^\#-~ |!])/g;function T4(i){return i.replace(/&/g,"&amp;").replace(UM,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace($M,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xu;function ap(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Dt=(()=>((Dt=Dt||{})[Dt.NONE=0]="NONE",Dt[Dt.HTML=1]="HTML",Dt[Dt.STYLE=2]="STYLE",Dt[Dt.SCRIPT=3]="SCRIPT",Dt[Dt.URL=4]="URL",Dt[Dt.RESOURCE_URL=5]="RESOURCE_URL",Dt))();function Ku(i){const n=Ka();return n?C4(n.sanitize(Dt.HTML,i)||""):Za(i,"HTML")?C4(Fo(i)):function(i,n){let e=null;try{Xu=Xu||function(i){const n=new VM(i);return function(){try{return!!(new window.DOMParser).parseFromString(br(""),"text/html")}catch(i){return!1}}()?new BM(n):n}(i);let t=n?String(n):"";e=Xu.getInertBodyElement(t);let o=5,s=t;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,t=s,s=e.innerHTML,e=Xu.getInertBodyElement(t)}while(t!==s);return br((new HM).sanitizeChildren(ap(e)||e))}finally{if(e){const t=ap(e)||e;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(Ad(),ge(i))}function Qu(i){const n=Ka();return n?n.sanitize(Dt.URL,i)||"":Za(i,"URL")?Fo(i):Zu(ge(i))}function Ka(){const i=G();return i&&i[12]}const A4="__ngContext__";function tn(i,n){i[A4]=n}function up(i){const n=function(i){return i[A4]||null}(i);return n?Array.isArray(n)?n:n.lView:null}function hp(i){return i.ngOriginalError}function cD(i,...n){i.error(...n)}class wr{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n),t=(i=n)&&i.ngErrorLogger||cD;var i;t(this._console,"ERROR",n),e&&t(this._console,"ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&hp(n);for(;e&&hp(e);)e=hp(e);return e||null}}const V4=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qe))();function be(i){return i.ownerDocument.defaultView}function Fi(i){return i instanceof Function?i():i}var Bn=(()=>((Bn=Bn||{})[Bn.Important=1]="Important",Bn[Bn.DashCase=2]="DashCase",Bn))();function pp(i,n){return undefined(i,n)}function Ja(i){const n=i[3];return _i(n)?n[3]:n}function fp(i){return H4(i[13])}function gp(i){return H4(i[4])}function H4(i){for(;null!==i&&!_i(i);)i=i[4];return i}function kr(i,n,e,t,o){if(null!=t){let s,r=!1;_i(t)?s=t:Ti(t)&&(r=!0,t=t[0]);const a=Mt(t);0===i&&null!==e?null==o?Z4(n,e,a):xs(n,e,a,o||null,!0):1===i&&null!==e?xs(n,e,a,o||null,!0):2===i?function(i,n,e){const t=Ju(i,n);t&&function(i,n,e,t){_t(i)?i.removeChild(n,e,t):n.removeChild(e)}(i,t,n,e)}(n,a,r):3===i&&n.destroyNode(a),null!=s&&function(i,n,e,t,o){const s=e[7];s!==Mt(e)&&kr(n,i,t,s,o);for(let a=10;a<e.length;a++){const l=e[a];el(l[1],l,i,n,t,s)}}(n,i,s,e,o)}}function _p(i,n,e){return _t(i)?i.createElement(n,e):null===e?i.createElement(n):i.createElementNS(e,n)}function $4(i,n){const e=i[9],t=e.indexOf(n),o=n[3];1024&n[2]&&(n[2]&=-1025,Nd(o,-1)),e.splice(t,1)}function vp(i,n){if(i.length<=10)return;const e=10+n,t=i[e];if(t){const o=t[17];null!==o&&o!==i&&$4(o,t),n>0&&(i[e-1][4]=t[4]);const s=Hu(i,10+n);!function(i,n){el(i,n,n[11],2,null,null),n[0]=null,n[6]=null}(t[1],t);const r=s[19];null!==r&&r.detachView(s[1]),t[3]=null,t[4]=null,t[2]&=-129}return t}function Y4(i,n){if(!(256&n[2])){const e=n[11];_t(e)&&e.destroyNode&&el(i,n,e,3,null,null),function(i){let n=i[13];if(!n)return yp(i[1],i);for(;n;){let e=null;if(Ti(n))e=n[13];else{const t=n[10];t&&(e=t)}if(!e){for(;n&&!n[4]&&n!==i;)Ti(n)&&yp(n[1],n),n=n[3];null===n&&(n=i),Ti(n)&&yp(n[1],n),e=n&&n[4]}n=e}}(n)}}function yp(i,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(i,n){let e;if(null!=i&&null!=(e=i.destroyHooks))for(let t=0;t<e.length;t+=2){const o=n[e[t]];if(!(o instanceof Na)){const s=e[t+1];if(Array.isArray(s))for(let r=0;r<s.length;r+=2){const a=o[s[r]],l=s[r+1];try{l.call(a)}finally{}}else try{s.call(o)}finally{}}}}(i,n),function(i,n){const e=i.cleanup,t=n[7];let o=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const r=e[s+1],a="function"==typeof r?r(n):Mt(n[r]),l=t[o=e[s+2]],u=e[s+3];"boolean"==typeof u?a.removeEventListener(e[s],l,u):u>=0?t[o=u]():t[o=-u].unsubscribe(),s+=2}else{const r=t[o=e[s+1]];e[s].call(r)}if(null!==t){for(let s=o+1;s<t.length;s++)t[s]();n[7]=null}}(i,n),1===n[1].type&&_t(n[11])&&n[11].destroy();const e=n[17];if(null!==e&&_i(n[3])){e!==n[3]&&$4(e,n);const t=n[19];null!==t&&t.detachView(i)}}}function W4(i,n,e){return function(i,n,e){let t=n;for(;null!==t&&40&t.type;)t=(n=t).parent;if(null===t)return e[0];if(2&t.flags){const o=i.data[t.directiveStart].encapsulation;if(o===gi.None||o===gi.Emulated)return null}return Xn(t,e)}(i,n.parent,e)}function xs(i,n,e,t,o){_t(i)?i.insertBefore(n,e,t,o):n.insertBefore(e,t,o)}function Z4(i,n,e){_t(i)?i.appendChild(n,e):n.appendChild(e)}function X4(i,n,e,t,o){null!==t?xs(i,n,e,t,o):Z4(i,n,e)}function Ju(i,n){return _t(i)?i.parentNode(n):n.parentNode}function K4(i,n,e){return J4(i,n,e)}let J4=function(i,n,e){return 40&i.type?Xn(i,e):null};function ec(i,n,e,t){const o=W4(i,t,n),s=n[11],a=K4(t.parent||n[6],t,n);if(null!=o)if(Array.isArray(e))for(let l=0;l<e.length;l++)X4(s,o,e[l],a,!1);else X4(s,o,e,a,!1)}function tc(i,n){if(null!==n){const e=n.type;if(3&e)return Xn(n,i);if(4&e)return bp(-1,i[n.index]);if(8&e){const t=n.child;if(null!==t)return tc(i,t);{const o=i[n.index];return _i(o)?bp(-1,o):Mt(o)}}if(32&e)return pp(n,i)()||Mt(i[n.index]);{const t=tv(i,n);return null!==t?Array.isArray(t)?t[0]:tc(Ja(i[16]),t):tc(i,n.next)}}return null}function tv(i,n){return null!==n?i[16][6].projection[n.projection]:null}function bp(i,n){const e=10+i+1;if(e<n.length){const t=n[e],o=t[1].firstChild;if(null!==o)return tc(t,o)}return n[7]}function wp(i,n,e,t,o,s,r){for(;null!=e;){const a=t[e.index],l=e.type;if(r&&0===n&&(a&&tn(Mt(a),t),e.flags|=4),64!=(64&e.flags))if(8&l)wp(i,n,e.child,t,o,s,!1),kr(n,i,o,a,s);else if(32&l){const u=pp(e,t);let p;for(;p=u();)kr(n,i,o,p,s);kr(n,i,o,a,s)}else 16&l?iv(i,n,t,e,o,s):kr(n,i,o,a,s);e=r?e.projectionNext:e.next}}function el(i,n,e,t,o,s){wp(e,t,i.firstChild,n,o,s,!1)}function iv(i,n,e,t,o,s){const r=e[16],l=r[6].projection[t.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)kr(n,i,o,l[u],s);else wp(i,n,l,r[3],o,s,!0)}function ov(i,n,e){_t(i)?i.setAttribute(n,"style",e):n.style.cssText=e}function xp(i,n,e){_t(i)?""===e?i.removeAttribute(n,"class"):i.setAttribute(n,"class",e):n.className=e}function sv(i,n,e){let t=i.length;for(;;){const o=i.indexOf(n,e);if(-1===o)return o;if(0===o||i.charCodeAt(o-1)<=32){const s=n.length;if(o+s===t||i.charCodeAt(o+s)<=32)return o}e=o+1}}const rv="ng-template";function BD(i,n,e){let t=0;for(;t<i.length;){let o=i[t++];if(e&&"class"===o){if(o=i[t],-1!==sv(o.toLowerCase(),n,0))return!0}else if(1===o){for(;t<i.length&&"string"==typeof(o=i[t++]);)if(o.toLowerCase()===n)return!0;return!1}}return!1}function av(i){return 4===i.type&&i.value!==rv}function VD(i,n,e){return n===(4!==i.type||e?i.value:rv)}function LD(i,n,e){let t=4;const o=i.attrs||[],s=function(i){for(let n=0;n<i.length;n++)if(X_(i[n]))return n;return i.length}(o);let r=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!r)if(4&t){if(t=2|1&t,""!==l&&!VD(i,l,e)||""===l&&1===n.length){if(Ci(t))return!1;r=!0}}else{const u=8&t?l:n[++a];if(8&t&&null!==i.attrs){if(!BD(i.attrs,u,e)){if(Ci(t))return!1;r=!0}continue}const g=zD(8&t?"class":l,o,av(i),e);if(-1===g){if(Ci(t))return!1;r=!0;continue}if(""!==u){let _;_=g>s?"":o[g+1].toLowerCase();const v=8&t?_:null;if(v&&-1!==sv(v,u,0)||2&t&&u!==_){if(Ci(t))return!1;r=!0}}}}else{if(!r&&!Ci(t)&&!Ci(l))return!1;if(r&&Ci(l))continue;r=!1,t=l|1&t}}return Ci(t)||r}function Ci(i){return 0==(1&i)}function zD(i,n,e,t){if(null===n)return-1;let o=0;if(t||!e){let s=!1;for(;o<n.length;){const r=n[o];if(r===i)return o;if(3===r||6===r)s=!0;else{if(1===r||2===r){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===r)break;if(0===r){o+=4;continue}}o+=s?1:2}return-1}return function(i,n){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){const t=i[e];if("number"==typeof t)return-1;if(t===n)return e;e++}return-1}(n,i)}function lv(i,n,e=!1){for(let t=0;t<n.length;t++)if(LD(i,n[t],e))return!0;return!1}function UD(i,n){e:for(let e=0;e<n.length;e++){const t=n[e];if(i.length===t.length){for(let o=0;o<i.length;o++)if(i[o]!==t[o])continue e;return!0}}return!1}function uv(i,n){return i?":not("+n.trim()+")":n}function $D(i){let n=i[0],e=1,t=2,o="",s=!1;for(;e<i.length;){let r=i[e];if("string"==typeof r)if(2&t){const a=i[++e];o+="["+r+(a.length>0?'="'+a+'"':"")+"]"}else 8&t?o+="."+r:4&t&&(o+=" "+r);else""!==o&&!Ci(r)&&(n+=uv(s,o),o=""),t=r,s=s||!Ci(t);e++}return""!==o&&(n+=uv(s,o)),n}const me={};function c(i){cv(Be(),G(),pn()+i,Tu())}function cv(i,n,e,t){if(!t)if(3==(3&n[2])){const s=i.preOrderCheckHooks;null!==s&&Fu(n,s,e)}else{const s=i.preOrderHooks;null!==s&&Nu(n,s,0,e)}Ao(e)}function nc(i,n){return i<<17|n<<2}function bi(i){return i>>17&32767}function kp(i){return 2|i}function io(i){return(131068&i)>>2}function Pp(i,n){return-131069&i|n<<2}function Sp(i){return 1|i}function bv(i,n){const e=i.contentQueries;if(null!==e)for(let t=0;t<e.length;t+=2){const o=e[t],s=e[t+1];if(-1!==s){const r=i.data[s];Gd(o),r.contentQueries(2,n[s],s)}}}function tl(i,n,e,t,o,s,r,a,l,u){const p=n.blueprint.slice();return p[0]=o,p[2]=140|t,V_(p),p[3]=p[15]=i,p[8]=e,p[10]=r||i&&i[10],p[11]=a||i&&i[11],p[12]=l||i&&i[12]||null,p[9]=u||i&&i[9]||null,p[6]=s,p[16]=2==n.type?i[16]:p,p}function Pr(i,n,e,t,o){let s=i.data[n];if(null===s)s=function(i,n,e,t,o){const s=z_(),r=Bd(),l=i.data[n]=function(i,n,e,t,o,s){return{type:e,index:t,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,r?s:s&&s.parent,e,n,t,o);return null===i.firstChild&&(i.firstChild=l),null!==s&&(r?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(i,n,e,t,o),pe.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=t,s.attrs=o;const r=function(){const i=pe.lFrame,n=i.currentTNode;return i.isParent?n:n.parent}();s.injectorIndex=null===r?-1:r.injectorIndex}return Oi(s,!0),s}function Sr(i,n,e,t){if(0===e)return-1;const o=n.length;for(let s=0;s<e;s++)n.push(t),i.blueprint.push(t),i.data.push(null);return o}function nl(i,n,e){Iu(n);try{const t=i.viewQuery;null!==t&&Up(1,t,e);const o=i.template;null!==o&&wv(i,n,o,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&bv(i,n),i.staticViewQueries&&Up(2,i.viewQuery,e);const s=i.components;null!==s&&function(i,n){for(let e=0;e<n.length;e++)ME(i,n[e])}(n,s)}catch(t){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),t}finally{n[2]&=-5,Au()}}function Mr(i,n,e,t){const o=n[2];if(256==(256&o))return;Iu(n);const s=Tu();try{V_(n),function(i){pe.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==e&&wv(i,n,e,2,t);const r=3==(3&o);if(!s)if(r){const u=i.preOrderCheckHooks;null!==u&&Fu(n,u,null)}else{const u=i.preOrderHooks;null!==u&&Nu(n,u,0,null),jd(n,0)}if(function(i){for(let n=fp(i);null!==n;n=gp(n)){if(!n[2])continue;const e=n[9];for(let t=0;t<e.length;t++){const o=e[t],s=o[3];0==(1024&o[2])&&Nd(s,1),o[2]|=1024}}}(n),function(i){for(let n=fp(i);null!==n;n=gp(n))for(let e=10;e<n.length;e++){const t=n[e],o=t[1];Fd(t)&&Mr(o,t,o.template,t[8])}}(n),null!==i.contentQueries&&bv(i,n),!s)if(r){const u=i.contentCheckHooks;null!==u&&Fu(n,u)}else{const u=i.contentHooks;null!==u&&Nu(n,u,1),jd(n,1)}!function(i,n){const e=i.hostBindingOpCodes;if(null!==e)try{for(let t=0;t<e.length;t++){const o=e[t];if(o<0)Ao(~o);else{const s=o,r=e[++t],a=e[++t];NS(r,s),a(2,n[s])}}}finally{Ao(-1)}}(i,n);const a=i.components;null!==a&&function(i,n){for(let e=0;e<n.length;e++)SE(i,n[e])}(n,a);const l=i.viewQuery;if(null!==l&&Up(2,l,t),!s)if(r){const u=i.viewCheckHooks;null!==u&&Fu(n,u)}else{const u=i.viewHooks;null!==u&&Nu(n,u,2),jd(n,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Nd(n[3],-1))}finally{Au()}}function aE(i,n,e,t){const o=n[10],s=!Tu(),r=B_(n);try{s&&!r&&o.begin&&o.begin(),r&&nl(i,n,t),Mr(i,n,e,t)}finally{s&&!r&&o.end&&o.end()}}function wv(i,n,e,t,o){const s=pn(),r=2&t;try{Ao(-1),r&&n.length>20&&cv(i,n,20,Tu()),e(t,o)}finally{Ao(s)}}function xv(i,n,e){if(Ed(n)){const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const r=i.data[s];r.contentQueries&&r.contentQueries(1,e[s],s)}}}function Np(i,n,e){!L_()||(function(i,n,e,t){const o=e.directiveStart,s=e.directiveEnd;i.firstCreatePass||Va(e,n),tn(t,n);const r=e.initialInputs;for(let a=o;a<s;a++){const l=i.data[a],u=vi(l);u&&bE(n,e,l);const p=La(n,i,a,e);tn(p,n),null!==r&&wE(0,a-o,p,l,0,r),u&&(Rn(e.index,n)[8]=p)}}(i,n,e,Xn(e,n)),128==(128&e.flags)&&function(i,n,e){const t=e.directiveStart,o=e.directiveEnd,r=e.index,a=pe.lFrame.currentDirectiveIndex;try{Ao(r);for(let l=t;l<o;l++){const u=i.data[l],p=n[l];Ld(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Ov(u,p)}}finally{Ao(-1),Ld(a)}}(i,n,e))}function Bp(i,n,e=Xn){const t=n.localNames;if(null!==t){let o=n.index+1;for(let s=0;s<t.length;s+=2){const r=t[s+1],a=-1===r?e(n,i):i[r];i[o++]=a}}}function kv(i){const n=i.tView;return null===n||n.incompleteFirstPass?i.tView=sc(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):n}function sc(i,n,e,t,o,s,r,a,l,u){const p=20+t,g=p+o,_=function(i,n){const e=[];for(let t=0;t<n;t++)e.push(t<i?null:me);return e}(p,g),v="function"==typeof u?u():u;return _[1]={type:i,blueprint:_,template:e,queries:null,viewQuery:a,declTNode:n,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof r?r():r,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1}}function Mv(i,n,e,t){const o=Bv(n);null===e?o.push(t):(o.push(e),i.firstCreatePass&&Vv(i).push(t,o.length-1))}function Dv(i,n,e){for(let t in i)if(i.hasOwnProperty(t)){const o=i[t];(e=null===e?{}:e).hasOwnProperty(t)?e[t].push(n,o):e[t]=[n,o]}return e}function Vn(i,n,e,t,o,s,r,a){const l=Xn(n,e);let p,u=n.inputs;!a&&null!=u&&(p=u[t])?(Gv(i,e,p,t,o),Mu(n)&&function(i,n){const e=Rn(n,i);16&e[2]||(e[2]|=64)}(e,n.index)):3&n.type&&(t=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(t),o=null!=r?r(o,n.value||"",t):o,_t(s)?s.setProperty(l,t,o):Ud(t)||(l.setProperty?l.setProperty(t,o):l[t]=o))}function Vp(i,n,e,t){let o=!1;if(L_()){const s=function(i,n,e){const t=i.directiveRegistry;let o=null;if(t)for(let s=0;s<t.length;s++){const r=t[s];lv(e,r.selectors,!1)&&(o||(o=[]),Gu(Va(e,n),i,r.type),vi(r)?(Iv(i,e),o.unshift(r)):o.push(r))}return o}(i,n,e),r=null===t?null:{"":-1};if(null!==s){o=!0,Av(e,i.data.length,s.length);for(let p=0;p<s.length;p++){const g=s[p];g.providersResolver&&g.providersResolver(g)}let a=!1,l=!1,u=Sr(i,n,s.length,null);for(let p=0;p<s.length;p++){const g=s[p];e.mergedAttrs=Vu(e.mergedAttrs,g.hostAttrs),Rv(i,e,n,u,g),CE(u,g,r),null!==g.contentQueries&&(e.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(e.flags|=128);const _=g.type.prototype;!a&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e.index),a=!0),!l&&(_.ngOnChanges||_.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e.index),l=!0),u++}!function(i,n){const t=n.directiveEnd,o=i.data,s=n.attrs,r=[];let a=null,l=null;for(let u=n.directiveStart;u<t;u++){const p=o[u],g=p.inputs,_=null===s||av(n)?null:xE(g,s);r.push(_),a=Dv(g,u,a),l=Dv(p.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=r,n.inputs=a,n.outputs=l}(i,e)}r&&function(i,n,e){if(n){const t=i.localNames=[];for(let o=0;o<n.length;o+=2){const s=e[n[o+1]];if(null==s)throw new Tn("301",`Export of name '${n[o+1]}' not found!`);t.push(n[o],s)}}}(e,t,r)}return e.mergedAttrs=Vu(e.mergedAttrs,e.attrs),o}function Tv(i,n,e,t,o,s){const r=s.hostBindings;if(r){let a=i.hostBindingOpCodes;null===a&&(a=i.hostBindingOpCodes=[]);const l=~n.index;(function(i){let n=i.length;for(;n>0;){const e=i[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(t,o,r)}}function Ov(i,n){null!==i.hostBindings&&i.hostBindings(1,n)}function Iv(i,n){n.flags|=2,(i.components||(i.components=[])).push(n.index)}function CE(i,n,e){if(e){if(n.exportAs)for(let t=0;t<n.exportAs.length;t++)e[n.exportAs[t]]=i;vi(n)&&(e[""]=i)}}function Av(i,n,e){i.flags|=1,i.directiveStart=n,i.directiveEnd=n+e,i.providerIndexes=n}function Rv(i,n,e,t,o){i.data[t]=o;const s=o.factory||(o.factory=bs(o.type)),r=new Na(s,vi(o),null);i.blueprint[t]=r,e[t]=r,Tv(i,n,0,t,Sr(i,e,o.hostVars,me),o)}function bE(i,n,e){const t=Xn(n,i),o=kv(e),s=i[10],r=rc(i,tl(i,o,null,e.onPush?64:16,t,n,s,s.createRenderer(t,e),null,null));i[n.index]=r}function Ni(i,n,e,t,o,s){const r=Xn(i,n);!function(i,n,e,t,o,s,r){if(null==s)_t(i)?i.removeAttribute(n,o,e):n.removeAttribute(o);else{const a=null==r?ge(s):r(s,t||"",o);_t(i)?i.setAttribute(n,o,a,e):e?n.setAttributeNS(e,o,a):n.setAttribute(o,a)}}(n[11],r,s,i.value,e,t,o)}function wE(i,n,e,t,o,s){const r=s[n];if(null!==r){const a=t.setInput;for(let l=0;l<r.length;){const u=r[l++],p=r[l++],g=r[l++];null!==a?t.setInput(e,g,u,p):e[p]=g}}}function xE(i,n){let e=null,t=0;for(;t<n.length;){const o=n[t];if(0!==o)if(5!==o){if("number"==typeof o)break;i.hasOwnProperty(o)&&(null===e&&(e=[]),e.push(o,i[o],n[t+1])),t+=2}else t+=2;else t+=4}return e}function Fv(i,n,e,t){return new Array(i,!0,!1,n,null,0,t,e,null,null)}function SE(i,n){const e=Rn(n,i);if(Fd(e)){const t=e[1];80&e[2]?Mr(t,e,t.template,e[8]):e[5]>0&&zp(e)}}function zp(i){for(let t=fp(i);null!==t;t=gp(t))for(let o=10;o<t.length;o++){const s=t[o];if(1024&s[2]){const r=s[1];Mr(r,s,r.template,s[8])}else s[5]>0&&zp(s)}const e=i[1].components;if(null!==e)for(let t=0;t<e.length;t++){const o=Rn(e[t],i);Fd(o)&&o[5]>0&&zp(o)}}function ME(i,n){const e=Rn(n,i),t=e[1];(function(i,n){for(let e=n.length;e<i.blueprint.length;e++)n.push(i.blueprint[e])})(t,e),nl(t,e,e[8])}function rc(i,n){return i[13]?i[14][4]=n:i[13]=n,i[14]=n,n}function Gp(i){for(;i;){i[2]|=64;const n=Ja(i);if(mS(i)&&!n)return i;i=n}return null}function Hp(i,n,e){const t=n[10];t.begin&&t.begin();try{Mr(i,n,i.template,e)}catch(o){throw zv(n,o),o}finally{t.end&&t.end()}}function Nv(i){!function(i){for(let n=0;n<i.components.length;n++){const e=i.components[n],t=up(e),o=t[1];aE(o,t,o.template,e)}}(i[8])}function Up(i,n,e){Gd(0),n(i,e)}const IE=(()=>Promise.resolve(null))();function Bv(i){return i[7]||(i[7]=[])}function Vv(i){return i.cleanup||(i.cleanup=[])}function zv(i,n){const e=i[9],t=e?e.get(wr,null):null;t&&t.handleError(n)}function Gv(i,n,e,t,o){for(let s=0;s<e.length;){const r=e[s++],a=e[s++],l=n[r],u=i.data[r];null!==u.setInput?u.setInput(l,o,t,a):l[a]=o}}function oo(i,n,e){const t=Eu(n,i);!function(i,n,e){_t(i)?i.setValue(n,e):n.textContent=e}(i[11],t,e)}function ac(i,n,e){let t=e?i.styles:null,o=e?i.classes:null,s=0;if(null!==n)for(let r=0;r<n.length;r++){const a=n[r];"number"==typeof a?s=a:1==s?o=Cd(o,a):2==s&&(t=Cd(t,a+": "+n[++r]+";"))}e?i.styles=t:i.stylesWithoutHost=t,e?i.classes=o:i.classesWithoutHost=o}const $p=new oe("INJECTOR",-1);class jv{get(n,e=Ua){if(e===Ua){const t=new Error(`NullInjectorError: No provider for ${Ne(n)}!`);throw t.name="NullInjectorError",t}return e}}const Yp=new oe("Set Injector scope."),il={},FE={};let Wp;function Hv(){return void 0===Wp&&(Wp=new jv),Wp}function Uv(i,n=null,e=null,t){const o=$v(i,n,e,t);return o._resolveInjectorDefTypes(),o}function $v(i,n=null,e=null,t){return new NE(i,e,n||Hv(),t)}class NE{constructor(n,e,t,o=null){this.parent=t,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&Ii(e,a=>this.processProvider(a,n,e)),Ii([n],a=>this.processInjectorType(a,[],s)),this.records.set($p,Dr(void 0,this));const r=this.records.get(Yp);this.scope=null!=r?r.value:null,this.source=o||("object"==typeof n?null:Ne(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,e=Ua,t=ye.Default){this.assertNotDestroyed();const o=p4(this),s=Eo(void 0);try{if(!(t&ye.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=("function"==typeof(i=n)||"object"==typeof i&&i instanceof oe)&&wd(n);a=l&&this.injectableDefInScope(l)?Dr(qp(n),il):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(t&ye.Self?Hv():this.parent).get(n,e=t&ye.Optional&&e===Ua?null:e)}catch(r){if("NullInjectorError"===r.name){if((r[$u]=r[$u]||[]).unshift(Ne(n)),o)throw r;return function(i,n,e,t){const o=i[$u];throw n[d4]&&o.unshift(n[d4]),i.message=function(i,n,e,t=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let o=Ne(n);if(Array.isArray(n))o=n.map(Ne).join(" -> ");else if("object"==typeof n){let s=[];for(let r in n)if(n.hasOwnProperty(r)){let a=n[r];s.push(r+":"+("string"==typeof a?JSON.stringify(a):Ne(a)))}o=`{${s.join(", ")}}`}return`${e}${t?"("+t+")":""}[${o}]: ${i.replace(fM,"\n  ")}`}("\n"+i.message,o,e,t),i.ngTokenPath=o,i[$u]=null,i}(r,n,"R3InjectorError",this.source)}throw r}finally{Eo(s),p4(o)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((t,o)=>n.push(Ne(o))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,e,t){if(!(n=we(n)))return!1;let o=w_(n);const s=null==o&&n.ngModule||void 0,r=void 0===s?n:s,a=-1!==t.indexOf(r);if(void 0!==s&&(o=w_(s)),null==o)return!1;if(null!=o.imports&&!a){let p;t.push(r);try{Ii(o.imports,g=>{this.processInjectorType(g,e,t)&&(void 0===p&&(p=[]),p.push(g))})}finally{}if(void 0!==p)for(let g=0;g<p.length;g++){const{ngModule:_,providers:v}=p[g];Ii(v,k=>this.processProvider(k,_,v||et))}}this.injectorDefTypes.add(r);const l=bs(r)||(()=>new r);this.records.set(r,Dr(l,il));const u=o.providers;if(null!=u&&!a){const p=n;Ii(u,g=>this.processProvider(g,p,u))}return void 0!==s&&void 0!==n.providers}processProvider(n,e,t){let o=Er(n=we(n))?n:we(n&&n.provide);const s=function(i,n,e){return Wv(i)?Dr(void 0,i.useValue):Dr(Yv(i),il)}(n);if(Er(n)||!0!==n.multi)this.records.get(o);else{let r=this.records.get(o);r||(r=Dr(void 0,il,!0),r.factory=()=>ep(r.multi),this.records.set(o,r)),o=n,r.multi.push(n)}this.records.set(o,s)}hydrate(n,e){return e.value===il&&(e.value=FE,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(i=e.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(e.value),e.value;var i}injectableDefInScope(n){if(!n.providedIn)return!1;const e=we(n.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function qp(i){const n=wd(i),e=null!==n?n.factory:bs(i);if(null!==e)return e;if(i instanceof oe)throw new Error(`Token ${Ne(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const n=i.length;if(n>0){const t=Ha(n,"?");throw new Error(`Can't resolve all parameters for ${Ne(i)}: (${t.join(", ")}).`)}const e=function(i){const n=i&&(i[wu]||i[x_]);if(n){const e=function(i){if(i.hasOwnProperty("name"))return i.name;const n=(""+i).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(i);return null!==e?()=>e.factory(i):()=>new i}(i);throw new Error("unreachable")}function Yv(i,n,e){let t;if(Er(i)){const o=we(i);return bs(o)||qp(o)}if(Wv(i))t=()=>we(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))t=()=>i.useFactory(...ep(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))t=()=>j(we(i.useExisting));else{const o=we(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return bs(o)||qp(o);t=()=>new o(...ep(i.deps))}return t}function Dr(i,n,e=!1){return{factory:i,value:n,multi:e?[]:void 0}}function Wv(i){return null!==i&&"object"==typeof i&&mM in i}function Er(i){return"function"==typeof i}let Zt=(()=>{class i{static create(e,t){var o;if(Array.isArray(e))return Uv({name:""},t,e,"");{const s=null!=(o=e.name)?o:"";return Uv({name:s},e.parent,e.providers,s)}}}return i.THROW_IF_NOT_FOUND=Ua,i.NULL=new jv,i.\u0275prov=ne({token:i,providedIn:"any",factory:()=>j($p)}),i.__NG_ELEMENT_ID__=-1,i})();function QE(i,n){Ru(up(i)[1],Rt())}function tt(i){let n=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),e=!0;const t=[i];for(;n;){let o;if(vi(i))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");o=n.\u0275dir}if(o){if(e){t.push(o);const r=i;r.inputs=Kp(i.inputs),r.declaredInputs=Kp(i.declaredInputs),r.outputs=Kp(i.outputs);const a=o.hostBindings;a&&nT(i,a);const l=o.viewQuery,u=o.contentQueries;if(l&&eT(i,l),u&&tT(i,u),yd(i.inputs,o.inputs),yd(i.declaredInputs,o.declaredInputs),yd(i.outputs,o.outputs),vi(o)&&o.data.animation){const p=i.data;p.animation=(p.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let r=0;r<s.length;r++){const a=s[r];a&&a.ngInherit&&a(i),a===tt&&(e=!1)}}n=Object.getPrototypeOf(n)}!function(i){let n=0,e=null;for(let t=i.length-1;t>=0;t--){const o=i[t];o.hostVars=n+=o.hostVars,o.hostAttrs=Vu(o.hostAttrs,e=Vu(e,o.hostAttrs))}}(t)}function Kp(i){return i===ir?{}:i===et?[]:i}function eT(i,n){const e=i.viewQuery;i.viewQuery=e?(t,o)=>{n(t,o),e(t,o)}:n}function tT(i,n){const e=i.contentQueries;i.contentQueries=e?(t,o,s)=>{n(t,o,s),e(t,o,s)}:n}function nT(i,n){const e=i.hostBindings;i.hostBindings=e?(t,o)=>{n(t,o),e(t,o)}:n}let lc=null;function Tr(){if(!lc){const i=Qe.Symbol;if(i&&i.iterator)lc=i.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const t=n[e];"entries"!==t&&"size"!==t&&Map.prototype[t]===Map.prototype.entries&&(lc=t)}}}return lc}function ol(i){return!!Qp(i)&&(Array.isArray(i)||!(i instanceof Map)&&Tr()in i)}function Qp(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Bi(i,n,e){return i[n]=e}function sl(i,n){return i[n]}function nn(i,n,e){return!Object.is(i[n],e)&&(i[n]=e,!0)}function ks(i,n,e,t){const o=nn(i,n,e);return nn(i,n+1,t)||o}function uc(i,n,e,t,o){const s=ks(i,n,e,t);return nn(i,n+2,o)||s}function Qn(i,n,e,t,o,s){const r=ks(i,n,e,t);return ks(i,n+2,o,s)||r}function $e(i,n,e,t){const o=G();return nn(o,ur(),n)&&(Be(),Ni(vt(),o,i,n,e,t)),$e}function S(i,n,e,t,o,s,r,a){const l=G(),u=Be(),p=i+20,g=u.firstCreatePass?function(i,n,e,t,o,s,r,a,l){const u=n.consts,p=Pr(n,i,4,r||null,Io(u,a));Vp(n,e,p,Io(u,l)),Ru(n,p);const g=p.tViews=sc(2,p,t,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u);return null!==n.queries&&(n.queries.template(n,p),g.queries=n.queries.embeddedTView(p)),p}(p,u,l,n,e,t,o,s,r):u.data[p];Oi(g,!1);const _=l[11].createComment("");ec(u,l,_,g),tn(_,l),rc(l,l[p]=Fv(_,l,_,g)),Du(g)&&Np(u,l,g),null!=r&&Bp(l,g,a)}function so(i){return lr(pe.lFrame.contextLView,20+i)}function P(i,n=ye.Default){const e=G();return null===e?j(i,n):i4(Rt(),e,we(i),n)}function sf(){throw new Error("invalid")}function f(i,n,e){const t=G();return nn(t,ur(),n)&&Vn(Be(),vt(),t,i,n,t[11],e,!1),f}function rf(i,n,e,t,o){const r=o?"class":"style";Gv(i,e,n.inputs[r],r,t)}function h(i,n,e,t){const o=G(),s=Be(),r=20+i,a=o[11],l=o[r]=_p(a,n,pe.lFrame.currentNamespace),u=s.firstCreatePass?function(i,n,e,t,o,s,r){const a=n.consts,u=Pr(n,i,2,o,Io(a,s));return Vp(n,e,u,Io(a,r)),null!==u.attrs&&ac(u,u.attrs,!1),null!==u.mergedAttrs&&ac(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(r,s,o,0,n,e,t):s.data[r];Oi(u,!0);const p=u.mergedAttrs;null!==p&&Bu(a,l,p);const g=u.classes;null!==g&&xp(a,l,g);const _=u.styles;null!==_&&ov(a,l,_),64!=(64&u.flags)&&ec(s,o,l,u),0===pe.lFrame.elementDepthCount&&tn(l,o),pe.lFrame.elementDepthCount++,Du(u)&&(Np(s,o,u),xv(s,u,o)),null!==t&&Bp(o,u)}function d(){let i=Rt();Bd()?Vd():(i=i.parent,Oi(i,!1));const n=i;pe.lFrame.elementDepthCount--;const e=Be();e.firstCreatePass&&(Ru(e,i),Ed(i)&&e.queries.elementEnd(i)),null!=n.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(n)&&rf(e,n,G(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(n)&&rf(e,n,G(),n.stylesWithoutHost,!1)}function m(i,n,e,t){h(i,n,e,t),d()}function Se(i,n,e){const t=G(),o=Be(),s=i+20,r=o.firstCreatePass?function(i,n,e,t,o){const s=n.consts,r=Io(s,t),a=Pr(n,i,8,"ng-container",r);return null!==r&&ac(a,r,!0),Vp(n,e,a,Io(s,o)),null!==n.queries&&n.queries.elementStart(n,a),a}(s,o,t,n,e):o.data[s];Oi(r,!0);const a=t[s]=t[11].createComment("");ec(o,t,a,r),tn(a,t),Du(r)&&(Np(o,t,r),xv(o,r,t)),null!=e&&Bp(t,r)}function Me(){let i=Rt();const n=Be();Bd()?Vd():(i=i.parent,Oi(i,!1)),n.firstCreatePass&&(Ru(n,i),Ed(i)&&n.queries.elementEnd(i))}function H(){return G()}function rl(i){return!!i&&"function"==typeof i.then}const af=function(i){return!!i&&"function"==typeof i.subscribe};function C(i,n,e,t){const o=G(),s=Be(),r=Rt();return function(i,n,e,t,o,s,r,a){const l=Du(t),p=i.firstCreatePass&&Vv(i),g=n[8],_=Bv(n);let v=!0;if(3&t.type||a){const M=Xn(t,n),O=a?a(M):M,T=_.length,R=a?N=>a(Mt(N[t.index])):t.index;if(_t(e)){let N=null;if(!a&&l&&(N=function(i,n,e,t){const o=i.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const r=o[s];if(r===e&&o[s+1]===t){const a=n[7],l=o[s+2];return a.length>l?a[l]:null}"string"==typeof r&&(s+=2)}return null}(i,n,o,t.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=s,N.__ngLastListenerFn__=s,v=!1;else{s=lf(t,n,g,s,!1);const B=e.listen(O,o,s);_.push(s,B),p&&p.push(o,R,T,T+1)}}else s=lf(t,n,g,s,!0),O.addEventListener(o,s,r),_.push(s),p&&p.push(o,R,T,r)}else s=lf(t,n,g,s,!1);const k=t.outputs;let w;if(v&&null!==k&&(w=k[o])){const M=w.length;if(M)for(let O=0;O<M;O+=2){const z=n[w[O]][w[O+1]].subscribe(s),U=_.length;_.push(s,z),p&&p.push(o,t.index,U,-(U+1))}}}(s,o,o[11],r,i,n,!!e,t),C}function E1(i,n,e,t){try{return!1!==e(t)}catch(o){return zv(i,o),!1}}function lf(i,n,e,t,o){return function s(r){if(r===Function)return t;const a=2&i.flags?Rn(i.index,n):n;0==(32&n[2])&&Gp(a);let l=E1(n,0,t,r),u=s.__ngNextListenerFn__;for(;u;)l=E1(n,0,u,r)&&l,u=u.__ngNextListenerFn__;return o&&!1===l&&(r.preventDefault(),r.returnValue=!1),l}}function y(i=1){return function(i){return(pe.lFrame.contextLView=function(i,n){for(;i>0;)n=n[15],i--;return n}(i,pe.lFrame.contextLView))[8]}(i)}function RT(i,n){let e=null;const t=function(i){const n=i.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(i);for(let o=0;o<n.length;o++){const s=n[o];if("*"!==s){if(null===t?lv(i,s,!0):UD(t,s))return o}else e=o}return e}function xi(i){const n=G()[16][6];if(!n.projection){const t=n.projection=Ha(i?i.length:1,null),o=t.slice();let s=n.child;for(;null!==s;){const r=i?RT(s,i):0;null!==r&&(o[r]?o[r].projectionNext=s:t[r]=s,o[r]=s),s=s.next}}}function Jn(i,n=0,e){const t=G(),o=Be(),s=Pr(o,20+i,16,null,e||null);null===s.projection&&(s.projection=n),Vd(),64!=(64&s.flags)&&function(i,n,e){iv(n[11],0,n,e,W4(i,e,n),K4(e.parent||n[6],e,n))}(o,t,s)}function L1(i,n,e,t,o){const s=i[e+1],r=null===n;let a=t?bi(s):io(s),l=!1;for(;0!==a&&(!1===l||r);){const p=i[a+1];BT(i[a],n)&&(l=!0,i[a+1]=t?Sp(p):kp(p)),a=t?bi(p):io(p)}l&&(i[e+1]=t?kp(s):Sp(s))}function BT(i,n){return null===i||null==n||(Array.isArray(i)?i[1]:i)===n||!(!Array.isArray(i)||"string"!=typeof n)&&vr(i,n)>=0}const Nt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function z1(i){return i.substring(Nt.key,Nt.keyEnd)}function VT(i){return i.substring(Nt.value,Nt.valueEnd)}function G1(i,n){const e=Nt.textEnd;return e===n?-1:(n=Nt.keyEnd=function(i,n,e){for(;n<e&&i.charCodeAt(n)>32;)n++;return n}(i,Nt.key=n,e),Gr(i,n,e))}function j1(i,n){const e=Nt.textEnd;let t=Nt.key=Gr(i,n,e);return e===t?-1:(t=Nt.keyEnd=function(i,n,e){let t;for(;n<e&&(45===(t=i.charCodeAt(n))||95===t||(-33&t)>=65&&(-33&t)<=90||t>=48&&t<=57);)n++;return n}(i,t,e),t=U1(i,t,e),t=Nt.value=Gr(i,t,e),t=Nt.valueEnd=function(i,n,e){let t=-1,o=-1,s=-1,r=n,a=r;for(;r<e;){const l=i.charCodeAt(r++);if(59===l)return a;34===l||39===l?a=r=$1(i,l,r,e):n===r-4&&85===s&&82===o&&76===t&&40===l?a=r=$1(i,41,r,e):l>32&&(a=r),s=o,o=t,t=-33&l}return a}(i,t,e),U1(i,t,e))}function H1(i){Nt.key=0,Nt.keyEnd=0,Nt.value=0,Nt.valueEnd=0,Nt.textEnd=i.length}function Gr(i,n,e){for(;n<e&&i.charCodeAt(n)<=32;)n++;return n}function U1(i,n,e,t){return(n=Gr(i,n,e))<e&&n++,n}function $1(i,n,e,t){let o=-1,s=e;for(;s<t;){const r=i.charCodeAt(s++);if(r==n&&92!==o)return s;o=92==r&&92===o?0:r}throw new Error}function b(i,n,e){return ki(i,n,e,!1),b}function V(i,n){return ki(i,n,null,!0),V}function fe(i){Pi(q1,UT,i,!1)}function UT(i,n){for(let e=function(i){return H1(i),j1(i,Gr(i,0,Nt.textEnd))}(n);e>=0;e=j1(n,e))q1(i,z1(n),VT(n))}function Vo(i){Pi(Nn,Vi,i,!0)}function Vi(i,n){for(let e=function(i){return H1(i),G1(i,Gr(i,0,Nt.textEnd))}(n);e>=0;e=G1(n,e))Nn(i,z1(n),!0)}function ki(i,n,e,t){const o=G(),s=Be(),r=no(2);s.firstUpdatePass&&W1(s,i,r,t),n!==me&&nn(o,r,n)&&Z1(s,s.data[pn()],o,o[11],i,o[r+1]=function(i,n){return null==i||("string"==typeof n?i+=n:"object"==typeof i&&(i=Ne(Fo(i)))),i}(n,e),t,r)}function Pi(i,n,e,t){const o=Be(),s=no(2);o.firstUpdatePass&&W1(o,null,s,t);const r=G();if(e!==me&&nn(r,s,e)){const a=o.data[pn()];if(K1(a,t)&&!Y1(o,s)){let l=t?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Cd(l,e||"")),rf(o,a,r,e,t)}else!function(i,n,e,t,o,s,r,a){o===me&&(o=et);let l=0,u=0,p=0<o.length?o[0]:null,g=0<s.length?s[0]:null;for(;null!==p||null!==g;){const _=l<o.length?o[l+1]:void 0,v=u<s.length?s[u+1]:void 0;let w,k=null;p===g?(l+=2,u+=2,_!==v&&(k=g,w=v)):null===g||null!==p&&p<g?(l+=2,k=p):(u+=2,k=g,w=v),null!==k&&Z1(i,n,e,t,k,w,r,a),p=l<o.length?o[l]:null,g=u<s.length?s[u]:null}}(o,a,r,r[11],r[s+1],r[s+1]=function(i,n,e){if(null==e||""===e)return et;const t=[],o=Fo(e);if(Array.isArray(o))for(let s=0;s<o.length;s++)i(t,o[s],!0);else if("object"==typeof o)for(const s in o)o.hasOwnProperty(s)&&i(t,s,o[s]);else"string"==typeof o&&n(t,o);return t}(i,n,e),t,s)}}function Y1(i,n){return n>=i.expandoStartIndex}function W1(i,n,e,t){const o=i.data;if(null===o[e+1]){const s=o[pn()],r=Y1(i,e);K1(s,t)&&null===n&&!r&&(n=!1),n=function(i,n,e,t){const o=zd(i);let s=t?n.residualClasses:n.residualStyles;if(null===o)0===(t?n.classBindings:n.styleBindings)&&(e=al(e=cf(null,i,n,e,t),n.attrs,t),s=null);else{const r=n.directiveStylingLast;if(-1===r||i[r]!==o)if(e=cf(o,i,n,e,t),null===s){let l=function(i,n,e){const t=e?n.classBindings:n.styleBindings;if(0!==io(t))return i[bi(t)]}(i,n,t);void 0!==l&&Array.isArray(l)&&(l=cf(null,i,n,l[1],t),l=al(l,n.attrs,t),function(i,n,e,t){i[bi(e?n.classBindings:n.styleBindings)]=t}(i,n,t,l))}else s=function(i,n,e){let t;const o=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<o;s++)t=al(t,i[s].hostAttrs,e);return al(t,n.attrs,e)}(i,n,t)}return void 0!==s&&(t?n.residualClasses=s:n.residualStyles=s),e}(o,s,n,t),function(i,n,e,t,o,s){let r=s?n.classBindings:n.styleBindings,a=bi(r),l=io(r);i[t]=e;let p,u=!1;if(Array.isArray(e)){const g=e;p=g[1],(null===p||vr(g,p)>0)&&(u=!0)}else p=e;if(o)if(0!==l){const _=bi(i[a+1]);i[t+1]=nc(_,a),0!==_&&(i[_+1]=Pp(i[_+1],t)),i[a+1]=function(i,n){return 131071&i|n<<17}(i[a+1],t)}else i[t+1]=nc(a,0),0!==a&&(i[a+1]=Pp(i[a+1],t)),a=t;else i[t+1]=nc(l,0),0===a?a=t:i[l+1]=Pp(i[l+1],t),l=t;u&&(i[t+1]=kp(i[t+1])),L1(i,p,t,!0),L1(i,p,t,!1),function(i,n,e,t,o){const s=o?i.residualClasses:i.residualStyles;null!=s&&"string"==typeof n&&vr(s,n)>=0&&(e[t+1]=Sp(e[t+1]))}(n,p,i,t,s),r=nc(a,l),s?n.classBindings=r:n.styleBindings=r}(o,s,n,e,r,t)}}function cf(i,n,e,t,o){let s=null;const r=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<r&&(s=n[a],t=al(t,s.hostAttrs,o),s!==i);)a++;return null!==i&&(e.directiveStylingLast=a),t}function al(i,n,e){const t=e?1:2;let o=-1;if(null!==n)for(let s=0;s<n.length;s++){const r=n[s];"number"==typeof r?o=r:o===t&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Nn(i,r,!!e||n[++s]))}return void 0===i?null:i}function q1(i,n,e){Nn(i,n,Fo(e))}function Z1(i,n,e,t,o,s,r,a){if(!(3&n.type))return;const l=i.data,u=l[a+1];hc(function(i){return 1==(1&i)}(u)?X1(l,n,e,o,io(u),r):void 0)||(hc(s)||function(i){return 2==(2&i)}(u)&&(s=X1(l,null,e,o,a,r)),function(i,n,e,t,o){const s=_t(i);if(n)o?s?i.addClass(e,t):e.classList.add(t):s?i.removeClass(e,t):e.classList.remove(t);else{let r=-1===t.indexOf("-")?void 0:Bn.DashCase;if(null==o)s?i.removeStyle(e,t,r):e.style.removeProperty(t);else{const a="string"==typeof o&&o.endsWith("!important");a&&(o=o.slice(0,-10),r|=Bn.Important),s?i.setStyle(e,t,o,r):e.style.setProperty(t,o,a?"important":"")}}}(t,r,Eu(pn(),e),o,s))}function X1(i,n,e,t,o,s){const r=null===n;let a;for(;o>0;){const l=i[o],u=Array.isArray(l),p=u?l[1]:l,g=null===p;let _=e[o+1];_===me&&(_=g?et:void 0);let v=g?Kd(_,t):p===t?_:void 0;if(u&&!hc(v)&&(v=Kd(l,t)),hc(v)&&(a=v,r))return a;const k=i[o+1];o=r?bi(k):io(k)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=Kd(l,t))}return a}function hc(i){return void 0!==i}function K1(i,n){return 0!=(i.flags&(n?16:32))}function x(i,n=""){const e=G(),t=Be(),o=i+20,s=t.firstCreatePass?Pr(t,o,1,n,null):t.data[o],r=e[o]=function(i,n){return _t(i)?i.createText(n):i.createTextNode(n)}(e[11],n);ec(t,e,r,s),Oi(s,!1)}function D(i){return se("",i,""),D}function se(i,n,e){const t=G(),o=function(i,n,e,t){return nn(i,ur(),e)?n+ge(e)+t:me}(t,i,n,e);return o!==me&&oo(t,pn(),o),se}function Li(i,n,e,t,o){const s=G(),r=function(i,n,e,t,o,s){const a=ks(i,to(),e,o);return no(2),a?n+ge(e)+t+ge(o)+s:me}(s,i,n,e,t,o);return r!==me&&oo(s,pn(),r),Li}function hf(i,n,e,t,o,s,r){const a=G(),l=function(i,n,e,t,o,s,r,a){const u=uc(i,to(),e,o,r);return no(3),u?n+ge(e)+t+ge(o)+s+ge(r)+a:me}(a,i,n,e,t,o,s,r);return l!==me&&oo(a,pn(),l),hf}function Lo(i,n,e){const t=G();if(nn(t,ur(),n)){const s=Be(),r=vt();Vn(s,r,t,i,n,function(i,n,e){return(null===i||vi(i))&&(e=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(e[n.index])),e[11]}(zd(s.data),r,t),e,!0)}return Lo}const Ps=void 0;var _O=["en",[["a","p"],["AM","PM"],Ps],[["AM","PM"],Ps,Ps],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ps,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ps,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ps,"{1} 'at' {0}",Ps],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const e=Math.floor(Math.abs(i)),t=i.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let jr={};function g3(i){return i in jr||(jr[i]=Qe.ng&&Qe.ng.common&&Qe.ng.common.locales&&Qe.ng.common.locales[i]),jr[i]}var ee=(()=>((ee=ee||{})[ee.LocaleId=0]="LocaleId",ee[ee.DayPeriodsFormat=1]="DayPeriodsFormat",ee[ee.DayPeriodsStandalone=2]="DayPeriodsStandalone",ee[ee.DaysFormat=3]="DaysFormat",ee[ee.DaysStandalone=4]="DaysStandalone",ee[ee.MonthsFormat=5]="MonthsFormat",ee[ee.MonthsStandalone=6]="MonthsStandalone",ee[ee.Eras=7]="Eras",ee[ee.FirstDayOfWeek=8]="FirstDayOfWeek",ee[ee.WeekendRange=9]="WeekendRange",ee[ee.DateFormat=10]="DateFormat",ee[ee.TimeFormat=11]="TimeFormat",ee[ee.DateTimeFormat=12]="DateTimeFormat",ee[ee.NumberSymbols=13]="NumberSymbols",ee[ee.NumberFormats=14]="NumberFormats",ee[ee.CurrencyCode=15]="CurrencyCode",ee[ee.CurrencySymbol=16]="CurrencySymbol",ee[ee.CurrencyName=17]="CurrencyName",ee[ee.Currencies=18]="Currencies",ee[ee.Directionality=19]="Directionality",ee[ee.PluralCase=20]="PluralCase",ee[ee.ExtraData=21]="ExtraData",ee))();const dc="en-US";let m3=dc;function gf(i,n,e,t,o){if(i=we(i),Array.isArray(i))for(let s=0;s<i.length;s++)gf(i[s],n,e,t,o);else{const s=Be(),r=G();let a=Er(i)?i:we(i.provide),l=Yv(i);const u=Rt(),p=1048575&u.providerIndexes,g=u.directiveStart,_=u.providerIndexes>>20;if(Er(i)||!i.multi){const v=new Na(l,o,P),k=_f(a,n,o?p:p+_,g);-1===k?(Gu(Va(u,r),s,a),mf(s,i,n.length),n.push(a),u.directiveStart++,u.directiveEnd++,o&&(u.providerIndexes+=1048576),e.push(v),r.push(v)):(e[k]=v,r[k]=v)}else{const v=_f(a,n,p+_,g),k=_f(a,n,p,p+_),w=v>=0&&e[v],M=k>=0&&e[k];if(o&&!M||!o&&!w){Gu(Va(u,r),s,a);const O=function(i,n,e,t,o){const s=new Na(i,e,P);return s.multi=[],s.index=n,s.componentProviders=0,z3(s,o,t&&!e),s}(o?g5:f5,e.length,o,t,l);!o&&M&&(e[k].providerFactory=O),mf(s,i,n.length,0),n.push(a),u.directiveStart++,u.directiveEnd++,o&&(u.providerIndexes+=1048576),e.push(O),r.push(O)}else mf(s,i,v>-1?v:k,z3(e[o?k:v],l,!o&&t));!o&&t&&M&&e[k].componentProviders++}}}function mf(i,n,e,t){const o=Er(n),s=function(i){return!!i.useClass}(n);if(o||s){const l=(s?we(n.useClass):n).prototype.ngOnDestroy;if(l){const u=i.destroyHooks||(i.destroyHooks=[]);if(!o&&n.multi){const p=u.indexOf(e);-1===p?u.push(e,[t,l]):u[p+1].push(t,l)}else u.push(e,l)}}}function z3(i,n,e){return e&&i.componentProviders++,i.multi.push(n)-1}function _f(i,n,e,t){for(let o=e;o<t;o++)if(n[o]===i)return o;return-1}function f5(i,n,e,t){return vf(this.multi,[])}function g5(i,n,e,t){const o=this.multi;let s;if(this.providerFactory){const r=this.providerFactory.componentProviders,a=La(e,e[1],this.providerFactory.index,t);s=a.slice(0,r),vf(o,s);for(let l=r;l<a.length;l++)s.push(a[l])}else s=[],vf(o,s);return s}function vf(i,n){for(let e=0;e<i.length;e++)n.push((0,i[e])());return n}function Ge(i,n=[]){return e=>{e.providersResolver=(t,o)=>function(i,n,e){const t=Be();if(t.firstCreatePass){const o=vi(i);gf(e,t.data,t.blueprint,o,!0),gf(n,t.data,t.blueprint,o,!1)}}(t,o?o(i):i,n)}}class G3{}class y5{resolveComponentFactory(n){throw function(i){const n=Error(`No component factory found for ${Ne(i)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=i,n}(n)}}let zo=(()=>{class i{}return i.NULL=new y5,i})();function C5(){return Ur(Rt(),G())}function Ur(i,n){return new q(Xn(i,n))}let q=(()=>{class i{constructor(e){this.nativeElement=e}}return i.__NG_ELEMENT_ID__=C5,i})();function b5(i){return i instanceof q?i.nativeElement:i}class dl{}let ro=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function(){const i=G(),e=Rn(Rt().index,i);return function(i){return i[11]}(Ti(e)?e:i)}(),i})(),k5=(()=>{class i{}return i.\u0275prov=ne({token:i,providedIn:"root",factory:()=>null}),i})();class Ss{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const P5=new Ss("13.0.3"),yf={};function _c(i,n,e,t,o=!1){for(;null!==e;){const s=n[e.index];if(null!==s&&t.push(Mt(s)),_i(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&_c(l[1],l,u,t)}const r=e.type;if(8&r)_c(i,n,e.child,t);else if(32&r){const a=pp(e,n);let l;for(;l=a();)t.push(l)}else if(16&r){const a=tv(n,e);if(Array.isArray(a))t.push(...a);else{const l=Ja(n[16]);_c(l[1],l,a,t,!0)}}e=o?e.projectionNext:e.next}return t}class pl{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return _c(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(_i(n)){const e=n[8],t=e?e.indexOf(this):-1;t>-1&&(vp(n,t),Hu(e,t))}this._attachedToViewContainer=!1}Y4(this._lView[1],this._lView)}onDestroy(n){Mv(this._lView[1],this._lView,null,n)}markForCheck(){Gp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,n,e){Ou(!0);try{Hp(i,n,e)}finally{Ou(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,el(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class S5 extends pl{constructor(n){super(n),this._view=n}detectChanges(){Nv(this._view)}checkNoChanges(){!function(i){Ou(!0);try{Nv(i)}finally{Ou(!1)}}(this._view)}get context(){return null}}class H3 extends zo{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Jt(n);return new Cf(e,this.ngModule)}}function U3(i){const n=[];for(let e in i)i.hasOwnProperty(e)&&n.push({propName:i[e],templateName:e});return n}const D5=new oe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>V4});class Cf extends G3{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=n.selectors.map($D).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return U3(this.componentDef.inputs)}get outputs(){return U3(this.componentDef.outputs)}create(n,e,t,o){const s=(o=o||this.ngModule)?function(i,n){return{get:(e,t,o)=>{const s=i.get(e,yf,o);return s!==yf||t===yf?s:n.get(e,t,o)}}}(n,o.injector):n,r=s.get(dl,N_),a=s.get(k5,null),l=r.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",p=t?function(i,n,e){if(_t(i))return i.selectRootElement(n,e===gi.ShadowDom);let t="string"==typeof n?i.querySelector(n):n;return t.textContent="",t}(l,t,this.componentDef.encapsulation):_p(r.createRenderer(null,this.componentDef),u,function(i){const n=i.toLowerCase();return"svg"===n?R_:"math"===n?"http://www.w3.org/1998/MathML/":null}(u)),g=this.componentDef.onPush?576:528,_=function(i,n){return{components:[],scheduler:i||V4,clean:IE,playerHandler:n||null,flags:0}}(),v=sc(0,null,null,1,0,null,null,null,null,null),k=tl(null,v,_,g,null,null,r,l,a,s);let w,M;Iu(k);try{const O=function(i,n,e,t,o,s){const r=e[1];e[20]=i;const l=Pr(r,20,2,"#host",null),u=l.mergedAttrs=n.hostAttrs;null!==u&&(ac(l,u,!0),null!==i&&(Bu(o,i,u),null!==l.classes&&xp(o,i,l.classes),null!==l.styles&&ov(o,i,l.styles)));const p=t.createRenderer(i,n),g=tl(e,kv(n),null,n.onPush?64:16,e[20],l,t,p,s||null,null);return r.firstCreatePass&&(Gu(Va(l,e),r,n.type),Iv(r,l),Av(l,e.length,1)),rc(e,g),e[20]=g}(p,this.componentDef,k,r,l);if(p)if(t)Bu(l,p,["ng-version",P5.full]);else{const{attrs:T,classes:R}=function(i){const n=[],e=[];let t=1,o=2;for(;t<i.length;){let s=i[t];if("string"==typeof s)2===o?""!==s&&n.push(s,i[++t]):8===o&&e.push(s);else{if(!Ci(o))break;o=s}t++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);T&&Bu(l,p,T),R&&R.length>0&&xp(l,p,R.join(" "))}if(M=Rd(v,20),void 0!==e){const T=M.projection=[];for(let R=0;R<this.ngContentSelectors.length;R++){const N=e[R];T.push(null!=N?Array.from(N):null)}}w=function(i,n,e,t,o){const s=e[1],r=function(i,n,e){const t=Rt();i.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Rv(i,t,n,Sr(i,n,1,null),e));const o=La(n,i,t.directiveStart,t);tn(o,n);const s=Xn(t,n);return s&&tn(s,n),o}(s,e,n);if(t.components.push(r),i[8]=r,o&&o.forEach(l=>l(r,n)),n.contentQueries){const l=Rt();n.contentQueries(1,r,l.directiveStart)}const a=Rt();return!s.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Ao(a.index),Tv(e[1],a,0,a.directiveStart,a.directiveEnd,n),Ov(n,r)),r}(O,this.componentDef,k,_,[QE]),nl(v,k,null)}finally{Au()}return new O5(this.componentType,w,Ur(M,k),k,M)}}class O5 extends class{}{constructor(n,e,t,o,s){super(),this.location=t,this._rootLView=o,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new S5(o),this.componentType=n}get injector(){return new dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class ao{}class $3{}const $r=new Map;class q3 extends ao{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new H3(this);const t=Wn(n);this._bootstrapComponents=Fi(t.bootstrap),this._r3Injector=$v(n,e,[{provide:ao,useValue:this},{provide:zo,useValue:this.componentFactoryResolver}],Ne(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,e=Zt.THROW_IF_NOT_FOUND,t=ye.Default){return n===Zt||n===ao||n===$p?this:this._r3Injector.get(n,e,t)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class bf extends $3{constructor(n){super(),this.moduleType=n,null!==Wn(n)&&function(i){const n=new Set;!function e(t){const o=Wn(t,!0),s=o.id;null!==s&&(function(i,n,e){if(n&&n!==e)throw new Error(`Duplicate module registered for ${i} - ${Ne(n)} vs ${Ne(n.name)}`)}(s,$r.get(s),t),$r.set(s,t));const r=Fi(o.imports);for(const a of r)n.has(a)||(n.add(a),e(a))}(i)}(n)}create(n){return new q3(this.moduleType,n)}}function lo(i,n,e){const t=dn()+i,o=G();return o[t]===me?Bi(o,t,e?n.call(e):n()):sl(o,t)}function Xt(i,n,e,t){return function(i,n,e,t,o,s){const r=n+e;return nn(i,r,o)?Bi(i,r+1,s?t.call(s,o):t(o)):fl(i,r+1)}(G(),dn(),i,n,e,t)}function Yr(i,n,e,t,o){return K3(G(),dn(),i,n,e,t,o)}function nt(i,n,e,t,o,s){return function(i,n,e,t,o,s,r,a){const l=n+e;return uc(i,l,o,s,r)?Bi(i,l+3,a?t.call(a,o,s,r):t(o,s,r)):fl(i,l+3)}(G(),dn(),i,n,e,t,o,s)}function Ms(i,n,e,t,o,s,r){return function(i,n,e,t,o,s,r,a,l){const u=n+e;return Qn(i,u,o,s,r,a)?Bi(i,u+4,l?t.call(l,o,s,r,a):t(o,s,r,a)):fl(i,u+4)}(G(),dn(),i,n,e,t,o,s,r)}function fl(i,n){const e=i[n];return e===me?void 0:e}function K3(i,n,e,t,o,s,r){const a=n+e;return ks(i,a,o,s)?Bi(i,a+2,r?t.call(r,o,s):t(o,s)):fl(i,a+2)}function vc(i,n){const e=Be();let t;const o=i+20;e.firstCreatePass?(t=function(i,n){if(n)for(let e=n.length-1;e>=0;e--){const t=n[e];if(i===t.name)return t}}(n,e.pipeRegistry),e.data[o]=t,t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(o,t.onDestroy)):t=e.data[o];const s=t.factory||(t.factory=bs(t.type)),r=Eo(P);try{const a=Lu(!1),l=s();return Lu(a),function(i,n,e,t){e>=i.data.length&&(i.data[e]=null,i.blueprint[e]=null),n[e]=t}(e,G(),o,l),l}finally{Eo(r)}}function yc(i,n,e,t){const o=i+20,s=G(),r=lr(s,o);return function(i,n){return i[1].data[n].pure}(s,o)?K3(s,dn(),n,r.transform,e,t,r):r.transform(e,t)}function wf(i){return n=>{setTimeout(i,void 0,n)}}const L=class extends ze{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,t){var l,u,p;let o=n,s=e||(()=>null),r=t;if(n&&"object"==typeof n){const g=n;o=null==(l=g.next)?void 0:l.bind(g),s=null==(u=g.error)?void 0:u.bind(g),r=null==(p=g.complete)?void 0:p.bind(g)}this.__isAsync&&(s=wf(s),o&&(o=wf(o)),r&&(r=wf(r)));const a=super.subscribe({next:o,error:s,complete:r});return n instanceof Pt&&n.add(a),a}};function U5(){return this._results[Tr()]()}class xf{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Tr(),t=xf.prototype;t[e]||(t[e]=U5)}get changes(){return this._changes||(this._changes=new L)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const t=this;t.dirty=!1;const o=Kn(n);(this._changesDetected=!function(i,n,e){if(i.length!==n.length)return!1;for(let t=0;t<i.length;t++){let o=i[t],s=n[t];if(e&&(o=e(o),s=e(s)),s!==o)return!1}return!0}(t._results,o,e))&&(t._results=o,t.length=o.length,t.last=o[this.length-1],t.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let zi=(()=>{class i{}return i.__NG_ELEMENT_ID__=W5,i})();const $5=zi,Y5=class extends $5{constructor(n,e,t){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=t}createEmbeddedView(n){const e=this._declarationTContainer.tViews,t=tl(this._declarationLView,e,n,16,null,e.declTNode,null,null,null,null);t[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(t[19]=s.createEmbeddedView(e)),nl(e,t,n),new pl(t)}};function W5(){return Cc(Rt(),G())}function Cc(i,n){return 4&i.type?new Y5(n,i,Ur(i,n)):null}let Bt=(()=>{class i{}return i.__NG_ELEMENT_ID__=q5,i})();function q5(){return iy(Rt(),G())}const Z5=Bt,ty=class extends Z5{constructor(n,e,t){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=t}get element(){return Ur(this._hostTNode,this._hostLView)}get injector(){return new dr(this._hostTNode,this._hostLView)}get parentInjector(){const n=zu(this._hostTNode,this._hostLView);if(Q_(n)){const e=hr(n,this._hostLView),t=cr(n);return new dr(e[1].data[t+8],e)}return new dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=ny(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,t){const o=n.createEmbeddedView(e||{});return this.insert(o,t),o}createComponent(n,e,t,o,s){const r=n&&!function(i){return"function"==typeof i}(n);let a;if(r)a=e;else{const g=e||{};a=g.index,t=g.injector,o=g.projectableNodes,s=g.ngModuleRef}const l=r?n:new Cf(Jt(n)),u=t||this.parentInjector;if(!s&&null==l.ngModule&&u){const g=u.get(ao,null);g&&(s=g)}const p=l.create(u,o,void 0,s);return this.insert(p.hostView,a),p}insert(n,e){const t=n._lView,o=t[1];if(_i(t[3])){const p=this.indexOf(n);if(-1!==p)this.detach(p);else{const g=t[3],_=new ty(g,g[6],g[3]);_.detach(_.indexOf(n))}}const s=this._adjustIndex(e),r=this._lContainer;!function(i,n,e,t){const o=10+t,s=e.length;t>0&&(e[o-1][4]=n),t<s-10?(n[4]=e[o],a4(e,10+t,n)):(e.push(n),n[4]=null),n[3]=e;const r=n[17];null!==r&&e!==r&&function(i,n){const e=i[9];n[16]!==n[3][3][16]&&(i[2]=!0),null===e?i[9]=[n]:e.push(n)}(r,n);const a=n[19];null!==a&&a.insertView(i),n[2]|=128}(o,t,r,s);const a=bp(s,r),l=t[11],u=Ju(l,r[7]);return null!==u&&function(i,n,e,t,o,s){t[0]=o,t[6]=n,el(i,t,e,1,o,s)}(o,r[6],l,t,u,a),n.attachToViewContainerRef(),a4(kf(r),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=ny(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),t=vp(this._lContainer,e);t&&(Hu(kf(this._lContainer),e),Y4(t[1],t))}detach(n){const e=this._adjustIndex(n,-1),t=vp(this._lContainer,e);return t&&null!=Hu(kf(this._lContainer),e)?new pl(t):null}_adjustIndex(n,e=0){return null==n?this.length+e:n}};function ny(i){return i[8]}function kf(i){return i[8]||(i[8]=[])}function iy(i,n){let e;const t=n[i.index];if(_i(t))e=t;else{let o;if(8&i.type)o=Mt(t);else{const s=n[11];o=s.createComment("");const r=Xn(i,n);xs(s,Ju(s,r),o,function(i,n){return _t(i)?i.nextSibling(n):n.nextSibling}(s,r),!1)}n[i.index]=e=Fv(t,n,o,i),rc(n,e)}return new ty(e,i,n)}class Pf{constructor(n){this.queryList=n,this.matches=null}clone(){return new Pf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sf{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const t=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let s=0;s<t;s++){const r=e.getByIndex(s);o.push(this.queries[r.indexInDeclarationView].clone())}return new Sf(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==ly(n,e).matches&&this.queries[e].setDirty()}}class oy{constructor(n,e,t=null){this.predicate=n,this.flags=e,this.read=t}}class Mf{constructor(n=[]){this.queries=n}elementStart(n,e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let t=0;t<this.length;t++){const o=null!==e?e.length:0,s=this.getByIndex(t).embeddedTView(n,o);s&&(s.indexInDeclarationView=t,null!==e?e.push(s):e=[s])}return null!==e?new Mf(e):null}template(n,e){for(let t=0;t<this.queries.length;t++)this.queries[t].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Df{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Df(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let t=n.parent;for(;null!==t&&8&t.type&&t.index!==e;)t=t.parent;return e===(null!==t?t.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const t=this.metadata.predicate;if(Array.isArray(t))for(let o=0;o<t.length;o++){const s=t[o];this.matchTNodeWithReadOption(n,e,Q5(e,s)),this.matchTNodeWithReadOption(n,e,ju(e,n,s,!1,!1))}else t===zi?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,ju(e,n,t,!1,!1))}matchTNodeWithReadOption(n,e,t){if(null!==t){const o=this.metadata.read;if(null!==o)if(o===q||o===Bt||o===zi&&4&e.type)this.addMatch(e.index,-2);else{const s=ju(e,n,o,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,t)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function Q5(i,n){const e=i.localNames;if(null!==e)for(let t=0;t<e.length;t+=2)if(e[t]===n)return e[t+1];return null}function eI(i,n,e,t){return-1===e?function(i,n){return 11&i.type?Ur(i,n):4&i.type?Cc(i,n):null}(n,i):-2===e?function(i,n,e){return e===q?Ur(n,i):e===zi?Cc(n,i):e===Bt?iy(n,i):void 0}(i,n,t):La(i,i[1],e,n)}function sy(i,n,e,t){const o=n[19].queries[t];if(null===o.matches){const s=i.data,r=e.matches,a=[];for(let l=0;l<r.length;l+=2){const u=r[l];a.push(u<0?null:eI(n,s[u],r[l+1],e.metadata.read))}o.matches=a}return o.matches}function Ef(i,n,e,t){const o=i.queries.getByIndex(e),s=o.matches;if(null!==s){const r=sy(i,n,o,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)t.push(r[a/2]);else{const u=s[a+1],p=n[-l];for(let g=10;g<p.length;g++){const _=p[g];_[17]===_[3]&&Ef(_[1],_,u,t)}if(null!==p[9]){const g=p[9];for(let _=0;_<g.length;_++){const v=g[_];Ef(v[1],v,u,t)}}}}}return t}function Ve(i){const n=G(),e=Be(),t=H_();Gd(t+1);const o=ly(e,t);if(i.dirty&&B_(n)===(2==(2&o.metadata.flags))){if(null===o.matches)i.reset([]);else{const s=o.crossesNgTemplate?Ef(e,n,t,[]):sy(e,n,o,t);i.reset(s,b5),i.notifyOnChanges()}return!0}return!1}function Xe(i,n,e){const t=Be();t.firstCreatePass&&(ay(t,new oy(i,n,e),-1),2==(2&n)&&(t.staticViewQueries=!0)),ry(t,G(),n)}function Wr(i,n,e,t){const o=Be();if(o.firstCreatePass){const s=Rt();ay(o,new oy(n,e,t),s.index),function(i,n){const e=i.contentQueries||(i.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(i.queries.length-1,n)}(o,i),2==(2&e)&&(o.staticContentQueries=!0)}ry(o,G(),e)}function Le(){return i=G(),n=H_(),i[19].queries[n].queryList;var i,n}function ry(i,n,e){const t=new xf(4==(4&e));Mv(i,n,t,t.destroy),null===n[19]&&(n[19]=new Sf),n[19].queries.push(new Pf(t))}function ay(i,n,e){null===i.queries&&(i.queries=new Mf),i.queries.track(new Df(n,e))}function ly(i,n){return i.queries.getByIndex(n)}function xc(...i){}const kc=new oe("Application Initializer");let Zr=(()=>{class i{constructor(e){this.appInits=e,this.resolve=xc,this.reject=xc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,o)=>{this.resolve=t,this.reject=o})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const s=this.appInits[o]();if(rl(s))e.push(s);else if(af(s)){const r=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(r)}}Promise.all(e).then(()=>{t()}).catch(o=>{this.reject(o)}),0===e.length&&t(),this.initialized=!0}}return i.\u0275fac=function(e){return new(e||i)(j(kc,8))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();const _l=new oe("AppId"),xI={provide:_l,useFactory:function(){return`${Ff()}${Ff()}${Ff()}`},deps:[]};function Ff(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sy=new oe("Platform Initializer"),vl=new oe("Platform ID"),My=new oe("appBootstrapListener");let Dy=(()=>{class i{log(e){console.log(e)}warn(e){console.warn(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();const uo=new oe("LocaleId"),Ey=new oe("DefaultCurrencyCode");class kI{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let Pc=(()=>{class i{compileModuleSync(e){return new bf(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const t=this.compileModuleSync(e),s=Fi(Wn(e).declarations).reduce((r,a)=>{const l=Jt(a);return l&&r.push(new Cf(l)),r},[]);return new kI(t,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();const SI=(()=>Promise.resolve(0))();function Nf(i){"undefined"==typeof Zone?SI.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ye{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new L(!1),this.onMicrotaskEmpty=new L(!1),this.onStable=new L(!1),this.onError=new L(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!t&&e,o.shouldCoalesceRunChangeDetection=t,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function(){let i=Qe.requestAnimationFrame,n=Qe.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&n){const e=i[Zone.__symbol__("OriginalDelegate")];e&&(i=e);const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(i){const n=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Qe,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Vf(i),i.isCheckStableRunning=!0,Bf(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Vf(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,t,o,s,r,a)=>{try{return Ty(i),e.invokeTask(o,s,r,a)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||i.shouldCoalesceRunChangeDetection)&&n(),Oy(i)}},onInvoke:(e,t,o,s,r,a,l)=>{try{return Ty(i),e.invoke(o,s,r,a,l)}finally{i.shouldCoalesceRunChangeDetection&&n(),Oy(i)}},onHasTask:(e,t,o,s)=>{e.hasTask(o,s),t===o&&("microTask"==s.change?(i._hasPendingMicrotasks=s.microTask,Vf(i),Bf(i)):"macroTask"==s.change&&(i.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,t,o,s)=>(e.handleError(o,s),i.runOutsideAngular(()=>i.onError.emit(s)),!1)})}(o)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ye.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ye.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,e,t){return this._inner.run(n,e,t)}runTask(n,e,t,o){const s=this._inner,r=s.scheduleEventTask("NgZoneEvent: "+o,n,DI,xc,xc);try{return s.runTask(r,e,t)}finally{s.cancelTask(r)}}runGuarded(n,e,t){return this._inner.runGuarded(n,e,t)}runOutsideAngular(n){return this._outer.run(n)}}const DI={};function Bf(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Vf(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Ty(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Oy(i){i._nesting--,Bf(i)}class OI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new L,this.onMicrotaskEmpty=new L,this.onStable=new L,this.onError=new L}run(n,e,t){return n.apply(e,t)}runGuarded(n,e,t){return n.apply(e,t)}runOutsideAngular(n){return n()}runTask(n,e,t,o){return n.apply(e,t)}}let Lf=(()=>{class i{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ye.assertNotInAngularZone(),Nf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Nf(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,o){let s=-1;t&&t>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(r=>r.timeoutId!==s),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:o})}whenStable(e,t,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,o){return[]}}return i.\u0275fac=function(e){return new(e||i)(j(Ye))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})(),Iy=(()=>{class i{constructor(){this._applications=new Map,zf.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return zf.findTestabilityInTree(this,e,t)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();class II{addToWindow(n){}findTestabilityInTree(n,e,t){return null}}let Si,zf=new II;const Ay=new oe("AllowMultipleToken");class Ry{constructor(n,e){this.name=n,this.token=e}}function Fy(i,n,e=[]){const t=`Platform: ${n}`,o=new oe(t);return(s=[])=>{let r=Ny();if(!r||r.injector.get(Ay,!1))if(i)i(e.concat(s).concat({provide:o,useValue:!0}));else{const a=e.concat(s).concat({provide:o,useValue:!0},{provide:Yp,useValue:"platform"});!function(i){if(Si&&!Si.destroyed&&!Si.injector.get(Ay,!1))throw new Tn("400","");Si=i.get(By);const n=i.get(Sy,null);n&&n.forEach(e=>e())}(Zt.create({providers:a,name:t}))}return function(i){const n=Ny();if(!n)throw new Tn("401","");return n}()}}function Ny(){return Si&&!Si.destroyed?Si:null}let By=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const a=function(i,n){let e;return e="noop"===i?new OI:("zone.js"===i?void 0:i)||new Ye({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),e}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),l=[{provide:Ye,useValue:a}];return a.run(()=>{const u=Zt.create({providers:l,parent:this.injector,name:e.moduleType.name}),p=e.create(u),g=p.injector.get(wr,null);if(!g)throw new Tn("402","");return a.runOutsideAngular(()=>{const _=a.onError.subscribe({next:v=>{g.handleError(v)}});p.onDestroy(()=>{Gf(this._modules,p),_.unsubscribe()})}),function(i,n,e){try{const t=e();return rl(t)?t.catch(o=>{throw n.runOutsideAngular(()=>i.handleError(o)),o}):t}catch(t){throw n.runOutsideAngular(()=>i.handleError(t)),t}}(g,a,()=>{const _=p.injector.get(Zr);return _.runInitializers(),_.donePromise.then(()=>(function(i){In(i,"Expected localeId to be defined"),"string"==typeof i&&(m3=i.toLowerCase().replace(/_/g,"-"))}(p.injector.get(uo,dc)||dc),this._moduleDoBootstrap(p),p))})})}bootstrapModule(e,t=[]){const o=Vy({},t);return function(i,n,e){const t=new bf(e);return Promise.resolve(t)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(e){const t=e.injector.get(Xr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>t.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new Tn("403","");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Tn("404","");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(e){return new(e||i)(j(Zt))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();function Vy(i,n){return Array.isArray(n)?n.reduce(Vy,i):te(te({},i),n)}let Xr=(()=>{class i{constructor(e,t,o,s,r){this._zone=e,this._injector=t,this._exceptionHandler=o,this._componentFactoryResolver=s,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ze(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),l=new Ze(u=>{let p;this._zone.runOutsideAngular(()=>{p=this._zone.onStable.subscribe(()=>{Ye.assertNotInAngularZone(),Nf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{Ye.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{p.unsubscribe(),g.unsubscribe()}});this.isStable=Cu(a,l.pipe(function(i={}){const{connector:n=(()=>new ze),resetOnError:e=!0,resetOnComplete:t=!0,resetOnRefCountZero:o=!0}=i;return s=>{let r=null,a=null,l=null,u=0,p=!1,g=!1;const _=()=>{null==a||a.unsubscribe(),a=null},v=()=>{_(),r=l=null,p=g=!1},k=()=>{const w=r;v(),null==w||w.unsubscribe()};return Ct((w,M)=>{u++,!g&&!p&&_();const O=l=null!=l?l:n();M.add(()=>{u--,0===u&&!g&&!p&&(a=vd(k,o))}),O.subscribe(M),r||(r=new hd({next:T=>O.next(T),error:T=>{g=!0,_(),a=vd(v,e,T),O.error(T)},complete:()=>{p=!0,_(),a=vd(v,t),O.complete()}}),Gt(w).subscribe(r))})(s)}}()))}bootstrap(e,t){if(!this._initStatus.done)throw new Tn("405","");let o;o=e instanceof G3?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(o.componentType);const s=function(i){return i.isBoundToModule}(o)?void 0:this._injector.get(ao),a=o.create(Zt.NULL,[],t||o.selector,s),l=a.location.nativeElement,u=a.injector.get(Lf,null),p=u&&a.injector.get(Iy);return u&&p&&p.registerApplication(l,u),a.onDestroy(()=>{this.detachView(a.hostView),Gf(this.components,a),p&&p.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Tn("101","");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Gf(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(My,[]).concat(this._bootstrapListeners).forEach(o=>o(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(e){return new(e||i)(j(Ye),j(Zt),j(wr),j(zo),j(Zr))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();function Gf(i,n){const e=i.indexOf(n);e>-1&&i.splice(e,1)}let zy=!0,Gy=!1,ei=(()=>{class i{}return i.__NG_ELEMENT_ID__=UI,i})();function UI(i){return function(i,n,e){if(Mu(i)&&!e){const t=Rn(i.index,n);return new pl(t,t)}return 47&i.type?new pl(n[16],n):null}(Rt(),G(),16==(16&i))}class Wy{constructor(){}supports(n){return ol(n)}create(n){return new KI(n)}}const XI=(i,n)=>n;class KI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||XI}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,t=this._removalsHead,o=0,s=null;for(;e||t;){const r=!t||e&&e.currentIndex<Zy(t,o,s)?e:t,a=Zy(r,o,s),l=r.currentIndex;if(r===t)o--,t=t._nextRemoved;else if(e=e._next,null==r.previousIndex)o++;else{s||(s=[]);const u=a-o,p=l-o;if(u!=p){for(let _=0;_<u;_++){const v=_<s.length?s[_]:s[_]=0,k=v+_;p<=k&&k<u&&(s[_]=v+1)}s[r.previousIndex]=p-u}}a!==l&&n(r,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!ol(n))throw new Error(`Error trying to diff '${Ne(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,s,r,e=this._itHead,t=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)s=n[a],r=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,r)?(t&&(e=this._verifyReinsertion(e,s,r,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,r,a),t=!0),e=e._next}else o=0,function(i,n){if(Array.isArray(i))for(let e=0;e<i.length;e++)n(i[e]);else{const e=i[Tr()]();let t;for(;!(t=e.next()).done;)n(t.value)}}(n,a=>{r=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,r)?(t&&(e=this._verifyReinsertion(e,a,r,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,r,o),t=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,t,o){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(t,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,s,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(t,o))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,s,o)):n=this._addAfter(new QI(e,t),s,o),n}_verifyReinsertion(n,e,t,o){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(t,null);return null!==s?n=this._reinsertAfter(s,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,t){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,s=n._nextRemoved;return null===o?this._removalsHead=s:o._nextRemoved=s,null===s?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(n,e,t),this._addToMoves(n,t),n}_moveAfter(n,e,t){return this._unlink(n),this._insertAfter(n,e,t),this._addToMoves(n,t),n}_addAfter(n,e,t){return this._insertAfter(n,e,t),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,t){const o=null===e?this._itHead:e._next;return n._next=o,n._prev=e,null===o?this._itTail=n:o._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new qy),this._linkedRecords.put(n),n.currentIndex=t,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,t=n._next;return null===e?this._itHead=t:e._next=t,null===t?this._itTail=e:t._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qy),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class QI{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let t;for(t=this._head;null!==t;t=t._nextDup)if((null===e||e<=t.currentIndex)&&Object.is(t.trackById,n))return t;return null}remove(n){const e=n._prevDup,t=n._nextDup;return null===e?this._head=t:e._nextDup=t,null===t?this._tail=e:t._prevDup=e,null===this._head}}class qy{constructor(){this.map=new Map}put(n){const e=n.trackById;let t=this.map.get(e);t||(t=new JI,this.map.set(e,t)),t.add(n)}get(n,e){const o=this.map.get(n);return o?o.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zy(i,n,e){const t=i.previousIndex;if(null===t)return t;let o=0;return e&&t<e.length&&(o=e[t]),t+n+o}class Xy{constructor(){}supports(n){return n instanceof Map||Qp(n)}create(){return new eA}}class eA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||Qp(n)))throw new Error(`Error trying to diff '${Ne(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(t,o)=>{if(e&&e.key===o)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(o,t);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const t=n._prev;return e._next=n,e._prev=t,n._prev=e,t&&(t._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const o=this._records.get(n);this._maybeAddToChanges(o,e);const s=o._prev,r=o._next;return s&&(s._next=r),r&&(r._prev=s),o._next=null,o._prev=null,o}const t=new tA(n);return this._records.set(n,t),t.currentValue=e,this._addToAdditions(t),t}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(t=>e(n[t],t))}}class tA{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ky(){return new yl([new Wy])}let yl=(()=>{class i{constructor(e){this.factories=e}static create(e,t){if(null!=t){const o=t.factories.slice();e=e.concat(o)}return new i(e)}static extend(e){return{provide:i,useFactory:t=>i.create(e,t||Ky()),deps:[[i,new yr,new Ai]]}}find(e){const t=this.factories.find(o=>o.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'`)}}return i.\u0275prov=ne({token:i,providedIn:"root",factory:Ky}),i})();function Qy(){return new Kr([new Xy])}let Kr=(()=>{class i{constructor(e){this.factories=e}static create(e,t){if(t){const o=t.factories.slice();e=e.concat(o)}return new i(e)}static extend(e){return{provide:i,useFactory:t=>i.create(e,t||Qy()),deps:[[i,new yr,new Ai]]}}find(e){const t=this.factories.find(o=>o.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return i.\u0275prov=ne({token:i,providedIn:"root",factory:Qy}),i})();const iA=[new Xy],sA=new yl([new Wy]),rA=new Kr(iA),aA=Fy(null,"core",[{provide:vl,useValue:"unknown"},{provide:By,deps:[Zt]},{provide:Iy,deps:[]},{provide:Dy,deps:[]}]),dA=[{provide:Xr,useClass:Xr,deps:[Ye,Zt,wr,zo,Zr]},{provide:D5,deps:[Ye],useFactory:function(i){let n=[];return i.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(e){n.push(e)}}},{provide:Zr,useClass:Zr,deps:[[new Ai,kc]]},{provide:Pc,useClass:Pc,deps:[]},xI,{provide:yl,useFactory:function(){return sA},deps:[]},{provide:Kr,useFactory:function(){return rA},deps:[]},{provide:uo,useFactory:function(i){return i||"undefined"!=typeof $localize&&$localize.locale||dc},deps:[[new Wa(uo),new Ai,new yr]]},{provide:Ey,useValue:"USD"}];let fA=(()=>{class i{constructor(e){}}return i.\u0275fac=function(e){return new(e||i)(j(Xr))},i.\u0275mod=St({type:i}),i.\u0275inj=bt({providers:dA}),i})(),Mc=null;function Gi(){return Mc}const at=new oe("DocumentToken");let Es=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:function(){return j(Jy)},providedIn:"platform"}),i})();const yA=new oe("Location Initialized");let Jy=(()=>{class i extends Es{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gi().getBaseHref(this._doc)}onPopState(e){const t=Gi().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=Gi().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,o){eC()?this._history.pushState(e,t,o):this.location.hash=o}replaceState(e,t,o){eC()?this._history.replaceState(e,t,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(j(at))},i.\u0275prov=ne({token:i,factory:function(){return new Jy(j(at))},providedIn:"platform"}),i})();function eC(){return!!window.history.pushState}function Yf(i,n){if(0==i.length)return n;if(0==n.length)return i;let e=0;return i.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?i+n.substring(1):1==e?i+n:i+"/"+n}function tC(i){const n=i.match(/#|\?|$/),e=n&&n.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function co(i){return i&&"?"!==i[0]?"?"+i:i}let Qr=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:function(){return function(i){const n=j(at).location;return new nC(j(Es),n&&n.origin||"")}()},providedIn:"root"}),i})();const Wf=new oe("appBaseHref");let nC=(()=>{class i extends Qr{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Yf(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+co(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${t}${o}`:t}pushState(e,t,o,s){const r=this.prepareExternalUrl(o+co(s));this._platformLocation.pushState(e,t,r)}replaceState(e,t,o,s){const r=this.prepareExternalUrl(o+co(s));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,o;null==(o=(t=this._platformLocation).historyGo)||o.call(t,e)}}return i.\u0275fac=function(e){return new(e||i)(j(Es),j(Wf,8))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})(),wA=(()=>{class i extends Qr{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=Yf(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,o,s){let r=this.prepareExternalUrl(o+co(s));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,o,s){let r=this.prepareExternalUrl(o+co(s));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,o;null==(o=(t=this._platformLocation).historyGo)||o.call(t,e)}}return i.\u0275fac=function(e){return new(e||i)(j(Es),j(Wf,8))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})(),qf=(()=>{class i{constructor(e,t){this._subject=new L,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=tC(iC(o)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+co(t))}normalize(e){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,iC(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",o=null){this._platformStrategy.pushState(o,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+co(t)),o)}replaceState(e,t="",o=null){this._platformStrategy.replaceState(o,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+co(t)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,o;null==(o=(t=this._platformStrategy).historyGo)||o.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(o=>o(e,t))}subscribe(e,t,o){return this._subject.subscribe({next:e,error:t,complete:o})}}return i.normalizeQueryParams=co,i.joinWithSlash=Yf,i.stripTrailingSlash=tC,i.\u0275fac=function(e){return new(e||i)(j(Qr),j(Es))},i.\u0275prov=ne({token:i,factory:function(){return new qf(j(Qr),j(Es))},providedIn:"root"}),i})();function iC(i){return i.replace(/\/index.html$/,"")}var Et=(()=>((Et=Et||{})[Et.Zero=0]="Zero",Et[Et.One=1]="One",Et[Et.Two=2]="Two",Et[Et.Few=3]="Few",Et[Et.Many=4]="Many",Et[Et.Other=5]="Other",Et))();const OA=function(i){return function(i){const n=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let e=g3(n);if(e)return e;const t=n.split("-")[0];if(e=g3(t),e)return e;if("en"===t)return _O;throw new Error(`Missing locale data for the locale "${i}".`)}(i)[ee.PluralCase]};class Bc{}let r8=(()=>{class i extends Bc{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(OA(t||this.locale)(e)){case Et.Zero:return"zero";case Et.One:return"one";case Et.Two:return"two";case Et.Few:return"few";case Et.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(j(uo))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();function dC(i,n){n=encodeURIComponent(n);for(const e of i.split(";")){const t=e.indexOf("="),[o,s]=-1==t?[e,""]:[e.slice(0,t),e.slice(t+1)];if(o.trim()===n)return decodeURIComponent(s)}return null}class u8{constructor(n,e,t,o){this.$implicit=n,this.ngForOf=e,this.index=t,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gt=(()=>{class i{constructor(e,t,o){this._viewContainer=e,this._template=t,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((o,s,r)=>{if(null==o.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new u8(null,this._ngForOf,-1,-1),null===r?void 0:r),l=new pC(o,a);t.push(l)}else if(null==r)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,r);const l=new pC(o,a);t.push(l)}});for(let o=0;o<t.length;o++)this._perViewChange(t[o].view,t[o].record);for(let o=0,s=this._viewContainer.length;o<s;o++){const r=this._viewContainer.get(o);r.context.index=o,r.context.count=s,r.context.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return i.\u0275fac=function(e){return new(e||i)(P(Bt),P(zi),P(yl))},i.\u0275dir=ae({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class pC{constructor(n,e){this.record=n,this.view=e}}let Re=(()=>{class i{constructor(e,t){this._viewContainer=e,this._context=new h8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){fC("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){fC("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return i.\u0275fac=function(e){return new(e||i)(P(Bt),P(zi))},i.\u0275dir=ae({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class h8{constructor(){this.$implicit=null,this.ngIf=null}}function fC(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${Ne(n)}'.`)}let vC=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=St({type:i}),i.\u0275inj=bt({providers:[{provide:Bc,useClass:r8}]}),i})();const yC="browser";let G8=(()=>{class i{}return i.\u0275prov=ne({token:i,providedIn:"root",factory:()=>new j8(j(at),window)}),i})();class j8{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function(i,n){const e=i.getElementById(n)||i.getElementsByName(n)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const t=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let o=t.currentNode;for(;o;){const s=o.shadowRoot;if(s){const r=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(r)return r}o=t.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),t=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(t-s[0],o-s[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=CC(this.window.history)||CC(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function CC(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class bC{}class ag extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new ag,Mc||(Mc=i)}onAndCancel(n,e,t){return n.addEventListener(e,t,!1),()=>{n.removeEventListener(e,t,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=(wl=wl||document.querySelector("base"),wl?wl.getAttribute("href"):null);return null==e?null:function(i){Vc=Vc||document.createElement("a"),Vc.setAttribute("href",i);const n=Vc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){wl=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return dC(document.cookie,n)}}let Vc,wl=null;const wC=new oe("TRANSITION_ID"),q8=[{provide:kc,useFactory:function(i,n,e){return()=>{e.get(Zr).donePromise.then(()=>{const t=Gi(),o=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let s=0;s<o.length;s++)t.remove(o[s])})}},deps:[wC,at,Zt],multi:!0}];class lg{static init(){var i;i=new lg,zf=i}addToWindow(n){Qe.getAngularTestability=(t,o=!0)=>{const s=n.findTestabilityInTree(t,o);if(null==s)throw new Error("Could not find testability for element.");return s},Qe.getAllAngularTestabilities=()=>n.getAllTestabilities(),Qe.getAllAngularRootElements=()=>n.getAllRootElements(),Qe.frameworkStabilizers||(Qe.frameworkStabilizers=[]),Qe.frameworkStabilizers.push(t=>{const o=Qe.getAllAngularTestabilities();let s=o.length,r=!1;const a=function(l){r=r||l,s--,0==s&&t(r)};o.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,e,t){if(null==e)return null;const o=n.getTestability(e);return null!=o?o:t?Gi().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let Z8=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();const Lc=new oe("EventManagerPlugins");let zc=(()=>{class i{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,o){return this._findPluginFor(t).addEventListener(e,t,o)}addGlobalEventListener(e,t,o){return this._findPluginFor(t).addGlobalEventListener(e,t,o)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const o=this._plugins;for(let s=0;s<o.length;s++){const r=o[s];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(j(Lc),j(Ye))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();class xC{constructor(n){this._doc=n}addGlobalEventListener(n,e,t){const o=Gi().getGlobalEventTarget(this._doc,n);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,t)}}let kC=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),t.add(o))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})(),xl=(()=>{class i extends kC{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,o){e.forEach(s=>{const r=this._doc.createElement("style");r.textContent=s,o.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(PC),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,o)=>{this._addStylesToHost(e,o,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(PC))}}return i.\u0275fac=function(e){return new(e||i)(j(at))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();function PC(i){Gi().remove(i)}const ug={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},cg=/%COMP%/g;function Gc(i,n,e){for(let t=0;t<n.length;t++){let o=n[t];Array.isArray(o)?Gc(i,o,e):(o=o.replace(cg,i),e.push(o))}return e}function DC(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let jc=(()=>{class i{constructor(e,t,o){this.eventManager=e,this.sharedStylesHost=t,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new hg(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case gi.Emulated:{let o=this.rendererByCompId.get(t.id);return o||(o=new tR(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,o)),o.applyToHost(e),o}case 1:case gi.ShadowDom:return new nR(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const o=Gc(t.id,t.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(j(zc),j(xl),j(_l))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();class hg{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(ug[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,t){n&&n.insertBefore(e,t)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let t="string"==typeof n?document.querySelector(n):n;if(!t)throw new Error(`The selector "${n}" did not match any elements`);return e||(t.textContent=""),t}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,t,o){if(o){e=o+":"+e;const s=ug[o];s?n.setAttributeNS(s,e,t):n.setAttribute(e,t)}else n.setAttribute(e,t)}removeAttribute(n,e,t){if(t){const o=ug[t];o?n.removeAttributeNS(o,e):n.removeAttribute(`${t}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,t,o){o&(Bn.DashCase|Bn.Important)?n.style.setProperty(e,t,o&Bn.Important?"important":""):n.style[e]=t}removeStyle(n,e,t){t&Bn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,t){n[e]=t}setValue(n,e){n.nodeValue=e}listen(n,e,t){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,DC(t)):this.eventManager.addEventListener(n,e,DC(t))}}class tR extends hg{constructor(n,e,t,o){super(n),this.component=t;const s=Gc(o+"-"+t.id,t.styles,[]);e.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(cg,o+"-"+t.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(cg,i)}(o+"-"+t.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const t=super.createElement(n,e);return super.setAttribute(t,this.contentAttr,""),t}}class nR extends hg{constructor(n,e,t,o){super(n),this.sharedStylesHost=e,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Gc(o.id,o.styles,[]);for(let r=0;r<s.length;r++){const a=document.createElement("style");a.textContent=s[r],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,t){return super.insertBefore(this.nodeOrShadowRoot(n),e,t)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let iR=(()=>{class i extends xC{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,o){return e.addEventListener(t,o,!1),()=>this.removeEventListener(e,t,o)}removeEventListener(e,t,o){return e.removeEventListener(t,o)}}return i.\u0275fac=function(e){return new(e||i)(j(at))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();const TC=["alt","control","meta","shift"],sR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OC={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},rR={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let aR=(()=>{class i extends xC{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,t,o){const s=i.parseEventName(t),r=i.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gi().onAndCancel(e,s.domEventName,r))}static parseEventName(e){const t=e.toLowerCase().split("."),o=t.shift();if(0===t.length||"keydown"!==o&&"keyup"!==o)return null;const s=i._normalizeKey(t.pop());let r="";if(TC.forEach(l=>{const u=t.indexOf(l);u>-1&&(t.splice(u,1),r+=l+".")}),r+=s,0!=t.length||0===s.length)return null;const a={};return a.domEventName=o,a.fullKey=r,a}static getEventFullKey(e){let t="",o=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&OC.hasOwnProperty(n)&&(n=OC[n]))}return sR[n]||n}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),TC.forEach(s=>{s!=o&&rR[s](e)&&(t+=s+".")}),t+=o,t}static eventCallback(e,t,o){return s=>{i.getEventFullKey(s)===e&&o.runGuarded(()=>t(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(j(at))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();const dR=Fy(aA,"browser",[{provide:vl,useValue:yC},{provide:Sy,useValue:function(){ag.makeCurrent(),lg.init()},multi:!0},{provide:at,useFactory:function(){return i=document,Id=i,document;var i},deps:[]}]),pR=[{provide:Yp,useValue:"root"},{provide:wr,useFactory:function(){return new wr},deps:[]},{provide:Lc,useClass:iR,multi:!0,deps:[at,Ye,vl]},{provide:Lc,useClass:aR,multi:!0,deps:[at]},{provide:jc,useClass:jc,deps:[zc,xl,_l]},{provide:dl,useExisting:jc},{provide:kC,useExisting:xl},{provide:xl,useClass:xl,deps:[at]},{provide:Lf,useClass:Lf,deps:[Ye]},{provide:zc,useClass:zc,deps:[Lc,Ye]},{provide:bC,useClass:Z8,deps:[]}];let IC=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:_l,useValue:e.appId},{provide:wC,useExisting:_l},q8]}}}return i.\u0275fac=function(e){return new(e||i)(j(i,12))},i.\u0275mod=St({type:i}),i.\u0275inj=bt({providers:pR,imports:[vC,fA]}),i})();function _e(...i){return Gt(i,Ta(i))}"undefined"!=typeof window&&window;class ii extends ze{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:t}=this;if(n)throw e;return this._throwIfClosed(),t}next(n){super.next(this._value=n)}}const{isArray:kR}=Array,{getPrototypeOf:PR,prototype:SR,keys:MR}=Object;function FC(i){if(1===i.length){const n=i[0];if(kR(n))return{args:n,keys:null};if(function(i){return i&&"object"==typeof i&&PR(i)===SR}(n)){const e=MR(n);return{args:e.map(t=>n[t]),keys:e}}}return{args:i,keys:null}}const{isArray:ER}=Array;function pg(i){return Ee(n=>function(i,n){return ER(n)?i(...n):i(n)}(i,n))}function NC(i,n){return i.reduce((e,t,o)=>(e[t]=n[o],e),{})}function BC(i,n,e){i?Ki(e,i,n):n()}const Hc=zt(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function fg(...i){return Ea(1)(Gt(i,Ta(i)))}function VC(i){return new Ze(n=>{En(i()).subscribe(n)})}function LC(){return Ct((i,n)=>{let e=null;i._refCount++;const t=new pt(n,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const o=i._connection,s=e;e=null,o&&(!s||o===s)&&o.unsubscribe(),n.unsubscribe()});i.subscribe(t),t.closed||(e=i.connect())})}class RR extends Ze{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,n_(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Pt;const e=this.getSubject();n.add(this.source.subscribe(new pt(e,void 0,()=>{this._teardown(),e.complete()},t=>{this._teardown(),e.error(t)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Pt.EMPTY)}return n}refCount(){return LC()(this)}}function jo(i,n){return Ct((e,t)=>{let o=null,s=0,r=!1;const a=()=>r&&!o&&t.complete();e.subscribe(new pt(t,l=>{null==o||o.unsubscribe();let u=0;const p=s++;En(i(l,p)).subscribe(o=new pt(t,g=>t.next(n?n(l,g,p,u++):g),()=>{o=null,a()}))},()=>{r=!0,a()}))})}function Uc(...i){const n=Ta(i);return Ct((e,t)=>{(n?fg(i,e,n):fg(i,e)).subscribe(t)})}function FR(i,n,e,t,o){return(s,r)=>{let a=e,l=n,u=0;s.subscribe(new pt(r,p=>{const g=u++;l=a?i(l,p,g):(a=!0,p),t&&r.next(l)},o&&(()=>{a&&r.next(l),r.complete()})))}}function zC(i,n){return Ct(FR(i,n,arguments.length>=2,!0))}function _n(i,n){return Ct((e,t)=>{let o=0;e.subscribe(new pt(t,s=>i.call(n,s,o++)&&t.next(s)))})}function Ho(i){return Ct((n,e)=>{let s,t=null,o=!1;t=n.subscribe(new pt(e,void 0,void 0,r=>{s=En(i(r,Ho(i)(n))),t?(t.unsubscribe(),t=null,s.subscribe(e)):o=!0})),o&&(t.unsubscribe(),t=null,s.subscribe(e))})}function Jr(i,n){return Ce(n)?At(i,n,1):At(i,1)}function gg(i){return i<=0?()=>Qi:Ct((n,e)=>{let t=[];n.subscribe(new pt(e,o=>{t.push(o),i<t.length&&t.shift()},()=>{for(const o of t)e.next(o);e.complete()},void 0,()=>{t=null}))})}function GC(i=NR){return Ct((n,e)=>{let t=!1;n.subscribe(new pt(e,o=>{t=!0,e.next(o)},()=>t?e.complete():e.error(i())))})}function NR(){return new Hc}function jC(i){return Ct((n,e)=>{let t=!1;n.subscribe(new pt(e,o=>{t=!0,e.next(o)},()=>{t||e.next(i),e.complete()}))})}function ea(i,n){const e=arguments.length>=2;return t=>t.pipe(i?_n((o,s)=>i(o,s,t)):Do,nr(1),e?jC(n):GC(()=>new Hc))}function xn(i,n,e){const t=Ce(i)||n||e?{next:i,error:n,complete:e}:i;return t?Ct((o,s)=>{var r;null===(r=t.subscribe)||void 0===r||r.call(t);let a=!0;o.subscribe(new pt(s,l=>{var u;null===(u=t.next)||void 0===u||u.call(t,l),s.next(l)},()=>{var l;a=!1,null===(l=t.complete)||void 0===l||l.call(t),s.complete()},l=>{var u;a=!1,null===(u=t.error)||void 0===u||u.call(t,l),s.error(l)},()=>{var l,u;a&&(null===(l=t.unsubscribe)||void 0===l||l.call(t)),null===(u=t.finalize)||void 0===u||u.call(t)}))}):Do}class po{constructor(n,e){this.id=n,this.url=e}}class mg extends po{constructor(n,e,t="imperative",o=null){super(n,e),this.navigationTrigger=t,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kl extends po{constructor(n,e,t){super(n,e),this.urlAfterRedirects=t}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class HC extends po{constructor(n,e,t){super(n,e),this.reason=t}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class LR extends po{constructor(n,e,t){super(n,e),this.error=t}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zR extends po{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GR extends po{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jR extends po{constructor(n,e,t,o,s){super(n,e),this.urlAfterRedirects=t,this.state=o,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class HR extends po{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UR extends po{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UC{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $C{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $R{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YR{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WR{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qR{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YC{constructor(n,e,t){this.routerEvent=n,this.position=e,this.anchor=t}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Oe="primary";class ZR{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ta(i){return new ZR(i)}const WC="ngNavigationCancelingError";function _g(i){const n=Error("NavigationCancelingError: "+i);return n[WC]=!0,n}function KR(i,n,e){const t=e.path.split("/");if(t.length>i.length||"full"===e.pathMatch&&(n.hasChildren()||t.length<i.length))return null;const o={};for(let s=0;s<t.length;s++){const r=t[s],a=i[s];if(r.startsWith(":"))o[r.substring(1)]=a;else if(r!==a.path)return null}return{consumed:i.slice(0,t.length),posParams:o}}function ji(i,n){const e=i?Object.keys(i):void 0,t=n?Object.keys(n):void 0;if(!e||!t||e.length!=t.length)return!1;let o;for(let s=0;s<e.length;s++)if(o=e[s],!qC(i[o],n[o]))return!1;return!0}function qC(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const e=[...i].sort(),t=[...n].sort();return e.every((o,s)=>t[s]===o)}return i===n}function ZC(i){return Array.prototype.concat.apply([],i)}function XC(i){return i.length>0?i[i.length-1]:null}function Kt(i,n){for(const e in i)i.hasOwnProperty(e)&&n(i[e],e)}function Hi(i){return af(i)?i:rl(i)?Gt(Promise.resolve(i)):_e(i)}const e6={exact:function JC(i,n,e){if(!Os(i.segments,n.segments)||!$c(i.segments,n.segments,e)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const t in n.children)if(!i.children[t]||!JC(i.children[t],n.children[t],e))return!1;return!0},subset:eb},KC={exact:function(i,n){return ji(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(e=>qC(i[e],n[e]))},ignored:()=>!0};function QC(i,n,e){return e6[e.paths](i.root,n.root,e.matrixParams)&&KC[e.queryParams](i.queryParams,n.queryParams)&&!("exact"===e.fragment&&i.fragment!==n.fragment)}function eb(i,n,e){return tb(i,n,n.segments,e)}function tb(i,n,e,t){if(i.segments.length>e.length){const o=i.segments.slice(0,e.length);return!(!Os(o,e)||n.hasChildren()||!$c(o,e,t))}if(i.segments.length===e.length){if(!Os(i.segments,e)||!$c(i.segments,e,t))return!1;for(const o in n.children)if(!i.children[o]||!eb(i.children[o],n.children[o],t))return!1;return!0}{const o=e.slice(0,i.segments.length),s=e.slice(i.segments.length);return!!(Os(i.segments,o)&&$c(i.segments,o,t)&&i.children[Oe])&&tb(i.children[Oe],n,s,t)}}function $c(i,n,e){return n.every((t,o)=>KC[e](i[o].parameters,t.parameters))}class Ts{constructor(n,e,t){this.root=n,this.queryParams=e,this.fragment=t}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ta(this.queryParams)),this._queryParamMap}toString(){return s6.serialize(this)}}class Ae{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Kt(e,(t,o)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yc(this)}}class Pl{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ta(this.parameters)),this._parameterMap}toString(){return rb(this)}}function Os(i,n){return i.length===n.length&&i.every((e,t)=>e.path===n[t].path)}class nb{}class ib{parse(n){const e=new f6(n);return new Ts(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Sl(n.root,!0)}`,t=function(i){const n=Object.keys(i).map(e=>{const t=i[e];return Array.isArray(t)?t.map(o=>`${Wc(e)}=${Wc(o)}`).join("&"):`${Wc(e)}=${Wc(t)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);var i;return`${e}${t}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const s6=new ib;function Yc(i){return i.segments.map(n=>rb(n)).join("/")}function Sl(i,n){if(!i.hasChildren())return Yc(i);if(n){const e=i.children[Oe]?Sl(i.children[Oe],!1):"",t=[];return Kt(i.children,(o,s)=>{s!==Oe&&t.push(`${s}:${Sl(o,!1)}`)}),t.length>0?`${e}(${t.join("//")})`:e}{const e=function(i,n){let e=[];return Kt(i.children,(t,o)=>{o===Oe&&(e=e.concat(n(t,o)))}),Kt(i.children,(t,o)=>{o!==Oe&&(e=e.concat(n(t,o)))}),e}(i,(t,o)=>o===Oe?[Sl(i.children[Oe],!1)]:[`${o}:${Sl(t,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Oe]?`${Yc(i)}/${e[0]}`:`${Yc(i)}/(${e.join("//")})`}}function ob(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wc(i){return ob(i).replace(/%3B/gi,";")}function vg(i){return ob(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qc(i){return decodeURIComponent(i)}function sb(i){return qc(i.replace(/\+/g,"%20"))}function rb(i){return`${vg(i.path)}${function(i){return Object.keys(i).map(n=>`;${vg(n)}=${vg(i[n])}`).join("")}(i.parameters)}`}const u6=/^[^\/()?;=#]+/;function Zc(i){const n=i.match(u6);return n?n[0]:""}const c6=/^[^=?&#]+/,d6=/^[^&#]+/;class f6{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(t[Oe]=new Ae(n,e)),t}parseSegment(){const n=Zc(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new Pl(qc(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=Zc(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){const o=Zc(this.remaining);o&&(t=o,this.capture(t))}n[qc(e)]=qc(t)}parseQueryParam(n){const e=function(i){const n=i.match(c6);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){const r=function(i){const n=i.match(d6);return n?n[0]:""}(this.remaining);r&&(t=r,this.capture(t))}const o=sb(e),s=sb(t);if(n.hasOwnProperty(o)){let r=n[o];Array.isArray(r)||(r=[r],n[o]=r),r.push(s)}else n[o]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const t=Zc(this.remaining),o=this.remaining[t.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let s;t.indexOf(":")>-1?(s=t.substr(0,t.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=Oe);const r=this.parseChildren();e[s]=1===Object.keys(r).length?r[Oe]:new Ae([],r),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class ab{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=yg(n,this._root);return e?e.children.map(t=>t.value):[]}firstChild(n){const e=yg(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=Cg(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return Cg(n,this._root).map(e=>e.value)}}function yg(i,n){if(i===n.value)return n;for(const e of n.children){const t=yg(i,e);if(t)return t}return null}function Cg(i,n){if(i===n.value)return[n];for(const e of n.children){const t=Cg(i,e);if(t.length)return t.unshift(n),t}return[]}class fo{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function na(i){const n={};return i&&i.children.forEach(e=>n[e.value.outlet]=e),n}class lb extends ab{constructor(n,e){super(n),this.snapshot=e,bg(this,n)}toString(){return this.snapshot.toString()}}function ub(i,n){const e=function(i,n){const r=new Xc([],{},{},"",{},Oe,n,null,i.root,-1,{});return new hb("",new fo(r,[]))}(i,n),t=new ii([new Pl("",{})]),o=new ii({}),s=new ii({}),r=new ii({}),a=new ii(""),l=new go(t,o,r,a,s,Oe,n,e.root);return l.snapshot=e.root,new lb(new fo(l,[]),e)}class go{constructor(n,e,t,o,s,r,a,l){this.url=n,this.params=e,this.queryParams=t,this.fragment=o,this.data=s,this.outlet=r,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ee(n=>ta(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ee(n=>ta(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cb(i,n="emptyOnly"){const e=i.pathFromRoot;let t=0;if("always"!==n)for(t=e.length-1;t>=1;){const o=e[t],s=e[t-1];if(o.routeConfig&&""===o.routeConfig.path)t--;else{if(s.component)break;t--}}return function(i){return i.reduce((n,e)=>({params:te(te({},n.params),e.params),data:te(te({},n.data),e.data),resolve:te(te({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(t))}class Xc{constructor(n,e,t,o,s,r,a,l,u,p,g){this.url=n,this.params=e,this.queryParams=t,this.fragment=o,this.data=s,this.outlet=r,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=p,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ta(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ta(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hb extends ab{constructor(n,e){super(e),this.url=n,bg(this,e)}toString(){return db(this._root)}}function bg(i,n){n.value._routerState=i,n.children.forEach(e=>bg(i,e))}function db(i){const n=i.children.length>0?` { ${i.children.map(db).join(", ")} } `:"";return`${i.value}${n}`}function wg(i){if(i.snapshot){const n=i.snapshot,e=i._futureSnapshot;i.snapshot=e,ji(n.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),n.fragment!==e.fragment&&i.fragment.next(e.fragment),ji(n.params,e.params)||i.params.next(e.params),function(i,n){if(i.length!==n.length)return!1;for(let e=0;e<i.length;++e)if(!ji(i[e],n[e]))return!1;return!0}(n.url,e.url)||i.url.next(e.url),ji(n.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function xg(i,n){const e=ji(i.params,n.params)&&function(i,n){return Os(i,n)&&i.every((e,t)=>ji(e.parameters,n[t].parameters))}(i.url,n.url);return e&&!(!i.parent!=!n.parent)&&(!i.parent||xg(i.parent,n.parent))}function Ml(i,n,e){if(e&&i.shouldReuseRoute(n.value,e.value.snapshot)){const t=e.value;t._futureSnapshot=n.value;const o=function(i,n,e){return n.children.map(t=>{for(const o of e.children)if(i.shouldReuseRoute(t.value,o.value.snapshot))return Ml(i,t,o);return Ml(i,t)})}(i,n,e);return new fo(t,o)}{if(i.shouldAttach(n.value)){const s=i.retrieve(n.value);if(null!==s){const r=s.route;return r.value._futureSnapshot=n.value,r.children=n.children.map(a=>Ml(i,a)),r}}const t=function(i){return new go(new ii(i.url),new ii(i.params),new ii(i.queryParams),new ii(i.fragment),new ii(i.data),i.outlet,i.component,i)}(n.value),o=n.children.map(s=>Ml(i,s));return new fo(t,o)}}function Kc(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Dl(i){return"object"==typeof i&&null!=i&&i.outlets}function kg(i,n,e,t,o){let s={};return t&&Kt(t,(r,a)=>{s[a]=Array.isArray(r)?r.map(l=>`${l}`):`${r}`}),new Ts(e.root===i?n:pb(e.root,i,n),s,o)}function pb(i,n,e){const t={};return Kt(i.children,(o,s)=>{t[s]=o===n?e:pb(o,n,e)}),new Ae(i.segments,t)}class fb{constructor(n,e,t){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=t,n&&t.length>0&&Kc(t[0]))throw new Error("Root segment cannot have matrix parameters");const o=t.find(Dl);if(o&&o!==XC(t))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pg{constructor(n,e,t){this.segmentGroup=n,this.processChildren=e,this.index=t}}function gb(i,n,e){if(i||(i=new Ae([],{})),0===i.segments.length&&i.hasChildren())return Qc(i,n,e);const t=function(i,n,e){let t=0,o=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<i.segments.length;){if(t>=e.length)return s;const r=i.segments[o],a=e[t];if(Dl(a))break;const l=`${a}`,u=t<e.length-1?e[t+1]:null;if(o>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!_b(l,u,r))return s;t+=2}else{if(!_b(l,{},r))return s;t++}o++}return{match:!0,pathIndex:o,commandIndex:t}}(i,n,e),o=e.slice(t.commandIndex);if(t.match&&t.pathIndex<i.segments.length){const s=new Ae(i.segments.slice(0,t.pathIndex),{});return s.children[Oe]=new Ae(i.segments.slice(t.pathIndex),i.children),Qc(s,0,o)}return t.match&&0===o.length?new Ae(i.segments,{}):t.match&&!i.hasChildren()?Sg(i,n,e):t.match?Qc(i,0,o):Sg(i,n,e)}function Qc(i,n,e){if(0===e.length)return new Ae(i.segments,{});{const t=function(i){return Dl(i[0])?i[0].outlets:{[Oe]:i}}(e),o={};return Kt(t,(s,r)=>{"string"==typeof s&&(s=[s]),null!==s&&(o[r]=gb(i.children[r],n,s))}),Kt(i.children,(s,r)=>{void 0===t[r]&&(o[r]=s)}),new Ae(i.segments,o)}}function Sg(i,n,e){const t=i.segments.slice(0,n);let o=0;for(;o<e.length;){const s=e[o];if(Dl(s)){const l=S6(s.outlets);return new Ae(t,l)}if(0===o&&Kc(e[0])){t.push(new Pl(i.segments[n].path,mb(e[0]))),o++;continue}const r=Dl(s)?s.outlets[Oe]:`${s}`,a=o<e.length-1?e[o+1]:null;r&&a&&Kc(a)?(t.push(new Pl(r,mb(a))),o+=2):(t.push(new Pl(r,{})),o++)}return new Ae(t,{})}function S6(i){const n={};return Kt(i,(e,t)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[t]=Sg(new Ae([],{}),0,e))}),n}function mb(i){const n={};return Kt(i,(e,t)=>n[t]=`${e}`),n}function _b(i,n,e){return i==e.path&&ji(n,e.parameters)}class D6{constructor(n,e,t,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=t,this.forwardEvent=o}activate(n){const e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,n),wg(this.futureState.root),this.activateChildRoutes(e,t,n)}deactivateChildRoutes(n,e,t){const o=na(e);n.children.forEach(s=>{const r=s.value.outlet;this.deactivateRoutes(s,o[r],t),delete o[r]}),Kt(o,(s,r)=>{this.deactivateRouteAndItsChildren(s,t)})}deactivateRoutes(n,e,t){const o=n.value,s=e?e.value:null;if(o===s)if(o.component){const r=t.getContext(o.outlet);r&&this.deactivateChildRoutes(n,e,r.children)}else this.deactivateChildRoutes(n,e,t);else s&&this.deactivateRouteAndItsChildren(e,t)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const t=e.getContext(n.value.outlet),o=t&&n.value.component?t.children:e,s=na(n);for(const r of Object.keys(s))this.deactivateRouteAndItsChildren(s[r],o);if(t&&t.outlet){const r=t.outlet.detach(),a=t.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:r,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const t=e.getContext(n.value.outlet),o=t&&n.value.component?t.children:e,s=na(n);for(const r of Object.keys(s))this.deactivateRouteAndItsChildren(s[r],o);t&&t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated(),t.attachRef=null,t.resolver=null,t.route=null)}activateChildRoutes(n,e,t){const o=na(e);n.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],t),this.forwardEvent(new qR(s.value.snapshot))}),n.children.length&&this.forwardEvent(new YR(n.value.snapshot))}activateRoutes(n,e,t){const o=n.value,s=e?e.value:null;if(wg(o),o===s)if(o.component){const r=t.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,r.children)}else this.activateChildRoutes(n,e,t);else if(o.component){const r=t.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),r.children.onOutletReAttached(a.contexts),r.attachRef=a.componentRef,r.route=a.route.value,r.outlet&&r.outlet.attach(a.componentRef,a.route.value),wg(a.route.value),this.activateChildRoutes(n,null,r.children)}else{const a=function(i){for(let n=i.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),l=a?a.module.componentFactoryResolver:null;r.attachRef=null,r.route=o,r.resolver=l,r.outlet&&r.outlet.activateWith(o,l),this.activateChildRoutes(n,null,r.children)}}else this.activateChildRoutes(n,null,t)}}class Mg{constructor(n,e){this.routes=n,this.module=e}}function Uo(i){return"function"==typeof i}function Is(i){return i instanceof Ts}const El=Symbol("INITIAL_VALUE");function Tl(){return jo(i=>function(...i){const n=Ta(i),e=m_(i),{args:t,keys:o}=FC(i);if(0===t.length)return Gt([],n);const s=new Ze(function(i,n,e=Do){return t=>{BC(n,()=>{const{length:o}=i,s=new Array(o);let r=o,a=o;for(let l=0;l<o;l++)BC(n,()=>{const u=Gt(i[l],n);let p=!1;u.subscribe(new pt(t,g=>{s[l]=g,p||(p=!0,a--),a||t.next(e(s.slice()))},()=>{--r||t.complete()}))},t)},t)}}(t,n,o?r=>NC(o,r):Do));return e?s.pipe(pg(e)):s}(i.map(n=>n.pipe(nr(1),Uc(El)))).pipe(zC((n,e)=>{let t=!1;return e.reduce((o,s,r)=>o!==El?o:(s===El&&(t=!0),t||!1!==s&&r!==e.length-1&&!Is(s)?o:s),n)},El),_n(n=>n!==El),Ee(n=>Is(n)?n:!0===n),nr(1)))}class F6{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ol,this.attachRef=null}}class Ol{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const t=this.getOrCreateContext(n);t.outlet=e,this.contexts.set(n,t)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new F6,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let Dg=(()=>{class i{constructor(e,t,o,s,r){this.parentContexts=e,this.location=t,this.resolver=o,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new L,this.deactivateEvents=new L,this.attachEvents=new L,this.detachEvents=new L,this.name=s||Oe,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const r=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new N6(e,a,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(P(Ol),P(Bt),P(zo),function(i){return function(i,n){if("class"===n)return i.classes;if("style"===n)return i.styles;const e=i.attrs;if(e){const t=e.length;let o=0;for(;o<t;){const s=e[o];if(X_(s))break;if(0===s)o+=2;else if("number"==typeof s)for(o++;o<t&&"string"==typeof e[o];)o++;else{if(s===n)return e[o+1];o+=2}}}return null}(Rt(),i)}("name"),P(ei))},i.\u0275dir=ae({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class N6{constructor(n,e,t){this.route=n,this.childContexts=e,this.parent=t}get(n,e){return n===go?this.route:n===Ol?this.childContexts:this.parent.get(n,e)}}let vb=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=X({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&m(0,"router-outlet")},directives:[Dg],encapsulation:2}),i})();function yb(i,n=""){for(let e=0;e<i.length;e++){const t=i[e];B6(t,V6(n,t))}}function B6(i,n){i.children&&yb(i.children,n)}function V6(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function Eg(i){const n=i.children&&i.children.map(Eg),e=n?qt(te({},i),{children:n}):te({},i);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Oe&&(e.component=vb),e}function oi(i){return i.outlet||Oe}function Cb(i,n){const e=i.filter(t=>oi(t)===n);return e.push(...i.filter(t=>oi(t)!==n)),e}const bb={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Jc(i,n,e){var a;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||e.length>0)?te({},bb):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(n.matcher||KR)(e,i,n);if(!o)return te({},bb);const s={};Kt(o.posParams,(l,u)=>{s[u]=l.path});const r=o.consumed.length>0?te(te({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:r,positionalParamSegments:null!=(a=o.posParams)?a:{}}}function eh(i,n,e,t,o="corrected"){if(e.length>0&&function(i,n,e){return e.some(t=>th(i,n,t)&&oi(t)!==Oe)}(i,e,t)){const r=new Ae(n,function(i,n,e,t){const o={};o[Oe]=t,t._sourceSegment=i,t._segmentIndexShift=n.length;for(const s of e)if(""===s.path&&oi(s)!==Oe){const r=new Ae([],{});r._sourceSegment=i,r._segmentIndexShift=n.length,o[oi(s)]=r}return o}(i,n,t,new Ae(e,i.children)));return r._sourceSegment=i,r._segmentIndexShift=n.length,{segmentGroup:r,slicedSegments:[]}}if(0===e.length&&function(i,n,e){return e.some(t=>th(i,n,t))}(i,e,t)){const r=new Ae(i.segments,function(i,n,e,t,o,s){const r={};for(const a of t)if(th(i,e,a)&&!o[oi(a)]){const l=new Ae([],{});l._sourceSegment=i,l._segmentIndexShift="legacy"===s?i.segments.length:n.length,r[oi(a)]=l}return te(te({},o),r)}(i,n,e,t,i.children,o));return r._sourceSegment=i,r._segmentIndexShift=n.length,{segmentGroup:r,slicedSegments:e}}const s=new Ae(i.segments,i.children);return s._sourceSegment=i,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}function th(i,n,e){return(!(i.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function wb(i,n,e,t){return!!(oi(i)===t||t!==Oe&&th(n,e,i))&&("**"===i.path||Jc(n,i,e).matched)}function xb(i,n,e){return 0===n.length&&!i.children[e]}class Il{constructor(n){this.segmentGroup=n||null}}class kb{constructor(n){this.urlTree=n}}function nh(i){return new Ze(n=>n.error(new Il(i)))}function Pb(i){return new Ze(n=>n.error(new kb(i)))}function H6(i){return new Ze(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class Y6{constructor(n,e,t,o,s){this.configLoader=e,this.urlSerializer=t,this.urlTree=o,this.config=s,this.allowRedirects=!0,this.ngModule=n.get(ao)}apply(){const n=eh(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ae(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Oe).pipe(Ee(s=>this.createUrlTree(Tg(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ho(s=>{if(s instanceof kb)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Il?this.noMatchError(s):s}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,Oe).pipe(Ee(o=>this.createUrlTree(Tg(o),n.queryParams,n.fragment))).pipe(Ho(o=>{throw o instanceof Il?this.noMatchError(o):o}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,t){const o=n.segments.length>0?new Ae([],{[Oe]:n}):n;return new Ts(o,e,t)}expandSegmentGroup(n,e,t,o){return 0===t.segments.length&&t.hasChildren()?this.expandChildren(n,e,t).pipe(Ee(s=>new Ae([],s))):this.expandSegment(n,t,e,t.segments,o,!0)}expandChildren(n,e,t){const o=[];for(const s of Object.keys(t.children))"primary"===s?o.unshift(s):o.push(s);return Gt(o).pipe(Jr(s=>{const r=t.children[s],a=Cb(e,s);return this.expandSegmentGroup(n,a,r,s).pipe(Ee(l=>({segment:l,outlet:s})))}),zC((s,r)=>(s[r.outlet]=r.segment,s),{}),function(i,n){const e=arguments.length>=2;return t=>t.pipe(i?_n((o,s)=>i(o,s,t)):Do,gg(1),e?jC(n):GC(()=>new Hc))}())}expandSegment(n,e,t,o,s,r){return Gt(t).pipe(Jr(a=>this.expandSegmentAgainstRoute(n,e,t,a,o,s,r).pipe(Ho(u=>{if(u instanceof Il)return _e(null);throw u}))),ea(a=>!!a),Ho((a,l)=>{if(a instanceof Hc||"EmptyError"===a.name){if(xb(e,o,s))return _e(new Ae([],{}));throw new Il(e)}throw a}))}expandSegmentAgainstRoute(n,e,t,o,s,r,a){return wb(o,e,s,r)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(n,e,o,s,r):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,t,o,s,r):nh(e):nh(e)}expandSegmentAgainstRouteUsingRedirect(n,e,t,o,s,r){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,o,r):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,t,o,s,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,t,o){const s=this.applyRedirectCommands([],t.redirectTo,{});return t.redirectTo.startsWith("/")?Pb(s):this.lineralizeSegments(t,s).pipe(At(r=>{const a=new Ae(r,{});return this.expandSegment(n,a,e,r,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,t,o,s,r){const{matched:a,consumedSegments:l,lastChild:u,positionalParamSegments:p}=Jc(e,o,s);if(!a)return nh(e);const g=this.applyRedirectCommands(l,o.redirectTo,p);return o.redirectTo.startsWith("/")?Pb(g):this.lineralizeSegments(o,g).pipe(At(_=>this.expandSegment(n,e,t,_.concat(s.slice(u)),r,!1)))}matchSegmentAgainstRoute(n,e,t,o,s){if("**"===t.path)return t.loadChildren?(t._loadedConfig?_e(t._loadedConfig):this.configLoader.load(n.injector,t)).pipe(Ee(_=>(t._loadedConfig=_,new Ae(o,{})))):_e(new Ae(o,{}));const{matched:r,consumedSegments:a,lastChild:l}=Jc(e,t,o);if(!r)return nh(e);const u=o.slice(l);return this.getChildConfig(n,t,o).pipe(At(g=>{const _=g.module,v=g.routes,{segmentGroup:k,slicedSegments:w}=eh(e,a,u,v),M=new Ae(k.segments,k.children);if(0===w.length&&M.hasChildren())return this.expandChildren(_,v,M).pipe(Ee(N=>new Ae(a,N)));if(0===v.length&&0===w.length)return _e(new Ae(a,{}));const O=oi(t)===s;return this.expandSegment(_,M,v,w,O?Oe:s,!0).pipe(Ee(R=>new Ae(a.concat(R.segments),R.children)))}))}getChildConfig(n,e,t){return e.children?_e(new Mg(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?_e(e._loadedConfig):this.runCanLoadGuards(n.injector,e,t).pipe(At(o=>{return o?this.configLoader.load(n.injector,e).pipe(Ee(s=>(e._loadedConfig=s,s))):(i=e,new Ze(n=>n.error(_g(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):_e(new Mg([],n))}runCanLoadGuards(n,e,t){const o=e.canLoad;return o&&0!==o.length?_e(o.map(r=>{const a=n.get(r);let l;if((i=a)&&Uo(i.canLoad))l=a.canLoad(e,t);else{if(!Uo(a))throw new Error("Invalid CanLoad guard");l=a(e,t)}var i;return Hi(l)})).pipe(Tl(),xn(r=>{if(!Is(r))return;const a=_g(`Redirecting to "${this.urlSerializer.serialize(r)}"`);throw a.url=r,a}),Ee(r=>!0===r)):_e(!0)}lineralizeSegments(n,e){let t=[],o=e.root;for(;;){if(t=t.concat(o.segments),0===o.numberOfChildren)return _e(t);if(o.numberOfChildren>1||!o.children[Oe])return H6(n.redirectTo);o=o.children[Oe]}}applyRedirectCommands(n,e,t){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,t)}applyRedirectCreatreUrlTree(n,e,t,o){const s=this.createSegmentGroup(n,e.root,t,o);return new Ts(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const t={};return Kt(n,(o,s)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);t[s]=e[a]}else t[s]=o}),t}createSegmentGroup(n,e,t,o){const s=this.createSegments(n,e.segments,t,o);let r={};return Kt(e.children,(a,l)=>{r[l]=this.createSegmentGroup(n,a,t,o)}),new Ae(s,r)}createSegments(n,e,t,o){return e.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,o):this.findOrReturn(s,t))}findPosParam(n,e,t){const o=t[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return o}findOrReturn(n,e){let t=0;for(const o of e){if(o.path===n.path)return e.splice(t),o;t++}return n}}function Tg(i){const n={};for(const t of Object.keys(i.children)){const s=Tg(i.children[t]);(s.segments.length>0||s.hasChildren())&&(n[t]=s)}return function(i){if(1===i.numberOfChildren&&i.children[Oe]){const n=i.children[Oe];return new Ae(i.segments.concat(n.segments),n.children)}return i}(new Ae(i.segments,n))}class Sb{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class ih{constructor(n,e){this.component=n,this.route=e}}function Z6(i,n,e){const t=i._root;return Al(t,n?n._root:null,e,[t.value])}function oh(i,n,e){const t=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(t?t.module.injector:e).get(i)}function Al(i,n,e,t,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=na(n);return i.children.forEach(r=>{(function(i,n,e,t,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=i.value,r=n?n.value:null,a=e?e.getContext(i.value.outlet):null;if(r&&s.routeConfig===r.routeConfig){const l=function(i,n,e){if("function"==typeof e)return e(i,n);switch(e){case"pathParamsChange":return!Os(i.url,n.url);case"pathParamsOrQueryParamsChange":return!Os(i.url,n.url)||!ji(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xg(i,n)||!ji(i.queryParams,n.queryParams);default:return!xg(i,n)}}(r,s,s.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Sb(t)):(s.data=r.data,s._resolvedData=r._resolvedData),Al(i,n,s.component?a?a.children:null:e,t,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ih(a.outlet.component,r))}else r&&Rl(n,a,o),o.canActivateChecks.push(new Sb(t)),Al(i,null,s.component?a?a.children:null:e,t,o)})(r,s[r.value.outlet],e,t.concat([r.value]),o),delete s[r.value.outlet]}),Kt(s,(r,a)=>Rl(r,e.getContext(a),o)),o}function Rl(i,n,e){const t=na(i),o=i.value;Kt(t,(s,r)=>{Rl(s,o.component?n?n.children.getContext(r):null:n,e)}),e.canDeactivateChecks.push(new ih(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}class lF{}function Mb(i){return new Ze(n=>n.error(i))}class cF{constructor(n,e,t,o,s,r){this.rootComponentType=n,this.config=e,this.urlTree=t,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=r}recognize(){const n=eh(this.urlTree.root,[],[],this.config.filter(r=>void 0===r.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,Oe);if(null===e)return null;const t=new Xc([],Object.freeze({}),Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,{},Oe,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new fo(t,e),s=new hb(this.url,o);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(n){const e=n.value,t=cb(e,this.paramsInheritanceStrategy);e.params=Object.freeze(t.params),e.data=Object.freeze(t.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,t){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,t)}processChildren(n,e){const t=[];for(const s of Object.keys(e.children)){const r=e.children[s],a=Cb(n,s),l=this.processSegmentGroup(a,r,s);if(null===l)return null;t.push(...l)}const o=Db(t);return o.sort((n,e)=>n.value.outlet===Oe?-1:e.value.outlet===Oe?1:n.value.outlet.localeCompare(e.value.outlet)),o}processSegment(n,e,t,o){for(const s of n){const r=this.processSegmentAgainstRoute(s,e,t,o);if(null!==r)return r}return xb(e,t,o)?[]:null}processSegmentAgainstRoute(n,e,t,o){if(n.redirectTo||!wb(n,e,t,o))return null;let s,r=[],a=[];if("**"===n.path){const v=t.length>0?XC(t).parameters:{};s=new Xc(t,v,Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,Ob(n),oi(n),n.component,n,Eb(e),Tb(e)+t.length,Ib(n))}else{const v=Jc(e,n,t);if(!v.matched)return null;r=v.consumedSegments,a=t.slice(v.lastChild),s=new Xc(r,v.parameters,Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,Ob(n),oi(n),n.component,n,Eb(e),Tb(e)+r.length,Ib(n))}const l=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:u,slicedSegments:p}=eh(e,r,a,l.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution);var i;if(0===p.length&&u.hasChildren()){const v=this.processChildren(l,u);return null===v?null:[new fo(s,v)]}if(0===l.length&&0===p.length)return[new fo(s,[])];const g=oi(n)===o,_=this.processSegment(l,u,p,g?Oe:o);return null===_?null:[new fo(s,_)]}}function pF(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function Db(i){const n=[],e=new Set;for(const t of i){if(!pF(t)){n.push(t);continue}const o=n.find(s=>t.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...t.children),e.add(o)):n.push(t)}for(const t of e){const o=Db(t.children);n.push(new fo(t.value,o))}return n.filter(t=>!e.has(t))}function Eb(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function Tb(i){let n=i,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function Ob(i){return i.data||{}}function Ib(i){return i.resolve||{}}function Og(i){return jo(n=>{const e=i(n);return e?Gt(e).pipe(Ee(()=>n)):_e(n)})}class bF extends class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const Ig=new oe("ROUTES");class Ab{constructor(n,e,t,o){this.injector=n,this.compiler=e,this.onLoadStartListener=t,this.onLoadEndListener=o}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe(Ee(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=s.create(n);return new Mg(ZC(r.injector.get(Ig,void 0,ye.Self|ye.Optional)).map(Eg),r)}),Ho(s=>{throw e._loader$=void 0,s}));return e._loader$=new RR(o,()=>new ze).pipe(LC()),e._loader$}loadModuleFactory(n){return Hi(n()).pipe(At(e=>e instanceof $3?_e(e):Gt(this.compiler.compileModuleAsync(e))))}}class xF{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function kF(i){throw i}function PF(i,n,e){return n.parse("/")}function Rb(i,n){return _e(null)}const SF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ct=(()=>{class i{constructor(e,t,o,s,r,a,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=o,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ze,this.errorHandler=kF,this.malformedUriErrorHandler=PF,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Rb,afterPreactivation:Rb},this.urlHandlingStrategy=new xF,this.routeReuseStrategy=new bF,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=r.get(ao),this.console=r.get(Dy);const g=r.get(Ye);this.isNgZoneEnabled=g instanceof Ye&&Ye.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Ts(new Ae([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ab(r,a,_=>this.triggerEvent(new UC(_)),_=>this.triggerEvent(new $C(_))),this.routerState=ub(this.currentUrlTree,this.rootComponentType),this.transitions=new ii({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null==(e=this.location.getState())?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe(_n(o=>0!==o.id),Ee(o=>qt(te({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),jo(o=>{let s=!1,r=!1;return _e(o).pipe(xn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?qt(te({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),jo(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return sh(a.source)&&(this.browserUrlTree=a.extractedUrl),_e(a).pipe(jo(g=>{const _=this.transitions.getValue();return t.next(new mg(g.id,this.serializeUrl(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions.getValue()?Qi:Promise.resolve(g)}),function(i,n,e,t){return jo(o=>function(i,n,e,t,o){return new Y6(i,n,e,t,o).apply()}(i,n,e,o.extractedUrl,t).pipe(Ee(s=>qt(te({},o),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),xn(g=>{this.currentNavigation=qt(te({},this.currentNavigation),{finalUrl:g.urlAfterRedirects})}),function(i,n,e,t,o){return At(s=>function(i,n,e,t,o="emptyOnly",s="legacy"){try{const r=new cF(i,n,e,t,o,s).recognize();return null===r?Mb(new lF):_e(r)}catch(r){return Mb(r)}}(i,n,s.urlAfterRedirects,e(s.urlAfterRedirects),t,o).pipe(Ee(r=>qt(te({},s),{targetSnapshot:r}))))}(this.rootComponentType,this.config,g=>this.serializeUrl(g),this.paramsInheritanceStrategy,this.relativeLinkResolution),xn(g=>{if("eager"===this.urlUpdateStrategy){if(!g.extras.skipLocationChange){const v=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);this.setBrowserUrl(v,g)}this.browserUrlTree=g.urlAfterRedirects}const _=new zR(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);t.next(_)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:_,extractedUrl:v,source:k,restoredState:w,extras:M}=a,O=new mg(_,this.serializeUrl(v),k,w);t.next(O);const T=ub(v,this.rootComponentType).snapshot;return _e(qt(te({},a),{targetSnapshot:T,urlAfterRedirects:v,extras:qt(te({},M),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Qi}),Og(a=>{const{targetSnapshot:l,id:u,extractedUrl:p,rawUrl:g,extras:{skipLocationChange:_,replaceUrl:v}}=a;return this.hooks.beforePreactivation(l,{navigationId:u,appliedUrlTree:p,rawUrlTree:g,skipLocationChange:!!_,replaceUrl:!!v})}),xn(a=>{const l=new GR(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Ee(a=>qt(te({},a),{guards:Z6(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(i,n){return At(e=>{const{targetSnapshot:t,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:r}}=e;return 0===r.length&&0===s.length?_e(qt(te({},e),{guardsResult:!0})):function(i,n,e,t){return Gt(i).pipe(At(o=>function(i,n,e,t,o){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?_e(s.map(a=>{const l=oh(a,n,o);let u;if(function(i){return i&&Uo(i.canDeactivate)}(l))u=Hi(l.canDeactivate(i,n,e,t));else{if(!Uo(l))throw new Error("Invalid CanDeactivate guard");u=Hi(l(i,n,e,t))}return u.pipe(ea())})).pipe(Tl()):_e(!0)}(o.component,o.route,e,n,t)),ea(o=>!0!==o,!0))}(r,t,o,i).pipe(At(a=>a&&function(i){return"boolean"==typeof i}(a)?function(i,n,e,t){return Gt(n).pipe(Jr(o=>fg(function(i,n){return null!==i&&n&&n(new $R(i)),_e(!0)}(o.route.parent,t),function(i,n){return null!==i&&n&&n(new WR(i)),_e(!0)}(o.route,t),function(i,n,e){const t=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(r=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(r)).filter(r=>null!==r).map(r=>VC(()=>_e(r.guards.map(l=>{const u=oh(l,r.node,e);let p;if(function(i){return i&&Uo(i.canActivateChild)}(u))p=Hi(u.canActivateChild(t,i));else{if(!Uo(u))throw new Error("Invalid CanActivateChild guard");p=Hi(u(t,i))}return p.pipe(ea())})).pipe(Tl())));return _e(s).pipe(Tl())}(i,o.path,e),function(i,n,e){const t=n.routeConfig?n.routeConfig.canActivate:null;if(!t||0===t.length)return _e(!0);const o=t.map(s=>VC(()=>{const r=oh(s,n,e);let a;if(function(i){return i&&Uo(i.canActivate)}(r))a=Hi(r.canActivate(n,i));else{if(!Uo(r))throw new Error("Invalid CanActivate guard");a=Hi(r(n,i))}return a.pipe(ea())}));return _e(o).pipe(Tl())}(i,o.route,e))),ea(o=>!0!==o,!0))}(t,s,i,n):_e(a)),Ee(a=>qt(te({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),xn(a=>{if(Is(a.guardsResult)){const u=_g(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const l=new jR(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),_n(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Og(a=>{if(a.guards.canActivateChecks.length)return _e(a).pipe(xn(l=>{const u=new HR(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),jo(l=>{let u=!1;return _e(l).pipe(function(i,n){return At(e=>{const{targetSnapshot:t,guards:{canActivateChecks:o}}=e;if(!o.length)return _e(e);let s=0;return Gt(o).pipe(Jr(r=>function(i,n,e,t){return function(i,n,e,t){const o=Object.keys(i);if(0===o.length)return _e({});const s={};return Gt(o).pipe(At(r=>function(i,n,e,t){const o=oh(i,n,t);return Hi(o.resolve?o.resolve(n,e):o(n,e))}(i[r],n,e,t).pipe(xn(a=>{s[r]=a}))),gg(1),At(()=>Object.keys(s).length===o.length?_e(s):Qi))}(i._resolve,i,n,t).pipe(Ee(s=>(i._resolvedData=s,i.data=te(te({},i.data),cb(i,e).resolve),null)))}(r.route,t,i,n)),xn(()=>s++),gg(1),At(r=>s===o.length?_e(e):Qi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),xn({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),xn(l=>{const u=new UR(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),Og(a=>{const{targetSnapshot:l,id:u,extractedUrl:p,rawUrl:g,extras:{skipLocationChange:_,replaceUrl:v}}=a;return this.hooks.afterPreactivation(l,{navigationId:u,appliedUrlTree:p,rawUrlTree:g,skipLocationChange:!!_,replaceUrl:!!v})}),Ee(a=>{const l=function(i,n,e){const t=Ml(i,n._root,e?e._root:void 0);return new lb(t,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return qt(te({},a),{targetRouterState:l})}),xn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((i,n,e)=>Ee(t=>(new D6(n,t.targetRouterState,t.currentRouterState,e).activate(i),t)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),xn({next(){s=!0},complete(){s=!0}}),function(i){return Ct((n,e)=>{try{n.subscribe(e)}finally{e.add(i)}})}(()=>{var a;s||r||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null==(a=this.currentNavigation)?void 0:a.id)===o.id&&(this.currentNavigation=null)}),Ho(a=>{if(r=!0,function(i){return i&&i[WC]}(a)){const l=Is(a.url);l||(this.navigated=!0,this.restoreHistory(o,!0));const u=new HC(o.id,this.serializeUrl(o.extractedUrl),a.message);t.next(u),l?setTimeout(()=>{const p=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),g={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sh(o.source)};this.scheduleNavigation(p,"imperative",null,g,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const l=new LR(o.id,this.serializeUrl(o.extractedUrl),a);t.next(l);try{o.resolve(this.errorHandler(a))}catch(u){o.reject(u)}}return Qi}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(te(te({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t="popstate"===e.type?"popstate":"hashchange";"popstate"===t&&setTimeout(()=>{var a;const o={replaceUrl:!0},s=(null==(a=e.state)?void 0:a.navigationId)?e.state:null;if(s){const l=te({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const r=this.parseUrl(e.url);this.scheduleNavigation(r,t,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){yb(e),this.config=e.map(Eg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:o,queryParams:s,fragment:r,queryParamsHandling:a,preserveFragment:l}=t,u=o||this.routerState.root,p=l?this.currentUrlTree.fragment:r;let g=null;switch(a){case"merge":g=te(te({},this.currentUrlTree.queryParams),s);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}return null!==g&&(g=this.removeEmptyProps(g)),function(i,n,e,t,o){if(0===e.length)return kg(n.root,n.root,n,t,o);const s=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new fb(!0,0,i);let n=0,e=!1;const t=i.reduce((o,s,r)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Kt(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...o,{outlets:a}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===r?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,s]},[]);return new fb(e,n,t)}(e);if(s.toRoot())return kg(n.root,new Ae([],{}),n,t,o);const r=function(i,n,e){if(i.isAbsolute)return new Pg(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new Pg(s,s===n.root,0)}const t=Kc(i.commands[0])?0:1;return function(i,n,e){let t=i,o=n,s=e;for(;s>o;){if(s-=o,t=t.parent,!t)throw new Error("Invalid number of '../'");o=t.segments.length}return new Pg(t,!1,o-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+t,i.numberOfDoubleDots)}(s,n,i),a=r.processChildren?Qc(r.segmentGroup,r.index,s.commands):gb(r.segmentGroup,r.index,s.commands);return kg(r.segmentGroup,a,n,t,o)}(u,this.currentUrlTree,e,g,null!=p?p:null)}navigateByUrl(e,t={skipLocationChange:!1}){const o=Is(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const e=i[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(o){t=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return t}isActive(e,t){let o;if(o=!0===t?te({},SF):!1===t?te({},MF):t,Is(e))return QC(this.currentUrlTree,e,o);const s=this.parseUrl(e);return QC(this.currentUrlTree,s,o)}removeEmptyProps(e){return Object.keys(e).reduce((t,o)=>{const s=e[o];return null!=s&&(t[o]=s),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new kl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,t,o,s,r){var O,T,R;if(this.disposed)return Promise.resolve(!1);const a=this.transitions.value,l=sh(t)&&a&&!sh(a.source),u=a.rawUrl.toString()===e.toString(),p=a.id===(null==(O=this.currentNavigation)?void 0:O.id);if(l&&u&&p)return Promise.resolve(!0);let _,v,k;r?(_=r.resolve,v=r.reject,k=r.promise):k=new Promise((N,B)=>{_=N,v=B});const w=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),M=o&&o.\u0275routerPageId?o.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!=(T=this.browserPageId)?T:0:(null!=(R=this.browserPageId)?R:0)+1):M=0,this.setTransition({id:w,targetPageId:M,source:t,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:_,reject:v,promise:k,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),k.catch(N=>Promise.reject(N))}setBrowserUrl(e,t){const o=this.urlSerializer.serialize(e),s=te(te({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(o)||t.extras.replaceUrl?this.location.replaceState(o,"",s):this.location.go(o,"",s)}restoreHistory(e,t=!1){var o,s;if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(o=this.currentNavigation)?void 0:o.finalUrl)||0===r?this.currentUrlTree===(null==(s=this.currentNavigation)?void 0:s.finalUrl)&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const o=new HC(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:t}:{navigationId:e}}}return i.\u0275fac=function(e){sf()},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();function sh(i){return"imperative"!==i}class Fb{}class Nb{preload(n,e){return _e(null)}}let Bb=(()=>{class i{constructor(e,t,o,s){this.router=e,this.injector=o,this.preloadingStrategy=s,this.loader=new Ab(o,t,l=>e.triggerEvent(new UC(l)),l=>e.triggerEvent(new $C(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(_n(e=>e instanceof kl),Jr(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(ao);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const o=[];for(const s of t)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const r=s._loadedConfig;o.push(this.processRoutes(r.module,r.routes))}else s.loadChildren&&!s.canLoad?o.push(this.preloadConfig(e,s)):s.children&&o.push(this.processRoutes(e,s.children));return Gt(o).pipe(Ea(),Ee(s=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?_e(t._loadedConfig):this.loader.load(e.injector,t)).pipe(At(s=>(t._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(j(ct),j(Pc),j(Zt),j(Fb))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})(),Fg=(()=>{class i{constructor(e,t,o={}){this.router=e,this.viewportScroller=t,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof mg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof kl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof YC&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new YC(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){sf()},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();const As=new oe("ROUTER_CONFIGURATION"),Vb=new oe("ROUTER_FORROOT_GUARD"),IF=[qf,{provide:nb,useClass:ib},{provide:ct,useFactory:function(i,n,e,t,o,s,r={},a,l){const u=new ct(null,i,n,e,t,o,ZC(s));return a&&(u.urlHandlingStrategy=a),l&&(u.routeReuseStrategy=l),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(n.canceledNavigationResolution=i.canceledNavigationResolution)}(r,u),r.enableTracing&&u.events.subscribe(p=>{var g,_;null==(g=console.group)||g.call(console,`Router Event: ${p.constructor.name}`),console.log(p.toString()),console.log(p),null==(_=console.groupEnd)||_.call(console)}),u},deps:[nb,Ol,qf,Zt,Pc,Ig,As,[class{},new Ai],[class{},new Ai]]},Ol,{provide:go,useFactory:function(i){return i.routerState.root},deps:[ct]},Bb,Nb,class{preload(n,e){return e().pipe(Ho(()=>_e(null)))}},{provide:As,useValue:{enableTracing:!1}}];function AF(){return new Ry("Router",ct)}let Lb=(()=>{class i{constructor(e,t){}static forRoot(e,t){return{ngModule:i,providers:[IF,zb(e),{provide:Vb,useFactory:NF,deps:[[ct,new Ai,new yr]]},{provide:As,useValue:t||{}},{provide:Qr,useFactory:FF,deps:[Es,[new Wa(Wf),new Ai],As]},{provide:Fg,useFactory:RF,deps:[ct,G8,As]},{provide:Fb,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:Nb},{provide:Ry,multi:!0,useFactory:AF},[Ng,{provide:kc,multi:!0,useFactory:zF,deps:[Ng]},{provide:Gb,useFactory:GF,deps:[Ng]},{provide:My,multi:!0,useExisting:Gb}]]}}static forChild(e){return{ngModule:i,providers:[zb(e)]}}}return i.\u0275fac=function(e){return new(e||i)(j(Vb,8),j(ct,8))},i.\u0275mod=St({type:i}),i.\u0275inj=bt({}),i})();function RF(i,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new Fg(i,n,e)}function FF(i,n,e={}){return e.useHash?new wA(i,n):new nC(i,n)}function NF(i){return"guarded"}function zb(i){return[{provide:oM,multi:!0,useValue:i},{provide:Ig,multi:!0,useValue:i}]}let Ng=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ze}appInitializer(){return this.injector.get(yA,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const o=new Promise(a=>t=a),s=this.injector.get(ct),r=this.injector.get(As);return"disabled"===r.initialNavigation?(s.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?_e(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),s.initialNavigation()):t(!0),o})}bootstrapListener(e){const t=this.injector.get(As),o=this.injector.get(Bb),s=this.injector.get(Fg),r=this.injector.get(ct),a=this.injector.get(Xr);e===a.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&r.initialNavigation(),o.setUpPreloading(),s.init(),r.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(j(Zt))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();function zF(i){return i.appInitializer.bind(i)}function GF(i){return i.bootstrapListener.bind(i)}const Gb=new oe("Router Initializer");let De=(()=>{class i{constructor(e){this.route=e,this.country=0,this.countryCodes=[{index:0,fullName:"United State",code:"us"},{index:1,fullName:"Russia",code:"ru"}];const t=window.sessionStorage.getItem("lang")||null;this.countryCodes.forEach(o=>{o.code!==t||(this.country=o.index)})}getCountryByIndex(e){return this.countryCodes.find(t=>t.index===e)}location(){return{country:this.getCountryByIndex(this.country)}}translate(...e){return e[this.country]}}return i.\u0275fac=function(e){return new(e||i)(j(go))},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Fl=(()=>{class i{constructor(){}get(){return"ontouchstart"in window||navigator.maxTouchPoints>0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function jb(i,n,e,t,o,s,r){try{var a=i[s](r),l=a.value}catch(u){return void e(u)}a.done?n(l):Promise.resolve(l).then(t,o)}function I(i){return function(){var n=this,e=arguments;return new Promise(function(t,o){var s=i.apply(n,e);function r(l){jb(s,t,o,r,a,"next",l)}function a(l){jb(s,t,o,r,a,"throw",l)}r(void 0)})}}let ve=(()=>{class i{constructor(){}delay(e){return I(function*(){return new Promise(t=>{setTimeout(()=>{t()},e)})})()}loadImg(e){return I(function*(){return new Promise((t,o)=>{let s=new Image;s.onload=()=>t(s),s.onerror=r=>o(r),s.src=e})})()}readFile(e){return I(function*(){return new Promise((t,o)=>{var s=new FileReader;s.onload=()=>t(s.result),s.onerror=r=>o(r),s.readAsDataURL(e)})})()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const oa=function(i,n,e,t){return{width:i,height:n,"background-color":e,transform:t}},Ot=function(i,n,e){return{width:i,height:n,transform:e}},Nl=function(i,n){return{width:i,height:n}},Bl=function(i,n,e){return{width:i,height:n,transform:e}},HF=["*"];let Bg,Rs=(()=>{class i{constructor(e){this.asyncService=e,this.math=Math,this.animateClass=!1,this.shadow=!1,this.width=300,this.height=200,this.depth=400,this.inside="",this.package="../../assets/box/package/1.jpg",this.tape="../../assets/box/tape/1.jpg",this.animate=!1,this.packed=!1,this.wrapped=!1,this.tapped=!1,this.margin=1,this.widthTape=20,this.sides=["","","","","",""],this.color="#c3aa83",this.unbox=!0,this.bind1=!1,this.bind2=!1,this.wrapbind1=!1,this.wrapbind2=!1,this.wrapbind3=!1,this.tapebind1=!1,this.showPackage=!1,this.displayPackage="none",this.tapeshow=!1,this.tapedisplay="none",this.bowshow=!1,this.bowdisplay="none"}setInside(){var e=this;return I(function*(){if(""==e.inside)return void(e.sides=["","","","","",""]);if(!/^data:image\/png\;base64\,/g.test(e.inside))return;let t=0,o=0,s=yield e.asyncService.loadImg(e.inside);const r=document.createElement("canvas"),a=r.getContext("2d");t=e.height,o=e.depth,r.setAttribute("width",t+"px"),r.setAttribute("height",o+"px"),a.drawImage(s,0,e.height,t,o,0,0,t,o),e.sides[0]=r.toDataURL("image/png"),t=e.width,o=e.height,r.setAttribute("width",t+"px"),r.setAttribute("height",o+"px"),a.drawImage(s,e.height,0,t,o,0,0,t,o),e.sides[1]=r.toDataURL("image/png"),t=e.width,o=e.depth,r.setAttribute("width",t+"px"),r.setAttribute("height",o+"px"),a.drawImage(s,e.height,e.height,t,o,0,0,t,o),e.sides[2]=r.toDataURL("image/png"),t=e.width,o=e.height,r.setAttribute("width",t+"px"),r.setAttribute("height",o+"px"),a.drawImage(s,e.height,e.height+e.depth,t,o,0,0,t,o),e.sides[3]=r.toDataURL("image/png"),t=e.height,o=e.depth,r.setAttribute("width",t+"px"),r.setAttribute("height",o+"px"),a.drawImage(s,e.height+e.width,e.height,t,o,0,0,t,o),e.sides[4]=r.toDataURL("image/png"),t=e.width,o=e.depth,r.setAttribute("width",t+"px"),r.setAttribute("height",o+"px"),a.drawImage(s,e.height+e.width+e.height,e.height,t,o,0,0,t,o),e.sides[5]=r.toDataURL("image/png")})()}doPackedAnim(){var e=this;return I(function*(){return yield e.asyncService.delay(10),e.bind1=!0,yield e.asyncService.delay(300),e.bind1=!1,e.bind2=!0,yield e.asyncService.delay(300),e.unbox=!1,yield e.asyncService.delay(300),new Promise(t=>t())})()}doUnpackedAnim(){var e=this;return I(function*(){return yield e.asyncService.delay(10),e.unbox=!0,yield e.asyncService.delay(300),e.bind2=!1,yield e.asyncService.delay(300),new Promise(t=>t())})()}doPackedNoAnim(){this.bind1=!1,this.bind2=!0,this.unbox=!1}doUnpackedNoAnim(){this.bind1=!1,this.bind2=!1,this.unbox=!0}doWrappedAnim(){var e=this;return I(function*(){return e.displayPackage="flex",yield e.asyncService.delay(10),e.showPackage=!0,yield e.asyncService.delay(1e3),e.wrapbind1=!0,yield e.asyncService.delay(3e3),e.wrapbind2=!0,yield e.asyncService.delay(500),e.wrapbind3=!0,e.shadow=!0,yield e.asyncService.delay(500),new Promise(t=>t())})()}doUnwrappedAnim(){var e=this;return I(function*(){return yield e.asyncService.delay(10),e.wrapbind3=!1,e.shadow=!1,yield e.asyncService.delay(500),e.wrapbind2=!1,yield e.asyncService.delay(500),e.wrapbind1=!1,yield e.asyncService.delay(3e3),e.showPackage=!1,yield e.asyncService.delay(1e3),e.displayPackage="none",new Promise(t=>t())})()}doWrappedNoAnim(){this.displayPackage="flex",this.showPackage=!0,this.wrapbind1=!0,this.wrapbind2=!0,this.wrapbind3=!0,this.shadow=!0}doUnwrappedNoAnim(){this.displayPackage="none",this.showPackage=!1,this.wrapbind1=!1,this.wrapbind2=!1,this.wrapbind3=!1,this.shadow=!1}doTappedAnim(){var e=this;return I(function*(){return e.tapedisplay="flex",e.bowdisplay="flex",yield e.asyncService.delay(10),e.tapeshow=!0,yield e.asyncService.delay(2e3),e.tapebind1=!0,yield e.asyncService.delay(2e3),e.bowshow=!0,yield e.asyncService.delay(2e3),new Promise(t=>t())})()}doUntappedAnim(){var e=this;return I(function*(){return yield e.asyncService.delay(10),e.bowshow=!1,yield e.asyncService.delay(2e3),e.tapebind1=!1,yield e.asyncService.delay(2e3),e.tapeshow=!1,yield e.asyncService.delay(2e3),e.tapedisplay="none",e.bowdisplay="none",new Promise(t=>t())})()}doTappedNoAnim(){this.tapedisplay="flex",this.bowdisplay="flex",this.tapeshow=!0,this.tapebind1=!0,this.bowshow=!0}doUntappedNoAnim(){this.tapedisplay="none",this.bowdisplay="none",this.tapeshow=!1,this.tapebind1=!1,this.bowshow=!1}ngOnInit(){}ngOnChanges(e){e.animate&&e.animate.previousValue!=e.animate.currentValue&&(this.animateClass=this.animate),e.inside&&e.inside.previousValue!=e.inside.currentValue&&this.setInside(),e.packed&&e.packed.previousValue!=e.packed.currentValue&&(e.packed.currentValue?this.animate?this.doPackedAnim():this.doPackedNoAnim():this.animate?this.doUnpackedAnim():this.doUnpackedNoAnim()),e.wrapped&&e.wrapped.previousValue!=e.wrapped.currentValue&&(e.wrapped.currentValue?this.animate?this.doWrappedAnim():this.doWrappedNoAnim():this.animate?this.doUnwrappedAnim():this.doUnwrappedNoAnim()),e.tapped&&e.tapped.previousValue!=e.tapped.currentValue&&(e.tapped.currentValue?this.animate?this.doTappedAnim():this.doTappedNoAnim():this.animate?this.doUntappedAnim():this.doUntappedNoAnim())}}return i.\u0275fac=function(e){return new(e||i)(P(ve))},i.\u0275cmp=X({type:i,selectors:[["app-box"]],hostVars:4,hostBindings:function(e,t){2&e&&V("animate",t.animateClass)("shadow",t.shadow)},inputs:{width:["w","width"],height:["h","height"],depth:["d","depth"],inside:"inside",package:"package",tape:"tape",animate:"animate",packed:"packed",wrapped:"wrapped",tapped:"tapped"},features:[re],ngContentSelectors:HF,decls:136,vars:905,consts:[[1,"side","front"],[1,"wrap"],[1,"\u0441lip"],[1,"triangle","first"],[1,"fill"],[1,"darkness"],[1,"middle"],[1,"triangle","second"],[1,"side","back"],[1,"side","left"],[1,"side","right"],[1,"side","top"],[1,"side","bottom"],[1,"packageSide","bottom"],[1,"image"],[1,"packageSide","centerside"],[1,"packageSide","front1"],[1,"packageCorner"],[1,"packageTriangle"],[1,"packageFill"],[1,"packageSide","back"],[1,"packageSide","top"],[1,"packageSide","front2"],[1,"tape","bottom1"],[1,"tape","left"],[1,"tape","top11"],[1,"tape","right"]],template:function(e,t){1&e&&(xi(),h(0,"div",0),m(1,"div",1),h(2,"div",2),h(3,"div",3),h(4,"div",4),m(5,"div",5),d(),d(),m(6,"div",6),h(7,"div",7),h(8,"div",4),m(9,"div",5),d(),d(),d(),h(10,"div",2),h(11,"div",3),h(12,"div",4),m(13,"div",5),d(),d(),m(14,"div",6),h(15,"div",7),h(16,"div",4),m(17,"div",5),d(),d(),d(),d(),h(18,"div",8),m(19,"div",1),h(20,"div",2),h(21,"div",3),h(22,"div",4),m(23,"div",5),d(),d(),m(24,"div",6),h(25,"div",7),h(26,"div",4),m(27,"div",5),d(),d(),d(),h(28,"div",2),h(29,"div",3),h(30,"div",4),m(31,"div",5),d(),d(),m(32,"div",6),h(33,"div",7),h(34,"div",4),m(35,"div",5),d(),d(),d(),d(),h(36,"div",9),m(37,"div",1),m(38,"div",5),d(),h(39,"div",10),m(40,"div",1),m(41,"div",5),h(42,"div",11),m(43,"div",1),m(44,"div",5),h(45,"div",2),h(46,"div",3),h(47,"div",4),m(48,"div",5),d(),d(),m(49,"div",6),h(50,"div",7),h(51,"div",4),m(52,"div",5),d(),d(),d(),d(),d(),h(53,"div",12),m(54,"div",1),m(55,"div",5),Jn(56),d(),h(57,"div",13),m(58,"div",14),h(59,"div",15),m(60,"div",14),d(),h(61,"div",15),m(62,"div",14),d(),d(),h(63,"div",16),m(64,"div",14),h(65,"div",17),h(66,"div",18),h(67,"div",19),m(68,"div",14),d(),d(),h(69,"div",18),h(70,"div",19),m(71,"div",14),d(),d(),d(),h(72,"div",17),h(73,"div",18),h(74,"div",19),m(75,"div",14),d(),d(),h(76,"div",18),h(77,"div",19),m(78,"div",14),d(),d(),d(),d(),h(79,"div",20),m(80,"div",14),h(81,"div",17),h(82,"div",18),h(83,"div",19),m(84,"div",14),d(),d(),h(85,"div",18),h(86,"div",19),m(87,"div",14),d(),d(),d(),h(88,"div",17),h(89,"div",18),h(90,"div",19),m(91,"div",14),d(),d(),h(92,"div",18),h(93,"div",19),m(94,"div",14),d(),d(),d(),h(95,"div",17),h(96,"div",18),h(97,"div",19),m(98,"div",14),d(),d(),h(99,"div",18),h(100,"div",19),m(101,"div",14),d(),d(),d(),h(102,"div",17),h(103,"div",18),h(104,"div",19),m(105,"div",14),d(),d(),h(106,"div",18),h(107,"div",19),m(108,"div",14),d(),d(),d(),h(109,"div",21),m(110,"div",14),h(111,"div",15),m(112,"div",14),d(),h(113,"div",15),m(114,"div",14),d(),h(115,"div",22),m(116,"div",14),h(117,"div",17),h(118,"div",18),h(119,"div",19),m(120,"div",14),d(),d(),h(121,"div",18),h(122,"div",19),m(123,"div",14),d(),d(),d(),h(124,"div",17),h(125,"div",18),h(126,"div",19),m(127,"div",14),d(),d(),h(128,"div",18),h(129,"div",19),m(130,"div",14),d(),d(),d(),d(),d(),d(),h(131,"div",23),h(132,"div",24),m(133,"div",25),d(),h(134,"div",26),m(135,"div",25),d(),d()),2&e&&(fe(Ms(760,oa,t.width+"px",t.height+"px",t.color,"translateZ("+t.depth/2+"px) rotateX("+(t.unbox?-90:0)+"deg)")),c(1),b("width",t.width+"px")("height",t.height+"px")("transform","translateZ(-1px) rotateX(180deg) rotateZ(0deg)")("background-image","url("+t.sides[3]+")"),c(1),fe(nt(765,Ot,.4*t.height/5+"px",.4*t.height+"px","translateX("+(t.width/2+.4*t.height/5/2)+"px) rotateY("+(t.bind2||!t.unbox?90:0)+"deg)")),c(1),fe(nt(769,Ot,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(-.4*t.height/2+.4*t.height/5/2)+"px) rotateX("+(t.bind1?90:0)+"deg)")),c(1),fe(nt(773,Ot,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*.25+"px) rotateZ(45deg)")),c(1),b("background-color","#00000022"),c(1),fe(Yr(777,Nl,.4*t.height/5+"px",.4*t.height-.8*t.height/5+"px")),c(1),fe(nt(780,Ot,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(.4*t.height/2-.4*t.height/5/2)+"px) rotateX("+(t.bind1?-90:0)+"deg)")),c(1),fe(nt(784,Bl,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*-.25+"px) rotateZ(-45deg)")),c(1),b("background-color","#00000022"),c(1),fe(nt(788,Ot,.4*t.height/5+"px",.4*t.height+"px","translateX("+(-t.width/2+.4*t.height/5/2)+"px) rotateZ(180deg) rotateY("+(t.bind2||!t.unbox?90:0)+"deg)")),c(1),fe(nt(792,Ot,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(-.4*t.height/2+.4*t.height/5/2)+"px) rotateX("+(t.bind1?90:0)+"deg)")),c(1),fe(nt(796,Ot,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*.25+"px) rotateZ(45deg)")),c(1),b("background-color","#00000022"),c(1),fe(Yr(800,Nl,.4*t.height/5+"px",.4*t.height-.8*t.height/5+"px")),c(1),fe(nt(803,Ot,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(.4*t.height/2-.4*t.height/5/2)+"px) rotateX("+(t.bind1?-90:0)+"deg)")),c(1),fe(nt(807,Bl,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*-.25+"px) rotateZ(-45deg)")),c(1),b("background-color","#00000022"),c(1),fe(Ms(811,oa,t.width+"px",t.height+"px",t.color,"translateZ("+-t.depth/2+"px) rotateY(180deg) rotateX("+(t.unbox?-90:0)+"deg)")),c(1),b("width",t.width+"px")("height",t.height+"px")("transform","translateZ(-1px) rotateX(180deg) rotateZ(180deg)")("background-image","url("+t.sides[1]+")"),c(1),fe(nt(816,Ot,.4*t.height/5+"px",.4*t.height+"px","translateX("+(t.width/2+.4*t.height/5/2)+"px) rotateY("+(t.bind2||!t.unbox?90:0)+"deg)")),c(1),fe(nt(820,Ot,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(-.4*t.height/2+.4*t.height/5/2)+"px) rotateX("+(t.bind1?90:0)+"deg)")),c(1),fe(nt(824,Ot,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*.25+"px) rotateZ(45deg)")),c(1),b("background-color","#00000022"),c(1),fe(Yr(828,Nl,.4*t.height/5+"px",.4*t.height-.8*t.height/5+"px")),c(1),fe(nt(831,Ot,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(.4*t.height/2-.4*t.height/5/2)+"px) rotateX("+(t.bind1?-90:0)+"deg)")),c(1),fe(nt(835,Bl,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*-.25+"px) rotateZ(-45deg)")),c(1),b("background-color","#00000022"),c(1),fe(nt(839,Ot,.4*t.height/5+"px",.4*t.height+"px","translateX("+(-t.width/2+.4*t.height/5/2)+"px) rotateZ(180deg) rotateY("+(t.bind2||!t.unbox?90:0)+"deg)")),c(1),fe(nt(843,Ot,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(-.4*t.height/2+.4*t.height/5/2)+"px) rotateX("+(t.bind1?90:0)+"deg)")),c(1),fe(nt(847,Ot,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*.25+"px) rotateZ(45deg)")),c(1),b("background-color","#00000022"),c(1),fe(Yr(851,Nl,.4*t.height/5+"px",.4*t.height-.8*t.height/5+"px")),c(1),fe(nt(854,Ot,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(.4*t.height/2-.4*t.height/5/2)+"px) rotateX("+(t.bind1?-90:0)+"deg)")),c(1),fe(nt(858,Bl,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*-.25+"px) rotateZ(-45deg)")),c(1),b("background-color","#00000022"),c(1),fe(Ms(862,oa,t.depth+"px",t.height+"px",t.color,"translateX("+-t.width/2+"px) rotateY(-90deg) rotateX("+(t.unbox?-90:0)+"deg)")),c(1),b("width",t.height+"px")("height",t.depth+"px")("transform","translateZ(-1px) rotateY(180deg) rotateZ(90deg)")("background-image","url("+t.sides[0]+")"),c(1),b("background-color","#00000011"),c(1),fe(Ms(867,oa,t.depth+"px",t.height+"px",t.color,"translateX("+t.width/2+"px) rotateY(90deg) rotateX("+(t.unbox?-90:0)+"deg)")),c(1),b("width",t.height+"px")("height",t.depth+"px")("transform","translateZ(-1px) rotateX(180deg) rotateZ(90deg)")("background-image","url("+t.sides[4]+")"),c(1),b("background-color","#00000011"),c(1),fe(Ms(872,oa,t.width+"px",t.depth+"px",t.color,"translateX("+t.width/2+"px) translateY("+-t.height/2+"px) rotateX("+(t.unbox?0:90)+"deg) rotateZ(-90deg)")),c(1),b("width",t.width+"px")("height",t.depth+"px")("transform","translateZ(-1px) rotateX(180deg) rotateZ(0deg)")("background-image","url("+t.sides[5]+")"),c(1),b("background-color","#00000022"),c(1),fe(nt(877,Ot,.4*t.depth/5+"px",.4*t.depth+"px","translateX("+(t.width/2+.4*t.depth/5/2-1)+"px) rotateY("+(t.bind2||!t.unbox?90:0)+"deg)")),c(1),fe(nt(881,Ot,.4*t.depth/5+"px",.4*t.depth/5+"px","translateY("+(-.4*t.depth/2+.4*t.depth/5/2)+"px) rotateX("+(t.bind1?90:0)+"deg)")),c(1),fe(nt(885,Ot,.4*t.depth/5*t.math.pow(2,.5)+"px",.4*t.depth/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.depth/5*-.25+"px) translateY("+.4*t.depth/5*.25+"px) rotateZ(45deg)")),c(1),b("background-color","#00000022"),c(1),fe(Yr(889,Nl,.4*t.depth/5+"px",.4*t.depth-.8*t.depth/5+"px")),c(1),fe(nt(892,Ot,.4*t.depth/5+"px",.4*t.depth/5+"px","translateY("+(.4*t.depth/2-.4*t.depth/5/2)+"px) rotateX("+(t.bind1?-90:0)+"deg)")),c(1),fe(nt(896,Bl,.4*t.depth/5*t.math.pow(2,.5)+"px",.4*t.depth/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.depth/5*-.25+"px) translateY("+.4*t.depth/5*-.25+"px) rotateZ(-45deg)")),c(1),b("background-color","#00000022"),c(1),fe(Ms(900,oa,t.width+"px",t.depth+"px",t.color,"translateY("+t.height/2+"px) rotateX(-90deg)")),c(1),b("width",t.width+"px")("height",t.depth+"px")("transform","translateZ(-1px) rotateX(180deg) rotateZ(0deg)")("background-image","url("+t.sides[2]+")"),c(1),b("background-color","#00000022"),c(2),b("width",t.width+2*t.margin+"px")("height",t.depth+2*t.margin+"px")("transform","translateY("+(t.showPackage?t.height/2+t.margin+"px":"150vh")+") rotateX(90deg)")("display",t.displayPackage),c(1),b("transform","translateZ(-0.1px)")("background-image","url("+t.package+")")("background-position","left 0px bottom "+-(t.height/2+2*t.margin)%50+"px"),c(1),b("transform-origin","center bottom")("width",t.depth+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+(t.width+2*t.margin)/2+"px) translateY("+-(t.height/2+2*t.margin)/2+"px) rotateZ(90deg) rotateX("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),b("transform","translateZ(-0.1px) rotateZ(180deg)")("background-image","url("+t.package+")")("background-position","left "+(-(t.height/2+2*t.margin)%50-9)+"px top "+-(t.width+2*t.margin)%50+"px"),c(1),b("transform-origin","center bottom")("width",t.depth+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+-(t.width+2*t.margin)/2+"px) translateY("+-(t.height/2+2*t.margin)/2+"px) rotateZ(90deg) rotateX("+(t.wrapbind2?"-90":"-180")+"deg)"),c(1),b("transform","translateZ(0.1px) rotateZ(180deg) rotateX(180deg)")("background-image","url("+t.package+")")("background-position","left "+(-(t.height/2+2*t.margin)%50-10)+"px top "+(t.height/2+2*t.margin)%50+"px"),c(1),b("transform-origin","center bottom")("width",t.width+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateY("+(t.showPackage?t.height/2-(t.height/2+2*t.margin)/2+t.margin+"px":"147vh")+") translateZ("+(t.depth/2+t.margin)+"px) rotateX("+(t.wrapbind1?"0":"-90")+"deg)")("display",t.displayPackage),c(1),b("transform","translateZ(0.1px) rotateY(180deg) rotateZ(180deg)")("background-image","url("+t.package+")")("background-position","left 0px bottom 0px"),c(1),b("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+((t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2+.1)+"px) rotateY("+(t.wrapbind3?"90":"0")+"deg)"),c(1),b("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right 1px top 2px"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","left 2px bottom 2px"),c(1),b("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+(-(t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2-.1)+"px) rotateY("+(t.wrapbind3?"-90":"0")+"deg) rotateZ(180deg) rotateX(180deg)"),c(1),b("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right 12px top 2px"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","left 2px bottom -11px"),c(1),b("transform-origin","center bottom")("width",t.width+2*t.margin+"px")("height",t.height+2*t.margin+"px")("transform","translateY("+(t.showPackage?t.height/2-(t.height+2*t.margin)/2+t.margin+"px":"145vh")+") translateZ("+(-t.depth/2-t.margin)+"px) rotateX("+(t.wrapbind1?"0":"90")+"deg)")("display",t.displayPackage),c(1),b("transform","translateZ(-0.1px)")("background-image","url("+t.package+")")("background-position","left 0px bottom "+-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+"px"),c(1),b("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+(-(t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2-.5)+"px) translateY("+((t.height/2+2*t.margin)/2-(t.height/2+2*t.margin))+"px) rotateY("+(t.wrapbind3?"90":"0")+"deg) rotateX(0deg) rotateZ(180deg)"),c(1),b("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),b("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+((t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2+.1)+"px) translateY("+(t.height/2+2*t.margin-(t.height/2+2*t.margin)/2)+"px) rotateY("+(t.wrapbind3?"-90":"0")+"deg)"),c(1),b("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),b("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+((t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2+.5)+"px) translateY("+((t.height/2+2*t.margin)/2-(t.height/2+2*t.margin))+"px) rotateY("+(t.wrapbind3?"-90":"0")+"deg) rotateX(180deg)"),c(1),b("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),b("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+(-(t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2-.1)+"px) translateY("+(t.height/2+2*t.margin-(t.height/2+2*t.margin)/2)+"px) rotateY("+(t.wrapbind3?"90":"0")+"deg) rotateX(180deg) rotateZ(180deg)"),c(1),b("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","left "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top -11px"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px bottom -11px"),c(1),b("transform-origin","center bottom")("width",t.width+2*t.margin+"px")("height",t.depth+2*t.margin+"px")("transform","translateY("+(-(t.height+2*t.margin)/2-(t.depth+2*t.margin)/2)+"px) rotateX("+(t.wrapbind1?"-90":"0")+"deg)"),c(1),b("transform","translateZ(-0.1px)")("background-image","url("+t.package+")")("background-position","left 0px bottom "+-(t.height/2+2*t.margin+t.depth+2*t.margin+t.height+2*t.margin)%50+"px"),c(1),b("transform-origin","center bottom")("width",t.depth+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+(t.width+2*t.margin)/2+"px) translateY("+-(t.height/2+2*t.margin)/2+"px) rotateZ(90deg) rotateX("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),b("transform","translateZ(-0.1px) rotateZ(180deg)")("background-image","url("+t.package+")")("background-position","left "+(-(t.height/2+2*t.margin+t.depth+2*t.margin+t.height+2*t.margin)%50-11)+"px top "+-(t.width+2*t.margin)%50+"px"),c(1),b("transform-origin","center bottom")("width",t.depth+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+-(t.width+2*t.margin)/2+"px) translateY("+-(t.height/2+2*t.margin)/2+"px) rotateZ(90deg) rotateX("+(t.wrapbind2?"-90":"-180")+"deg)"),c(1),b("transform","translateZ(0.1px) rotateZ(180deg) rotateX(180deg)")("background-image","url("+t.package+")")("background-position","left "+(-(t.height/2+2*t.margin+t.depth+2*t.margin+t.height+2*t.margin)%50-10)+"px top "+(t.height/2+2*t.margin)%50+"px"),c(1),b("transform-origin","center bottom")("width",t.width+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateY("+(-(t.depth+2*t.margin)/2-(t.height/2+2*t.margin)/2)+"px) rotateX("+(t.wrapbind1?"-90":"0")+"deg)"),c(1),b("transform","translateZ(-0.1px)")("background-image","url("+t.package+")")("background-position","left 0px bottom "+-(t.height/2+2*t.margin+t.depth+2*t.margin+t.height+2*t.margin+t.depth+2*t.margin)%50+"px"),c(1),b("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+(-(t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2-.1)+"px) rotateY("+(t.wrapbind3?"90":"0")+"deg) rotateX(180deg) rotateZ(180deg)"),c(1),b("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),b("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+((t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2+.1)+"px) rotateY("+(t.wrapbind3?"-90":"0")+"deg)"),c(1),b("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),b("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),b("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),b("width",t.width+4*t.margin+"px")("height",t.widthTape+"px")("transform","translateY("+(t.tapeshow?t.height/2+2*t.margin+"px":"150vh")+") rotateX(90deg)")("background-image","url("+t.tape+")")("display",t.tapedisplay),c(1),b("transform-origin","right center")("width",t.height+4*t.margin+"px")("height",t.widthTape+"px")("transform","translateX("+-(t.width/2+2*t.margin+t.height/2+2*t.margin)+"px) rotateY("+(t.tapebind1?"90":"0")+"deg)")("background-image","url("+t.tape+")"),c(1),b("transform-origin","right center")("width",t.width/2+3*t.margin+"px")("height",t.widthTape+"px")("transform","translateX("+(-(t.height+4*t.margin)/2-(t.width/2+3*t.margin)/2)+"px) rotateY("+(t.tapebind1?"90":"0")+"deg)")("background-image","url("+t.tape+")"),c(1),b("transform-origin","left center")("width",t.height+4*t.margin+"px")("height",t.widthTape+"px")("transform","translateX("+(t.width/2+2*t.margin+t.height/2+2*t.margin)+"px) rotateY("+(t.tapebind1?"-90":"0")+"deg)")("background-image","url("+t.tape+")"),c(1),b("transform-origin","left center")("width",t.width/2+3*t.margin+"px")("height",t.widthTape+"px")("transform","translateX("+((t.height+4*t.margin)/2+(t.width/2+3*t.margin)/2)+"px) rotateY("+(t.tapebind1?"-90":"0")+"deg)")("background-image","url("+t.tape+")"))},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]{position:absolute;transform-origin:left center;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]{position:absolute;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;background-color:#c3aa83}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]   .triangle.first[_ngcontent-%COMP%]{transform-origin:center bottom}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]   .triangle.second[_ngcontent-%COMP%]{transform-origin:center top}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{background-color:#c3aa83}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip.first[_ngcontent-%COMP%]{transform:translate(550%) rotateY(0)}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .darkness[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{position:absolute;background-position:center;background-repeat:no-repeat;background-size:contain}[_nghost-%COMP%]   .side.front[_ngcontent-%COMP%], [_nghost-%COMP%]   .side.back[_ngcontent-%COMP%], [_nghost-%COMP%]   .side.left[_ngcontent-%COMP%], [_nghost-%COMP%]   .side.right[_ngcontent-%COMP%]{transform-origin:center bottom}[_nghost-%COMP%]   .side.top[_ngcontent-%COMP%]{transform-origin:left center}[_nghost-%COMP%]   .packageSide[_ngcontent-%COMP%], [_nghost-%COMP%]   .packageCorner[_ngcontent-%COMP%], [_nghost-%COMP%]   .packageTriangle[_ngcontent-%COMP%], [_nghost-%COMP%]   .packageFill[_ngcontent-%COMP%]{position:absolute;transform-style:preserve-3d;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .packageCorner[_ngcontent-%COMP%], [_nghost-%COMP%]   .packageTriangle[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-size:50px}[_nghost-%COMP%]   .packageFill[_ngcontent-%COMP%]{flex-shrink:0;box-shadow:0 0 3px #3330;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%]   .packageFill[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{flex-shrink:0}[_nghost-%COMP%]   .tape[_ngcontent-%COMP%], [_nghost-%COMP%]   .bow[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;background-size:20px;transform-style:preserve-3d}@keyframes rotateBox{0%{transform:translateY(300px) rotateX(-15deg) rotateY(0)}to{transform:translateY(300px) rotateX(-15deg) rotateY(360deg)}}.animate[_nghost-%COMP%]{transition:transform ease .3s}.animate[_nghost-%COMP%]   .side[_ngcontent-%COMP%]{transition:transform ease .3s}.animate[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]{transition:transform ease .3s}.animate[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]{transition:transform ease .3s}.animate[_nghost-%COMP%]   .packageSide[_ngcontent-%COMP%]{transition:transform ease 1s}.animate[_nghost-%COMP%]   .packageCorner[_ngcontent-%COMP%], .animate[_nghost-%COMP%]   .packageSide.centerside[_ngcontent-%COMP%], .animate[_nghost-%COMP%]   .packageTriangle[_ngcontent-%COMP%]{transition:transform ease .5s}.animate[_nghost-%COMP%]   .packageSide.front2[_ngcontent-%COMP%]{transition:transform ease 3s}.animate[_nghost-%COMP%]   .packageFill[_ngcontent-%COMP%]{transition:all ease .5s}.animate[_nghost-%COMP%]   .tape[_ngcontent-%COMP%], .animate[_nghost-%COMP%]   .bow[_ngcontent-%COMP%]{transition:transform ease 2s}.shadow[_nghost-%COMP%]   .packageFill[_ngcontent-%COMP%]{box-shadow:0 0 3px #333}']}),i})(),UF=(()=>{class i{constructor(){}get(e){let t,o,s,r,a=e;return a.match(/^rgb/)?(a=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),t=a[1],o=a[2],s=a[3]):(a=+("0x"+a.slice(1).replace(a.length<5&&/./g,"$&$&")),t=a>>16,o=a>>8&255,s=255&a),r=Math.sqrt(.299*t**2+.587*o**2+.114*s**2),r>127.5?"light":"dark"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();try{Bg="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){Bg=!1}let Vl,Vg,sa=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(i){return i===yC}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Bg)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(j(vl))},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Fs(i){return function(){if(null==Vl&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Vl=!0}))}finally{Vl=Vl||!1}return Vl}()?i:!!i.capture}function Lg(i){if(function(){if(null==Vg){const i="undefined"!=typeof document?document.head:null;Vg=!(!i||!i.createShadowRoot&&!i.attachShadow)}return Vg}()){const n=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function mo(i){return i.composedPath?i.composedPath()[0]:i.target}function Ll(i){return Ct((n,e)=>{En(i).subscribe(new pt(e,()=>e.complete(),Da)),!e.closed&&n.subscribe(e)})}function _o(i){return null!=i&&"false"!=`${i}`}function $o(i,n=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):n}function Lt(i){return i instanceof q?i.nativeElement:i}function zg(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function Gg(i){const n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const qb="cdk-high-contrast-black-on-white",Zb="cdk-high-contrast-white-on-black",jg="cdk-high-contrast-active";let S9=(()=>{class i{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,o=t&&t.getComputedStyle?t.getComputedStyle(e):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(jg),e.remove(qb),e.remove(Zb),this._hasCheckedHighContrastMode=!0;const t=this.getHighContrastMode();1===t?(e.add(jg),e.add(qb)):2===t&&(e.add(jg),e.add(Zb))}}}return i.\u0275fac=function(e){return new(e||i)(j(sa),j(at))},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const M9=new oe("cdk-dir-doc",{providedIn:"root",factory:function(){return g4(at)}}),E9=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Hg=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new L,e){const o=e.documentElement?e.documentElement.dir:null;this.value=function(i){const n=(null==i?void 0:i.toLowerCase())||"";return"auto"===n&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?E9.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(j(M9,8))},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Xb=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=St({type:i}),i.\u0275inj=bt({}),i})();class Qb{}const vo="*";function he(i,n){return{type:7,name:i,definitions:n,options:{}}}function $(i,n=null){return{type:4,styles:n,timings:i}}function Ug(i,n=null){return{type:3,steps:i,options:n}}function Jb(i,n=null){return{type:2,steps:i,options:n}}function F(i){return{type:6,styles:i,offset:null}}function Yo(i,n,e){return{type:0,name:i,styles:n,options:e}}function K(i,n,e=null){return{type:1,expr:i,animation:n,options:e}}function kn(i,n,e=null){return{type:11,selector:i,animation:n,options:e}}function ew(i){Promise.resolve(null).then(i)}class la{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ew(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class tw{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,t=0,o=0;const s=this.players.length;0==s?ew(()=>this._onFinish()):this.players.forEach(r=>{r.onDone(()=>{++e==s&&this._onFinish()}),r.onDestroy(()=>{++t==s&&this._onDestroy()}),r.onStart(()=>{++o==s&&this._onStart()})}),this.totalTime=this.players.reduce((r,a)=>Math.max(r,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(t=>{const o=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(o)})}getPosition(){const n=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function nw(){return"undefined"!=typeof window&&void 0!==window.document}function Yg(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Wo(i){switch(i.length){case 0:return new la;case 1:return i[0];default:return new tw(i)}}function iw(i,n,e,t,o={},s={}){const r=[],a=[];let l=-1,u=null;if(t.forEach(p=>{const g=p.offset,_=g==l,v=_&&u||{};Object.keys(p).forEach(k=>{let w=k,M=p[k];if("offset"!==k)switch(w=n.normalizePropertyName(w,r),M){case"!":M=o[k];break;case vo:M=s[k];break;default:M=n.normalizeStyleValue(k,w,M,r)}v[w]=M}),_||a.push(v),u=v,l=g}),r.length){const p="\n - ";throw new Error(`Unable to animate due to the following errors:${p}${r.join(p)}`)}return a}function Wg(i,n,e,t){switch(n){case"start":i.onStart(()=>t(e&&qg(e,"start",i)));break;case"done":i.onDone(()=>t(e&&qg(e,"done",i)));break;case"destroy":i.onDestroy(()=>t(e&&qg(e,"destroy",i)))}}function qg(i,n,e){const t=e.totalTime,s=Zg(i.element,i.triggerName,i.fromState,i.toState,n||i.phaseName,null==t?i.totalTime:t,!!e.disabled),r=i._data;return null!=r&&(s._data=r),s}function Zg(i,n,e,t,o="",s=0,r){return{element:i,triggerName:n,fromState:e,toState:t,phaseName:o,totalTime:s,disabled:!!r}}function Ln(i,n,e){let t;return i instanceof Map?(t=i.get(n),t||i.set(n,t=e)):(t=i[n],t||(t=i[n]=e)),t}function ow(i){const n=i.indexOf(":");return[i.substring(1,n),i.substr(n+1)]}let Xg=(i,n)=>!1,Kg=(i,n)=>!1,sw=(i,n,e)=>[];const rw=Yg();(rw||"undefined"!=typeof Element)&&(Xg=nw()?(i,n)=>{for(;n&&n!==document.documentElement;){if(n===i)return!0;n=n.parentNode||n.host}return!1}:(i,n)=>i.contains(n),Kg=(()=>{if(rw||Element.prototype.matches)return(i,n)=>i.matches(n);{const i=Element.prototype,n=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return n?(e,t)=>n.apply(e,[t]):Kg}})(),sw=(i,n,e)=>{let t=[];if(e){const o=i.querySelectorAll(n);for(let s=0;s<o.length;s++)t.push(o[s])}else{const o=i.querySelector(n);o&&t.push(o)}return t});let Bs=null,aw=!1;function Qg(i){Bs||(Bs=("undefined"!=typeof document?document.body:null)||{},aw=!!Bs.style&&"WebkitAppearance"in Bs.style);let n=!0;return Bs.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(n=i in Bs.style,!n&&aw&&(n="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in Bs.style)),n}const Jg=Kg,e0=Xg,t0=sw;function lw(i){const n={};return Object.keys(i).forEach(e=>{const t=e.replace(/([a-z])([A-Z])/g,"$1-$2");n[t]=i[e]}),n}let uw=(()=>{class i{validateStyleProperty(e){return Qg(e)}matchesElement(e,t){return Jg(e,t)}containsElement(e,t){return e0(e,t)}query(e,t,o){return t0(e,t,o)}computeStyle(e,t,o){return o||""}animate(e,t,o,s,r,a=[],l){return new la(o,s)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})(),n0=(()=>{class i{}return i.NOOP=new uw,i})();const o0="ng-enter",lh="ng-leave",uh="ng-trigger",ch=".ng-trigger",hw="ng-animating",s0=".ng-animating";function Vs(i){if("number"==typeof i)return i;const n=i.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:r0(parseFloat(n[1]),n[2])}function r0(i,n){return"s"===n?1e3*i:i}function hh(i,n,e){return i.hasOwnProperty("duration")?i:function(i,n,e){let o,s=0,r="";if("string"==typeof i){const a=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};o=r0(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=r0(parseFloat(l),a[4]));const u=a[5];u&&(r=u)}else o=i;if(!e){let a=!1,l=n.length;o<0&&(n.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(n.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&n.splice(l,0,`The provided timing value "${i}" is invalid.`)}return{duration:o,delay:s,easing:r}}(i,n,e)}function ua(i,n={}){return Object.keys(i).forEach(e=>{n[e]=i[e]}),n}function qo(i,n,e={}){if(n)for(let t in i)e[t]=i[t];else ua(i,e);return e}function pw(i,n,e){return e?n+":"+e+";":""}function fw(i){let n="";for(let e=0;e<i.style.length;e++){const t=i.style.item(e);n+=pw(0,t,i.style.getPropertyValue(t))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=pw(0,L9(e),i.style[e]));i.setAttribute("style",n)}function Ui(i,n,e){i.style&&(Object.keys(n).forEach(t=>{const o=l0(t);e&&!e.hasOwnProperty(t)&&(e[t]=i.style[o]),i.style[o]=n[t]}),Yg()&&fw(i))}function Ls(i,n){i.style&&(Object.keys(n).forEach(e=>{const t=l0(e);i.style[t]=""}),Yg()&&fw(i))}function zl(i){return Array.isArray(i)?1==i.length?i[0]:Jb(i):i}const a0=new RegExp("{{\\s*(.+?)\\s*}}","g");function gw(i){let n=[];if("string"==typeof i){let e;for(;e=a0.exec(i);)n.push(e[1]);a0.lastIndex=0}return n}function dh(i,n,e){const t=i.toString(),o=t.replace(a0,(s,r)=>{let a=n[r];return n.hasOwnProperty(r)||(e.push(`Please provide a value for the animation param ${r}`),a=""),a.toString()});return o==t?i:o}function ph(i){const n=[];let e=i.next();for(;!e.done;)n.push(e.value),e=i.next();return n}const V9=/-+([a-z0-9])/g;function l0(i){return i.replace(V9,(...n)=>n[1].toUpperCase())}function L9(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function mw(i,n){return 0===i||0===n}function _w(i,n,e){const t=Object.keys(e);if(t.length&&n.length){let s=n[0],r=[];if(t.forEach(a=>{s.hasOwnProperty(a)||r.push(a),s[a]=e[a]}),r.length)for(var o=1;o<n.length;o++){let a=n[o];r.forEach(function(l){a[l]=u0(i,l)})}}return n}function zn(i,n,e){switch(n.type){case 7:return i.visitTrigger(n,e);case 0:return i.visitState(n,e);case 1:return i.visitTransition(n,e);case 2:return i.visitSequence(n,e);case 3:return i.visitGroup(n,e);case 4:return i.visitAnimate(n,e);case 5:return i.visitKeyframes(n,e);case 6:return i.visitStyle(n,e);case 8:return i.visitReference(n,e);case 9:return i.visitAnimateChild(n,e);case 10:return i.visitAnimateRef(n,e);case 11:return i.visitQuery(n,e);case 12:return i.visitStagger(n,e);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function u0(i,n){return window.getComputedStyle(i)[n]}function z9(i,n){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(t=>function(i,n,e){if(":"==i[0]){const l=function(i,n){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return n.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,e);if("function"==typeof l)return void n.push(l);i=l}const t=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==t||t.length<4)return e.push(`The provided transition expression "${i}" is not supported`),n;const o=t[1],s=t[2],r=t[3];n.push(vw(o,r));"<"==s[0]&&!("*"==o&&"*"==r)&&n.push(vw(r,o))}(t,e,n)):e.push(i),e}const gh=new Set(["true","1"]),mh=new Set(["false","0"]);function vw(i,n){const e=gh.has(i)||mh.has(i),t=gh.has(n)||mh.has(n);return(o,s)=>{let r="*"==i||i==o,a="*"==n||n==s;return!r&&e&&"boolean"==typeof o&&(r=o?gh.has(i):mh.has(i)),!a&&t&&"boolean"==typeof s&&(a=s?gh.has(n):mh.has(n)),r&&a}}const H9=new RegExp("s*:selfs*,?","g");function c0(i,n,e){return new U9(i).build(n,e)}class U9{constructor(n){this._driver=n}build(n,e){const t=new W9(e);return this._resetContextStyleTimingState(t),zn(this,zl(n),t)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,e){let t=e.queryCount=0,o=e.depCount=0;const s=[],r=[];return"@"==n.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(p=>{l.name=p,s.push(this.visitState(l,e))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,e);t+=l.queryCount,o+=l.depCount,r.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:s,transitions:r,queryCount:t,depCount:o,options:null}}visitState(n,e){const t=this.visitStyle(n.styles,e),o=n.options&&n.options.params||null;if(t.containsDynamicStyles){const s=new Set,r=o||{};if(t.styles.forEach(a=>{if(_h(a)){const l=a;Object.keys(l).forEach(u=>{gw(l[u]).forEach(p=>{r.hasOwnProperty(p)||s.add(p)})})}}),s.size){const a=ph(s.values());e.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:n.name,style:t,options:o?{params:o}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const t=zn(this,zl(n.animation),e);return{type:1,matchers:z9(n.expr,e.errors),animation:t,queryCount:e.queryCount,depCount:e.depCount,options:zs(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(t=>zn(this,t,e)),options:zs(n.options)}}visitGroup(n,e){const t=e.currentTime;let o=0;const s=n.steps.map(r=>{e.currentTime=t;const a=zn(this,r,e);return o=Math.max(o,e.currentTime),a});return e.currentTime=o,{type:3,steps:s,options:zs(n.options)}}visitAnimate(n,e){const t=function(i,n){let e=null;if(i.hasOwnProperty("duration"))e=i;else if("number"==typeof i)return h0(hh(i,n).duration,0,"");const t=i;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=h0(0,0,"");return s.dynamic=!0,s.strValue=t,s}return e=e||hh(t,n),h0(e.duration,e.delay,e.easing)}(n.timings,e.errors);e.currentAnimateTimings=t;let o,s=n.styles?n.styles:F({});if(5==s.type)o=this.visitKeyframes(s,e);else{let r=n.styles,a=!1;if(!r){a=!0;const u={};t.easing&&(u.easing=t.easing),r=F(u)}e.currentTime+=t.duration+t.delay;const l=this.visitStyle(r,e);l.isEmptyStep=a,o=l}return e.currentAnimateTimings=null,{type:4,timings:t,style:o,options:null}}visitStyle(n,e){const t=this._makeStyleAst(n,e);return this._validateStyleAst(t,e),t}_makeStyleAst(n,e){const t=[];Array.isArray(n.styles)?n.styles.forEach(r=>{"string"==typeof r?r==vo?t.push(r):e.errors.push(`The provided style string value ${r} is not allowed.`):t.push(r)}):t.push(n.styles);let o=!1,s=null;return t.forEach(r=>{if(_h(r)){const a=r,l=a.easing;if(l&&(s=l,delete a.easing),!o)for(let u in a)if(a[u].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:t,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){const t=e.currentAnimateTimings;let o=e.currentTime,s=e.currentTime;t&&s>0&&(s-=t.duration+t.delay),n.styles.forEach(r=>{"string"!=typeof r&&Object.keys(r).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void e.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],u=l[a];let p=!0;u&&(s!=o&&s>=u.startTime&&o<=u.endTime&&(e.errors.push(`The CSS property "${a}" that exists between the times of "${u.startTime}ms" and "${u.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${o}ms"`),p=!1),s=u.startTime),p&&(l[a]={startTime:s,endTime:o}),e.options&&function(i,n,e){const t=n.params||{},o=gw(i);o.length&&o.forEach(s=>{t.hasOwnProperty(s)||e.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(r[a],e.options,e.errors)})})}visitKeyframes(n,e){const t={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),t;let s=0;const r=[];let a=!1,l=!1,u=0;const p=n.steps.map(O=>{const T=this._makeStyleAst(O,e);let R=null!=T.offset?T.offset:function(i){if("string"==typeof i)return null;let n=null;if(Array.isArray(i))i.forEach(e=>{if(_h(e)&&e.hasOwnProperty("offset")){const t=e;n=parseFloat(t.offset),delete t.offset}});else if(_h(i)&&i.hasOwnProperty("offset")){const e=i;n=parseFloat(e.offset),delete e.offset}return n}(T.styles),N=0;return null!=R&&(s++,N=T.offset=R),l=l||N<0||N>1,a=a||N<u,u=N,r.push(N),T});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");const g=n.steps.length;let _=0;s>0&&s<g?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(_=1/(g-1));const v=g-1,k=e.currentTime,w=e.currentAnimateTimings,M=w.duration;return p.forEach((O,T)=>{const R=_>0?T==v?1:_*T:r[T],N=R*M;e.currentTime=k+w.delay+N,w.duration=N,this._validateStyleAst(O,e),O.offset=R,t.styles.push(O)}),t}visitReference(n,e){return{type:8,animation:zn(this,zl(n.animation),e),options:zs(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:zs(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:zs(n.options)}}visitQuery(n,e){const t=e.currentQuerySelector,o=n.options||{};e.queryCount++,e.currentQuery=n;const[s,r]=function(i){const n=!!i.split(/\s*,\s*/).find(e=>":self"==e);return n&&(i=i.replace(H9,"")),i=i.replace(/@\*/g,ch).replace(/@\w+/g,e=>ch+"-"+e.substr(1)).replace(/:animating/g,s0),[i,n]}(n.selector);e.currentQuerySelector=t.length?t+" "+s:s,Ln(e.collectedStyles,e.currentQuerySelector,{});const a=zn(this,zl(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:11,selector:s,limit:o.limit||0,optional:!!o.optional,includeSelf:r,animation:a,originalSelector:n.selector,options:zs(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const t="full"===n.timings?{duration:0,delay:0,easing:"full"}:hh(n.timings,e.errors,!0);return{type:12,animation:zn(this,zl(n.animation),e),timings:t,options:null}}}class W9{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function _h(i){return!Array.isArray(i)&&"object"==typeof i}function zs(i){return i?(i=ua(i)).params&&(i.params=function(i){return i?ua(i):null}(i.params)):i={},i}function h0(i,n,e){return{duration:i,delay:n,easing:e}}function d0(i,n,e,t,o,s,r=null,a=!1){return{type:1,element:i,keyframes:n,preStyleProps:e,postStyleProps:t,duration:o,delay:s,totalTime:o+s,easing:r,subTimeline:a}}class vh{constructor(){this._map=new Map}consume(n){let e=this._map.get(n);return e?this._map.delete(n):e=[],e}append(n,e){let t=this._map.get(n);t||this._map.set(n,t=[]),t.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Q9=new RegExp(":enter","g"),e7=new RegExp(":leave","g");function p0(i,n,e,t,o,s={},r={},a,l,u=[]){return(new t7).buildKeyframes(i,n,e,t,o,s,r,a,l,u)}class t7{buildKeyframes(n,e,t,o,s,r,a,l,u,p=[]){u=u||new vh;const g=new f0(n,e,u,o,s,p,[]);g.options=l,g.currentTimeline.setStyles([r],null,g.errors,l),zn(this,t,g);const _=g.timelines.filter(v=>v.containsAnimation());if(_.length&&Object.keys(a).length){const v=_[_.length-1];v.allowOnlyTimelineStyles()||v.setStyles([a],null,g.errors,l)}return _.length?_.map(v=>v.buildKeyframes()):[d0(e,[],[],[],0,0,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const t=e.subInstructions.consume(e.element);if(t){const o=e.createSubContext(n.options),s=e.currentTimeline.currentTime,r=this._visitSubInstructions(t,o,o.options);s!=r&&e.transformIntoNewTimeline(r)}e.previousNode=n}visitAnimateRef(n,e){const t=e.createSubContext(n.options);t.transformIntoNewTimeline(),this.visitReference(n.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=n}_visitSubInstructions(n,e,t){let s=e.currentTimeline.currentTime;const r=null!=t.duration?Vs(t.duration):null,a=null!=t.delay?Vs(t.delay):null;return 0!==r&&n.forEach(l=>{const u=e.appendInstructionToTimeline(l,r,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(n,e){e.updateOptions(n.options,!0),zn(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const t=e.subContextCount;let o=e;const s=n.options;if(s&&(s.params||s.delay)&&(o=e.createSubContext(s),o.transformIntoNewTimeline(),null!=s.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=yh);const r=Vs(s.delay);o.delayNextStep(r)}n.steps.length&&(n.steps.forEach(r=>zn(this,r,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>t&&o.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const t=[];let o=e.currentTimeline.currentTime;const s=n.options&&n.options.delay?Vs(n.options.delay):0;n.steps.forEach(r=>{const a=e.createSubContext(n.options);s&&a.delayNextStep(s),zn(this,r,a),o=Math.max(o,a.currentTimeline.currentTime),t.push(a.currentTimeline)}),t.forEach(r=>e.currentTimeline.mergeTimelineCollectedStyles(r)),e.transformIntoNewTimeline(o),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const t=n.strValue;return hh(e.params?dh(t,e.params,e.errors):t,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const t=e.currentAnimateTimings=this._visitTiming(n.timings,e),o=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),o.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(t.duration),this.visitStyle(s,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const t=e.currentTimeline,o=e.currentAnimateTimings;!o&&t.getCurrentStyleProperties().length&&t.forwardFrame();const s=o&&o.easing||n.easing;n.isEmptyStep?t.applyEmptyStep(s):t.setStyles(n.styles,s,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const t=e.currentAnimateTimings,o=e.currentTimeline.duration,s=t.duration,a=e.createSubContext().currentTimeline;a.easing=t.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(o+s),e.previousNode=n}visitQuery(n,e){const t=e.currentTimeline.currentTime,o=n.options||{},s=o.delay?Vs(o.delay):0;s&&(6===e.previousNode.type||0==t&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=yh);let r=t;const a=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((u,p)=>{e.currentQueryIndex=p;const g=e.createSubContext(n.options,u);s&&g.delayNextStep(s),u===e.element&&(l=g.currentTimeline),zn(this,n.animation,g),g.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,g.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(r),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const t=e.parentContext,o=e.currentTimeline,s=n.timings,r=Math.abs(s.duration),a=r*(e.currentQueryTotal-1);let l=r*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=t.currentStaggerTime}const p=e.currentTimeline;l&&p.delayNextStep(l);const g=p.currentTime;zn(this,n.animation,e),e.previousNode=n,t.currentStaggerTime=o.currentTime-g+(o.startTime-t.currentTimeline.startTime)}}const yh={};class f0{constructor(n,e,t,o,s,r,a,l){this._driver=n,this.element=e,this.subInstructions=t,this._enterClassName=o,this._leaveClassName=s,this.errors=r,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Ch(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const t=n;let o=this.options;null!=t.duration&&(o.duration=Vs(t.duration)),null!=t.delay&&(o.delay=Vs(t.delay));const s=t.params;if(s){let r=o.params;r||(r=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!r.hasOwnProperty(a))&&(r[a]=dh(s[a],r,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const t=n.params={};Object.keys(e).forEach(o=>{t[o]=e[o]})}}return n}createSubContext(n=null,e,t){const o=e||this.element,s=new f0(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,t||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=yh,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,t){const o={duration:null!=e?e:n.duration,delay:this.currentTimeline.currentTime+(null!=t?t:0)+n.delay,easing:""},s=new n7(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,o,n.stretchStartingKeyframe);return this.timelines.push(s),o}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,t,o,s,r){let a=[];if(o&&a.push(this.element),n.length>0){n=(n=n.replace(Q9,"."+this._enterClassName)).replace(e7,"."+this._leaveClassName);let u=this._driver.query(this.element,n,1!=t);0!==t&&(u=t<0?u.slice(u.length+t,u.length):u.slice(0,t)),a.push(...u)}return!s&&0==a.length&&r.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),a}}class Ch{constructor(n,e,t,o){this._driver=n,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new Ch(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles[n]=e,this._globalTimelineStyles[n]=e,this._styleSummary[n]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||vo,this._currentKeyframe[e]=vo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,t,o){e&&(this._previousKeyframe.easing=e);const s=o&&o.params||{},r=function(i,n){const e={};let t;return i.forEach(o=>{"*"===o?(t=t||Object.keys(n),t.forEach(s=>{e[s]=vo})):qo(o,!1,e)}),e}(n,this._globalTimelineStyles);Object.keys(r).forEach(a=>{const l=dh(r[a],s,t);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:vo),this._updateStyle(a,l)})}applyStylesToKeyframe(){const n=this._pendingStyles,e=Object.keys(n);0!=e.length&&(this._pendingStyles={},e.forEach(t=>{this._currentKeyframe[t]=n[t]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const e=this._localTimelineStyles[n];this._pendingStyles[n]=e,this._updateStyle(n,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(e=>{const t=this._styleSummary[e],o=n._styleSummary[e];(!t||o.time>t.time)&&this._updateStyle(e,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,t=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((a,l)=>{const u=qo(a,!0);Object.keys(u).forEach(p=>{const g=u[p];"!"==g?n.add(p):g==vo&&e.add(p)}),t||(u.offset=l/this.duration),o.push(u)});const s=n.size?ph(n.values()):[],r=e.size?ph(e.values()):[];if(t){const a=o[0],l=ua(a);a.offset=0,l.offset=1,o=[a,l]}return d0(this.element,o,s,r,this.duration,this.startTime,this.easing,!1)}}class n7 extends Ch{constructor(n,e,t,o,s,r,a=!1){super(n,e,r.delay),this.keyframes=t,this.preStyleProps=o,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:t,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],r=t+e,a=e/r,l=qo(n[0],!1);l.offset=0,s.push(l);const u=qo(n[0],!1);u.offset=bw(a),s.push(u);const p=n.length-1;for(let g=1;g<=p;g++){let _=qo(n[g],!1);_.offset=bw((e+_.offset*t)/r),s.push(_)}t=r,e=0,o="",n=s}return d0(this.element,n,this.preStyleProps,this.postStyleProps,t,e,o,!0)}}function bw(i,n=3){const e=Math.pow(10,n-1);return Math.round(i*e)/e}class g0{}class o7 extends g0{normalizePropertyName(n,e){return l0(n)}normalizeStyleValue(n,e,t,o){let s="";const r=t.toString().trim();if(s7[e]&&0!==t&&"0"!==t)if("number"==typeof t)s="px";else{const a=t.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&o.push(`Please provide a CSS unit value for ${n}:${t}`)}return r+s}}const s7=(()=>function(i){const n={};return i.forEach(e=>n[e]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ww(i,n,e,t,o,s,r,a,l,u,p,g,_){return{type:0,element:i,triggerName:n,isRemovalTransition:o,fromState:e,fromStyles:s,toState:t,toStyles:r,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:p,totalTime:g,errors:_}}const m0={};class xw{constructor(n,e,t){this._triggerName=n,this.ast=e,this._stateStyles=t}match(n,e,t,o){return function(i,n,e,t,o){return i.some(s=>s(n,e,t,o))}(this.ast.matchers,n,e,t,o)}buildStyles(n,e,t){const o=this._stateStyles["*"],s=this._stateStyles[n],r=o?o.buildStyles(e,t):{};return s?s.buildStyles(e,t):r}build(n,e,t,o,s,r,a,l,u,p){const g=[],_=this.ast.options&&this.ast.options.params||m0,k=this.buildStyles(t,a&&a.params||m0,g),w=l&&l.params||m0,M=this.buildStyles(o,w,g),O=new Set,T=new Map,R=new Map,N="void"===o,B={params:te(te({},_),w)},z=p?[]:p0(n,e,this.ast.animation,s,r,k,M,B,u,g);let U=0;if(z.forEach(W=>{U=Math.max(W.duration+W.delay,U)}),g.length)return ww(e,this._triggerName,t,o,N,k,M,[],[],T,R,U,g);z.forEach(W=>{const de=W.element,Ue=Ln(T,de,{});W.preStyleProps.forEach(je=>Ue[je]=!0);const Ke=Ln(R,de,{});W.postStyleProps.forEach(je=>Ke[je]=!0),de!==e&&O.add(de)});const Q=ph(O.values());return ww(e,this._triggerName,t,o,N,k,M,z,Q,T,R,U)}}class l7{constructor(n,e,t){this.styles=n,this.defaultParams=e,this.normalizer=t}buildStyles(n,e){const t={},o=ua(this.defaultParams);return Object.keys(n).forEach(s=>{const r=n[s];null!=r&&(o[s]=r)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const r=s;Object.keys(r).forEach(a=>{let l=r[a];l.length>1&&(l=dh(l,o,e));const u=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,u,l,e),t[u]=l})}}),t}}class c7{constructor(n,e,t){this.name=n,this.ast=e,this._normalizer=t,this.transitionFactories=[],this.states={},e.states.forEach(o=>{this.states[o.name]=new l7(o.style,o.options&&o.options.params||{},t)}),kw(this.states,"true","1"),kw(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new xw(n,o,this.states))}),this.fallbackTransition=function(i,n,e){return new xw(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(r,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,t,o){return this.transitionFactories.find(r=>r.match(n,e,t,o))||null}matchStyles(n,e,t){return this.fallbackTransition.buildStyles(n,e,t)}}function kw(i,n,e){i.hasOwnProperty(n)?i.hasOwnProperty(e)||(i[e]=i[n]):i.hasOwnProperty(e)&&(i[n]=i[e])}const d7=new vh;class p7{constructor(n,e,t){this.bodyNode=n,this._driver=e,this._normalizer=t,this._animations={},this._playersById={},this.players=[]}register(n,e){const t=[],o=c0(this._driver,e,t);if(t.length)throw new Error(`Unable to build the animation due to the following errors: ${t.join("\n")}`);this._animations[n]=o}_buildPlayer(n,e,t){const o=n.element,s=iw(0,this._normalizer,0,n.keyframes,e,t);return this._driver.animate(o,s,n.duration,n.delay,n.easing,[],!0)}create(n,e,t={}){const o=[],s=this._animations[n];let r;const a=new Map;if(s?(r=p0(this._driver,e,s,o0,lh,{},{},t,d7,o),r.forEach(p=>{const g=Ln(a,p.element,{});p.postStyleProps.forEach(_=>g[_]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),r=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);a.forEach((p,g)=>{Object.keys(p).forEach(_=>{p[_]=this._driver.computeStyle(g,_,vo)})});const u=Wo(r.map(p=>{const g=a.get(p.element);return this._buildPlayer(p,{},g)}));return this._playersById[n]=u,u.onDestroy(()=>this.destroy(n)),this.players.push(u),u}destroy(n){const e=this._getPlayer(n);e.destroy(),delete this._playersById[n];const t=this.players.indexOf(e);t>=0&&this.players.splice(t,1)}_getPlayer(n){const e=this._playersById[n];if(!e)throw new Error(`Unable to find the timeline player referenced by ${n}`);return e}listen(n,e,t,o){const s=Zg(e,"","","");return Wg(this._getPlayer(n),t,s,o),()=>{}}command(n,e,t,o){if("register"==t)return void this.register(n,o[0]);if("create"==t)return void this.create(n,e,o[0]||{});const s=this._getPlayer(n);switch(t){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(n)}}}const Pw="ng-animate-queued",Sw="ng-animate-disabled",Mw=".ng-animate-disabled",_7=[],Dw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},v7={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},si="__ng_removed";class _0{constructor(n,e=""){this.namespaceId=e;const t=n&&n.hasOwnProperty("value");if(this.value=null!=(i=t?n.value:n)?i:null,t){const s=ua(n);delete s.value,this.options=s}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const e=n.params;if(e){const t=this.options.params;Object.keys(e).forEach(o=>{null==t[o]&&(t[o]=e[o])})}}}const Gl="void",v0=new _0(Gl);class y7{constructor(n,e,t){this.id=n,this.hostElement=e,this._engine=t,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,ri(e,this._hostClassName)}listen(n,e,t,o){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${t}" because the animation trigger "${e}" doesn't exist!`);if(null==t||0==t.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=t)&&"done"!=i)throw new Error(`The provided animation trigger event "${t}" for the animation trigger "${e}" is not supported!`);var i;const s=Ln(this._elementListeners,n,[]),r={name:e,phase:t,callback:o};s.push(r);const a=Ln(this._engine.statesByElement,n,{});return a.hasOwnProperty(e)||(ri(n,uh),ri(n,uh+"-"+e),a[e]=v0),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(r);l>=0&&s.splice(l,1),this._triggers[e]||delete a[e]})}}register(n,e){return!this._triggers[n]&&(this._triggers[n]=e,!0)}_getTrigger(n){const e=this._triggers[n];if(!e)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return e}trigger(n,e,t,o=!0){const s=this._getTrigger(e),r=new y0(this.id,e,n);let a=this._engine.statesByElement.get(n);a||(ri(n,uh),ri(n,uh+"-"+e),this._engine.statesByElement.set(n,a={}));let l=a[e];const u=new _0(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a[e]=u,l||(l=v0),u.value!==Gl&&l.value===u.value){if(!function(i,n){const e=Object.keys(i),t=Object.keys(n);if(e.length!=t.length)return!1;for(let o=0;o<e.length;o++){const s=e[o];if(!n.hasOwnProperty(s)||i[s]!==n[s])return!1}return!0}(l.params,u.params)){const w=[],M=s.matchStyles(l.value,l.params,w),O=s.matchStyles(u.value,u.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Ls(n,M),Ui(n,O)})}return}const _=Ln(this._engine.playersByElement,n,[]);_.forEach(w=>{w.namespaceId==this.id&&w.triggerName==e&&w.queued&&w.destroy()});let v=s.matchTransition(l.value,u.value,n,u.params),k=!1;if(!v){if(!o)return;v=s.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:v,fromState:l,toState:u,player:r,isFallbackTransition:k}),k||(ri(n,Pw),r.onStart(()=>{ca(n,Pw)})),r.onDone(()=>{let w=this.players.indexOf(r);w>=0&&this.players.splice(w,1);const M=this._engine.playersByElement.get(n);if(M){let O=M.indexOf(r);O>=0&&M.splice(O,1)}}),this.players.push(r),_.push(r),r}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((e,t)=>{delete e[n]}),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(o=>o.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const t=this._engine.driver.query(n,ch,!0);t.forEach(o=>{if(o[si])return;const s=this._engine.fetchNamespacesByElement(o);s.size?s.forEach(r=>r.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(n,e,t,o){const s=this._engine.statesByElement.get(n);if(s){const r=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const l=this.trigger(n,a,Gl,o);l&&r.push(l)}}),r.length)return this._engine.markElementAsRemoved(this.id,n,!0,e),t&&Wo(r).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),t=this._engine.statesByElement.get(n);if(e&&t){const o=new Set;e.forEach(s=>{const r=s.name;if(o.has(r))return;o.add(r);const l=this._triggers[r].fallbackTransition,u=t[r]||v0,p=new _0(Gl),g=new y0(this.id,r,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:r,transition:l,fromState:u,toState:p,player:g,isFallbackTransition:!0})})}}removeNode(n,e){const t=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let o=!1;if(t.totalAnimations){const s=t.players.length?t.playersByQueriedElement.get(n):[];if(s&&s.length)o=!0;else{let r=n;for(;r=r.parentNode;)if(t.statesByElement.get(r)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(n),o)t.markElementAsRemoved(this.id,n,!1,e);else{const s=n[si];(!s||s===Dw)&&(t.afterFlush(()=>this.clearElementCache(n)),t.destroyInnerAnimations(n),t._onRemovalComplete(n,e))}}insertNode(n,e){ri(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(t=>{const o=t.player;if(o.destroyed)return;const s=t.element,r=this._elementListeners.get(s);r&&r.forEach(a=>{if(a.name==t.triggerName){const l=Zg(s,t.triggerName,t.fromState.value,t.toState.value);l._data=n,Wg(t.player,a.phase,l,a.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(t)}),this._queue=[],e.sort((t,o)=>{const s=t.transition.ast.depCount,r=o.transition.ast.depCount;return 0==s||0==r?s-r:this._engine.driver.containsElement(t.element,o.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(t=>t.element===n)||e,e}}class C7{constructor(n,e,t){this.bodyNode=n,this.driver=e,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&n.push(t)})}),n}createNamespace(n,e){const t=new y7(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[n]=t}_balanceNamespaceList(n,e){const t=this._namespaceList.length-1;if(t>=0){let o=!1;for(let s=t;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,n),o=!0;break}o||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(e,n),n}register(n,e){let t=this._namespaceLookup[n];return t||(t=this.createNamespace(n,e)),t}registerTrigger(n,e,t){let o=this._namespaceLookup[n];o&&o.register(e,t)&&this.totalAnimations++}destroy(n,e){if(!n)return;const t=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(t.hostElement),delete this._namespaceLookup[n];const o=this._namespaceList.indexOf(t);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>t.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,t=this.statesByElement.get(n);if(t){const o=Object.keys(t);for(let s=0;s<o.length;s++){const r=t[o[s]].namespaceId;if(r){const a=this._fetchNamespace(r);a&&e.add(a)}}}return e}trigger(n,e,t,o){if(bh(e)){const s=this._fetchNamespace(n);if(s)return s.trigger(e,t,o),!0}return!1}insertNode(n,e,t,o){if(!bh(e))return;const s=e[si];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const r=this.collectedLeaveElements.indexOf(e);r>=0&&this.collectedLeaveElements.splice(r,1)}if(n){const r=this._fetchNamespace(n);r&&r.insertNode(e,t)}o&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),ri(n,Sw)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),ca(n,Sw))}removeNode(n,e,t,o){if(bh(e)){const s=n?this._fetchNamespace(n):null;if(s?s.removeNode(e,o):this.markElementAsRemoved(n,e,!1,o),t){const r=this.namespacesByHostElement.get(e);r&&r.id!==n&&r.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(n,e,t,o){this.collectedLeaveElements.push(e),e[si]={namespaceId:n,setForRemoval:o,hasAnimation:t,removedBeforeQueried:!1}}listen(n,e,t,o,s){return bh(e)?this._fetchNamespace(n).listen(e,t,o,s):()=>{}}_buildInstruction(n,e,t,o,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,t,o,n.fromState.options,n.toState.options,e,s)}destroyInnerAnimations(n){let e=this.driver.query(n,ch,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,s0,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Wo(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[si];if(e&&e.setForRemoval){if(n[si]=Dw,e.namespaceId){this.destroyInnerAnimations(n);const t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}this.driver.matchesElement(n,Mw)&&this.markElementAsDisabled(n,!1),this.driver.query(n,Mw,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,o)=>this._balanceNamespaceList(t,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++)ri(this.collectedEnterElements[t],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const t=[];try{e=this._flushAnimations(t,n)}finally{for(let o=0;o<t.length;o++)t[o]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++)this.processLeaveNode(this.collectedLeaveElements[t]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Wo(e).onDone(()=>{t.forEach(o=>o())}):t.forEach(o=>o())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,e){const t=new vh,o=[],s=new Map,r=[],a=new Map,l=new Map,u=new Map,p=new Set;this.disabledNodes.forEach(Y=>{p.add(Y);const ie=this.driver.query(Y,".ng-animate-queued",!0);for(let le=0;le<ie.length;le++)p.add(ie[le])});const g=this.bodyNode,_=Array.from(this.statesByElement.keys()),v=Ow(_,this.collectedEnterElements),k=new Map;let w=0;v.forEach((Y,ie)=>{const le=o0+w++;k.set(ie,le),Y.forEach(Pe=>ri(Pe,le))});const M=[],O=new Set,T=new Set;for(let Y=0;Y<this.collectedLeaveElements.length;Y++){const ie=this.collectedLeaveElements[Y],le=ie[si];le&&le.setForRemoval&&(M.push(ie),O.add(ie),le.hasAnimation?this.driver.query(ie,".ng-star-inserted",!0).forEach(Pe=>O.add(Pe)):T.add(ie))}const R=new Map,N=Ow(_,Array.from(O));N.forEach((Y,ie)=>{const le=lh+w++;R.set(ie,le),Y.forEach(Pe=>ri(Pe,le))}),n.push(()=>{v.forEach((Y,ie)=>{const le=k.get(ie);Y.forEach(Pe=>ca(Pe,le))}),N.forEach((Y,ie)=>{const le=R.get(ie);Y.forEach(Pe=>ca(Pe,le))}),M.forEach(Y=>{this.processLeaveNode(Y)})});const B=[],z=[];for(let Y=this._namespaceList.length-1;Y>=0;Y--)this._namespaceList[Y].drainQueuedTransitions(e).forEach(le=>{const Pe=le.player,dt=le.element;if(B.push(Pe),this.collectedEnterElements.length){const Xi=dt[si];if(Xi&&Xi.setForMove)return void Pe.destroy()}const Yt=!g||!this.driver.containsElement(g,dt),ln=R.get(dt),Wt=k.get(dt),qe=this._buildInstruction(le,t,Wt,ln,Yt);if(qe.errors&&qe.errors.length)z.push(qe);else{if(Yt)return Pe.onStart(()=>Ls(dt,qe.fromStyles)),Pe.onDestroy(()=>Ui(dt,qe.toStyles)),void o.push(Pe);if(le.isFallbackTransition)return Pe.onStart(()=>Ls(dt,qe.fromStyles)),Pe.onDestroy(()=>Ui(dt,qe.toStyles)),void o.push(Pe);qe.timelines.forEach(Xi=>Xi.stretchStartingKeyframe=!0),t.append(dt,qe.timelines),r.push({instruction:qe,player:Pe,element:dt}),qe.queriedElements.forEach(Xi=>Ln(a,Xi,[]).push(Pe)),qe.preStyleProps.forEach((Xi,_u)=>{const ld=Object.keys(Xi);if(ld.length){let er=l.get(_u);er||l.set(_u,er=new Set),ld.forEach(Wm=>er.add(Wm))}}),qe.postStyleProps.forEach((Xi,_u)=>{const ld=Object.keys(Xi);let er=u.get(_u);er||u.set(_u,er=new Set),ld.forEach(Wm=>er.add(Wm))})}});if(z.length){const Y=[];z.forEach(ie=>{Y.push(`@${ie.triggerName} has failed due to:\n`),ie.errors.forEach(le=>Y.push(`- ${le}\n`))}),B.forEach(ie=>ie.destroy()),this.reportError(Y)}const U=new Map,Q=new Map;r.forEach(Y=>{const ie=Y.element;t.has(ie)&&(Q.set(ie,ie),this._beforeAnimationBuild(Y.player.namespaceId,Y.instruction,U))}),o.forEach(Y=>{const ie=Y.element;this._getPreviousPlayers(ie,!1,Y.namespaceId,Y.triggerName,null).forEach(Pe=>{Ln(U,ie,[]).push(Pe),Pe.destroy()})});const W=M.filter(Y=>Aw(Y,l,u)),de=new Map;Tw(de,this.driver,T,u,vo).forEach(Y=>{Aw(Y,l,u)&&W.push(Y)});const Ke=new Map;v.forEach((Y,ie)=>{Tw(Ke,this.driver,new Set(Y),l,"!")}),W.forEach(Y=>{const ie=de.get(Y),le=Ke.get(Y);de.set(Y,te(te({},ie),le))});const je=[],We=[],st={};r.forEach(Y=>{const{element:ie,player:le,instruction:Pe}=Y;if(t.has(ie)){if(p.has(ie))return le.onDestroy(()=>Ui(ie,Pe.toStyles)),le.disabled=!0,le.overrideTotalTime(Pe.totalTime),void o.push(le);let dt=st;if(Q.size>1){let ln=ie;const Wt=[];for(;ln=ln.parentNode;){const qe=Q.get(ln);if(qe){dt=qe;break}Wt.push(ln)}Wt.forEach(qe=>Q.set(qe,dt))}const Yt=this._buildAnimation(le.namespaceId,Pe,U,s,Ke,de);if(le.setRealPlayer(Yt),dt===st)je.push(le);else{const ln=this.playersByElement.get(dt);ln&&ln.length&&(le.parentPlayer=Wo(ln)),o.push(le)}}else Ls(ie,Pe.fromStyles),le.onDestroy(()=>Ui(ie,Pe.toStyles)),We.push(le),p.has(ie)&&o.push(le)}),We.forEach(Y=>{const ie=s.get(Y.element);if(ie&&ie.length){const le=Wo(ie);Y.setRealPlayer(le)}}),o.forEach(Y=>{Y.parentPlayer?Y.syncPlayerEvents(Y.parentPlayer):Y.destroy()});for(let Y=0;Y<M.length;Y++){const ie=M[Y],le=ie[si];if(ca(ie,lh),le&&le.hasAnimation)continue;let Pe=[];if(a.size){let Yt=a.get(ie);Yt&&Yt.length&&Pe.push(...Yt);let ln=this.driver.query(ie,s0,!0);for(let Wt=0;Wt<ln.length;Wt++){let qe=a.get(ln[Wt]);qe&&qe.length&&Pe.push(...qe)}}const dt=Pe.filter(Yt=>!Yt.destroyed);dt.length?k7(this,ie,dt):this.processLeaveNode(ie)}return M.length=0,je.forEach(Y=>{this.players.push(Y),Y.onDone(()=>{Y.destroy();const ie=this.players.indexOf(Y);this.players.splice(ie,1)}),Y.play()}),je}elementContainsData(n,e){let t=!1;const o=e[si];return o&&o.setForRemoval&&(t=!0),this.playersByElement.has(e)&&(t=!0),this.playersByQueriedElement.has(e)&&(t=!0),this.statesByElement.has(e)&&(t=!0),this._fetchNamespace(n).elementContainsData(e)||t}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,t,o,s){let r=[];if(e){const a=this.playersByQueriedElement.get(n);a&&(r=a)}else{const a=this.playersByElement.get(n);if(a){const l=!s||s==Gl;a.forEach(u=>{u.queued||!l&&u.triggerName!=o||r.push(u)})}}return(t||o)&&(r=r.filter(a=>!(t&&t!=a.namespaceId||o&&o!=a.triggerName))),r}_beforeAnimationBuild(n,e,t){const s=e.element,r=e.isRemovalTransition?void 0:n,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const u=l.element,p=u!==s,g=Ln(t,u,[]);this._getPreviousPlayers(u,p,r,a,e.toState).forEach(v=>{const k=v.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),v.destroy(),g.push(v)})}Ls(s,e.fromStyles)}_buildAnimation(n,e,t,o,s,r){const a=e.triggerName,l=e.element,u=[],p=new Set,g=new Set,_=e.timelines.map(k=>{const w=k.element;p.add(w);const M=w[si];if(M&&M.removedBeforeQueried)return new la(k.duration,k.delay);const O=w!==l,T=function(i){const n=[];return Iw(i,n),n}((t.get(w)||_7).map(U=>U.getRealPlayer())).filter(U=>!!U.element&&U.element===w),R=s.get(w),N=r.get(w),B=iw(0,this._normalizer,0,k.keyframes,R,N),z=this._buildPlayer(k,B,T);if(k.subTimeline&&o&&g.add(w),O){const U=new y0(n,a,w);U.setRealPlayer(z),u.push(U)}return z});u.forEach(k=>{Ln(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function(i,n,e){let t;if(i instanceof Map){if(t=i.get(n),t){if(t.length){const o=t.indexOf(e);t.splice(o,1)}0==t.length&&i.delete(n)}}else if(t=i[n],t){if(t.length){const o=t.indexOf(e);t.splice(o,1)}0==t.length&&delete i[n]}return t}(this.playersByQueriedElement,k.element,k))}),p.forEach(k=>ri(k,hw));const v=Wo(_);return v.onDestroy(()=>{p.forEach(k=>ca(k,hw)),Ui(l,e.toStyles)}),g.forEach(k=>{Ln(o,k,[]).push(v)}),v}_buildPlayer(n,e,t){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,t):new la(n.duration,n.delay)}}class y0{constructor(n,e,t){this.namespaceId=n,this.triggerName=e,this.element=t,this._player=new la,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(t=>Wg(n,e,void 0,t))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Ln(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function bh(i){return i&&1===i.nodeType}function Ew(i,n){const e=i.style.display;return i.style.display=null!=n?n:"none",e}function Tw(i,n,e,t,o){const s=[];e.forEach(l=>s.push(Ew(l)));const r=[];t.forEach((l,u)=>{const p={};l.forEach(g=>{const _=p[g]=n.computeStyle(u,g,o);(!_||0==_.length)&&(u[si]=v7,r.push(u))}),i.set(u,p)});let a=0;return e.forEach(l=>Ew(l,s[a++])),r}function Ow(i,n){const e=new Map;if(i.forEach(a=>e.set(a,[])),0==n.length)return e;const o=new Set(n),s=new Map;function r(a){if(!a)return 1;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=e.has(u)?u:o.has(u)?1:r(u),s.set(a,l),l}return n.forEach(a=>{const l=r(a);1!==l&&e.get(l).push(a)}),e}const wh="$$classes";function ri(i,n){if(i.classList)i.classList.add(n);else{let e=i[wh];e||(e=i[wh]={}),e[n]=!0}}function ca(i,n){if(i.classList)i.classList.remove(n);else{let e=i[wh];e&&delete e[n]}}function k7(i,n,e){Wo(e).onDone(()=>i.processLeaveNode(n))}function Iw(i,n){for(let e=0;e<i.length;e++){const t=i[e];t instanceof tw?Iw(t.players,n):n.push(t)}}function Aw(i,n,e){const t=e.get(i);if(!t)return!1;let o=n.get(i);return o?t.forEach(s=>o.add(s)):n.set(i,t),e.delete(i),!0}class xh{constructor(n,e,t){this.bodyNode=n,this._driver=e,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new C7(n,e,t),this._timelineEngine=new p7(n,e,t),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(n,e,t,o,s){const r=n+"-"+o;let a=this._triggerCache[r];if(!a){const l=[],u=c0(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(i,n,e){return new c7(i,n,e)}(o,u,this._normalizer),this._triggerCache[r]=a}this._transitionEngine.registerTrigger(e,o,a)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,t,o){this._transitionEngine.insertNode(n,e,t,o)}onRemove(n,e,t,o){this._transitionEngine.removeNode(n,e,o||!1,t)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,t,o){if("@"==t.charAt(0)){const[s,r]=ow(t);this._timelineEngine.command(s,e,r,o)}else this._transitionEngine.trigger(n,e,t,o)}listen(n,e,t,o,s){if("@"==t.charAt(0)){const[r,a]=ow(t);return this._timelineEngine.listen(r,e,a,s)}return this._transitionEngine.listen(n,e,t,o,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Rw(i,n){let e=null,t=null;return Array.isArray(n)&&n.length?(e=C0(n[0]),n.length>1&&(t=C0(n[n.length-1]))):n&&(e=C0(n)),e||t?new M7(i,e,t):null}let M7=(()=>{class i{constructor(e,t,o){this._element=e,this._startStyles=t,this._endStyles=o,this._state=0;let s=i.initialStylesByElement.get(e);s||i.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ui(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ui(this._element,this._initialStyles),this._endStyles&&(Ui(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Ls(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ls(this._element,this._endStyles),this._endStyles=null),Ui(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function C0(i){let n=null;const e=Object.keys(i);for(let t=0;t<e.length;t++){const o=e[t];D7(o)&&(n=n||{},n[o]=i[o])}return n}function D7(i){return"display"===i||"position"===i}const Fw="animation",Nw="animationend";class O7{constructor(n,e,t,o,s,r,a){this._element=n,this._name=e,this._duration=t,this._delay=o,this._easing=s,this._fillMode=r,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(i,n){const e=w0(i,"").trim();let t=0;e.length&&(function(i,n){let e=0;for(let t=0;t<i.length;t++)","===i.charAt(t)&&e++;return e}(e)+1,n=`${e}, ${n}`),kh(i,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Lw(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Bw(this._element,this._name,"paused")}resume(){Bw(this._element,this._name,"running")}setPosition(n){const e=Vw(this._element,this._name);this._position=n*this._duration,kh(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(n){const e=n._ngTestManualTimestamp||Date.now(),t=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&t>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Lw(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,n){const t=w0(i,"").split(","),o=b0(t,n);o>=0&&(t.splice(o,1),kh(i,"",t.join(",")))}(this._element,this._name))}}function Bw(i,n,e){kh(i,"PlayState",e,Vw(i,n))}function Vw(i,n){const e=w0(i,"");return e.indexOf(",")>0?b0(e.split(","),n):b0([e],n)}function b0(i,n){for(let e=0;e<i.length;e++)if(i[e].indexOf(n)>=0)return e;return-1}function Lw(i,n,e){e?i.removeEventListener(Nw,n):i.addEventListener(Nw,n)}function kh(i,n,e,t){const o=Fw+n;if(null!=t){const s=i.style[o];if(s.length){const r=s.split(",");r[t]=e,e=r.join(",")}}i.style[o]=e}function w0(i,n){return i.style[Fw+n]||""}class zw{constructor(n,e,t,o,s,r,a,l){this.element=n,this.keyframes=e,this.animationName=t,this._duration=o,this._delay=s,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=o+s,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new O7(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(t=>{"offset"!=t&&(n[t]=e?this._finalStyles[t]:u0(this.element,t))})}this.currentSnapshot=n}}class B7 extends la{constructor(n,e){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=lw(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const e=this._startingStyles[n];e?this.element.style.setProperty(n,e):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class jw{constructor(){this._count=0}validateStyleProperty(n){return Qg(n)}matchesElement(n,e){return Jg(n,e)}containsElement(n,e){return e0(n,e)}query(n,e,t){return t0(n,e,t)}computeStyle(n,e,t){return window.getComputedStyle(n)[e]}buildKeyframeElement(n,e,t){t=t.map(a=>lw(a));let o=`@keyframes ${e} {\n`,s="";t.forEach(a=>{s=" ";const l=parseFloat(a.offset);o+=`${s}${100*l}% {\n`,s+=" ",Object.keys(a).forEach(u=>{const p=a[u];switch(u){case"offset":return;case"easing":return void(p&&(o+=`${s}animation-timing-function: ${p};\n`));default:return void(o+=`${s}${u}: ${p};\n`)}}),o+=`${s}}\n`}),o+="}\n";const r=document.createElement("style");return r.textContent=o,r}animate(n,e,t,o,s,r=[],a){const l=r.filter(M=>M instanceof zw),u={};mw(t,o)&&l.forEach(M=>{let O=M.currentSnapshot;Object.keys(O).forEach(T=>u[T]=O[T])});const p=function(i){let n={};return i&&(Array.isArray(i)?i:[i]).forEach(t=>{Object.keys(t).forEach(o=>{"offset"==o||"easing"==o||(n[o]=t[o])})}),n}(e=_w(n,e,u));if(0==t)return new B7(n,p);const g="gen_css_kf_"+this._count++,_=this.buildKeyframeElement(n,g,e);(function(i){var e;const n=null==(e=i.getRootNode)?void 0:e.call(i);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(n).appendChild(_);const k=Rw(n,e),w=new zw(n,e,g,t,o,s,p,k);return w.onDestroy(()=>{var i;(i=_).parentNode.removeChild(i)}),w}}class Uw{constructor(n,e,t,o){this.element=n,this.keyframes=e,this.options=t,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,e,t){return n.animate(e,t)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(n[e]=this._finished?this._finalKeyframe[e]:u0(this.element,e))}),this.currentSnapshot=n}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class j7{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test($w().toString()),this._cssKeyframesDriver=new jw}validateStyleProperty(n){return Qg(n)}matchesElement(n,e){return Jg(n,e)}containsElement(n,e){return e0(n,e)}query(n,e,t){return t0(n,e,t)}computeStyle(n,e,t){return window.getComputedStyle(n)[e]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,e,t,o,s,r=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,e,t,o,s,r);const p={duration:t,delay:o,fill:0==o?"both":"forwards"};s&&(p.easing=s);const g={},_=r.filter(k=>k instanceof Uw);mw(t,o)&&_.forEach(k=>{let w=k.currentSnapshot;Object.keys(w).forEach(M=>g[M]=w[M])});const v=Rw(n,e=_w(n,e=e.map(k=>qo(k,!1)),g));return new Uw(n,e,p,v)}}function $w(){return nw()&&Element.prototype.animate||{}}let U7=(()=>{class i extends Qb{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:gi.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?Jb(e):e;return Yw(this._renderer,null,t,"register",[o]),new $7(t,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(j(dl),j(at))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();class $7 extends class{}{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new Y7(this._id,n,e||{},this._renderer)}}class Y7{constructor(n,e,t,o){this.id=n,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",t)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return Yw(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,e;return null!=(e=null==(n=this._renderer.engine.players[+this.id])?void 0:n.getPosition())?e:0}}function Yw(i,n,e,t,o){return i.setProperty(n,`@@${e}:${t}`,o)}const Ww="@.disabled";let W7=(()=>{class i{constructor(e,t,o){this.delegate=e,this.engine=t,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(s,r)=>{const a=null==r?void 0:r.parentNode(s);a&&r.removeChild(a,s)}}createRenderer(e,t){const s=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let p=this._rendererCache.get(s);return p||(p=new qw("",s,this.engine),this._rendererCache.set(s,p)),p}const r=t.id,a=t.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=p=>{Array.isArray(p)?p.forEach(l):this.engine.registerTrigger(r,a,e,p.name,p)};return t.data.animation.forEach(l),new q7(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,o){e>=0&&e<this._microtaskId?this._zone.run(()=>t(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[r,a]=s;r(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(j(dl),j(xh),j(Ye))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();class qw{constructor(n,e,t){this.namespaceId=n,this.delegate=e,this.engine=t,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,t,o=!0){this.delegate.insertBefore(n,e,t),this.engine.onInsert(this.namespaceId,e,n,o)}removeChild(n,e,t){this.engine.onRemove(this.namespaceId,e,this.delegate,t)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,t,o){this.delegate.setAttribute(n,e,t,o)}removeAttribute(n,e,t){this.delegate.removeAttribute(n,e,t)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,t,o){this.delegate.setStyle(n,e,t,o)}removeStyle(n,e,t){this.delegate.removeStyle(n,e,t)}setProperty(n,e,t){"@"==e.charAt(0)&&e==Ww?this.disableAnimations(n,!!t):this.delegate.setProperty(n,e,t)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,t){return this.delegate.listen(n,e,t)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class q7 extends qw{constructor(n,e,t,o){super(e,t,o),this.factory=n,this.namespaceId=e}setProperty(n,e,t){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Ww?this.disableAnimations(n,t=void 0===t||!!t):this.engine.process(this.namespaceId,n,e.substr(1),t):this.delegate.setProperty(n,e,t)}listen(n,e,t){if("@"==e.charAt(0)){const o=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(n);let s=e.substr(1),r="";return"@"!=s.charAt(0)&&([s,r]=function(i){const n=i.indexOf(".");return[i.substring(0,n),i.substr(n+1)]}(s)),this.engine.listen(this.namespaceId,o,s,r,a=>{this.factory.scheduleListenerCallback(a._data||-1,t,a)})}return this.delegate.listen(n,e,t)}}let K7=(()=>{class i extends xh{constructor(e,t,o){super(e.body,t,o)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(j(at),j(n0),j(g0))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();const Sh=new oe("AnimationModuleType"),Zw=[{provide:Qb,useClass:U7},{provide:g0,useFactory:function(){return new o7}},{provide:xh,useClass:K7},{provide:dl,useFactory:function(i,n,e){return new W7(i,n,e)},deps:[jc,xh,Ye]}],Xw=[{provide:n0,useFactory:function(){return"function"==typeof $w()?new j7:new jw}},{provide:Sh,useValue:"BrowserAnimations"},...Zw],tN=[{provide:n0,useClass:uw},{provide:Sh,useValue:"NoopAnimations"},...Zw];let nN=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?tN:Xw}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=St({type:i}),i.\u0275inj=bt({providers:Xw,imports:[IC]}),i})();const oN=new oe("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Mh=(()=>{class i{constructor(e,t,o){this._sanityChecks=t,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!("undefined"!=typeof __karma__&&__karma__||"undefined"!=typeof jasmine&&jasmine||"undefined"!=typeof jest&&jest||"undefined"!=typeof Mocha&&Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return i.\u0275fac=function(e){return new(e||i)(j(S9),j(oN,8),j(at))},i.\u0275mod=St({type:i}),i.\u0275inj=bt({imports:[[Xb],Xb]}),i})();class uN{constructor(n,e,t){this._renderer=n,this.element=e,this.config=t,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Qw={enterDuration:225,exitDuration:150},x0=Fs({passive:!0}),Jw=["mousedown","touchstart"],e2=["mouseup","mouseleave","touchend","touchcancel"];class hN{constructor(n,e,t,o){this._target=n,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Lt(t))}fadeInRipple(n,e,t={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=te(te({},Qw),t.animation);t.centered&&(n=o.left+o.width/2,e=o.top+o.height/2);const r=t.radius||function(i,n,e){const t=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),o=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(t*t+o*o)}(n,e,o),a=n-o.left,l=e-o.top,u=s.enterDuration,p=document.createElement("div");p.classList.add("mat-ripple-element"),p.style.left=a-r+"px",p.style.top=l-r+"px",p.style.height=2*r+"px",p.style.width=2*r+"px",null!=t.color&&(p.style.backgroundColor=t.color),p.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(p),window.getComputedStyle(p).getPropertyValue("opacity"),p.style.transform="scale(1)";const g=new uN(this,p,t);return g.state=0,this._activeRipples.add(g),t.persistent||(this._mostRecentTransientRipple=g),this._runTimeoutOutsideZone(()=>{const _=g===this._mostRecentTransientRipple;g.state=1,!t.persistent&&(!_||!this._isPointerDown)&&g.fadeOut()},u),g}fadeOutRipple(n){const e=this._activeRipples.delete(n);if(n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const t=n.element,o=te(te({},Qw),n.config.animation);t.style.transitionDuration=`${o.exitDuration}ms`,t.style.opacity="0",n.state=2,this._runTimeoutOutsideZone(()=>{n.state=3,t.remove()},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=Lt(n);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Jw))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(e2),this._pointerUpEventsRegistered=!0)}_onMousedown(n){const e=zg(n),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!t&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!Gg(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_runTimeoutOutsideZone(n,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(n,e))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(e=>{this._triggerElement.addEventListener(e,this,x0)})})}_removeTriggerEvents(){this._triggerElement&&(Jw.forEach(n=>{this._triggerElement.removeEventListener(n,this,x0)}),this._pointerUpEventsRegistered&&e2.forEach(n=>{this._triggerElement.removeEventListener(n,this,x0)}))}}const fN=new oe("mat-ripple-global-options");let Gn=(()=>{class i{constructor(e,t,o,s,r){this._elementRef=e,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new hN(this,t,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:te(te(te({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,te(te({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,te(te({},this.rippleConfig),e))}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(Ye),P(sa),P(fN,8),P(Sh,8))},i.\u0275dir=ae({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&V("mat-ripple-unbounded",t.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),gN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=St({type:i}),i.\u0275inj=bt({imports:[[Mh],Mh]}),i})();function mN(i,n){if(1&i&&(h(0,"div",2),m(1,"div",3),h(2,"div",4),x(3),d(),d()),2&i){const e=y();b("background-color",e.background),f("matRippleColor",e.colorRipple),c(1),b("background-image","url("+e.icon+")"),V("button__icon_empty",""===e.icon),c(1),b("color",e.color),V("button__text_empty",""===e.text)("button__text_with-margin-left",""===e.icon),c(1),se(" ",e.text," ")}}function _N(i,n){if(1&i&&(h(0,"div",5),m(1,"div",3),h(2,"div",4),x(3),d(),d()),2&i){const e=y();b("background-color",e.background),c(1),b("background-image","url("+e.icon+")"),V("button__icon_empty",""===e.icon),c(1),b("color",e.color),V("button__text_empty",""===e.text)("button__text_with-margin-left",""===e.icon),c(1),se(" ",e.text," ")}}let ai=(()=>{class i{constructor(e){this.lightOrDark=e,this.text="",this.icon="",this.background="#333333",this.color="#ffffff",this.disabled=!1,this.colorRipple="#00000022"}setColorRipple(){this.colorRipple="light"===this.lightOrDark.get(this.background)?"#00000022":"#ffffff22"}ngOnInit(){this.setColorRipple()}}return i.\u0275fac=function(e){return new(e||i)(P(UF))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-button"]],inputs:{text:"text",icon:"icon",background:"background",color:"color",disabled:"disabled"},decls:2,vars:2,consts:[["class","wrap","matRipple","",3,"background-color","matRippleColor",4,"ngIf"],["class","wrap disabled",3,"background-color",4,"ngIf"],["matRipple","",1,"wrap",3,"matRippleColor"],[1,"button__icon"],[1,"button__text"],[1,"wrap","disabled"]],template:function(e,t){1&e&&(S(0,mN,4,14,"div",0),S(1,_N,4,13,"div",1)),2&e&&(f("ngIf",!t.disabled),c(1),f("ngIf",t.disabled))},directives:[Re,Gn],styles:["[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;cursor:pointer;border-radius:5px;background-color:#333;opacity:.7;transition:all ease .3s}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .button__icon[_ngcontent-%COMP%]{margin:10px;width:24px;height:24px;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .button__icon.button__icon_empty[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .button__text[_ngcontent-%COMP%]{margin:10px 10px 10px 0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:30px;font-size:16px;color:#fff}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .button__text.button__text_empty[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .button__text.button__text_with-margin-left[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%]:hover > .button__text[_ngcontent-%COMP%]{user-select:none}[_nghost-%COMP%] > .wrap.disabled[_ngcontent-%COMP%]{filter:blur(2px);cursor:default}[_nghost-%COMP%] > .wrap.disabled[_ngcontent-%COMP%]:hover{opacity:.7}"]}),i})();function vN(i,n){if(1&i&&(h(0,"div",7),x(1),d()),2&i){const e=n.$implicit;c(1),se(" ",e," ")}}let yN=(()=>{class i{constructor(e,t,o){this.locationService=e,this.router=t,this.isTouch=o,this.typeScreen="none",this.box={animate:!1,packed:!0,wrapped:!0,tapped:!0,package:"../../assets/box/package/4.jpg",tape:"../../assets/box/tape/1.jpg",coord:{x:0,y:0,z:0},rotate:{x:-15,y:110,z:0},size:{w:200,h:130,d:200},scale:1,shiftRotate:{x:0,y:0}},this.listCelebrates=[{key:"new_year_first",title:this.locationService.translate("new year holidays","\u043d\u043e\u0432\u044b\u0439 \u0433\u043e\u0434"),dates:{date1:new Date(`${(new Date).getFullYear()}-01-01T00:00:00`),date2:new Date(`${(new Date).getFullYear()}-01-06T23:59:59`)}},{key:"christmas",title:this.locationService.translate("birthday of Jesus","\u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0418\u0438\u0441\u0443\u0441\u0430"),dates:{date1:new Date(`${(new Date).getFullYear()}-01-07T00:00:00`),date2:new Date(`${(new Date).getFullYear()}-01-07T23:59:59`)}},{key:"defender",title:this.locationService.translate("defender of the fatherland day","23 \u0444\u0435\u0432\u0440\u0430\u043b\u044f"),dates:{date1:new Date(`${(new Date).getFullYear()}-02-23T00:00:00`),date2:new Date(`${(new Date).getFullYear()}-02-23T23:59:59`)}},{key:"eight_march",title:this.locationService.translate("international women's day","8 \u043c\u0430\u0440\u0442\u0430"),dates:{date1:new Date(`${(new Date).getFullYear()}-03-08T00:00:00`),date2:new Date(`${(new Date).getFullYear()}-03-08T23:59:59`)}},{key:"april_fool",title:this.locationService.translate("april fool","\u0434\u0435\u043d\u044c \u0434\u0443\u0440\u0430\u043a\u0430"),dates:{date1:new Date(`${(new Date).getFullYear()}-04-01T00:00:00`),date2:new Date(`${(new Date).getFullYear()}-04-01T23:59:59`)}},{key:"alexander_2",title:this.locationService.translate("birthday of Alexander 2","\u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430 2"),dates:{date1:new Date(`${(new Date).getFullYear()}-29-01T00:00:00`),date2:new Date(`${(new Date).getFullYear()}-29-01T23:59:59`)}},{key:"first_may",title:this.locationService.translate("may day","\u043f\u0435\u0440\u0432\u043e\u0435 \u043c\u0430\u044f"),dates:{date1:new Date(`${(new Date).getFullYear()}-05-01T00:00:00`),date2:new Date(`${(new Date).getFullYear()}-05-01T23:59:59`)}},{key:"victory_day",title:this.locationService.translate("victory day","\u0434\u0435\u043d\u044c \u043f\u043e\u0431\u0435\u0434\u044b"),dates:{date1:new Date(`${(new Date).getFullYear()}-05-09T00:00:00`),date2:new Date(`${(new Date).getFullYear()}-05-09T23:59:59`)}},{key:"pushkin",title:this.locationService.translate("birthday of Pushkin","\u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u041f\u0443\u0448\u043a\u0438\u043d\u0430"),dates:{date1:new Date(`${(new Date).getFullYear()}-06-06T00:00:00`),date2:new Date(`${(new Date).getFullYear()}-06-06T23:59:59`)}},{key:"gaius",title:this.locationService.translate("birthday of Gaius Julius Caesar","\u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0413\u0430\u044f \u042e\u043b\u0438\u044f \u0426\u0435\u0437\u0430\u0440\u044f"),dates:{date1:new Date(`${(new Date).getFullYear()}-07-09T00:00:00`),date2:new Date(`${(new Date).getFullYear()}-07-09T23:59:59`)}},{key:"new_year_second",title:this.locationService.translate("new year holidays","\u043d\u043e\u0432\u044b\u0439 \u0433\u043e\u0434"),dates:{date1:new Date(`${(new Date).getFullYear()+1}-01-01T00:00:00`),date2:new Date(`${(new Date).getFullYear()+1}-01-06T23:59:59`)}}]}setTypeScreen(){this.typeScreen=this.isTouch.get()?"touch":"desktop"}getCelebrates(){const t=new Date;this.locationService.translate("soon","\u0441\u043a\u043e\u0440\u043e");let s=[];return this.listCelebrates.forEach(r=>{if(r.dates.date1.getTime()-t.getTime()<864e6&&r.dates.date1.getTime()-t.getTime()>0){const a=Math.ceil((r.dates.date1.getTime()-t.getTime())/864e5);s.push(`${r.title} ${this.locationService.translate("in","\u0447\u0435\u0440\u0435\u0437")} ${a} ${this.locationService.translate("d.","\u0434.")}`)}else t.getTime()>r.dates.date1.getTime()&&t.getTime()<r.dates.date2.getTime()&&s.push(`${r.title} ${this.locationService.translate("is already here!!!","\u0443\u0436\u0435 \u0438\u0434\u0451\u0442!!!")}`)}),s}getRandomIntInclusive(e,t){return Math.floor(Math.random()*(Math.floor(t)-Math.ceil(e)+1)+Math.ceil(e))}setBox(){this.box.package=`../../assets/box/package/${this.getRandomIntInclusive(1,20)}.jpg`,this.box.tape=`../../assets/box/tape/${this.getRandomIntInclusive(1,20)}.jpg`}goToLink(e){this.router.navigateByUrl(e)}ngOnInit(){this.setTypeScreen(),this.setBox()}}return i.\u0275fac=function(e){return new(e||i)(P(De),P(ct),P(Fl))},i.\u0275cmp=X({type:i,selectors:[["app-page-home"]],decls:7,vars:16,consts:[[1,"celebrates"],["class","celebrates__option",4,"ngFor","ngForOf"],[1,"wrap-box"],[1,"box",3,"packed","animate","wrapped","tapped","w","h","d","inside","package","tape"],["boxRef",""],[1,"row"],[3,"text","color","background","click"],[1,"celebrates__option"]],template:function(e,t){1&e&&(h(0,"div",0),S(1,vN,2,1,"div",1),d(),h(2,"div",2),m(3,"app-box",3,4),d(),h(5,"div",5),h(6,"app-desktop-button",6),C("click",function(){return t.goToLink("/c")}),d(),d()),2&e&&(c(1),f("ngForOf",t.getCelebrates()),c(2),b("transform","translateX("+t.box.coord.x+"px) translateY("+t.box.coord.y+"px) translateZ("+t.box.coord.z+"px) rotateX("+(t.box.rotate.x+t.box.shiftRotate.x)+"deg) rotateY("+(t.box.rotate.y+t.box.shiftRotate.y)+"deg) rotateZ("+t.box.rotate.z+"deg) scale("+t.box.scale+")"),f("packed",t.box.packed)("animate",t.box.animate)("wrapped",t.box.wrapped)("tapped",t.box.tapped)("w",t.box.size.w)("h",t.box.size.h)("d",t.box.size.d)("inside",t.box.inside)("package",t.box.package)("tape",t.box.tape),c(3),f("text",t.locationService.translate("create gift","\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a"))("color","#ffffff")("background","#4caf50"))},directives:[gt,Rs,ai],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}[_nghost-%COMP%]   .wrap-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:400px;height:300px}[_nghost-%COMP%]   .celebrates[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .celebrates__option[_ngcontent-%COMP%]{font-size:20px;color:#333;margin:10px;text-align:center}"]}),i})();const CN=["addListener","removeListener"],bN=["addEventListener","removeEventListener"],wN=["on","off"];function yo(i,n,e,t){if(Ce(e)&&(t=e,e=void 0),t)return yo(i,n,e).pipe(pg(t));const[o,s]=function(i){return Ce(i.addEventListener)&&Ce(i.removeEventListener)}(i)?bN.map(r=>a=>i[r](n,a,e)):function(i){return Ce(i.addListener)&&Ce(i.removeListener)}(i)?CN.map(t2(i,n)):function(i){return Ce(i.on)&&Ce(i.off)}(i)?wN.map(t2(i,n)):[];if(!o&&md(i))return At(r=>yo(r,n,e))(En(i));if(!o)throw new TypeError("Invalid event target");return new Ze(r=>{const a=(...l)=>r.next(1<l.length?l:l[0]);return o(a),()=>s(a)})}function t2(i,n){return e=>t=>i[e](n,t)}let Zo=(()=>{class i{constructor(){this.stream$=new ze,this.drag=!1,this.start=null,this.prev=null,this.touchstart$=yo(window,"touchstart").pipe(_n(e=>1==e.touches.length),Ee(e=>{const t={action:"start",x:e.touches[0].clientX,y:e.touches[0].clientY,start:this.start,prev:this.prev,drag:this.drag,target:e.target,timestamp:Date.now()};return this.start=t,t})),this.touchmove$=yo(window,"touchmove").pipe(_n(e=>1==e.touches.length),Ee(e=>(this.drag||(this.drag=!0),{action:"move",x:e.touches[0].clientX,y:e.touches[0].clientY,start:this.start,prev:this.prev,drag:this.drag,target:e.target,timestamp:Date.now()}))),this.touchend$=yo(window,"touchend").pipe(_n(e=>1==e.changedTouches.length),Ee(e=>({action:"end",x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY,start:this.start,prev:this.prev,drag:this.drag,target:e.target,timestamp:Date.now()}))),this.touchstart$.subscribe(e=>{this.prev=e,this.stream$.next(e)}),this.touchmove$.subscribe(e=>{this.prev=Object.assign(Object.assign({},e),{prev:null}),this.stream$.next(e)}),this.touchend$.subscribe(e=>{this.drag=!1,this.start=null,this.prev=null,this.stream$.next(e)})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),li=(()=>{class i{constructor(){}get(e,t){let o=!1;for(;!o;){if(e.tagName===t){o=!0;break}for(let s=0;s<e.classList.length;s++)if(e.classList[s]===t){o=!0;break}if("BODY"===e.tagName)return o=!0,null;o||(e=e.parentNode)}return e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Co=(()=>{class i{constructor(){}getImageByUrl(e){return I(function*(){return new Promise((t,o)=>{let s=new Image;s.onload=()=>{t(s)},s.onerror=r=>{o(r)},s.src=e})})()}getImageFromFile(e){var t=this;return I(function*(){return new Promise((o,s)=>{const r=new FileReader;r.onload=I(function*(){let a=yield t.getImageByUrl(r.result);o(a)}),r.onerror=a=>{s(a)},r.readAsDataURL(e)})})()}getBase64ByUrl(e){return I(function*(){const o=yield(yield fetch(e)).blob();return new Promise((s,r)=>{const a=new FileReader;a.readAsDataURL(o),a.onloadend=()=>{s(a.result)},a.onerror=r})})()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ha=(()=>{class i{constructor(){}getSvg(e,t,o){const s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.style.width=e+"px",s.style.height=t+"px",s.setAttribute("viewBox",`0 0 ${e} ${t}`),s.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let r=0;r<o.length;r++){let a=document.createElementNS("http://www.w3.org/2000/svg","path"),l=o[r][0],u=`M ${o[r][1][0]*e} ${o[r][1][1]*t}`;for(let p=2;p<o[r].length;p++)u+=` C ${o[r][p-1][0]*e} ${o[r][p-1][1]*t}, ${o[r][p][0]*e} ${o[r][p][1]*t}, ${o[r][p][0]*e} ${o[r][p][1]*t}`;a.setAttribute("d",u),a.setAttribute("stroke",l),a.setAttribute("stroke-width",""+.01*e),a.setAttribute("fill","transparent"),a.setAttribute("stroke-linecap","round"),a.setAttribute("stroke-linejoin","round"),s.appendChild(a)}return s}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),da=(()=>{class i{constructor(){this.drag=!1}listen(e){return Cu(yo(window,"touchstart").pipe(_n(r=>1==r.touches.length),Ee(r=>{const a={action:"start",x:r.touches[0].clientX,y:r.touches[0].clientY,drag:!1,target:r.target};return this.start=a,this.prev=a,a})),yo(window,"touchmove").pipe(_n(r=>1==r.touches.length),Ee(r=>{this.drag||(this.drag=!0);const a={action:"move",x:r.touches[0].clientX,y:r.touches[0].clientY,start:this.start,prev:this.prev,drag:!0,target:r.target};return this.prev=a,a})),yo(window,"touchend").pipe(_n(r=>1==r.changedTouches.length),Ee(r=>{const a={action:"end",x:r.changedTouches[0].clientX,y:r.changedTouches[0].clientY,start:this.start,prev:this.prev,drag:this.drag,target:r.target};return this.drag=!1,a})))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),pa=(()=>{class i{constructor(e,t,o,s){this.asyncService=e,this.touch2Service=t,this.host=o,this.locationService=s,this.value="",this.result=new L,this.smooth=!1,this.display="none",this.opacity="0",this.ycoord=-200,this.canHide=!1,this.velocity=0,this.timeoutVelocity=setTimeout(()=>{},0),this.obs=null}onClick(){this.result.emit("agree"),this.doHide()}doShow(){var e=this;return I(function*(){return e.display="flex",e.smooth=!0,yield e.asyncService.delay(10),e.opacity="1",e.ycoord=0,yield e.asyncService.delay(300),e.smooth=!1,new Promise(t=>t())})()}doHide(){var e=this;return I(function*(){return e.smooth=!0,yield e.asyncService.delay(10),e.opacity="0",e.ycoord=-200,yield e.asyncService.delay(300),e.display="none",e.smooth=!1,e.result.emit("reject"),e.value="",new Promise(t=>t())})()}processTouch(e){var t;if("none"!==this.display){if("move"===e.action&&"start"===(null===(t=e.prev)||void 0===t?void 0:t.action)&&(this.canHide=Math.abs(e.x-e.prev.x)<Math.abs(e.y-e.prev.y)),"move"===e.action&&this.canHide){this.velocity=e.y-e.prev.y,clearTimeout(this.timeoutVelocity),this.timeoutVelocity=setTimeout(()=>{this.velocity=0},100);let o=e.y-e.start.y;o>0&&(o=0),o<-200&&(o=-200),this.opacity=""+(1+o/200),this.ycoord=o}if("end"===e.action&&this.canHide)if(0===this.velocity){let o=e.y-e.start.y;o>0&&(o=0),o<-200&&(o=-200),o<-100?this.doHide():o>-100&&this.doShow()}else this.velocity>0?this.doShow():this.velocity<0&&this.doHide()}}ngOnInit(){}ngOnChanges(e){e.value&&e.value.previousValue!==e.value.currentValue&&(""!==e.value.currentValue?(this.doShow(),this.obs=this.touch2Service.listen(this.host.nativeElement).subscribe(t=>{this.processTouch(t)})):(this.doHide(),null!==this.obs&&this.obs.unsubscribe()))}}return i.\u0275fac=function(e){return new(e||i)(P(ve),P(da),P(q),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-touch-confirm"]],hostVars:6,hostBindings:function(e,t){1&e&&C("click",function(){return t.onClick()}),2&e&&(b("display",t.display)("opacity",t.opacity),V("smooth",t.smooth))},inputs:{value:"value"},outputs:{result:"result"},features:[re],decls:9,vars:5,consts:[[1,"display"],[1,"reject"],[1,"text"],[1,"icon"],[1,"agree"]],template:function(e,t){1&e&&(h(0,"div",0),h(1,"div",1),h(2,"div",2),x(3),d(),m(4,"div",3),d(),h(5,"div",2),x(6),d(),h(7,"div",4),x(8),d(),d()),2&e&&(b("transform","translateY("+t.ycoord+"px)"),c(3),D(t.locationService.translate("swipe up to close","\u0441\u0432\u0430\u0439\u043f \u0432\u0432\u0435\u0440\u0445 \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")),c(3),D(t.value),c(2),D(t.locationService.translate("tap to agree","\u043d\u0430\u0436\u0430\u0442\u044c \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c")))},styles:["[_nghost-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;opacity:0;display:none;flex-direction:column;align-items:center;justify-content:center;background-color:#0006;z-index:20}[_nghost-%COMP%]   .display[_ngcontent-%COMP%]{min-width:300px;background-color:#fff;border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .display[_ngcontent-%COMP%] > .reject[_ngcontent-%COMP%]{margin:10px;align-self:flex-end;display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%]   .display[_ngcontent-%COMP%] > .reject[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{width:20px;height:20px;background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(arrow-up.0f196ae64df83d91.svg)}[_nghost-%COMP%]   .display[_ngcontent-%COMP%] > .reject[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:0 10px;font-size:12px;color:#999}[_nghost-%COMP%]   .display[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-weight:bold;margin:10px;text-align:center;color:#000;font-size:16px}[_nghost-%COMP%]   .display[_ngcontent-%COMP%] > .agree[_ngcontent-%COMP%]{margin:10px;color:#999;text-align:center;font-size:12px}.smooth[_nghost-%COMP%]{transition:all ease .3s}.smooth[_nghost-%COMP%] > .display[_ngcontent-%COMP%]{transition:all ease .3s}"]}),i})(),Dh=(()=>{class i{constructor(e){this.ayncService=e,this.value="",this.display="none",this.top="-500px"}doshow(){var e=this;return I(function*(){return e.display="flex",yield e.ayncService.delay(10),e.top="20px",yield e.ayncService.delay(200),new Promise(t=>t())})()}dohide(){var e=this;return I(function*(){return e.top="-500px",yield e.ayncService.delay(200),e.display="none",yield e.ayncService.delay(10),new Promise(t=>t())})()}ngOnInit(){}ngOnChanges(e){e.value&&e.value.previousValue!==e.value.currentValue&&(""===e.value.currentValue?this.dohide():this.doshow())}}return i.\u0275fac=function(e){return new(e||i)(P(ve))},i.\u0275cmp=X({type:i,selectors:[["app-touch-error"]],hostVars:4,hostBindings:function(e,t){2&e&&b("display",t.display)("top",t.top)},inputs:{value:"value"},features:[re],decls:1,vars:1,template:function(e,t){1&e&&x(0),2&e&&se("",t.value,"\n")},styles:["[_nghost-%COMP%]{position:fixed;display:none;flex-direction:row-reverse;align-items:center;justify-content:center;width:90%;background-color:#f44336;color:#fff;text-align:center;font-size:14px;padding:10px;border-radius:10px;transition:all ease .2s;z-index:100}"]}),i})(),n2=(()=>{class i{constructor(){}get(){return"#"+Math.floor(16777215*Math.random()).toString(16)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),SN=(()=>{class i{constructor(e,t){this.host=e,this.asyncservice=t,this.bind=!1,this.refresh=null}binding(){this.host.nativeElement.querySelector("svg > path:nth-child(1) > animate:nth-child(1)").beginElement()}unbinding(){this.host.nativeElement.querySelector("svg > path:nth-child(1) > animate:nth-child(2)").beginElement()}dorefresh(){var e=this;return I(function*(){const t=e.host.nativeElement.querySelector("svg");t.style.transition="all ease 0.2s",yield e.asyncservice.delay(10),t.style.transform="translateX(-10px) scale(2)",t.querySelector("path:nth-child(1) > animate:nth-child(3)").beginElement(),t.querySelector("path:nth-child(1) > animate:nth-child(5)").beginElement(),yield e.asyncservice.delay(200),t.style.transform="translateX(0px) scale(1)",t.querySelector("path:nth-child(1) > animate:nth-child(4)").beginElement(),t.querySelector("path:nth-child(1) > animate:nth-child(6)").beginElement(),yield e.asyncservice.delay(200),t.style.removeProperty("transform"),t.style.removeProperty("transition")})()}ngOnChanges(e){e.bind&&e.bind.previousValue!==e.bind.currentValue&&(e.bind.currentValue?this.binding():this.unbinding()),e.refresh&&e.refresh.previousValue!==e.refresh.currentValue&&this.dorefresh()}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(ve))},i.\u0275cmp=X({type:i,selectors:[["app-svg-handle"]],inputs:{bind:"bind",refresh:"refresh"},features:[re],decls:8,vars:0,consts:[["viewBox","0 0 20 100","xmlns","http://www.w3.org/2000/svg"],["d","M 15 5 C 15 5, 15 95, 15 95","stroke","#ffffff","stroke-width","2","stroke-linecap","round","fill","none","filter","drop-shadow(0px 0px 2px #333)"],["attributeName","d","values","M 15 5 C 15 5, 15 95, 15 95 ; M 15 5 C 5 25, 5 75, 15 95","dur","0.2s","begin","indefinite","fill","freeze"],["attributeName","d","values","M 15 5 C 5 25, 5 75, 15 95 ; M 15 5 C 15 5, 15 95, 15 95","dur","0.2s","begin","indefinite","fill","freeze"],["attributeName","stroke","values","#ffffff ; #e91e63","dur","0.2s","begin","indefinite","fill","freeze"],["attributeName","stroke","values","#e91e63 ; #ffffff","dur","0.2s","begin","indefinite","fill","freeze"],["attributeName","filter","values","drop-shadow(0px 0px 2px #333) ; drop-shadow(0px 0px 2px #33333300)","dur","0.2s","begin","indefinite","fill","freeze"],["attributeName","filter","values","drop-shadow(0px 0px 2px #33333300) ; drop-shadow(0px 0px 2px #333)","dur","0.2s","begin","indefinite","fill","freeze"]],template:function(e,t){1&e&&(yi(),h(0,"svg",0),h(1,"path",1),m(2,"animate",2),m(3,"animate",3),m(4,"animate",4),m(5,"animate",5),m(6,"animate",6),m(7,"animate",7),d(),d())},styles:[""]}),i})();const MN=["animate1"],DN=["animate2"],EN=["animate3"],TN=["animate4"],ON=["animate5"],IN=["animate6"];let Eh=(()=>{class i{constructor(e,t){this.host=e,this.router=t,this.start=null,this.touch=null,this.transition="none",this.transform="translateY(-50px)",this.width=0,this.currentAction="ready",this.animationName="none"}onResize(){const e=this.host.nativeElement.parentNode.getBoundingClientRect().width;this.width=e}setPosition(e){this.transform=`translateY(${e}px)`}anim(e){this.currentAction!==e&&("ready"===e?(this.animate2Ref.nativeElement.beginElement(),this.animate4Ref.nativeElement.beginElement(),this.animate6Ref.nativeElement.beginElement(),this.animationName="none"):"steady"===e?(this.animate1Ref.nativeElement.beginElement(),this.animate3Ref.nativeElement.beginElement(),this.animate5Ref.nativeElement.beginElement(),this.animationName="none"):"go"===e&&(this.animationName="go"),this.currentAction=e)}reload(){const e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}setTransition(e){this.transition=e?"all ease 0.3s":"none"}processTouch(){var e,t;if(null===this.touch)return this.setTransition(!0),void setTimeout(()=>{this.setPosition(-50),setTimeout(()=>{this.setTransition(!1)},300)},10);if(this.onResize(),"move"===(null===(e=this.touch)||void 0===e?void 0:e.action)){let s=.2*(this.touch.y-this.start.y)-50;s>0&&(s=0),s<-50&&(s=-50),this.anim(0===s?"steady":"ready"),this.setPosition(s)}else if("end"===(null===(t=this.touch)||void 0===t?void 0:t.action)){let s=.2*(this.touch.y-this.start.y)-50;s>0&&(s=0),s<-50&&(s=-50),0===s?(this.anim("go"),setTimeout(()=>{this.reload()},300)):(this.setTransition(!0),setTimeout(()=>{this.setPosition(-50),setTimeout(()=>{this.setTransition(!1)},300)},10)),this.start=null}}ngOnInit(){this.onResize()}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&(null===this.start&&null!==e.touch.currentValue&&(this.start=e.touch.currentValue.prev),this.processTouch())}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(ct))},i.\u0275cmp=X({type:i,selectors:[["app-touch-refresh"]],viewQuery:function(e,t){if(1&e&&(Xe(MN,5,q),Xe(DN,5,q),Xe(EN,5,q),Xe(TN,5,q),Xe(ON,5,q),Xe(IN,5,q)),2&e){let o;Ve(o=Le())&&(t.animate1Ref=o.first),Ve(o=Le())&&(t.animate2Ref=o.first),Ve(o=Le())&&(t.animate3Ref=o.first),Ve(o=Le())&&(t.animate4Ref=o.first),Ve(o=Le())&&(t.animate5Ref=o.first),Ve(o=Le())&&(t.animate6Ref=o.first)}},hostVars:6,hostBindings:function(e,t){1&e&&C("resize",function(){return t.onResize()},!1,be),2&e&&b("transition",t.transition)("transform",t.transform)("width",t.width,"px")},inputs:{touch:"touch"},features:[re],decls:19,vars:2,consts:[[1,"image"],["viewBox","0 0 40 40","xmlns","http://www.w3.org/2000/svg"],["d","\n      M 20 10\n      C 20 10, 20 30, 20 30\n      ","stroke-width","2px","stroke","#fff","fill","transparent","stroke-linecap","round"],["attributeName","d","values","M 20 10 C 20 10, 20 30, 20 30 ; M 20 30 C 20 30, 20 30, 20 30","dur","0.3s","fill","freeze"],["animate1",""],["attributeName","d","values","M 20 30 C 20 30, 20 30, 20 30 ; M 20 10 C 20 10, 20 30, 20 30","dur","0.3s","fill","freeze"],["animate2",""],["d","\n      M 15 25\n      C 15 25, 15 25, 15 25\n      C 15 25, 20 30, 20 30\n      ","stroke-width","2px","stroke","#fff","fill","transparent","stroke-linecap","round"],["attributeName","d","values","M 15 25 C 15 25, 15 25, 15 25 C 15 25, 20 30, 20 30 ; M 20 10 C 20 10, 10 10, 10 20 C 10 20, 10 30, 20 30","dur","0.3s","fill","freeze"],["animate3",""],["attributeName","d","values","M 20 10 C 20 10, 10 10, 10 20 C 10 20, 10 30, 20 30 ; M 15 25 C 15 25, 15 25, 15 25 C 15 25, 20 30, 20 30","dur","0.3s","fill","freeze"],["animate4",""],["d","\n      M 25 25\n      C 25 25, 20 30, 20 30\n      ","stroke-width","2px","stroke","#fff","fill","transparent","stroke-linecap","round"],["attributeName","d","values","M 25 25 C 25 25, 20 30, 20 30 ; M 30 20 C 30 20, 30 30, 20 30","dur","0.3s","fill","freeze"],["animate5",""],["attributeName","d","values","M 30 20 C 30 20, 30 30, 20 30 ; M 25 25 C 25 25, 20 30, 20 30","dur","0.3s","fill","freeze"],["animate6",""],[1,"text"]],template:function(e,t){1&e&&(h(0,"div",0),yi(),h(1,"svg",1),h(2,"path",2),m(3,"animate",3,4),m(5,"animate",5,6),d(),h(7,"path",7),m(8,"animate",8,9),m(10,"animate",10,11),d(),h(12,"path",12),m(13,"animate",13,14),m(15,"animate",15,16),d(),d(),d(),ws(),h(17,"div",17),x(18,"refresh"),d()),2&e&&b("animation-name",t.animationName)},styles:["[_nghost-%COMP%]{position:absolute;width:100%;background-color:#00bcd4;height:50px;display:flex;flex-direction:row;align-items:center;justify-content:center;transform:translateY(-50px);overflow:hidden}[_nghost-%COMP%] > .text[_ngcontent-%COMP%]{margin:0 10px 0 1;font-size:14px;color:#fff}[_nghost-%COMP%] > .image[_ngcontent-%COMP%]{width:40px;height:40px;animation-duration:.3s;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes go{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),i})();const AN=["*"];let Th=(()=>{class i{constructor(e,t){this.asyncservice=e,this.host=t,this.touch=null,this.disabled=!1,this.scrolltocenter=null,this.refreshable=!1,this.refresheight=50,this.refreshTouch=null,this.static=0,this.dynamic=0,this.velocity=0,this.timeout=setTimeout(()=>{},0),this.interrupt=!1,this.positionatstart="topedge",this.margin=10,this.marginedges=50}scroll(){if("start"===this.touch.action?(this.interrupt=!0,this.positionatstart=this.getposition):"move"===this.touch.action?(this.transformposition(),this.interrupt=!1,this.dynamic=this.touch.y-this.touch.start.y,this.velocity=this.touch.y-this.touch.prev.y,clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.velocity=0},100),this.checkmiddleedges()):"end"===this.touch.action&&(this.static+=this.dynamic,this.dynamic=0,!this.checkedges()&&!this.checkmiddleedges()&&this.inertia(this.velocity)),this.refreshable&&"top"===this.positionatstart){const e=this.host.nativeElement.getBoundingClientRect();this.refreshTouch="move"===this.touch.action&&this.getscroll>=e.height-this.refresheight||"end"===this.touch.action?this.touch:null}}inertia(e){var t=this;return I(function*(){for(e>30&&(e=30);Math.abs(e)>.5;){if(t.interrupt)return t.static+=t.dynamic,t.dynamic=0,void(t.interrupt=!1);t.transformposition(),yield t.asyncservice.delay(1),t.static+=e,e*=.99,t.checkedges()&&(t.interrupt=!0),t.checkmiddleedges()&&(t.interrupt=!0)}})()}get getposition(){const e=this.host.nativeElement.getBoundingClientRect(),t=this.host.nativeElement.querySelector(".list").getBoundingClientRect();return t.y>e.y-this.margin&&t.y<e.y+this.margin&&t.y+t.height>e.y+e.height-this.margin&&t.y+t.height<e.y+e.height+this.margin?"idyll":t.y>e.y-this.margin&&t.y<e.y+this.margin?"topedge":t.y+t.height>e.y+e.height-this.margin&&t.y+t.height<e.y+e.height+this.margin?"bottomedge":t.y>e.y&&t.y+t.height>e.y+e.height?"top":t.y<e.y&&t.y+t.height<e.y+e.height?"bottom":"center"}transformposition(){const e=this.getposition;("idyll"===this.positionatstart||"topedge"===this.positionatstart||"bottomedge"===this.positionatstart)&&"idyll"!==e&&"topedge"!==e&&"bottomedge"!==e&&(this.positionatstart=e)}get getscroll(){return this.static+this.dynamic}smoothgoto(e){var t=this;return I(function*(){t.host.nativeElement.querySelector(".list").style.transition="all ease 0.1s",yield t.asyncservice.delay(10),t.static=e,t.dynamic=0,yield t.asyncservice.delay(100),t.host.nativeElement.querySelector(".list").style.transition="none"})()}checkedges(){const e=this.host.nativeElement.getBoundingClientRect(),t=this.host.nativeElement.querySelector(".list").getBoundingClientRect();return this.getscroll>e.height-this.marginedges?(this.smoothgoto(e.height-this.marginedges),!0):this.getscroll+t.height<this.marginedges&&(this.smoothgoto(-t.height+this.marginedges),!0)}checkmiddleedges(){const e=this.host.nativeElement.getBoundingClientRect(),t=this.host.nativeElement.querySelector(".list").getBoundingClientRect();if(t.height<e.height){if("top"==this.positionatstart){if(this.getscroll<e.height-t.height+this.margin)return this.dynamic=e.height-t.height-this.static,!0}else if("bottom"==this.positionatstart){if(this.getscroll>-this.margin)return this.dynamic=-this.static,!0}else if("center"==this.positionatstart){if(this.getscroll<this.margin)return this.dynamic=-this.static,!0;if(this.getscroll+t.height>e.height-this.margin)return this.dynamic=e.height-t.height-this.static,!0}}else if("top"==this.positionatstart){if(this.getscroll<this.margin)return this.dynamic=-this.static,!0}else if("bottom"==this.positionatstart){if(this.getscroll>-t.height+e.height-this.margin)return this.dynamic=-t.height+e.height-this.static,!0}else if("center"==this.positionatstart){if(this.getscroll>-this.margin)return this.dynamic=-this.static,!0;if(this.getscroll+t.height<e.height+this.margin)return this.dynamic=e.height-t.height-this.static,!0}return!1}doScrollToCenter(){const e=this.host.nativeElement.getBoundingClientRect(),t=this.host.nativeElement.querySelector(".list").getBoundingClientRect();this.static=t.height>=e.height?0:(e.height-t.height)/2,this.dynamic=0}ngOnInit(){}ngOnChanges(e){if(e.touch&&e.touch.previousValue!=e.touch.currentValue){if(null===e.touch.currentValue)return;this.scroll()}else e.scrolltocenter&&e.scrolltocenter.previousValue!=e.scrolltocenter.currentValue&&this.doScrollToCenter()}}return i.\u0275fac=function(e){return new(e||i)(P(ve),P(q))},i.\u0275cmp=X({type:i,selectors:[["app-touch-scroll"]],inputs:{touch:"touch",disabled:"disabled",scrolltocenter:"scrolltocenter",refreshable:"refreshable"},features:[re],ngContentSelectors:AN,decls:3,vars:3,consts:[[3,"touch"],[1,"list"]],template:function(e,t){1&e&&(xi(),m(0,"app-touch-refresh",0),h(1,"div",1),Jn(2),d()),2&e&&(f("touch",t.refreshTouch),c(1),b("transform","translateY("+t.getscroll+"px)"))},directives:[Eh],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}[_nghost-%COMP%] > .list[_ngcontent-%COMP%]{min-height:100px;display:flex;flex-direction:column;align-items:stretch;justify-content:center}"]}),i})();function RN(i,n){if(1&i&&(h(0,"div",5),m(1,"div",6),h(2,"div",7),x(3),d(),d()),2&i){const e=n.$implicit;$e("value",e.value),c(1),b("background-image","url("+e.ico+")"),c(2),D(e.title)}}let Oh=(()=>{class i{constructor(e,t,o,s){this.host=e,this.asyncservice=t,this.randomcolor=o,this.gettargethtml=s,this.xcoord=0,this.stat="close",this.velocity=0,this.timeout=setTimeout(()=>{},0),this.touchlist=null,this.options=[],this.touch=null,this.sublimeshow=!1,this.action=new L,this.transform=`translateX(${this.xcoord}px)`,this.dirmove="horizontal",this.doscrolltocenter=!1,this.bindhandle=!1,this.refreshhandle=!1,this.hidden=!0,this.choose=new L}processTouch(){if(!this.hidden&&null!==this.touch){if("end"===this.touch.action&&!1===this.touch.drag){const e=this.gettargethtml.get(this.touch.target,"option");if(null!==e){const t=e.getAttribute("value");this.smoothclose().then(()=>{this.choose.emit(t)})}return}"move"===this.touch.action&&"start"===this.touch.prev.action&&(this.dirmove=Math.abs(this.touch.x-this.touch.prev.x)>Math.abs(this.touch.y-this.touch.prev.y)?"horizontal":"vertical"),"horizontal"===this.dirmove&&"move"===this.touch.action?(this.velocity=this.touch.x-this.touch.prev.x,clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.velocity=0},100),"open"==this.stat?this.xcoord=-window.innerWidth+this.touch.x-this.touch.start.x:"close"==this.stat&&(this.xcoord=this.touch.x-this.touch.start.x),this.xcoord>-20&&(this.xcoord=-20),this.xcoord<-window.innerWidth&&(this.xcoord=-window.innerWidth),this.setBackground(),!this.bindhandle&&this.velocity<0?this.bindhandle=!0:this.bindhandle&&this.velocity>0&&(this.bindhandle=!1),this.transform=`translateX(${this.xcoord}px)`):"vertical"===this.dirmove&&"open"===this.stat&&(this.touchlist=this.touch),"end"==this.touch.action&&"horizontal"==this.dirmove&&(0==this.velocity?this.xcoord<-window.innerWidth/2?this.smoothopen():this.smoothclose():this.velocity<0?this.smoothopen():this.velocity>0&&this.smoothclose())}}setBackground(){const e=this.host.nativeElement.querySelector(".back");-20===this.xcoord?e.style.display="none":this.xcoord<-20&&(e.style.display="flex"),e.style.opacity=""+this.xcoord/(20-window.innerWidth),e.style.left=-window.innerWidth-this.xcoord+"px"}smoothopen(){var e=this;return I(function*(){return e.bindhandle=!1,e.action.emit("open"),e.stat="open",e.host.nativeElement.style.transition="all ease 0.3s",e.host.nativeElement.querySelector(".back").style.display="flex",e.host.nativeElement.querySelector(".back").style.transition="all ease 0.3s",yield e.asyncservice.delay(10),e.xcoord=-window.innerWidth,e.transform=`translateX(${e.xcoord}px)`,e.host.nativeElement.querySelector(".back").style.opacity="1",e.host.nativeElement.querySelector(".back").style.left="0px",yield e.asyncservice.delay(300),e.host.nativeElement.style.transition="none",e.host.nativeElement.querySelector(".back").style.transition="none",new Promise(t=>t())})()}smoothclose(){var e=this;return I(function*(){return e.bindhandle=!1,e.action.emit("close"),e.stat="close",e.host.nativeElement.style.transition="all ease 0.3s",e.host.nativeElement.querySelector(".back").style.transition="all ease 0.3s",yield e.asyncservice.delay(10),e.xcoord=-20,e.transform=`translateX(${e.xcoord}px)`,e.host.nativeElement.querySelector(".back").style.opacity="0",e.host.nativeElement.querySelector(".back").style.left=20-window.innerWidth+"px",yield e.asyncservice.delay(300),e.host.nativeElement.style.transition="none",e.host.nativeElement.querySelector(".back").style.transition="none","close"===e.stat&&(e.host.nativeElement.querySelector(".back").style.display="none"),e.doscrolltocenter=!e.doscrolltocenter,new Promise(t=>t())})()}show(){var e=this;return I(function*(){return e.host.nativeElement.style.transition="all ease 0.1s",yield e.asyncservice.delay(10),e.hidden=!1,e.xcoord=-20,e.transform=`translateX(${e.xcoord}px)`,yield e.asyncservice.delay(100),e.host.nativeElement.style.removeProperty("transition"),new Promise(t=>t())})()}hide(){var e=this;return I(function*(){return e.host.nativeElement.style.transition="all ease 0.1s",yield e.asyncservice.delay(10),e.hidden=!0,e.xcoord=0,e.transform=`translateX(${e.xcoord}px)`,yield e.asyncservice.delay(100),e.host.nativeElement.style.removeProperty("transition"),new Promise(t=>t())})()}ngOnInit(){}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch(),e.options&&e.options.previousValue!==e.options.currentValue&&(e.options.currentValue[0]||this.hidden?e.options.currentValue[0]&&this.hidden?this.show().then(()=>{this.refreshhandle=!this.refreshhandle,this.doscrolltocenter=!this.doscrolltocenter}):(this.refreshhandle=!this.refreshhandle,setTimeout(()=>{this.doscrolltocenter=!this.doscrolltocenter},1)):this.hide()),e.sublimeshow&&e.sublimeshow.previousValue!==e.sublimeshow.currentValue&&void 0!==e.sublimeshow.previousValue&&this.smoothopen()}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(ve),P(n2),P(li))},i.\u0275cmp=X({type:i,selectors:[["app-touch-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&b("transform",t.transform)},inputs:{options:"options",touch:"touch",sublimeshow:"sublimeshow"},outputs:{action:"action",choose:"choose"},features:[re],decls:5,vars:5,consts:[[3,"bind","refresh"],[1,"content"],[3,"touch","scrolltocenter"],["class","option","matRipple","","matRippleColor","#00000011",4,"ngFor","ngForOf"],[1,"back"],["matRipple","","matRippleColor","#00000011",1,"option"],[1,"ico"],[1,"title"]],template:function(e,t){1&e&&(m(0,"app-svg-handle",0),h(1,"div",1),h(2,"app-touch-scroll",2),S(3,RN,4,4,"div",3),d(),d(),m(4,"div",4)),2&e&&(f("bind",t.bindhandle)("refresh",t.refreshhandle),c(2),f("touch",t.touchlist)("scrolltocenter",t.doscrolltocenter),c(1),f("ngForOf",t.options))},directives:[SN,Th,gt,Gn],styles:["[_nghost-%COMP%]{position:fixed;left:100%;top:0px;width:100%;height:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;z-index:10}[_nghost-%COMP%] > .back[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;width:100%;height:100%;background-color:#0009;opacity:0;display:flex;z-index:1}[_nghost-%COMP%] > app-svg-handle[_ngcontent-%COMP%]{width:20px;height:100px;z-index:2}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;flex:1;align-self:stretch;background-color:#fff;z-index:2}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{width:30px;height:30px;margin:10px 0 10px 10px;background-size:contain;background-repeat:no-repeat;background-position:center}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{margin:10px;color:#333;font-size:14px}"]}),i})();const FN=["*"];let Hl=(()=>{class i{constructor(e,t,o){this.asyncservice=e,this.host=t,this.locationService=o,this.touch=null,this.show=null,this.scrollable=!0,this.backable=!0,this.refreshable=!1,this.doscrolltocenter=!1,this.close=new L,this.scroll=null,this.stat="hide",this.disabled={scroll:!1,back:!1},this.velocity=0,this.timeout=setTimeout(()=>{},0)}processTouch(){if(this.touch){if("move"===this.touch.action&&"start"===this.touch.prev.action&&(Math.abs(this.touch.x-this.touch.prev.x)>Math.abs(this.touch.y-this.touch.prev.y)&&this.touch.x-this.touch.prev.x>0?(this.disabled.scroll=!0,this.disabled.back=!1):Math.abs(this.touch.x-this.touch.prev.x)<=Math.abs(this.touch.y-this.touch.prev.y)?(this.disabled.scroll=!1,this.disabled.back=!0):(this.disabled.scroll=!0,this.disabled.back=!0)),!this.disabled.scroll&&this.scrollable&&(this.scroll=this.touch),"move"===this.touch.action&&!this.disabled.back&&this.backable){this.touch.prev&&(this.velocity=this.touch.x-this.touch.prev.x),clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.velocity=0},100);let e=this.touch.x-this.touch.start.x;e<0&&(e=0),e>window.innerWidth&&(e=window.innerWidth),this.host.nativeElement.style.transform=`translateX(${e}px)`}"end"===this.touch.action&&this.touch.drag&&(!this.disabled.back&&this.backable&&(this.velocity>0?this.smoothClose():this.velocity<0?this.smoothShow():0==this.velocity&&(this.touch.x-this.touch.start.x>window.innerWidth/2?this.smoothClose():this.smoothShow())),this.disabled.scroll=!1,this.disabled.back=!1)}}smoothShow(){var e=this;return I(function*(){return e.stat="show",e.host.nativeElement.style.transition="all ease 0.2s",e.host.nativeElement.style.display="flex",yield e.asyncservice.delay(10),e.host.nativeElement.style.transform="translateX(0px)",yield e.asyncservice.delay(200),e.host.nativeElement.style.removeProperty("transition"),new Promise(t=>t())})()}smoothClose(){var e=this;return I(function*(){return e.stat="hide",e.host.nativeElement.style.transition="all ease 0.2s",yield e.asyncservice.delay(10),e.host.nativeElement.style.transform="translateX(100%)",yield e.asyncservice.delay(200),e.host.nativeElement.style.display="none",e.host.nativeElement.style.removeProperty("transition"),e.close.emit(),new Promise(t=>t())})()}showback(){var e=this;return I(function*(){let t=e.host.nativeElement.querySelector(".back"),o=e.host.nativeElement.querySelector(".wraplist");return t.style.transition="all ease 0.2s",o.style.transition="all ease 0.2s",yield e.asyncservice.delay(10),t.style.transform="translateY(0px)",o.style.height="calc(100% - 41px)",o.style.marginTop="41px",yield e.asyncservice.delay(200),t.style.removeProperty("transition"),o.style.removeProperty("transition"),new Promise(s=>s())})()}hideback(){var e=this;return I(function*(){let t=e.host.nativeElement.querySelector(".back"),o=e.host.nativeElement.querySelector(".wraplist");return t.style.transition="all ease 0.2s",o.style.transition="all ease 0.2s",yield e.asyncservice.delay(10),t.style.transform="translateY(-50px)",o.style.height="100%",o.style.marginTop="0",yield e.asyncservice.delay(200),t.style.removeProperty("transition"),o.style.removeProperty("transition"),new Promise(s=>s())})()}ngOnInit(){}ngOnChanges(e){if(e.show&&e.show.previousValue!==e.show.currentValue&&(e.show.currentValue&&"hide"===this.stat?this.smoothShow():!e.show.currentValue&&"show"===this.stat&&this.smoothClose()),e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch(),e.scrollable&&e.scrollable.previousValue!==e.scrollable.currentValue){const t=this.host.nativeElement.querySelector(".wraplist > app-touch-scroll > .list");e.scrollable.currentValue?t.style.removeProperty("height"):t.style.height="100%"}e.backable&&e.backable.previousValue!==e.backable.currentValue&&(e.backable.currentValue?this.showback():this.hideback())}}return i.\u0275fac=function(e){return new(e||i)(P(ve),P(q),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-touch-screen"]],inputs:{touch:"touch",show:"show",scrollable:"scrollable",backable:"backable",refreshable:"refreshable",doscrolltocenter:"doscrolltocenter"},outputs:{close:"close"},features:[re],ngContentSelectors:FN,decls:7,vars:4,consts:[[1,"back"],[1,"ico"],[1,"text"],[1,"wraplist"],[3,"refreshable","scrolltocenter","touch"]],template:function(e,t){1&e&&(xi(),h(0,"div",0),m(1,"div",1),h(2,"div",2),x(3),d(),d(),h(4,"div",3),h(5,"app-touch-scroll",4),Jn(6),d(),d()),2&e&&(c(3),D(t.locationService.translate("back","\u043d\u0430\u0437\u0430\u0434")),c(2),f("refreshable",t.refreshable)("scrolltocenter",t.doscrolltocenter)("touch",t.scroll))},directives:[Th],styles:["[_nghost-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;background-color:#fff;z-index:5;transform:translate(100%);display:none;box-shadow:0 0 5px #999}[_nghost-%COMP%] > app-touch-scroll[_ngcontent-%COMP%]{z-index:1}[_nghost-%COMP%] > .wraplist[_ngcontent-%COMP%]{width:100%;height:calc(100% - 41px);margin-top:41px;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start}[_nghost-%COMP%] > .back[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;background-color:#fff;border-bottom:1px solid #ddd;z-index:2}[_nghost-%COMP%] > .back[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:10px 0 10px 10px;width:20px;height:20px;background-image:url(arrow-back.be5ad6ef0f2a3d7b.svg)}[_nghost-%COMP%] > .back[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:10px;font-size:12px;color:#999}"]}),i})(),Ih=(()=>{class i{constructor(e){this.readfileservice=e}get(e){var t=this;return I(function*(){const o=500,s=500,r=document.createElement("canvas");r.setAttribute("width","500px"),r.setAttribute("height","500px");const a=r.getContext("2d");if("greetingcard"==e.type){let l=s,u=l*(297/420),p=e.front||"../../assets/greetingcard/front/1.png",g=yield t.readfileservice.getBase64ByUrl(p);g=yield t.readfileservice.getImageByUrl(g),a.drawImage(g,(o-u)/2,(s-l)/2,u,l)}else if("game"==e.type){let l=s,u=l*(135/190),p=.1*u,g=e.color||"#003791",_=e.front||"../../assets/game/example.jpg",v=yield t.readfileservice.getBase64ByUrl(_);v=yield t.readfileservice.getImageByUrl(v),a.beginPath(),a.arc((o-u)/2+p,(s-l)/2+p,p,0,2*Math.PI),a.closePath(),a.fillStyle=g,a.fill(),a.beginPath(),a.arc(o-(o-u)/2-p,(s-l)/2+p,p,0,2*Math.PI),a.closePath(),a.fillStyle=g,a.fill(),a.beginPath(),a.arc((o-u)/2+p,s-(s-l)/2-p,p,0,2*Math.PI),a.closePath(),a.fillStyle=g,a.fill(),a.beginPath(),a.arc(o-(o-u)/2-p,s-(s-l)/2-p,p,0,2*Math.PI),a.closePath(),a.fillStyle=g,a.fill(),a.beginPath(),a.rect((o-u)/2+p,(s-l)/2,u-2*p,2*p),a.closePath(),a.fillStyle=g,a.fill(),a.beginPath(),a.rect((o-u)/2+p,s-(s-l)/2-2*p,u-2*p,2*p),a.closePath(),a.fillStyle=g,a.fill(),a.drawImage(v,(o-u)/2,(s-l)/2+p,u,l-2*p)}else if("speaker"==e.type){const l=yield t.readfileservice.getImageByUrl("../../assets/speaker/snapshot.png");let u=null;e.grill&&""!==(null==e?void 0:e.grill)&&(u=yield t.readfileservice.getImageByUrl(e.grill));const p=yield t.readfileservice.getImageByUrl("../../assets/play-black.svg"),g=yield t.readfileservice.getImageByUrl("../../assets/pause-black.svg"),_=yield t.readfileservice.getImageByUrl("../../assets/prev-black.svg"),v=yield t.readfileservice.getImageByUrl("../../assets/next-black.svg");if(a.drawImage(l,0,0,o,s),u){const O=425,T=200;a.globalAlpha=.5,a.drawImage(u,(o-O)/2,(s-T)/2,O,T),a.globalAlpha=1}const w=55,M=25;a.fillStyle=e.color||"#ff5722",a.rect(250-2*w-1.5*M,225,w,w),a.rect(250-w-.5*M,225,w,w),a.rect(250+.5*M,225,w,w),a.rect(250+w+1.5*M,225,w,w),a.fill(),a.drawImage(p,250-2*w-1.5*M,225,w,w),a.drawImage(g,250-w-.5*M,225,w,w),a.drawImage(_,250+.5*M,225,w,w),a.drawImage(v,250+w+1.5*M,225,w,w)}else if("tablet"==e.type){const l=yield t.readfileservice.getImageByUrl("../../assets/tablet/snapshot.png");a.drawImage(l,0,0,o,s)}else if("photo"==e.type){let l=450,u=.75*l,p=e.photo||"../../assets/photo/example.jpg",g=yield t.readfileservice.getBase64ByUrl(p);g=yield t.readfileservice.getImageByUrl(g);const _=.9*u,v=.67*l,k=_/v,w=g.naturalWidth/g.naturalHeight;let M={x:0,y:0,w:0,h:0};k>=w?(M.h=v,M.w=M.h*w):k<w&&(M.w=_,M.h=M.w/w),M.x=(o-u)/2+(u-M.w)/2,M.y=(s-l)/2+.1*l+(v-M.h)/2,a.shadowColor="#ddd",a.shadowBlur=5,a.fillStyle="white",a.fillRect((o-u)/2,(s-l)/2,u,l),a.drawImage(g,M.x,M.y,M.w,M.h)}return r.toDataURL("image/png")})()}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(j(Co))},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const NN=[[["",8,"title"]],[["",8,"description"]]],BN=[".title",".description"];let VN=(()=>{class i{constructor(e,t){this.host=e,this.snapshotgiftservice=t,this.display="none"}snapshot(){var e=this;return I(function*(){const t=yield e.snapshotgiftservice.get({type:e.display});e.host.nativeElement.querySelector(".wrap > .display").style.backgroundImage="url("+t+")"})()}ngOnInit(){this.snapshot()}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(Ih))},i.\u0275cmp=X({type:i,selectors:[["app-touch-giftlistadd-option"]],inputs:{display:"display"},ngContentSelectors:BN,decls:6,vars:1,consts:[["matRipple","","matRippleColor","#00000011",1,"wrap"],[1,"display"],[1,"title"],[1,"description"]],template:function(e,t){1&e&&(xi(NN),h(0,"div",0),m(1,"div",1),h(2,"div",2),Jn(3),d(),h(4,"div",3),Jn(5,1),d(),d()),2&e&&$e("type",t.display)},directives:[Gn],styles:["[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .display[_ngcontent-%COMP%]{margin:10px;width:200px;height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{margin:0 10px 10px;color:#333;font-size:26px;text-align:center;user-select:none}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .description[_ngcontent-%COMP%]{margin:0 10px 10px;color:#333;font-size:16px;text-align:center;user-select:none}@keyframes rot{0%{transform:rotateY(0)}to{transform:rotateY(360deg)}}"]}),i})(),$i=(()=>{class i{constructor(e,t){this.linerSvgService=e,this.host=t,this.ratio1=297/420,this.ratio2=297,this.width=100,this.height=100/this.ratio1,this.depth=100/this.ratio2,this.font=20,this.size=100,this.front="../../assets/greetingcard/front/1.png",this.back="../../assets/greetingcard/back/1.jpg",this.text="",this.sign=[],this.color="#000",this.smooth=!1}get getWidth(){return this.width}get getHeight(){return this.height}get getDepth(){return this.depth}get getFont(){return this.font}set setWidth(e){this.width=e}set setHeight(e){this.height=e}set setDepth(e){this.depth=e}set setFont(e){this.font=e}setSize(e){this.setWidth=e,this.setHeight=e/this.ratio1,this.setDepth=e/this.ratio2,this.font=.06*this.getWidth,setTimeout(()=>{this.setSign()},10)}setSign(){let e=this.linerSvgService.getSvg(this.getWidth,.2*this.getHeight,this.sign);this.host.nativeElement.querySelector(".back > .sign").innerHTML="",this.host.nativeElement.querySelector(".back > .sign").innerHTML=e.outerHTML}ngOnInit(){}ngOnChanges(e){e.size&&e.size.previousValue!==e.size.currentValue&&this.setSize(e.size.currentValue),e.sign&&e.sign.previousValue!==e.sign.currentValue&&this.setSign(),e.text&&this.text&&(this.text=this.text.replace(/\n/g,"<br>"))}}return i.\u0275fac=function(e){return new(e||i)(P(ha),P(q))},i.\u0275cmp=X({type:i,selectors:[["app-greeting-card"]],hostVars:2,hostBindings:function(e,t){2&e&&V("smooth",t.smooth)},inputs:{size:"size",front:"front",back:"back",text:"text",sign:"sign",color:"color",smooth:"smooth"},features:[re],decls:4,vars:21,consts:[[1,"front"],[1,"back"],[1,"text",3,"innerHtml"],[1,"sign"]],template:function(e,t){1&e&&(m(0,"div",0),h(1,"div",1),m(2,"div",2),m(3,"div",3),d()),2&e&&(b("width",t.getWidth,"px")("height",t.getHeight,"px")("transform","translateZ("+t.getDepth/2+"px)")("background-image","url("+t.front+")"),c(1),b("width",t.getWidth,"px")("height",t.getHeight,"px")("transform","translateZ("+-t.getDepth/2+"px)")("background-image","url("+t.back+")"),c(1),b("font-size",t.getFont,"px")("color",t.color),f("innerHtml",t.text,Ku))},styles:['@import"https://fonts.googleapis.com/css2?family=Pacifico&display=swap";[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d;transform:rotateY(0)}[_nghost-%COMP%] > .front[_ngcontent-%COMP%], [_nghost-%COMP%] > .back[_ngcontent-%COMP%]{position:absolute;background-color:#fff}[_nghost-%COMP%] > .front[_ngcontent-%COMP%]{background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .back[_ngcontent-%COMP%]{background-position:center;background-size:25%;background-repeat:repeat;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%] > .back[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:0 10%;position:absolute;text-align:center;transform:rotateY(180deg);word-break:break-word;font-family:"Pacifico",cursive;user-select:none}[_nghost-%COMP%] > .back[_ngcontent-%COMP%] > .sign[_ngcontent-%COMP%]{position:absolute;bottom:0px;width:100%;height:20%;transform:rotateY(180deg);background-size:contain;background-position:center;background-repeat:no-repeat;display:flex;flex-direction:column;align-items:center;justify-content:center}.smooth[_nghost-%COMP%]{transition:all ease .2s}.smooth[_nghost-%COMP%]   *[_ngcontent-%COMP%]{transition:all ease .2s}']}),i})(),Xo=(()=>{class i{constructor(e,t){this.asyncservice=e,this.host=t,this.size=100,this.color="#003791",this.front="../../assets/game/example.jpg",this.inside="../../assets/game/game.png",this.side="../../assets/game/gameleft.png",this.code="WERB-NBHP-DXCV-ZZKL-UIFM",this.open=!1,this.smooth=!1,this.ratio1=135/190,this.ratio2=9,this.width=this.size,this.height=this.size/this.ratio1,this.depth=this.size/this.ratio2,this.rotateCover=0,this.sizeCorner=.1*this.width,this.sizePartCorner=this.sizeCorner/(Math.cos(.125*Math.PI)+Math.cos(.25*Math.PI)+Math.cos(.375*Math.PI)),this.shiftPartCorner1={x:this.sizePartCorner*Math.cos(.25*Math.PI)/2+this.sizePartCorner*Math.cos(.125*Math.PI)/2,y:this.sizePartCorner*Math.sin(.25*Math.PI)/2+this.sizePartCorner*Math.sin(.125*Math.PI)/2},this.shiftPartCorner2=this.sizePartCorner*Math.cos(.25*Math.PI)/2+this.sizePartCorner*Math.sin(.125*Math.PI),this.shiftPartCorner3={x:3*this.sizePartCorner*Math.cos(.125*Math.PI)/2,y:3*this.sizePartCorner*Math.sin(.125*Math.PI)/2},this.shiftPartCorner4={x:3*this.sizePartCorner*Math.cos(.25*Math.PI)/2,y:3*this.sizePartCorner*Math.sin(.25*Math.PI)/2}}setSize(){this.width=this.size,this.height=this.size/this.ratio1,this.depth=this.size/this.ratio2,this.sizeCorner=.1*this.width,this.sizePartCorner=this.sizeCorner/(Math.cos(.125*Math.PI)+Math.cos(.25*Math.PI)+Math.cos(.375*Math.PI)),this.shiftPartCorner1={x:this.sizePartCorner*Math.cos(.25*Math.PI)/2+this.sizePartCorner*Math.cos(.125*Math.PI)/2,y:this.sizePartCorner*Math.sin(.25*Math.PI)/2+this.sizePartCorner*Math.sin(.125*Math.PI)/2},this.shiftPartCorner2=this.sizePartCorner*Math.cos(.25*Math.PI)/2+this.sizePartCorner*Math.sin(.125*Math.PI),this.shiftPartCorner3={x:3*this.sizePartCorner*Math.cos(.125*Math.PI)/2,y:3*this.sizePartCorner*Math.sin(.125*Math.PI)/2},this.shiftPartCorner4={x:3*this.sizePartCorner*Math.cos(.25*Math.PI)/2,y:3*this.sizePartCorner*Math.sin(.25*Math.PI)/2}}setSizeSmooth(e,t){var o=this;return I(function*(){const s=o.smooth;return o.smooth=!1,o.host.nativeElement.style.transform.replace(/scale\([0-9|\.]*\)/,`scale(${e/t})`),o.size=t,o.setSize(),o.host.nativeElement.style.transform=o.host.nativeElement.style.transform.replace(/scale\([0-9|\.]*\)/,`scale(${e/t})`),o.depth=e/o.ratio2,yield o.asyncservice.delay(10),o.smooth=!0,yield o.asyncservice.delay(10),o.host.nativeElement.style.transform=o.host.nativeElement.style.transform.replace(/scale\([0-9|\.]*\)/,"scale(1)"),o.depth=t/o.ratio2,yield o.asyncservice.delay(300),o.smooth=s,new Promise(r=>r())})()}ngOnInit(){}ngOnChanges(e){e.size&&e.size.previousValue!==e.size.currentValue&&(this.smooth&&e.size.previousValue?this.setSizeSmooth(e.size.previousValue,e.size.currentValue):this.setSize()),e.open&&e.open.previousValue!==e.open.currentValue&&(this.rotateCover=e.open.currentValue?-180:0)}}return i.\u0275fac=function(e){return new(e||i)(P(ve),P(q))},i.\u0275cmp=X({type:i,selectors:[["app-game"]],hostVars:2,hostBindings:function(e,t){2&e&&V("smooth",t.smooth)},inputs:{size:"size",color:"color",front:"front",inside:"inside",side:"side",code:"code",open:"open",smooth:"smooth"},features:[re],decls:118,vars:795,consts:[[1,"lid","top"],[1,"front"],[1,"image"],[1,"overlap","top"],[1,"overlap","bottom"],[1,"back"],[1,"insideWrap"],[1,"left"],[1,"right"],[1,"top"],[1,"bottom"],[1,"corner"],[1,"part"],[1,"lid","bottom"],[1,"content"],[1,"text"],[1,"scratch"],[1,"code"]],template:function(e,t){1&e&&(h(0,"div",0),h(1,"div",1),m(2,"div",2),m(3,"div",3),m(4,"div",4),d(),h(5,"div",5),m(6,"div",6),h(7,"div",3),m(8,"div",6),d(),h(9,"div",4),m(10,"div",6),d(),d(),h(11,"div",7),m(12,"div",2),d(),m(13,"div",8),m(14,"div",9),m(15,"div",10),h(16,"div",11),m(17,"div",12),m(18,"div",12),m(19,"div",12),m(20,"div",12),m(21,"div",12),m(22,"div",12),m(23,"div",12),m(24,"div",12),m(25,"div",12),d(),h(26,"div",11),m(27,"div",12),m(28,"div",12),m(29,"div",12),m(30,"div",12),m(31,"div",12),m(32,"div",12),m(33,"div",12),m(34,"div",12),m(35,"div",12),d(),h(36,"div",11),m(37,"div",12),m(38,"div",12),m(39,"div",12),m(40,"div",12),m(41,"div",12),m(42,"div",12),m(43,"div",12),m(44,"div",12),m(45,"div",12),d(),h(46,"div",11),m(47,"div",12),m(48,"div",12),m(49,"div",12),m(50,"div",12),m(51,"div",12),m(52,"div",12),m(53,"div",12),m(54,"div",12),m(55,"div",12),d(),d(),h(56,"div",13),h(57,"div",1),h(58,"div",14),m(59,"div",15),h(60,"div",16),h(61,"div",17),x(62),d(),m(63,"canvas"),d(),d(),m(64,"div",6),h(65,"div",3),m(66,"div",6),d(),h(67,"div",4),m(68,"div",6),d(),d(),h(69,"div",5),m(70,"div",2),m(71,"div",3),m(72,"div",4),d(),h(73,"div",7),m(74,"div",2),d(),m(75,"div",8),m(76,"div",9),m(77,"div",10),h(78,"div",11),m(79,"div",12),m(80,"div",12),m(81,"div",12),m(82,"div",12),m(83,"div",12),m(84,"div",12),m(85,"div",12),m(86,"div",12),m(87,"div",12),d(),h(88,"div",11),m(89,"div",12),m(90,"div",12),m(91,"div",12),m(92,"div",12),m(93,"div",12),m(94,"div",12),m(95,"div",12),m(96,"div",12),m(97,"div",12),d(),h(98,"div",11),m(99,"div",12),m(100,"div",12),m(101,"div",12),m(102,"div",12),m(103,"div",12),m(104,"div",12),m(105,"div",12),m(106,"div",12),m(107,"div",12),d(),h(108,"div",11),m(109,"div",12),m(110,"div",12),m(111,"div",12),m(112,"div",12),m(113,"div",12),m(114,"div",12),m(115,"div",12),m(116,"div",12),m(117,"div",12),d(),d()),2&e&&(b("width",t.width+"px")("height",t.height+"px")("transform","translateZ("+t.depth/4+"px) rotateY("+t.rotateCover+"deg)"),c(1),b("width",t.width+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("background-image","url("+t.front+")"),c(1),b("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(-t.height/2+t.sizeCorner/2)+"px)")("background-color",t.color),c(1),b("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(t.height/2-t.sizeCorner/2)+"px)")("background-color",t.color),c(1),b("width",t.width+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateZ("+-t.depth/4+"px)")("background-color",t.color),c(1),b("background-image","url("+t.inside+")")("transform","translateZ(-0.1px) rotateY(180deg)"),c(1),b("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(-t.height/2+t.sizeCorner/2)+"px)")("background-color",t.color),c(1),b("background-image","url("+t.inside+")")("transform","translateZ(-0.1px) rotateY(180deg)"),c(1),b("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(t.height/2-t.sizeCorner/2)+"px)")("background-color",t.color),c(1),b("background-image","url("+t.inside+")")("transform","translateZ(-0.1px) rotateY(180deg)"),c(1),b("width",t.depth/2+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateX("+-t.width/2+"px) rotateY(-90deg)")("background-color",t.color),c(1),b("background-image","url("+t.side+")"),c(1),b("width",t.depth/2+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateX("+t.width/2+"px) rotateY(90deg)")("background-color",t.color),c(1),b("width",t.width-2*t.sizeCorner+"px")("height",t.depth/2+"px")("transform","translateY("+-t.height/2+"px) rotateX(90deg)")("background-color",t.color),c(1),b("width",t.width-2*t.sizeCorner+"px")("height",t.depth/2+"px")("transform","translateY("+t.height/2+"px) rotateX(-90deg)")("background-color",t.color),c(1),b("transform","translateX("+(-t.width/2+t.shiftPartCorner2)+"px) translateY("+(-t.height/2+t.shiftPartCorner2)+"px) rotateZ(270deg)"),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("transform","translateX("+(t.width/2-t.shiftPartCorner2)+"px) translateY("+(-t.height/2+t.shiftPartCorner2)+"px) rotateZ(0deg)"),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("transform","translateX("+(t.width/2-t.shiftPartCorner2)+"px) translateY("+(t.height/2-t.shiftPartCorner2)+"px) rotateZ(90deg)"),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("transform","translateX("+(-t.width/2+t.shiftPartCorner2)+"px) translateY("+(t.height/2-t.shiftPartCorner2)+"px) rotateZ(180deg)"),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.width+"px")("height",t.height+"px")("transform","translateZ(-"+t.depth/4+"px)"),c(1),b("width",t.width+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateZ("+t.depth/4+"px)")("background-color",t.color),c(2),b("font-size",.08*t.width+"px"),c(2),b("font-size",.04*t.width+"px"),c(1),D(t.code),c(1),$e("width",.8*t.width+"px")("height",.1*t.height+"px"),c(1),b("background-image","url("+t.inside+")"),c(1),b("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(-t.height/2+t.sizeCorner/2)+"px)")("background-color",t.color),c(1),b("background-image","url("+t.inside+")"),c(1),b("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(t.height/2-t.sizeCorner/2)+"px)")("background-color",t.color),c(1),b("background-image","url("+t.inside+")"),c(1),b("width",t.width+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateZ("+-t.depth/4+"px)")("background-color",t.color),c(2),b("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(-t.height/2+t.sizeCorner/2)+"px)")("background-color",t.color),c(1),b("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(t.height/2-t.sizeCorner/2)+"px)")("background-color",t.color),c(1),b("width",t.depth/2+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateX("+-t.width/2+"px) rotateY(-90deg)")("background-color",t.color),c(1),b("background-image","url("+t.side+")"),c(1),b("width",t.depth/2+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateX("+t.width/2+"px) rotateY(90deg)")("background-color",t.color),c(1),b("width",t.width-2*t.sizeCorner+"px")("height",t.depth/2+"px")("transform","translateY("+-t.height/2+"px) rotateX(90deg)")("background-color",t.color),c(1),b("width",t.width-2*t.sizeCorner+"px")("height",t.depth/2+"px")("transform","translateY("+t.height/2+"px) rotateX(-90deg)")("background-color",t.color),c(1),b("transform","translateX("+(-t.width/2+t.shiftPartCorner2)+"px) translateY("+(-t.height/2+t.shiftPartCorner2)+"px) rotateZ(270deg)"),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("transform","translateX("+(t.width/2-t.shiftPartCorner2)+"px) translateY("+(-t.height/2+t.shiftPartCorner2)+"px) rotateZ(0deg)"),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("transform","translateX("+(t.width/2-t.shiftPartCorner2)+"px) translateY("+(t.height/2-t.shiftPartCorner2)+"px) rotateZ(90deg)"),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("transform","translateX("+(-t.width/2+t.shiftPartCorner2)+"px) translateY("+(t.height/2-t.shiftPartCorner2)+"px) rotateZ(180deg)"),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),b("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%], [_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .overlap[_ngcontent-%COMP%], [_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%], [_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], [_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], [_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%], [_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%], [_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]   .insideWrap[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:translateZ(.1px)}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{transform-style:preserve-3d}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .overlap.top[_ngcontent-%COMP%]   .insideWrap[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:translateZ(.1px);background-position:74% 0%;background-size:25%}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .overlap.bottom[_ngcontent-%COMP%]   .insideWrap[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:translateZ(.1px);background-position:42% 0%;background-size:25%}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;height:100%;background-image:url(back.480e78baf4910a8a.jpg);background-position:center;background-size:cover;background-repeat:no-repeat;transform:translateZ(-.1px) rotateY(180deg)}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .insideWrap[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:translateZ(.1px);background-size:22%;background-position:88% 0%}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{transform-style:preserve-3d}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;transform:translateZ(.2px)}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:5%;color:#fff;font-family:Arial;text-align:center}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .scratch[_ngcontent-%COMP%]{margin:5%;width:80%;height:10%;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .scratch[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]{position:absolute;font-family:Arial;text-align:center;color:#ffeb3b}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .scratch[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .overlap.top[_ngcontent-%COMP%]   .insideWrap[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:translateZ(.1px);background-position:74% 0%;background-size:25%}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .overlap.bottom[_ngcontent-%COMP%]   .insideWrap[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:translateZ(.1px);background-position:42% 0%;background-size:25%}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center;background-size:cover;background-repeat:no-repeat;transform:translateZ(.1px)}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .insideWrap[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:translateZ(.1px);background-size:22%;background-position:88% 0%}[_nghost-%COMP%]   .lid.top[_ngcontent-%COMP%]{transform-origin:center left}[_nghost-%COMP%]   .lid.top[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .lid.top[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-position:100% center;background-size:200% 100%;background-repeat:no-repeat}[_nghost-%COMP%]   .lid.bottom[_ngcontent-%COMP%]{transform-origin:center left}[_nghost-%COMP%]   .lid.bottom[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .lid.bottom[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-position:0% center;background-size:200% 100%;background-repeat:no-repeat}.animate[_nghost-%COMP%]{animation-name:rotate;animation-timing-function:linear;animation-duration:5s;animation-iteration-count:infinite}@keyframes rotate{0%{transform:rotateY(0)}to{transform:rotateY(360deg)}}.smooth[_nghost-%COMP%]{transition:all ease .2s}.smooth[_nghost-%COMP%]   *[_ngcontent-%COMP%]{transition:all ease .2s}"]}),i})(),bo=(()=>{class i{constructor(e,t){this.asyncservice=e,this.host=t,this.size=300,this.color="#ff5722",this.smooth=!1,this.grill="../../assets/speaker/grill/0.png",this.timer=null,this.button="none",this.ratio=299/136,this.math=Math,this.width=this.size,this.height=this.size/this.ratio,this.depth=this.size/this.ratio,this.heightSide=this.height/2*Math.sin(2*Math.PI/360*36)/Math.sin(2*Math.PI/360*72)}setSize(){this.width=this.size,this.height=this.size/this.ratio,this.depth=this.size/this.ratio,this.heightSide=this.height/2*Math.sin(2*Math.PI/360*36)/Math.sin(2*Math.PI/360*72)}animatePlay(e){const t=this.host.nativeElement.querySelector(".button.play > svg > polygon:nth-child(1) > animate:nth-child(1)");e?t.beginElement():t.endElement()}animatePause(e){const t=this.host.nativeElement.querySelector(".button.pause > svg > polygon:nth-child(1) > animate:nth-child(1)"),o=this.host.nativeElement.querySelector(".button.pause > svg > polygon:nth-child(2) > animate:nth-child(1)");e?(t.beginElement(),o.beginElement()):(t.endElement(),o.endElement())}animatePrev(){const e=this.host.nativeElement.querySelector(".button.prev > svg > polygon:nth-child(1) > animate:nth-child(1)"),t=this.host.nativeElement.querySelector(".button.prev > svg > polygon:nth-child(2) > animate:nth-child(1)");e.beginElement(),t.beginElement()}animateNext(){const e=this.host.nativeElement.querySelector(".button.next > svg > polygon:nth-child(1) > animate:nth-child(1)"),t=this.host.nativeElement.querySelector(".button.next > svg > polygon:nth-child(2) > animate:nth-child(1)");e.beginElement(),t.beginElement()}ngOnInit(){}ngOnChanges(e){e.size&&e.size.previousValue!==e.size.currentValue&&this.setSize(),e.button&&e.button.previousValue!==e.button.currentValue&&("play"===e.button.currentValue?(this.animatePlay(!0),this.animatePause(!1)):"pause"===e.button.currentValue?(this.animatePlay(!1),this.animatePause(!0)):"prev"===e.button.currentValue?this.animatePrev():"next"===e.button.currentValue?this.animateNext():"none"===e.button.currentValue&&(this.animatePlay(!1),this.animatePause(!1)))}}return i.\u0275fac=function(e){return new(e||i)(P(ve),P(q))},i.\u0275cmp=X({type:i,selectors:[["app-speaker"]],hostVars:2,hostBindings:function(e,t){2&e&&V("smooth",t.smooth)},inputs:{size:"size",color:"color",smooth:"smooth",grill:"grill",timer:"timer",button:"button"},features:[re],decls:46,vars:187,consts:[[1,"round"],[1,"side"],[1,"grill"],[1,"button","next"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 100 100"],["points","20,30 50,50 20,70","fill","#000000"],["attributeName","fill","values","#000000; #ffffff; #000000","dur","0.2s","begin","indefinite","repeatCount","1"],["points","50,30 80,50 50,70","fill","#000000"],[1,"button","prev"],["points","20,50 50,30 50,70","fill","#000000"],["points","50,50 80,30 80,70","fill","#000000"],[1,"button","pause"],["points","20,20 40,20 40,80 20,80","fill","#000000"],["attributeName","fill","values","#000000; #ffffff; #000000","dur","2s","begin","indefinite","repeatCount","indefinite"],["points","60,20 80,20 80,80 60,80","fill","#000000"],[1,"button","play"],["points","20,20 80,50 20,80","fill","#000000"]],template:function(e,t){1&e&&(m(0,"div",0),m(1,"div",0),h(2,"div",1),m(3,"div",2),h(4,"div",1),m(5,"div",2),h(6,"div",1),h(7,"div",3),yi(),h(8,"svg",4),h(9,"polygon",5),m(10,"animate",6),d(),h(11,"polygon",7),m(12,"animate",6),d(),d(),d(),ws(),h(13,"div",8),yi(),h(14,"svg",4),h(15,"polygon",9),m(16,"animate",6),d(),h(17,"polygon",10),m(18,"animate",6),d(),d(),d(),ws(),h(19,"div",11),yi(),h(20,"svg",4),h(21,"polygon",12),m(22,"animate",13),d(),h(23,"polygon",14),m(24,"animate",13),d(),d(),d(),ws(),h(25,"div",15),yi(),h(26,"svg",4),h(27,"polygon",16),m(28,"animate",13),d(),d(),d(),ws(),m(29,"div",2),h(30,"div",1),h(31,"div"),x(32),d(),m(33,"div",2),h(34,"div",1),m(35,"div",2),h(36,"div",1),m(37,"div",2),h(38,"div",1),m(39,"div",2),h(40,"div",1),m(41,"div",2),h(42,"div",1),m(43,"div",2),h(44,"div",1),m(45,"div",2),d(),d(),d(),d(),d(),d(),d(),d(),d(),d()),2&e&&(b("width",t.depth,"px")("height",t.height,"px")("transform","translateX("+-t.width/2+"px) translateY("+.15*t.height+"px) rotateY(90deg)"),c(1),b("width",t.depth,"px")("height",t.height,"px")("transform","translateX("+t.width/2+"px) translateY("+.15*t.height+"px) rotateY(-90deg)"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+t.height/2+"px) translateZ(0px) rotateX(72deg)"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+3*t.heightSide+"px"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+4*t.heightSide+"px"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),b("width",.8*t.heightSide,"px")("height",.8*t.heightSide,"px")("margin","0px "+.1*t.heightSide+"px")("background-color",t.color),c(6),b("width",.8*t.heightSide,"px")("height",.8*t.heightSide,"px")("margin","0px "+.1*t.heightSide+"px")("background-color",t.color),c(6),b("width",.8*t.heightSide,"px")("height",.8*t.heightSide,"px")("margin","0px "+.1*t.heightSide+"px")("background-color",t.color),c(6),b("width",.8*t.heightSide,"px")("height",.8*t.heightSide,"px")("margin","0px "+.1*t.heightSide+"px")("background-color",t.color),c(4),b("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+5*t.heightSide+"px"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),Vo(null===t.timer?"timer hidden":"timer"),c(1),D(null===t.timer?"0":t.timer),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+6*t.heightSide+"px"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+7*t.heightSide+"px"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+8*t.heightSide+"px"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+9*t.heightSide+"px"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+10*t.heightSide+"px"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+11*t.heightSide+"px"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),b("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+12*t.heightSide+"px"))},styles:['@font-face{font-family:"digital";src:url(digital.9c7b3b699450cd86.ttf)}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;transform:rotateX(0) rotateY(180deg);transform-style:preserve-3d}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:row;align-items:center;justify-content:center;transform-origin:center bottom;transform-style:preserve-3d;background-image:url(grill.adf183168f71417d.jpg);background-repeat:repeat;background-position:center;background-size:20%;flex-shrink:0}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:60px;font-weight:bold;color:#00bcd4;text-shadow:0px 0px 4px #00bcd4;text-align:center;transition:all ease;transform:rotateY(180deg);font-family:digital}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .timer.hidden[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .side[_ngcontent-%COMP%] > .grill[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;z-index:0;opacity:.3;background-repeat:repeat;background-position:auto 0px;background-size:100% auto;transform:rotateY(180deg)}[_nghost-%COMP%]   .round[_ngcontent-%COMP%]{position:absolute;border-radius:1000px;background-color:#666;background-image:url(speaker.9bde34978bcfdb16.png);background-repeat:no-repeat;background-position:center;background-size:contain}[_nghost-%COMP%]   .button[_ngcontent-%COMP%]{background:#ff5722;z-index:1;transform:rotateY(180deg);display:flex;flex-direction:column;align-items:center;justify-content:center}.smooth[_nghost-%COMP%]{transition:all ease .2s}.smooth[_nghost-%COMP%]   *[_ngcontent-%COMP%]{transition:all ease .2s}@media (pointer: coarse){.smooth[_nghost-%COMP%]{transition:none}.smooth[_nghost-%COMP%]   *[_ngcontent-%COMP%]{transition:none}}']}),i})(),wo=(()=>{class i{constructor(e,t){this.host=e,this.asyncService=t,this.video="",this.control="none",this.size=600,this.color="#C0C0C0",this.smooth=!1,this.math=Math,this.ratio1=247/178,this.ratio2=247/6,this.width=this.size,this.height=this.size/this.ratio1,this.depth=this.size/this.ratio2,this.radius=.05*this.width,this.widthpath=this.radius*Math.sin(2*Math.PI/360*30)/Math.sin(2*Math.PI/360*75),this.opacityIcon="0"}setSize(){this.width=this.size,this.height=this.size/this.ratio1,this.depth=this.size/this.ratio2,this.radius=.05*this.width,this.widthpath=this.radius*Math.sin(2*Math.PI/360*30)/Math.sin(2*Math.PI/360*75)}play(){var e=this;return I(function*(){try{yield e.host.nativeElement.querySelector(".screen > .display > .video").play()}catch(t){yield e.asyncService.delay(500),e.play()}})()}pause(){this.host.nativeElement.querySelector(".screen > .display > .video").pause()}prev(){this.host.nativeElement.querySelector(".screen > .display > .video").currentTime-=5}next(){this.host.nativeElement.querySelector(".screen > .display > .video").currentTime+=5}showIcon(e){var t=this;return I(function*(){let o=t.host.nativeElement.querySelector(".screen > .display > .icon");return"play"===e?o.style.backgroundImage="url(../../assets/play.svg)":"pause"===e?o.style.backgroundImage="url(../../assets/pause.svg)":"prev"===e?o.style.backgroundImage="url(../../assets/prev.svg)":"next"===e&&(o.style.backgroundImage="url(../../assets/next.svg)"),yield t.asyncService.delay(10),t.opacityIcon="1",yield t.asyncService.delay(200),t.opacityIcon="0",yield t.asyncService.delay(200),new Promise(s=>s())})()}endVideo(){this.play()}ngOnInit(){}ngOnChanges(e){e.size&&e.size.previousValue!==e.size.currentValue&&this.setSize(),e.control&&("play"===e.control.currentValue?(this.play(),this.showIcon("play")):"pause"===e.control.currentValue?(this.pause(),this.showIcon("pause")):"prev"===e.control.currentValue?(this.prev(),this.showIcon("prev")):"next"===e.control.currentValue&&(this.next(),this.showIcon("next"))),e.video&&e.video.currentValue&&""!==e.video.currentValue&&setTimeout(()=>{this.host.nativeElement.querySelector(".screen > .display > .video").setAttribute("src",this.video)},1e3)}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(ve))},i.\u0275cmp=X({type:i,selectors:[["app-tablet"]],hostVars:2,hostBindings:function(e,t){2&e&&V("smooth",t.smooth)},inputs:{video:"video",control:"control",size:"size",color:"color",smooth:"smooth"},features:[re],decls:26,vars:159,consts:[[1,"screen"],[1,"display"],[1,"video",3,"ended"],[1,"icon"],[1,"body"],[1,"gradient"],[1,"side"],[1,"corner"],[1,"part"]],template:function(e,t){1&e&&(h(0,"div",0),h(1,"div",1),h(2,"video",2),C("ended",function(){return t.endVideo()}),d(),m(3,"div",3),d(),d(),h(4,"div",4),m(5,"div",5),d(),m(6,"div",6),m(7,"div",6),m(8,"div",6),m(9,"div",6),h(10,"div",7),m(11,"div",8),m(12,"div",8),m(13,"div",8),d(),h(14,"div",7),m(15,"div",8),m(16,"div",8),m(17,"div",8),d(),h(18,"div",7),m(19,"div",8),m(20,"div",8),m(21,"div",8),d(),h(22,"div",7),m(23,"div",8),m(24,"div",8),m(25,"div",8),d()),2&e&&(b("width",t.width+"px")("height",t.height+"px")("border-radius",t.radius+"px")("transform","translateZ("+t.depth/2+"px)"),c(1),b("border-radius",t.radius+"px"),c(1),$e("src",t.video,Qu),c(1),b("opacity",t.opacityIcon),c(1),b("width",t.width+"px")("height",t.height+"px")("border-radius",t.radius+"px")("transform","translateZ("+-t.depth/2+"px)")("background-color",t.color),c(2),b("width",t.height-2*t.radius+"px")("height",t.depth+"px")("transform","translateX("+-t.width/2+"px) translateY(0px) rotateX(90deg) rotateY(90deg)")("background-color",t.color),c(1),b("width",t.height-2*t.radius+"px")("height",t.depth+"px")("transform","translateX("+t.width/2+"px) translateY(0px) rotateX(-90deg) rotateY(90deg)")("background-color",t.color),c(1),b("width",t.width-2*t.radius+"px")("height",t.depth+"px")("transform","translateX(0px) translateY("+-t.height/2+"px) rotateX(90deg) rotateY(0deg)")("background-color",t.color),c(1),b("width",t.width-2*t.radius+"px")("height",t.depth+"px")("transform","translateX(0px) translateY("+t.height/2+"px) rotateX(-90deg) rotateY(0deg)")("background-color",t.color),c(1),b("transform","translateX("+(-t.width/2+t.radius)+"px) translateY("+(-t.height/2+t.radius)+"px)"),c(1),b("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.radius+t.widthpath/2*t.math.cos(2*t.math.PI/360*75))+"px) translateY("+-t.widthpath/2*t.math.sin(2*t.math.PI/360*75)+"px) rotateX(90deg) rotateY(-75deg)")("background-color",t.color),c(1),b("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.widthpath*t.math.cos(2*t.math.PI/360*15)-t.widthpath/2*t.math.cos(2*t.math.PI/360*45))+"px) translateY("+(-t.widthpath*t.math.sin(2*t.math.PI/360*75)-t.widthpath/2*t.math.sin(2*t.math.PI/360*45))+"px) rotateX(90deg) rotateY(-45deg)")("background-color",t.color),c(1),b("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+-t.widthpath/2*t.math.cos(2*t.math.PI/360*15)+"px) translateY("+(-t.radius+t.widthpath/2*t.math.sin(2*t.math.PI/360*15))+"px) rotateX(90deg) rotateY(-15deg)")("background-color",t.color),c(1),b("transform","translateX("+(t.width/2-t.radius)+"px) translateY("+(-t.height/2+t.radius)+"px) rotateZ(90deg)"),c(1),b("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.radius+t.widthpath/2*t.math.cos(2*t.math.PI/360*75))+"px) translateY("+-t.widthpath/2*t.math.sin(2*t.math.PI/360*75)+"px) rotateX(90deg) rotateY(-75deg)")("background-color",t.color),c(1),b("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.widthpath*t.math.cos(2*t.math.PI/360*15)-t.widthpath/2*t.math.cos(2*t.math.PI/360*45))+"px) translateY("+(-t.widthpath*t.math.sin(2*t.math.PI/360*75)-t.widthpath/2*t.math.sin(2*t.math.PI/360*45))+"px) rotateX(90deg) rotateY(-45deg)")("background-color",t.color),c(1),b("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+-t.widthpath/2*t.math.cos(2*t.math.PI/360*15)+"px) translateY("+(-t.radius+t.widthpath/2*t.math.sin(2*t.math.PI/360*15))+"px) rotateX(90deg) rotateY(-15deg)")("background-color",t.color),c(1),b("transform","translateX("+(-t.width/2+t.radius)+"px) translateY("+(t.height/2-t.radius)+"px) rotateZ(270deg)"),c(1),b("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.radius+t.widthpath/2*t.math.cos(2*t.math.PI/360*75))+"px) translateY("+-t.widthpath/2*t.math.sin(2*t.math.PI/360*75)+"px) rotateX(90deg) rotateY(-75deg)")("background-color",t.color),c(1),b("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.widthpath*t.math.cos(2*t.math.PI/360*15)-t.widthpath/2*t.math.cos(2*t.math.PI/360*45))+"px) translateY("+(-t.widthpath*t.math.sin(2*t.math.PI/360*75)-t.widthpath/2*t.math.sin(2*t.math.PI/360*45))+"px) rotateX(90deg) rotateY(-45deg)")("background-color",t.color),c(1),b("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+-t.widthpath/2*t.math.cos(2*t.math.PI/360*15)+"px) translateY("+(-t.radius+t.widthpath/2*t.math.sin(2*t.math.PI/360*15))+"px) rotateX(90deg) rotateY(-15deg)")("background-color",t.color),c(1),b("transform","translateX("+(t.width/2-t.radius)+"px) translateY("+(t.height/2-t.radius)+"px) rotateZ(180deg)"),c(1),b("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.radius+t.widthpath/2*t.math.cos(2*t.math.PI/360*75))+"px) translateY("+-t.widthpath/2*t.math.sin(2*t.math.PI/360*75)+"px) rotateX(90deg) rotateY(-75deg)")("background-color",t.color),c(1),b("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.widthpath*t.math.cos(2*t.math.PI/360*15)-t.widthpath/2*t.math.cos(2*t.math.PI/360*45))+"px) translateY("+(-t.widthpath*t.math.sin(2*t.math.PI/360*75)-t.widthpath/2*t.math.sin(2*t.math.PI/360*45))+"px) rotateX(90deg) rotateY(-45deg)")("background-color",t.color),c(1),b("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+-t.widthpath/2*t.math.cos(2*t.math.PI/360*15)+"px) translateY("+(-t.radius+t.widthpath/2*t.math.sin(2*t.math.PI/360*15))+"px) rotateX(90deg) rotateY(-15deg)")("background-color",t.color))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;transform:rotateX(0) rotateY(0);transform-style:preserve-3d}[_nghost-%COMP%] > .screen[_ngcontent-%COMP%]{position:absolute;background-color:#000;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%] > .screen[_ngcontent-%COMP%] > .display[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;width:96%;height:96%;background-color:#222;overflow:hidden}[_nghost-%COMP%] > .screen[_ngcontent-%COMP%] > .display[_ngcontent-%COMP%] > .video[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute}[_nghost-%COMP%] > .screen[_ngcontent-%COMP%] > .display[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{width:30%;height:30%;background-position:center;background-size:contain;background-repeat:no-repeat;opacity:0;transition:all ease .2s}[_nghost-%COMP%] > .body[_ngcontent-%COMP%]{position:absolute;overflow:hidden}[_nghost-%COMP%] > .body[_ngcontent-%COMP%] > .gradient[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(45deg,#00000066,#00000000)}[_nghost-%COMP%] > .corner[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d;transform-origin:right bottom}[_nghost-%COMP%] > .corner[_ngcontent-%COMP%] > .part[_ngcontent-%COMP%]{position:absolute;background-color:#71797e}[_nghost-%COMP%] > .side[_ngcontent-%COMP%]{position:absolute;background-color:#71797e}.smooth[_nghost-%COMP%]{transition:all ease .2s}.smooth[_nghost-%COMP%]   *[_ngcontent-%COMP%]{transition:all ease .2s}"]}),i})(),Yi=(()=>{class i{constructor(e,t){this.linerSvgService=e,this.host=t,this.size=100,this.photo="../../assets/photo/example.jpg",this.sign=[],this.smooth=!1,this.ratio1=.75,this.ratio2=480,this.width=this.size,this.height=this.size/this.ratio1,this.depth=this.size/this.ratio2}setSize(){this.width=this.size,this.height=this.size/this.ratio1,this.depth=this.size/this.ratio2,setTimeout(()=>{this.setSign()},50)}setSign(){let e=this.linerSvgService.getSvg(this.width,this.height,this.sign);this.host.nativeElement.querySelector(".back > .sign").innerHTML="",this.host.nativeElement.querySelector(".back > .sign").innerHTML=e.outerHTML}ngOnInit(){}ngOnChanges(e){e.size&&e.size.previousValue!==e.size.currentValue&&this.setSize(),e.sign&&e.sign.previousValue!==e.sign.currentValue&&this.setSign()}}return i.\u0275fac=function(e){return new(e||i)(P(ha),P(q))},i.\u0275cmp=X({type:i,selectors:[["app-photo"]],hostVars:2,hostBindings:function(e,t){2&e&&V("smooth",t.smooth)},inputs:{size:"size",photo:"photo",sign:"sign",smooth:"smooth"},features:[re],decls:4,vars:14,consts:[[1,"front"],[1,"photo"],[1,"back"],[1,"sign"]],template:function(e,t){1&e&&(h(0,"div",0),m(1,"div",1),d(),h(2,"div",2),m(3,"div",3),d()),2&e&&(b("width",t.width+"px")("height",t.height+"px")("transform","translateZ("+t.depth/2+"px)"),c(1),b("background-image","url("+t.photo+")"),c(1),b("width",t.width+"px")("height",t.height+"px")("transform","translateZ("+-t.depth/2+"px)"))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;transform:rotateX(0) rotateY(0);transform-style:preserve-3d;transform:rotateY(0)}[_nghost-%COMP%] > .front[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;box-shadow:0 0 5px #ddd;background:linear-gradient(45deg,#eee,#fff)}[_nghost-%COMP%] > .front[_ngcontent-%COMP%] > .photo[_ngcontent-%COMP%]{margin-top:10%;width:90%;height:67%;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .back[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(45deg,#eee,#fff)}[_nghost-%COMP%] > .back[_ngcontent-%COMP%] > .sign[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:rotateY(180deg);background-size:contain;background-position:center;background-repeat:no-repeat;display:flex;flex-direction:column;align-items:center;justify-content:center}.smooth[_nghost-%COMP%]{transition:all ease .2s}.smooth[_nghost-%COMP%]   *[_ngcontent-%COMP%]{transition:all ease .2s}"]}),i})();function LN(i,n){if(1&i&&m(0,"app-greeting-card",10),2&i){const e=y();f("size",e.width)("smooth",!0)("front",e.gift.front)("back",e.gift.back)("text",e.gift.text)("color",e.gift.color)("sign",e.giftsign)}}function zN(i,n){if(1&i&&m(0,"app-game",11),2&i){const e=y();f("size",e.width)("front",e.gift.front)("inside",e.gift.inside)("code",e.gift.code)("side",e.gift.side)("color",e.gift.color)("open",e.gift.open)("smooth",!0)}}function GN(i,n){if(1&i&&m(0,"app-speaker",12),2&i){const e=y();f("size",e.width)("grill",e.gift.grill)("color",e.gift.color)("smooth",!0)}}function jN(i,n){if(1&i&&m(0,"app-tablet",13),2&i){const e=y();f("size",e.width)("color",e.gift.color)("smooth",!0)}}function HN(i,n){if(1&i&&m(0,"app-photo",14),2&i){const e=y();f("size",e.width)("photo",e.gift.photo)("sign",e.giftsign)("smooth",!0)}}function UN(i,n){if(1&i&&(h(0,"div",15),h(1,"div",8),x(2),d(),m(3,"div",7),d()),2&i){const e=y();c(2),D(e.buttomText),c(1),b("background-image","url(../../assets/arrow-right-sidebar2.svg)")}}let o2=(()=>{class i{constructor(e,t,o){this.asyncservice=e,this.host=t,this.locationService=o,this.math=Math,this.gift=null,this.sublimerefresh=!1,this.buttomText=this.locationService.translate("change object parameters in the right sidebar","\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e\u0434\u0430\u0440\u043a\u0430 \u0432 \u043f\u0440\u0430\u0432\u043e\u043c \u043c\u0435\u043d\u044e"),this.width=0,this.height=0,this.startrot=[0,0],this.rotateDisplayX=0,this.rotateDisplayY=0,this.intervalRotate=setInterval(()=>{},1e4),this.giftsign=[],this.mode="usual",this.touch=null}setsize(){if(null===this.gift)return;let e=0;"greetingcard"===this.gift.type?e=297/420:"game"===this.gift.type?e=135/190:"speaker"===this.gift.type?e=299/136:"tablet"===this.gift.type?e=247/178:"photo"===this.gift.type&&(e=.75);let t=0,o=0;e>=window.innerWidth/window.innerHeight?(t=.8*window.innerWidth,o=t/e):e<window.innerWidth/window.innerHeight&&(o=.8*window.innerHeight,t=o*e),"usual"===this.mode&&(t*=.5,o*=.5),this.width=t,this.height=o}smoothsetusual(){var e=this;return I(function*(){return clearInterval(e.intervalRotate),yield e.asyncservice.delay(10),e.host.nativeElement.querySelector(".hintview").style.top="47%",e.host.nativeElement.querySelector(".hintsidebar")&&(e.host.nativeElement.querySelector(".hintsidebar").style.bottom="0%"),e.intervalRotate=setInterval(()=>{e.rotateDisplayY++,e.rotateDisplayY>360&&(e.rotateDisplayY=0)},10),new Promise(t=>t())})()}smoothsetreview(){var e=this;return I(function*(){return clearInterval(e.intervalRotate),yield e.asyncservice.delay(10),e.host.nativeElement.querySelector(".hintview").style.top="5%",e.host.nativeElement.querySelector(".hintsidebar")&&(e.host.nativeElement.querySelector(".hintsidebar").style.bottom="-10%"),yield e.asyncservice.delay(200),new Promise(t=>t())})()}rot(){null===this.touch||"review"!==this.mode||("start"===this.touch.action&&(this.startrot=[this.rotateDisplayX,this.rotateDisplayY]),"move"===this.touch.action&&(this.rotateDisplayY=(this.startrot[1]+(this.touch.x-this.touch.start.x))%360))}ngOnInit(){}ngOnChanges(e){e.sublimerefresh&&e.sublimerefresh.previousValue!=e.sublimerefresh.currentValue&&void 0!==e.sublimerefresh.previousValue&&("greetingcard"===this.gift.type||"photo"===this.gift.type)&&(this.giftsign=this.gift.sign),e.gift&&e.gift.previousValue!=e.gift.currentValue&&this.setsize(),e.mode&&e.mode.previousValue!=e.mode.currentValue&&("usual"==e.mode.currentValue?this.smoothsetusual():"review"==e.mode.currentValue&&this.smoothsetreview(),this.setsize()),e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.rot()}}return i.\u0275fac=function(e){return new(e||i)(P(ve),P(q),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-touch-view-gift"]],inputs:{gift:"gift",sublimerefresh:"sublimerefresh",buttomText:"buttomText",mode:"mode",touch:"touch"},features:[re],decls:11,vars:15,consts:[[1,"display"],[3,"size","smooth","front","back","text","color","sign",4,"ngIf"],[3,"size","front","inside","code","side","color","open","smooth",4,"ngIf"],[3,"size","grill","color","smooth",4,"ngIf"],[3,"size","color","smooth",4,"ngIf"],[3,"size","photo","sign","smooth",4,"ngIf"],[1,"hintview"],[1,"ico"],[1,"text"],["class","hintsidebar",4,"ngIf"],[3,"size","smooth","front","back","text","color","sign"],[3,"size","front","inside","code","side","color","open","smooth"],[3,"size","grill","color","smooth"],[3,"size","color","smooth"],[3,"size","photo","sign","smooth"],[1,"hintsidebar"]],template:function(e,t){1&e&&(h(0,"div",0),S(1,LN,1,7,"app-greeting-card",1),S(2,zN,1,8,"app-game",2),S(3,GN,1,4,"app-speaker",3),S(4,jN,1,3,"app-tablet",4),S(5,HN,1,4,"app-photo",5),d(),h(6,"div",6),m(7,"div",7),h(8,"div",8),x(9),d(),d(),S(10,UN,4,3,"div",9)),2&e&&(b("width",t.width,"px")("height",t.height,"px")("transform","rotateX("+t.rotateDisplayX+"deg) rotateY("+t.rotateDisplayY+"deg)"),c(1),f("ngIf","greetingcard"===(null==t.gift?null:t.gift.type)),c(1),f("ngIf","game"===(null==t.gift?null:t.gift.type)),c(1),f("ngIf","speaker"===(null==t.gift?null:t.gift.type)),c(1),f("ngIf","tablet"===(null==t.gift?null:t.gift.type)),c(1),f("ngIf","photo"===(null==t.gift?null:t.gift.type)),c(2),b("background-image","url(../../assets/loupe.svg)"),c(2),D(t.locationService.translate("double tap","\u0434\u0432\u043e\u0439\u043d\u043e\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u0435")),c(1),f("ngIf",t.buttomText))},directives:[Re,$i,Xo,bo,wo,Yi],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;perspective:2000px}[_nghost-%COMP%] > .display[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%] > .display[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%] > .hintview[_ngcontent-%COMP%]{top:47%;position:absolute;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#0006;border-radius:50px;transform:translateZ(10px);transition:all ease .2s}[_nghost-%COMP%] > .hintview[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:5px 0 5px 5px;width:20px;height:20px;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .hintview[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:5px;font-size:10px;color:#fff;user-select:none;text-align:center}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:0px;display:flex;flex-direction:row;align-items:center;justify-content:center;transition:all ease .2s}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:10px;font-size:12px;color:#999;text-align:right;user-select:none}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:10px 10px 10px 0;width:20px;height:20px;background-position:center;background-size:contain;background-repeat:no-repeat}@keyframes rot{0%{transform:rotateY(0)}to{transform:rotateY(360deg)}}"]}),i})();class s2{}class r2{}class Wi{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const o=e.slice(0,t),s=o.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(r):this.headers.set(s,[r])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let t=n[e];const o=e.toLowerCase();"string"==typeof t&&(t=[t]),t.length>0&&(this.headers.set(o,t),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Wi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Wi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Wi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let t=n.value;if("string"==typeof t&&(t=[t]),0===t.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...t),this.headers.set(e,o);break;case"d":const s=n.value;if(s){let r=this.headers.get(e);if(!r)return;r=r.filter(a=>-1===s.indexOf(a)),0===r.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,r)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class $N{encodeKey(n){return a2(n)}encodeValue(n){return a2(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const WN=/%(\d[a-f0-9])/gi,qN={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function a2(i){return encodeURIComponent(i).replace(WN,(n,e)=>{var t;return null!=(t=qN[e])?t:n})}function l2(i){return`${i}`}class Ko{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new $N,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,n){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[r,a]=-1==s?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,s)),n.decodeValue(o.slice(s+1))],l=e.get(r)||[];l.push(a),e.set(r,l)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const t=n.fromObject[e];this.map.set(e,Array.isArray(t)?t:[t])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(t=>{const o=n[t];Array.isArray(o)?o.forEach(s=>{e.push({param:t,value:s,op:"a"})}):e.push({param:t,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Ko({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(l2(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let t=this.map.get(n.param)||[];const o=t.indexOf(l2(n.value));-1!==o&&t.splice(o,1),t.length>0?this.map.set(n.param,t):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class ZN{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}keys(){return this.map.keys()}}function u2(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function c2(i){return"undefined"!=typeof Blob&&i instanceof Blob}function h2(i){return"undefined"!=typeof FormData&&i instanceof FormData}class Ul{constructor(n,e,t,o){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==t?t:null,s=o):s=t,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Wi),this.context||(this.context=new ZN),this.params){const r=this.params.toString();if(0===r.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+r}}else this.params=new Ko,this.urlWithParams=e}serializeBody(){return null===this.body?null:u2(this.body)||c2(this.body)||h2(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Ko?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||h2(this.body)?null:c2(this.body)?this.body.type||null:u2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ko?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var g;const e=n.method||this.method,t=n.url||this.url,o=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,r=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let l=n.headers||this.headers,u=n.params||this.params;const p=null!=(g=n.context)?g:this.context;return void 0!==n.setHeaders&&(l=Object.keys(n.setHeaders).reduce((_,v)=>_.set(v,n.setHeaders[v]),l)),n.setParams&&(u=Object.keys(n.setParams).reduce((_,v)=>_.set(v,n.setParams[v]),u)),new Ul(e,t,s,{params:u,headers:l,context:p,reportProgress:a,responseType:o,withCredentials:r})}}var It=(()=>((It=It||{})[It.Sent=0]="Sent",It[It.UploadProgress=1]="UploadProgress",It[It.ResponseHeader=2]="ResponseHeader",It[It.DownloadProgress=3]="DownloadProgress",It[It.Response=4]="Response",It[It.User=5]="User",It))();class k0{constructor(n,e=200,t="OK"){this.headers=n.headers||new Wi,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||t,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class P0 extends k0{constructor(n={}){super(n),this.type=It.ResponseHeader}clone(n={}){return new P0({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Ah extends k0{constructor(n={}){super(n),this.type=It.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Ah({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class d2 extends k0{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function S0(i,n){return{body:n,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let p2=(()=>{class i{constructor(e){this.handler=e}request(e,t,o={}){let s;if(e instanceof Ul)s=e;else{let l,u;l=o.headers instanceof Wi?o.headers:new Wi(o.headers),o.params&&(u=o.params instanceof Ko?o.params:new Ko({fromObject:o.params})),s=new Ul(e,t,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const r=_e(s).pipe(Jr(l=>this.handler.handle(l)));if(e instanceof Ul||"events"===o.observe)return r;const a=r.pipe(_n(l=>l instanceof Ah));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ee(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ee(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ee(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ee(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Ko).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,o={}){return this.request("PATCH",e,S0(o,t))}post(e,t,o={}){return this.request("POST",e,S0(o,t))}put(e,t,o={}){return this.request("PUT",e,S0(o,t))}}return i.\u0275fac=function(e){return new(e||i)(j(s2))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();class f2{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const g2=new oe("HTTP_INTERCEPTORS");let QN=(()=>{class i{intercept(e,t){return t.handle(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();const JN=/^\)\]\}',?\n/;let m2=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ze(t=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((v,k)=>o.setRequestHeader(v,k.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const v=e.detectContentTypeHeader();null!==v&&o.setRequestHeader("Content-Type",v)}if(e.responseType){const v=e.responseType.toLowerCase();o.responseType="json"!==v?v:"text"}const s=e.serializeBody();let r=null;const a=()=>{if(null!==r)return r;const v=1223===o.status?204:o.status,k=o.statusText||"OK",w=new Wi(o.getAllResponseHeaders()),M=function(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(o)||e.url;return r=new P0({headers:w,status:v,statusText:k,url:M}),r},l=()=>{let{headers:v,status:k,statusText:w,url:M}=a(),O=null;204!==k&&(O=void 0===o.response?o.responseText:o.response),0===k&&(k=O?200:0);let T=k>=200&&k<300;if("json"===e.responseType&&"string"==typeof O){const R=O;O=O.replace(JN,"");try{O=""!==O?JSON.parse(O):null}catch(N){O=R,T&&(T=!1,O={error:N,text:O})}}T?(t.next(new Ah({body:O,headers:v,status:k,statusText:w,url:M||void 0})),t.complete()):t.error(new d2({error:O,headers:v,status:k,statusText:w,url:M||void 0}))},u=v=>{const{url:k}=a(),w=new d2({error:v,status:o.status||0,statusText:o.statusText||"Unknown Error",url:k||void 0});t.error(w)};let p=!1;const g=v=>{p||(t.next(a()),p=!0);let k={type:It.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(k.total=v.total),"text"===e.responseType&&!!o.responseText&&(k.partialText=o.responseText),t.next(k)},_=v=>{let k={type:It.UploadProgress,loaded:v.loaded};v.lengthComputable&&(k.total=v.total),t.next(k)};return o.addEventListener("load",l),o.addEventListener("error",u),o.addEventListener("timeout",u),o.addEventListener("abort",u),e.reportProgress&&(o.addEventListener("progress",g),null!==s&&o.upload&&o.upload.addEventListener("progress",_)),o.send(s),t.next({type:It.Sent}),()=>{o.removeEventListener("error",u),o.removeEventListener("abort",u),o.removeEventListener("load",l),o.removeEventListener("timeout",u),e.reportProgress&&(o.removeEventListener("progress",g),null!==s&&o.upload&&o.upload.removeEventListener("progress",_)),o.readyState!==o.DONE&&o.abort()}})}}return i.\u0275fac=function(e){return new(e||i)(j(bC))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})();const M0=new oe("XSRF_COOKIE_NAME"),D0=new oe("XSRF_HEADER_NAME");class _2{}let tB=(()=>{class i{constructor(e,t,o){this.doc=e,this.platform=t,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=dC(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return i.\u0275fac=function(e){return new(e||i)(j(at),j(vl),j(M0))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})(),E0=(()=>{class i{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return t.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),t.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(j(_2),j(D0))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})(),nB=(()=>{class i{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const t=this.injector.get(g2,[]);this.chain=t.reduceRight((o,s)=>new f2(o,s),this.backend)}return this.chain.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(j(r2),j(Zt))},i.\u0275prov=ne({token:i,factory:i.\u0275fac}),i})(),iB=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:E0,useClass:QN}]}}static withOptions(e={}){return{ngModule:i,providers:[e.cookieName?{provide:M0,useValue:e.cookieName}:[],e.headerName?{provide:D0,useValue:e.headerName}:[]]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=St({type:i}),i.\u0275inj=bt({providers:[E0,{provide:g2,useExisting:E0,multi:!0},{provide:_2,useClass:tB},{provide:M0,useValue:"XSRF-TOKEN"},{provide:D0,useValue:"X-XSRF-TOKEN"}]}),i})(),oB=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=St({type:i}),i.\u0275inj=bt({providers:[p2,{provide:s2,useClass:nB},m2,{provide:r2,useExisting:m2}],imports:[[iB.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})(),Qo=(()=>{class i{constructor(e){this.httpClient=e,this.BACKEND_BASE=(Gy=!0,zy?"http://localhost:2000":"https://tebe.864355-totarget12.tmweb.ru:2000"),this.httpOptions={headers:new Wi({"Content-type":"application/json"})},this.files=[],this.box={},this.gifts=[],this.code=""}getLinkFromBackend(e){return/^\.\.\/\.\.\/.*/g.test(e)?e:`${this.BACKEND_BASE}/${e}`}isBase64(e){if(""===(e=e.split(",").pop()||"")||""===e.trim())return!1;try{return btoa(atob(e))==e}catch(t){return!1}}generateIdFile(){let e=0;return this.files.forEach(t=>{t.idFront>e&&(e=t.idFront)}),e+1}getStringFile(e){if(this.isBase64(e)){const t=e.match(/[^:]\w+\/[\w-+\d.]+(?=;|,)/)[0],o=e.match(/[^:/]\w+(?=;|,)/)[0],s=this.generateIdFile();return this.files.push({mimeType:t,extension:o,idFront:s,idBack:null,link:null,value:e}),s}return e}setBox(e){try{return this.box={link:e.link,package:this.getStringFile(e.package),tape:this.getStringFile(e.tape),costPrice:e.costPrice,costType:e.costType,costRate:e.costRate,costCurrency:e.costCurrency},!0}catch(t){return!1}}setGifts(e){this.gifts=[];try{return e.forEach(t=>{let o={idFront:t.id,title:t.title,type:t.type,cell:Object.assign({},t.cell)};"greetingcard"===t.type?o=Object.assign(Object.assign({},o),{color:t.color,front:this.getStringFile(t.front),back:this.getStringFile(t.back),sign:JSON.parse(JSON.stringify(t.sign)),text:t.text}):"game"===t.type?o=Object.assign(Object.assign({},o),{color:t.color,code:t.code,front:this.getStringFile(t.front),inside:this.getStringFile(t.inside),platform:t.platform,side:this.getStringFile(t.side)}):"speaker"===t.type?o=Object.assign(Object.assign({},o),{color:t.color,duration:t.duration||null,grill:this.getStringFile(t.grill),sounds:JSON.parse(JSON.stringify(t.sounds||[])),value:this.getStringFile(t.value)}):"tablet"===t.type?o=Object.assign(Object.assign({},o),{color:t.color,duration:t.duration,value:this.getStringFile(t.value)}):"photo"===t.type&&(o=Object.assign(Object.assign({},o),{photo:this.getStringFile(t.photo),sign:JSON.parse(JSON.stringify(t.sign))})),this.gifts.push(o)}),!0}catch(t){return console.log(t),!1}}createBox(e,t){return this.files=[],this.box={},this.gifts=[],this.setBox(e),this.setGifts(t),new Promise(o=>{const s=this.httpClient.post(`${this.BACKEND_BASE}/api/v1/createbox`,{files:this.files,box:this.box,gifts:this.gifts},this.httpOptions).subscribe(r=>{s.unsubscribe(),o(r)})})}getBoxGeneral(e){return new Promise(t=>{const o=this.httpClient.post(`${this.BACKEND_BASE}/api/v1/getboxgeneral`,{id:e},this.httpOptions).subscribe(s=>{o.unsubscribe(),t(s)})})}getBoxGeneralByLink(e){return new Promise(t=>{const o=this.httpClient.post(`${this.BACKEND_BASE}/api/v1/getboxgeneralbylink`,{link:e},this.httpOptions).subscribe(s=>{o.unsubscribe(),t(s)})})}getBox(e,t){return new Promise(o=>{const s=this.httpClient.post(`${this.BACKEND_BASE}/api/v1/getbox`,{id:e,code:t},this.httpOptions).subscribe(r=>{s.unsubscribe(),o(r)})})}checkLinkBox(e){return console.log(`${this.BACKEND_BASE}/api/v1/checklinkbox`),new Promise(t=>{const o=this.httpClient.post(`${this.BACKEND_BASE}/api/v1/checklinkbox`,{link:e},this.httpOptions).subscribe(s=>{o.unsubscribe(),t(s)})})}}return i.\u0275fac=function(e){return new(e||i)(j(p2))},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function sB(i,n){if(1&i&&(h(0,"div",7),x(1),d()),2&i){const e=y(2);c(1),D(e.min)}}function rB(i,n){1&i&&(h(0,"div",8),x(1,"<"),d())}function aB(i,n){if(1&i&&(h(0,"div",4),S(1,sB,2,1,"div",5),S(2,rB,2,0,"div",6),h(3,"div",7),x(4),d(),h(5,"div",8),x(6,"<"),d(),h(7,"div",9),x(8),d(),d()),2&i){const e=y();b("color",e.isLengthCorrect()?"#4caf50":"#f44336"),c(1),f("ngIf",e.min>0),c(1),f("ngIf",e.min>0),c(2),D(e.lengthWithPrefix?e.value.length:e.value.length-e.prefix.length),c(4),D(e.max)}}function lB(i,n){if(1&i&&(h(0,"div",4),h(1,"div",7),x(2),d(),d()),2&i){const e=y();b("color","#f44336"),c(2),D(e.isCorrectRule)}}function uB(i,n){if(1&i&&(h(0,"div",10),x(1),d()),2&i){const e=y();c(1),D(e.title)}}let T0=(()=>{class i{constructor(e,t,o,s){this.host=e,this.asyncservice=t,this.locationService=o,this.backendService=s,this.show=!1,this.value="",this.min=3,this.max=100,this.enterable=!1,this.title="",this.onlyNumbers=!1,this.useAnimate=!0,this.prefix="",this.lengthWithPrefix=!0,this.fontSizePrecentage=300,this.rule=null,this.save=new L,this.close=new L,this.onInput=new L,this.display="none",this.transform="translateX(100%)",this.isCorrectRule=!0,this.timeoutRefreshRule=setTimeout(()=>{},0),this.timeout=setTimeout(()=>{},0)}onTouchEnd(e){setTimeout(()=>{e.target.selectionStart<this.prefix.length&&(e.target.selectionStart=this.prefix.length)},100)}refresh(e){let t=this.host.nativeElement.querySelector(".value"),o=!1;if(""!==this.prefix){let s=t.value.replace(new RegExp(`^(${this.prefix}|${this.prefix.slice(0,-1)})`,"g"),"");s=`${this.prefix}${s}`,t.value=s}this.enterable&&/\#/g.test(t.value)&&(o=!0),!this.enterable&&"insertLineBreak"===e.inputType&&(o=!0),t.value=t.value.replace(/\#/g,""),this.onlyNumbers&&(t.value=t.value.replace(/[^0-9\.]/g,"")),this.enterable||(t.value=t.value.replace(/[\n]+/g,"")),this.value=t.value,this.setsize(),o?this.trytosave().then(()=>{this.onInput.emit(this.value)}):(clearTimeout(this.timeoutRefreshRule),this.timeoutRefreshRule=setTimeout(()=>{this.refreshRule()},300)),setTimeout(()=>{e.target.selectionStart<this.prefix.length&&(e.target.selectionStart=this.prefix.length)},50)}refreshRule(){var e=this;return I(function*(){return e.rule?(e.isCorrectRule=yield e.rule(e.value.replace(e.prefix,"")),new Promise(t=>t())):(e.isCorrectRule=!0,new Promise(t=>t()))})()}setsize(){let t=this.host.nativeElement.querySelector(".value");t.style.height="58px";let o=t.scrollHeight,s=50;""!==this.title&&(s=100),o>=window.innerHeight-s?(o=window.innerHeight-s,t.style.height=`calc(100% - ${s}px)`):t.style.height=o<58?"58px":o+"px"}doshow(){var e=this;return I(function*(){return e.useAnimate?(e.display="flex",yield e.asyncservice.delay(10),e.setsize(),e.host.nativeElement.querySelector(".value").focus(),yield e.asyncservice.delay(10),e.transform="translateX(0%)",yield e.asyncservice.delay(300),new Promise(t=>t())):(e.display="flex",e.setsize(),e.host.nativeElement.querySelector(".value").focus(),e.transform="translateX(0%)",new Promise(t=>t()))})()}dohide(){var e=this;return I(function*(){return e.useAnimate?(e.host.nativeElement.querySelector(".value").blur(),e.transform="translateX(100%)",yield e.asyncservice.delay(300),e.display="none",e.close.emit(),new Promise(t=>t())):(e.host.nativeElement.querySelector(".value").blur(),e.transform="translateX(100%)",e.display="none",e.close.emit(),new Promise(t=>t()))})()}isLengthCorrect(){let e=this.value.length;return this.lengthWithPrefix||(e-=this.prefix.length),!(e<this.min||e>this.max)}trytosave(){var e=this;return I(function*(){let t=e.value.length;return yield e.refreshRule(),e.lengthWithPrefix&&(t-=e.prefix.length),!0===e.show&&(e.isLengthCorrect()&&!0===e.isCorrectRule?(e.save.emit(e.value.replace(e.prefix,"")),e.dohide()):(e.host.nativeElement.querySelector(".maxlength").style.animationName="shake",clearTimeout(e.timeout),e.timeout=setTimeout(()=>{e.host.nativeElement.querySelector(".maxlength").style.animationName="none"},200))),new Promise(o=>o())})()}ngOnInit(){this.host.nativeElement.querySelector(".value").addEventListener("blur",e=>{this.show&&this.host.nativeElement.querySelector(".value").focus()})}ngOnChanges(e){e.value&&e.value.previousValue!==e.value.currentValue&&(this.value=e.value.currentValue.toString(),this.host.nativeElement.querySelector(".value").value=this.value,this.setsize()),e.show&&e.show.previousValue!==e.show.currentValue&&(e.show.currentValue?this.doshow():this.dohide())}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(ve),P(De),P(Qo))},i.\u0275cmp=X({type:i,selectors:[["app-touch-rename"]],hostVars:4,hostBindings:function(e,t){2&e&&b("display",t.display)("transform",t.transform)},inputs:{show:"show",value:"value",min:"min",max:"max",enterable:"enterable",title:"title",onlyNumbers:"onlyNumbers",useAnimate:"useAnimate",prefix:"prefix",lengthWithPrefix:"lengthWithPrefix",fontSizePrecentage:"fontSizePrecentage",rule:"rule"},outputs:{save:"save",close:"close",onInput:"onInput"},features:[re],decls:6,vars:8,consts:[["spellcheck","false",1,"value",3,"touchend","touchcancel","input"],["class","maxlength",3,"color",4,"ngIf"],[1,"hint"],["class","title",4,"ngIf"],[1,"maxlength"],["class","current",4,"ngIf"],["class","more",4,"ngIf"],[1,"current"],[1,"more"],[1,"outof"],[1,"title"]],template:function(e,t){1&e&&(h(0,"textarea",0),C("touchend",function(s){return t.onTouchEnd(s)})("touchcancel",function(s){return t.onTouchEnd(s)})("input",function(s){return t.refresh(s)}),d(),S(1,aB,9,6,"div",1),S(2,lB,3,3,"div",1),h(3,"div",2),x(4),d(),S(5,uB,2,1,"div",3)),2&e&&(b("font-size",t.fontSizePrecentage,"%"),c(1),f("ngIf",!0===t.isCorrectRule),c(1),f("ngIf",!0!==t.isCorrectRule),c(2),hf("",t.locationService.translate("press","\u043d\u0430\u0436\u043c\u0438\u0442\u0435")," ",t.enterable?"#":"enter"," ",t.locationService.translate("to save","\u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),""),c(1),f("ngIf",""!==t.title))},directives:[Re],styles:['[_nghost-%COMP%]{position:fixed;width:100%;height:100%;display:none;flex-direction:column;align-items:center;justify-content:center;background-color:#fff;z-index:10;transform:translate(100%);transition:all linear .2s}[_nghost-%COMP%] > .value[_ngcontent-%COMP%]{position:absolute;bottom:0px;width:100%;height:61px;outline:none;background:unset;border:none;font-size:300%;color:#333;text-align:center;vertical-align:middle;font-family:"Comfortaa",cursive;resize:none}[_nghost-%COMP%] > .maxlength[_ngcontent-%COMP%]{position:absolute;top:20px;display:flex;flex-direction:row;text-align:center;align-items:center;justify-content:center;animation-name:none;animation-duration:.2s;animation-iteration-count:1;animation-timing-function:linear}[_nghost-%COMP%] > .maxlength[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%], [_nghost-%COMP%] > .maxlength[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%], [_nghost-%COMP%] > .maxlength[_ngcontent-%COMP%]   .outof[_ngcontent-%COMP%]{margin:10px;font-size:16px;font-size:12px}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{position:absolute;color:#999;font-size:12px;top:10px;text-align:center}[_nghost-%COMP%] > .title[_ngcontent-%COMP%]{position:absolute;color:#999;font-size:16px;top:46px;height:40px;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center}@keyframes shake{0%{transform:translate(0)}10%{transform:translate(-20px)}20%{transform:translate(0)}30%{transform:translate(20px)}40%{transform:translate(20px)}50%{transform:translate(-20px)}60%{transform:translate(0)}70%{transform:translate(20px)}80%{transform:translate(0)}90%{transform:translate(-20px)}to{transform:translate(0)}}']}),i})(),v2=(()=>{class i{constructor(e,t,o,s){this.readfileservice=e,this.host=t,this.gettargethtmlservice=o,this.locationService=s,this.img="",this.ratio=16/9,this.mode="usual",this.touch=null,this.sublimesave=!1,this.closetrim=new L,this.save=new L,this.imgobj=new Image,this.modemove="none",this.startposimage=[0,0],this.startposframe=[0,0],this.taptransform=100,this.hintsidebartransform=0,this.width=0,this.height=0,this.x=0,this.y=0,this.frame={w:0,h:0,x:0,y:0},this.timeouttap=setTimeout(()=>{},0),this.flagtap=!1}setobjectimg(){var e=this;return I(function*(){return e.imgobj=yield e.readfileservice.getImageByUrl(e.img),new Promise(t=>t())})()}setsize(){this.imgobj.naturalWidth/this.imgobj.naturalHeight>=window.innerWidth/window.innerHeight?(this.width=.8*window.innerWidth,this.width>this.imgobj.naturalWidth&&(this.width=this.imgobj.naturalWidth),this.height=this.width/(this.imgobj.naturalWidth/this.imgobj.naturalHeight)):this.imgobj.naturalWidth/this.imgobj.naturalHeight<window.innerWidth/window.innerHeight&&(this.height=.8*window.innerHeight,this.height>this.imgobj.naturalHeight&&(this.height=this.imgobj.naturalHeight),this.width=this.height*(this.imgobj.naturalWidth/this.imgobj.naturalHeight)),this.x=(window.innerWidth-this.width)/2,this.y=(window.innerHeight-this.height)/2-20}turnontrim(){const e=this.host.nativeElement.querySelector(".image").getBoundingClientRect();this.ratio>=this.width/this.height?(this.frame.w=this.width,this.frame.h=this.frame.w/this.ratio):this.ratio<this.width/this.height&&(this.frame.h=this.height,this.frame.w=this.frame.h*this.ratio),this.frame.x=e.x+(this.width-this.frame.w)/2,this.frame.y=e.y-41+(this.height-this.frame.h)/2,this.taptransform=0,this.hintsidebartransform=100}dotrim(){const e=document.createElement("canvas"),t=e.getContext("2d");e.setAttribute("width",this.imgobj.naturalWidth*(this.frame.w/this.width)+"px"),e.setAttribute("height",this.imgobj.naturalHeight*(this.frame.h/this.height)+"px"),t.drawImage(this.imgobj,this.imgobj.naturalWidth*(this.frame.x-this.x)/this.width,this.imgobj.naturalHeight*(this.frame.y-this.y)/this.height,this.imgobj.naturalWidth*(this.frame.w/this.width),this.imgobj.naturalHeight*(this.frame.h/this.height),0,0,this.imgobj.naturalWidth*(this.frame.w/this.width),this.imgobj.naturalHeight*(this.frame.h/this.height));let o=e.toDataURL("image/jpg",1);this.img=o,this.setobjectimg().then(()=>{this.setsize(),this.save.emit(o)})}processTouch(){"trim"===this.mode&&("start"===this.touch.action&&(this.flagtap=!0,clearTimeout(this.timeouttap),this.timeouttap=setTimeout(()=>{this.flagtap=!1},200),this.gettargethtmlservice.get(this.touch.target,"resize")?this.modemove="resize":this.gettargethtmlservice.get(this.touch.target,"frame")?(this.startposframe=[this.frame.x,this.frame.y],this.modemove="frame"):(this.startposimage=[this.x,this.y],this.startposframe=[this.frame.x,this.frame.y],this.modemove="shift")),"move"===this.touch.action&&("resize"===this.modemove?(this.frame.w=this.touch.x-this.frame.x,this.frame.h=this.frame.w/this.ratio,this.frame.w<30&&(this.frame.w=30,this.frame.h=this.frame.w/this.ratio),this.frame.h<30&&(this.frame.h=30,this.frame.w=this.frame.h*this.ratio),this.frame.x+this.frame.w>this.x+this.width&&(this.frame.w=this.x+this.width-this.frame.x,this.frame.h=this.frame.w/this.ratio),this.frame.y+this.frame.h>this.y+this.height&&(this.frame.h=this.y+this.height-this.frame.y,this.frame.w=this.frame.h*this.ratio)):"frame"===this.modemove?(this.frame.x=this.startposframe[0]+this.touch.x-this.touch.start.x,this.frame.y=this.startposframe[1]+this.touch.y-this.touch.start.y,this.frame.x<this.x&&(this.frame.x=this.x),this.frame.y<this.y&&(this.frame.y=this.y),this.frame.x+this.frame.w>this.x+this.width&&(this.frame.x=this.x+this.width-this.frame.w),this.frame.y+this.frame.h>this.y+this.height&&(this.frame.y=this.y+this.height-this.frame.h)):"shift"===this.modemove&&(this.frame.x=this.startposframe[0]+this.touch.x-this.touch.start.x,this.frame.y=this.startposframe[1]+this.touch.y-this.touch.start.y,this.x=this.startposimage[0]+this.touch.x-this.touch.start.x,this.y=this.startposimage[1]+this.touch.y-this.touch.start.y,this.x<-this.width&&(this.x=-this.width,this.frame.x=this.x+(this.startposframe[0]-this.startposimage[0])),this.x>window.innerWidth&&(this.x=window.innerWidth,this.frame.x=this.x+(this.startposframe[0]-this.startposimage[0])),this.y<-this.height&&(this.y=-this.height,this.frame.y=this.y+(this.startposframe[1]-this.startposimage[1])),this.y>window.innerHeight&&(this.y=window.innerHeight,this.frame.y=this.y+(this.startposframe[1]-this.startposimage[1])))),"end"===this.touch.action&&!1===this.touch.drag&&this.flagtap&&this.closetrim.emit())}ngOnInit(){this.closetrim=this.closetrim}ngOnChanges(e){e.img&&e.img.previousValue!==e.img.currentValue&&""!==e.img.currentValue&&this.setobjectimg().then(()=>{this.setsize()}),e.mode&&e.mode.previousValue!==e.mode.currentValue&&("usual"===e.mode.currentValue?(this.setsize(),this.taptransform=100,this.hintsidebartransform=0):"trim"===e.mode.currentValue&&this.turnontrim()),e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch(),e.sublimesave&&e.sublimesave.previousValue!==e.sublimesave.currentValue&&void 0!==e.sublimesave.previousValue&&(this.dotrim(),this.taptransform=100,this.hintsidebartransform=0)}}return i.\u0275fac=function(e){return new(e||i)(P(Co),P(q),P(li),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-touch-trim"]],inputs:{img:"img",ratio:"ratio",mode:"mode",touch:"touch",sublimesave:"sublimesave"},outputs:{closetrim:"closetrim",save:"save"},features:[re],decls:11,vars:30,consts:[[1,"image"],[1,"trimtools"],[1,"back"],[1,"frame"],[1,"resize"],[1,"hint"],[1,"hintsidebar"],[1,"text"],[1,"ico"]],template:function(e,t){1&e&&(m(0,"div",0),h(1,"div",1),m(2,"div",2),h(3,"div",3),m(4,"div",4),d(),d(),h(5,"div",5),x(6),d(),h(7,"div",6),h(8,"div",7),x(9),d(),m(10,"div",8),d()),2&e&&(b("width",t.width,"px")("height",t.height,"px")("transform","translateX("+t.x+"px) translateY("+t.y+"px)")("background-image","url("+t.img+")"),c(1),b("display","trim"===t.mode?"flex":"none"),c(1),b("width","100%")("height","100%")("transform","translateX(0px) translateY(0px)"),c(1),b("width",t.frame.w,"px")("height",t.frame.h,"px")("transform","translateX("+t.frame.x+"px) translateY("+t.frame.y+"px)"),c(2),b("transform","translateY("+t.taptransform+"px)"),c(1),D(t.locationService.translate("tap to menu","\u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0439\u0442\u0438 \u0432 \u043c\u0435\u043d\u044e")),c(1),b("transform","translateY("+t.hintsidebartransform+"px)"),c(2),D(t.locationService.translate("change image in the right sidebar","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043d\u043a\u0443 \u043c\u043e\u0436\u043d\u043e \u0432 \u043f\u0440\u0430\u0432\u043e\u043c \u043c\u0435\u043d\u044e")),c(1),b("background-image","url(../../assets/arrow-right-sidebar3.svg)"))},styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-image:url(transparent.1234cf35f41c1d9e.svg);background-size:20px;background-repeat:repeat;background-position:0px 0px}[_nghost-%COMP%] > .image[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%] > .back[_ngcontent-%COMP%]{left:0px;top:0px;position:absolute;background-color:#0009}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%] > .frame[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;outline-color:#fff;outline-style:solid;outline-width:5px;display:flex;flex-direction:row;align-items:flex-end;justify-content:flex-end;backdrop-filter:brightness(2.5);z-index:1}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%] > .frame[_ngcontent-%COMP%] > .resize[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;transform:translate(20px) translateY(20px);border-radius:500px;background-color:#fff;z-index:2;background-position:center;background-size:contain;background-repeat:no-repeat;background-image:url(resize.ee042e9d80a38daf.svg);box-shadow:0 0 2px #000}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:0px;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#0009;transition:all ease .2s}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:10px;font-size:12px;color:#fff;text-align:right;user-select:none}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:10px 10px 10px 0;width:20px;height:20px;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:10px;font-size:12px;color:#fff;text-align:center;transition:all ease .2s}"]}),i})(),O0=(()=>{class i{constructor(e,t,o){this.linerSvgService=e,this.host=t,this.asyncService=o,this.width=0,this.height=0,this.touch=null,this.points=[],this.tool="pen",this.color="#000000",this.ban=[],this.sublimereset=!1,this.sublimesave=!1,this.save=new L,this.cachedPoints=[],this.inn="",this.stopDrawing=!1}insideRect(e,t){return t.x>e[0]&&t.x<e[2]&&t.y>e[1]&&t.y<e[3]}checkBan(e,t){for(let o=0;o<this.ban.length;o++)if(this.insideRect(this.ban[o],{x:e,y:t}))return!1;return!0}doErase(e,t){const s=.1*this.width/this.height;for(let r=0;this.points[r]&&r<this.points.length;r++)for(let a=1;this.points[r]&&this.points[r][a]&&a<this.points[r].length;a++)if(this.insideRect([e-.05,t-s/2,e+.05,t+s/2],{x:this.points[r][a][0],y:this.points[r][a][1]})){let l=this.points[r][0],u=this.points[r].slice(1,a),p=this.points[r].slice(a+1,this.points[r].length);u[0]&&!p[0]?(u.splice(0,0,l),this.points.splice(r,1,u),r++):!u[0]&&p[0]?(p.splice(0,0,l),this.points.splice(r,1,p)):u[0]&&p[0]?(u.splice(0,0,l),p.splice(0,0,l),this.points.splice(r,1,u,p),r++):!u[0]&&!p[0]&&this.points.splice(r,1),a=1}}processTouch(){var e=this;return I(function*(){if(null===e.touch)return;const t=e.host.nativeElement.getBoundingClientRect();if("start"===e.touch.action&&!e.stopDrawing){const o=(e.touch.x-t.x)/t.width,s=(e.touch.y-t.y)/t.height;"pen"===e.tool?(e.points.push([e.color]),e.checkBan(o,s)?(e.points[e.points.length-1].push([o+3/e.width,s]),e.points[e.points.length-1].push([o,s])):e.stopDrawing=!0):"eraser"===e.tool&&e.doErase(o,s),e.setImage()}if("move"===e.touch.action&&!e.stopDrawing){const o=(e.touch.x-t.x)/t.width,s=(e.touch.y-t.y)/t.height;"pen"===e.tool?e.checkBan(o,s)?e.points[e.points.length-1].push([o,s]):e.stopDrawing=!0:"eraser"===e.tool&&e.doErase(o,s),e.setImage()}if("end"===e.touch.action){e.stopDrawing=!1,e.points=e.points.filter(s=>s.length>1);let o=e.host.nativeElement.querySelectorAll("svg");for(let s=0;s<o.length-1;s++)o[s].remove()}})()}setImage(){this.points=this.points.filter(o=>o.length>1);let e=this.linerSvgService.getSvg(this.width,this.height,this.points);e.style.width=`${this.width}px`,e.style.height=`${this.height}px`;let t=this.host.nativeElement.querySelectorAll("svg");for(let o=0;o<t.length;o++)t[o].style.display="none";this.host.nativeElement.appendChild(e)}getImage(){return this.save.emit(this.points),new Promise(e=>e())}ngOnInit(){}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch(),e.points&&e.points.previousValue!==e.points.currentValue&&e.points.currentValue&&e.points.currentValue!==[]&&(this.cachedPoints=[...this.points],this.setImage()),e.sublimereset&&e.sublimereset.previousValue!==e.sublimereset.currentValue&&void 0!==e.sublimereset.previousValue&&(this.points=[...this.cachedPoints],this.setImage()),e.sublimesave&&e.sublimesave.previousValue!==e.sublimesave.currentValue&&void 0!==e.sublimesave.previousValue&&this.getImage()}}return i.\u0275fac=function(e){return new(e||i)(P(ha),P(q),P(ve))},i.\u0275cmp=X({type:i,selectors:[["app-touch-draw-svg"]],hostVars:4,hostBindings:function(e,t){2&e&&b("width",t.width,"px")("height",t.height,"px")},inputs:{width:"width",height:"height",touch:"touch",points:"points",tool:"tool",color:"color",ban:"ban",sublimereset:"sublimereset",sublimesave:"sublimesave"},outputs:{save:"save"},features:[re],decls:0,vars:0,template:function(e,t){},styles:[""]}),i})(),cB=(()=>{class i{constructor(e,t){this.gettargethtmlservice=e,this.locationService=t,this.gift={},this.touch=null,this.tool="pen",this.color="#fff",this.sublimereset=!1,this.sublimesave=!1,this.close=new L,this.save=new L,this.touchcanvas=null,this.under={x:0,y:0,w:0,h:0},this.canvas={x:0,y:0,w:0,h:0},this.flagdbltap=!1,this.timeoutdbltap=setTimeout(()=>{},0),this.modemove="",this.startposunder=[0,0],this.startposcanvas=[0,0]}setSize(){this.under.w=.9*window.innerWidth,this.under.h=this.under.w/(297/420),this.under.x=this.under.w/2+(window.innerWidth-this.under.w)/2,this.under.y=(window.innerHeight-this.under.h)/2+.1*this.under.h,this.canvas.w=this.under.w,this.canvas.h=.2*this.under.h,this.canvas.x=this.under.x-this.under.w/2,this.canvas.y=this.under.y+this.under.h/2-this.canvas.h+1}processTouch(){null!==this.touch&&("start"===this.touch.action&&(this.gettargethtmlservice.get(this.touch.target,"canvas")?(this.modemove="canvas",this.touchcanvas=this.touch):(this.startposunder=[this.under.x,this.under.y],this.startposcanvas=[this.canvas.x,this.canvas.y],this.modemove="shift")),"move"===this.touch.action&&("canvas"===this.modemove?this.touchcanvas=this.touch:"shift"===this.modemove&&(this.canvas.x=this.startposcanvas[0]+this.touch.x-this.touch.start.x,this.canvas.y=this.startposcanvas[1]+this.touch.y-this.touch.start.y,this.under.x=this.startposunder[0]+this.touch.x-this.touch.start.x,this.under.y=this.startposunder[1]+this.touch.y-this.touch.start.y,this.under.x<-this.under.w/2&&(this.under.x=-this.under.w/2,this.canvas.x=this.under.x+(this.startposcanvas[0]-this.startposunder[0])),this.under.x>window.innerWidth+this.under.w/2&&(this.under.x=window.innerWidth+this.under.w/2,this.canvas.x=this.under.x+(this.startposcanvas[0]-this.startposunder[0])),this.under.y<-this.under.h/2&&(this.under.y=-this.under.h/2,this.canvas.y=this.under.y+(this.startposcanvas[1]-this.startposunder[1])),this.under.y>window.innerHeight+this.under.h/2&&(this.under.y=window.innerHeight+this.under.h/2,this.canvas.y=this.under.y+(this.startposcanvas[1]-this.startposunder[1])))),"end"===this.touch.action&&!1===this.touch.drag&&(!0===this.flagdbltap?(this.dbltap(),this.flagdbltap=!1):(this.flagdbltap=!0,clearTimeout(this.timeoutdbltap),this.timeoutdbltap=setTimeout(()=>{this.flagdbltap=!1},200))),"end"===this.touch.action&&"canvas"===this.modemove&&(this.touchcanvas=this.touch))}dbltap(){this.close.emit()}ngOnInit(){this.setSize()}savedraw(e){this.save.emit(e)}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch()}}return i.\u0275fac=function(e){return new(e||i)(P(li),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-touch-sign-greetingcard"]],inputs:{gift:"gift",touch:"touch",tool:"tool",color:"color",sublimereset:"sublimereset",sublimesave:"sublimesave"},outputs:{close:"close",save:"save"},features:[re],decls:6,vars:27,consts:[[1,"greetingcard",3,"size","back","text","color"],[1,"canvas",3,"touch","tool","color","width","height","points","sublimereset","sublimesave","save"],[1,"background"],[1,"bright"],[1,"hint"]],template:function(e,t){1&e&&(m(0,"app-greeting-card",0),h(1,"app-touch-draw-svg",1),C("save",function(s){return t.savedraw(s)}),d(),m(2,"div",2),m(3,"div",3),h(4,"div",4),x(5),d()),2&e&&(b("transform","translateX("+t.under.x+"px) translateY("+t.under.y+"px) translateZ(0px) rotateY(180deg)"),f("size",t.under.w)("back",null==t.gift?null:t.gift.back)("text",null==t.gift?null:t.gift.text)("color",null==t.gift?null:t.gift.color),c(1),b("transform","translateX("+t.canvas.x+"px) translateY("+t.canvas.y+"px) translateZ(1000px)"),f("touch",t.touchcanvas)("tool",t.tool)("color",t.color)("width",t.canvas.w)("height",t.canvas.h)("points",null==t.gift?null:t.gift.sign)("sublimereset",t.sublimereset)("sublimesave",t.sublimesave),c(1),b("transform","translateZ(998px)"),c(1),b("width",t.canvas.w+"px")("height",t.canvas.h+"px")("transform","translateX("+t.canvas.x+"px) translateY("+t.canvas.y+"px) translateZ(999px)"),c(1),b("transform","translateZ(1001px)"),c(1),D(t.locationService.translate("double tap to menu","\u0434\u0432\u043e\u0439\u043d\u043e\u0435 \u043d\u0430\u0436\u0430\u0442\u0438 \u0434\u043b\u044f \u0432\u044b\u0445\u043e\u0434\u0430 \u0432 \u043c\u0435\u043d\u044e")))},directives:[$i,O0],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%] > .greetingcard[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px}[_nghost-%COMP%] > .canvas[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px}[_nghost-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;width:100%;height:100%;background-color:#0009}[_nghost-%COMP%] > .bright[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;backdrop-filter:brightness(2.5)}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:0px;width:100%;text-align:center;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:12px;color:#fff;user-select:none}"]}),i})();const hB=["*"];let dB=(()=>{class i{constructor(e,t,o){this.host=e,this.asyncService=t,this.locationService=o,this.touch=null,this.sublimerefresh=!1,this.scroll=0,this.velocity=0,this.timeoutVelocity=setTimeout(()=>{},0),this.canScroll=!1}init(){const e=this.host.nativeElement;e.getBoundingClientRect();let o=e.querySelectorAll(".content > *");e.querySelector(".content").prepend(o[o.length-1].cloneNode(!0)),e.querySelector(".content").appendChild(o[0].cloneNode(!0))}setSize(){const e=this.host.nativeElement,t=e.getBoundingClientRect();let o=e.querySelectorAll(".content > *");for(let s of o)s.style.width=`${t.width}px`,s.style.height=`${t.height}px`,s.style.display="flex",s.style.flexDirection="column",s.style.alignItems="center",s.style.justifyContent="center";this.doScrollByPosition(0,!1)}doScrollByPosition(e,t){var o=this;return I(function*(){const s=o.host.nativeElement,r=s.getBoundingClientRect(),a=s.querySelector(".content > *:first-child");t?(a.style.transition="margin-top ease 0.3s",yield o.asyncService.delay(10),a.style.marginTop=-(e+1)*r.height+"px",yield o.asyncService.delay(300),a.style.removeProperty("transition")):a.style.marginTop=-(e+1)*r.height+"px",o.scroll=-(e+1)*r.height;const l=s.querySelectorAll(".content > *").length-2;return-1===e?o.doScrollByPosition(l-1,!1):e===l&&o.doScrollByPosition(0,!1),new Promise(u=>u())})()}doScrollByTouch(e){if(null!==e&&"move"===e.action&&"start"===e.prev.action&&(this.canScroll=!(Math.abs(e.x-e.prev.x)>Math.abs(e.y-e.prev.y))),null!==e&&"move"===e.action&&this.canScroll){const t=e.y-e.start.y;this.velocity=e.y-e.prev.y,this.timeoutVelocity=setTimeout(()=>{this.velocity=0},100),this.host.nativeElement.querySelector(".content > *:first-child").style.marginTop=`${this.scroll+t}px`}if(null!==e&&"end"===e.action&&this.canScroll){const o=this.host.nativeElement.getBoundingClientRect();this.scroll+=e.y-e.start.y,0===this.velocity?this.doScrollByPosition(-this.scroll%o.height>o.height/2?Math.floor(-this.scroll/o.height):Math.floor(-this.scroll/o.height)-1,!0):this.velocity<0?this.doScrollByPosition(Math.floor(-this.scroll/o.height),!0):this.velocity>0&&this.doScrollByPosition(Math.floor(-this.scroll/o.height)-1,!0)}}ngOnInit(){this.init()}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.doScrollByTouch(e.touch.currentValue),e.sublimerefresh&&e.sublimerefresh.previousValue!==e.sublimerefresh.currentValue&&void 0!==e.sublimerefresh.previousValue&&this.setSize()}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(ve),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-touch-scroll-fragments"]],inputs:{touch:"touch",sublimerefresh:"sublimerefresh"},features:[re],ngContentSelectors:hB,decls:4,vars:1,consts:[[1,"content"],[1,"hint"]],template:function(e,t){1&e&&(xi(),h(0,"div",0),Jn(1),d(),h(2,"div",1),x(3),d()),2&e&&(c(3),D(t.locationService.translate("swipe up/down","\u0441\u0432\u0430\u0439\u043f \u0432\u0432\u0435\u0440\u0445/\u0432\u043d\u0438\u0437")))},styles:["[_nghost-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{position:absolute;bottom:10px;font-size:12px;width:100%;color:#999;text-align:center;display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none}"]}),i})(),pB=(()=>{class i{constructor(){this.usualColor="#999999",this.recordColor="#d93025",this.recording=!1}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=X({type:i,selectors:[["app-svg-micro"]],inputs:{recording:"recording"},decls:5,vars:4,consts:[["viewBox","0 0 200 200","xmlns","http://www.w3.org/2000/svg"],["x","70","y","20","width","60","height","120","rx","30"],["x1","70","y1","180","x2","130","y2","180","stroke-width","10"],["x1","100","y1","150","x2","100","y2","180","stroke-width","10"],["d","M 60 80\n  C 60 120, 60 150, 100 150\n  C 140 150, 140 120, 140 80","fill","transparent","stroke-width","10"]],template:function(e,t){1&e&&(yi(),h(0,"svg",0),m(1,"rect",1),m(2,"line",2),m(3,"line",3),m(4,"path",4),d()),2&e&&(c(1),$e("fill",t.recording?t.recordColor:t.usualColor),c(1),$e("stroke",t.recording?t.recordColor:t.usualColor),c(1),$e("stroke",t.recording?t.recordColor:t.usualColor),c(1),$e("stroke",t.recording?t.recordColor:t.usualColor))},styles:["[_nghost-%COMP%]{width:200px;height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{width:100px;height:100px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:all ease .3s}"]}),i})();function fB(i,n){if(1&i&&(h(0,"div"),m(1,"app-svg-micro",6),d()),2&i){const e=y();Vo("recording"===e.status?"wrapMicro recording":"wrapMicro"),b("animation-name","recording"===e.status?"shadow":"none"),c(1),f("recording","recording"===e.status)}}function gB(i,n){1&i&&m(0,"div",7)}function mB(i,n){1&i&&m(0,"div",8),2&i&&b("height",n.$implicit,"px")}let _B=(()=>{class i{constructor(e,t,o,s){this.asyncService=e,this.host=t,this.getTargetHtmlService=o,this.locationService=s,this.status="waiting",this.error="",this.sounds=[],this.chunks=[],this.confirm="",this.timer=0,this.interval=setInterval(()=>{},1e6),this.sublimestop=!1,this.save=new L}onClick(e){null===this.getTargetHtmlService.get(e.target,"APP-TOUCH-CONFIRM")&&("waiting"===this.status?this.start():"recording"===this.status&&this.stop())}init(){return I(function*(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}):new Promise((e,t)=>t("Your browser does not support microphone recording"))})()}start(){var e=this;return I(function*(){if(e.chunks[0])e.confirm="Overwrite?";else try{let t=yield e.init();e.audioCtx=new AudioContext,e.analyser=e.audioCtx.createAnalyser(),e.analyser.fftSize=2048,e.audioCtx.createMediaStreamSource(t).connect(e.analyser),e.recorder=new MediaRecorder(t),e.status="recording",e.recorder.ondataavailable=o=>{e.chunks.push(o.data),e.save.emit(e.chunks)},e.recorder.start(),e.listen(),e.timer=50,e.interval=setInterval(()=>{e.timer--,e.timer<=0&&e.stop()},1e3)}catch(t){e.error="NotAllowedError: Permission denied"===t.toString()||"NotAllowedError: Permission dismissed"===t.toString()?e.locationService.translate("Microphone not allowed","\u041c\u0438\u043a\u0440\u043e\u0444\u043e\u043d \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d"):t}})()}stop(){this.timer=0,clearInterval(this.interval),this.status="waiting",this.recorder.stop(),this.recorder.stream.getTracks().forEach(e=>e.stop())}listen(){var e=this;return I(function*(){for(;"recording"===e.status;){let o=new Uint8Array(e.analyser.frequencyBinCount);e.analyser.getByteFrequencyData(o);let s=0;for(var t=0;t<o.length;t++)s+=o[t]**2;s/=o.length,s=Math.sqrt(s),e.addSound(s),yield e.asyncService.delay(200)}})()}addSound(e){this.sounds.push(e)}resultconfirm(e){"agree"===e?(this.chunks=[],this.sounds=[],this.start()):"reject"===e&&(this.confirm="")}ngOnInit(){}ngOnChanges(e){e.sublimestop&&e.sublimestop.previousValue!==e.sublimestop.currentValue&&void 0!==e.sublimestop.previousValue&&this.stop()}}return i.\u0275fac=function(e){return new(e||i)(P(ve),P(q),P(li),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-touch-micro"]],hostBindings:function(e,t){1&e&&C("click",function(s){return t.onClick(s)})},inputs:{sublimestop:"sublimestop"},outputs:{save:"save"},features:[re],decls:9,vars:8,consts:[[3,"class","animationName",4,"ngIf"],["class","error",4,"ngIf"],[1,"hint"],[1,"track"],["class","sound",3,"height",4,"ngFor","ngForOf"],[3,"value","result"],[3,"recording"],[1,"error"],[1,"sound"]],template:function(e,t){1&e&&(h(0,"div"),x(1),d(),S(2,fB,2,5,"div",0),S(3,gB,1,0,"div",1),h(4,"div",2),x(5),d(),h(6,"div",3),S(7,mB,1,2,"div",4),d(),h(8,"app-touch-confirm",5),C("result",function(s){return t.resultconfirm(s)}),d()),2&e&&(Vo(t.timer>0?t.timer<=5?"timer hurryup":"timer":"timer hidden"),c(1),se(" ",t.timer," "),c(1),f("ngIf",""===t.error),c(1),f("ngIf",""!==t.error),c(2),D(""===t.error?"recording"===t.status?t.locationService.translate("Tap to stop","\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"):t.locationService.translate("Tap to start","\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c"):t.error),c(2),f("ngForOf",t.sounds),c(1),f("value",t.confirm))},directives:[Re,gt,pa,pB],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .timer[_ngcontent-%COMP%]{position:absolute;top:50px;width:100%;text-align:center;display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:20px;transition:all ease .3s}[_nghost-%COMP%] > .timer.hidden[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%] > .timer.hurryup[_ngcontent-%COMP%]{animation-name:hurryup;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;color:#d93025}[_nghost-%COMP%] > .wrapMicro[_ngcontent-%COMP%]{width:200px;height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:100px;transition:all ease .3s;animation-name:none;animation-duration:3s;animation-timing-function:ease;animation-iteration-count:infinite}[_nghost-%COMP%] > .wrapMicro.recording[_ngcontent-%COMP%]{animation-name:shadow}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{margin:50px 40px 10px;font-size:12px;color:#999;text-align:center}[_nghost-%COMP%] > .error[_ngcontent-%COMP%]{width:100px;height:100px;margin:50px;background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(cross.0bf1b6052953de20.svg)}[_nghost-%COMP%] > .track[_ngcontent-%COMP%]{position:absolute;bottom:0px;width:100%;height:100px;display:flex;flex-direction:row;align-items:center;justify-content:flex-end;overflow:hidden}[_nghost-%COMP%] > .track[_ngcontent-%COMP%] > .sound[_ngcontent-%COMP%]{flex-shrink:0;width:1px;background-color:#999;margin:0 1px}@keyframes shadow{0%{box-shadow:0 0 5px -5px #d9302599}50%{box-shadow:0 0 5px 10px #d9302599}to{box-shadow:0 0 5px -5px #d9302599}}@keyframes hurryup{0%{transform:scale(1)}50%{transform:scale(2)}to{transform:scale(1)}}"]}),i})(),y2=(()=>{class i{constructor(e,t,o,s){this.host=e,this.asyncService=t,this.getTargetHtmlService=o,this.locationService=s,this.gift=null,this.close=new L,this.size=200,this.xcoord=0,this.ycoord=0,this.button="none",this.timer=null,this.intervalForTime=setInterval(()=>{},1e5),this.memory=[0,0]}setSize(){this.size=1.5*window.innerWidth}tryPlay(){var e=this;return I(function*(){try{yield e.audio.play(),e.timer="loading",clearInterval(e.intervalForTime),e.intervalForTime=setInterval(()=>{e.setTime()},1e3)}catch(t){yield e.asyncService.delay(500),e.tryPlay()}})()}pause(){this.audio.pause(),clearInterval(this.intervalForTime)}processTouch(){if(this.touch){if("start"===this.touch.action&&(this.memory=[this.xcoord,this.ycoord]),"move"===this.touch.action){let e=this.memory[0]+this.touch.x-this.touch.start.x,t=this.memory[1]+this.touch.y-this.touch.start.y;e<-window.innerWidth/2-this.size/2&&(e=-window.innerWidth/2-this.size/2),e>window.innerWidth/2+this.size/2&&(e=window.innerWidth/2+this.size/2),t<-window.innerHeight/2-this.size/(299/136)/2&&(t=-window.innerHeight/2-this.size/(299/136)/2),t>window.innerHeight/2+this.size/(299/136)/2&&(t=window.innerHeight/2+this.size/(299/136)/2),this.xcoord=e,this.ycoord=t}if("end"===this.touch.action&&!this.touch.drag){const e=this.getTargetHtmlService.get(this.touch.target,"button");null===e?(this.pause(),this.close.emit()):"play"===e.classList[1]?(this.button="play",this.tryPlay()):"pause"===e.classList[1]?(this.button="pause",this.pause()):"prev"===e.classList[1]?(this.button="prev",this.audio.currentTime-=5,this.setTime(),setTimeout(()=>{this.button="none"},200)):"next"===e.classList[1]&&(this.button="next",this.audio.currentTime+=5,this.setTime(),setTimeout(()=>{this.button="none"},200))}}}setTime(){this.timer=this.audio.duration===1/0?"loading":Math.ceil(this.audio.duration-this.audio.currentTime)}ngOnInit(){this.setSize()}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch(),e.value&&e.value.previousValue!==e.value.currentValue&&null!==e.value.currentValue&&e.value.currentValue[0]&&(this.audio=new Audio(URL.createObjectURL(e.value.currentValue[0])),this.audio.onended=()=>{this.audio.play()})}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(ve),P(li),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-touch-listen"]],inputs:{touch:"touch",value:"value",gift:"gift"},outputs:{close:"close"},features:[re],decls:6,vars:9,consts:[[1,"wrap"],[3,"size","timer","button","grill","color"],[1,"hint"]],template:function(e,t){1&e&&(h(0,"div",0),m(1,"app-speaker",1),d(),h(2,"div",2),x(3),m(4,"br"),x(5),d()),2&e&&(b("transform","translateX("+t.xcoord+"px) translateY("+t.ycoord+"px)"),c(1),f("size",t.size)("timer",t.timer?t.timer:null)("button",t.button)("grill",t.gift&&t.gift.grill?t.gift.grill:"../../assets/speaker/grill/0.png")("color",t.gift&&t.gift.color?t.gift.color:"#ff5722"),c(2),se(" ",t.locationService.translate("tap to buttons to listen","\u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0438, \u0447\u0442\u043e\u0431\u044b \u0441\u043b\u0443\u0448\u0430\u0442\u044c"),""),c(2),se(" ",t.locationService.translate("tap anywhere else to close","\u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0432 \u043b\u044e\u0431\u043e\u043c \u0434\u0440\u0443\u0433\u043e\u043c \u043c\u0435\u0441\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0439\u0442\u0438"),"\n"))},directives:[bo],styles:["[_nghost-%COMP%] > .player[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{position:absolute;bottom:20px;width:100%;text-align:center;user-select:none;color:#999;font-size:12px;display:flex;flex-direction:row;align-items:center;justify-content:center}"]}),i})();function vB(i,n){if(1&i&&m(0,"video",11),2&i){const e=y();b("opacity",e.opacityVideo),f("muted","muted"),$e("width",e.width+"px")("height",e.height+"px")}}function yB(i,n){1&i&&m(0,"div",12)}function CB(i,n){if(1&i&&(h(0,"div",13),m(1,"div",14),h(2,"div",9),x(3),d(),d()),2&i){const e=y();c(3),D(e.error)}}let bB=(()=>{class i{constructor(e,t){this.host=e,this.locationService=t,this.setinit=!1,this.loading=!0,this.error="",this.width=0,this.height=0,this.text="",this.status="none",this.confirm="",this.chunks=[],this.timer=0,this.interval=setInterval(()=>{},1e6),this.save=new L,this.backgroundColor="#ffffff",this.opacityVideo="0"}onClick(){""===this.confirm&&("waiting"===this.status?this.startRecord():"recording"===this.status&&this.stopRecord())}init(){return I(function*(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!0}):new Promise((e,t)=>t("Your browser does not support microphone recording"))})()}setSize(){let e=this.host.nativeElement.querySelector(".preview"),t=e.videoWidth/e.videoHeight,o=window.innerWidth/window.innerHeight;o>t?(this.height=window.innerHeight,this.width=window.innerHeight*t):o<=t&&(this.width=window.innerWidth,this.height=window.innerWidth/t)}startRecord(){this.chunks[0]?this.confirm=this.locationService.translate("Overwrite?","\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c?"):(this.timer=30,this.interval=setInterval(()=>{this.timer--,this.timer<=0&&this.stopRecord()},1e3),this.status="recording",this.text=this.locationService.translate("tap to stop record","\u043d\u0430\u0436\u0430\u0442\u044c \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"),this.host.nativeElement.querySelector(".hint > .rec > circle:nth-child(1) > animate").beginElement(),this.host.nativeElement.querySelector(".hint > .rec > circle:nth-child(2) > animate").beginElement(),setTimeout(()=>{this.recorder.start()},100))}stopRecord(){clearInterval(this.interval),this.status="waiting",this.timer=0,this.text=this.locationService.translate("tap to start record","\u043d\u0430\u0436\u0430\u0442\u044c \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"),this.host.nativeElement.querySelector(".hint > .rec > circle:nth-child(1) > animate").endElement(),this.host.nativeElement.querySelector(".hint > .rec > circle:nth-child(2) > animate").endElement(),this.recorder.stop()}resultconfirm(e){"agree"===e?(this.chunks=[],setTimeout(()=>{this.confirm="",this.startRecord()},100)):"reject"===e&&(this.confirm="")}start(){var e=this;return I(function*(){try{let t=yield e.init(),o=e.host.nativeElement.querySelector(".preview");o.setAttribute("muted","true"),o.srcObject=t,o.captureStream=o.captureStream||o.mozCaptureStream,o.onplay=()=>{e.text=e.locationService.translate("tap to start record","\u043d\u0430\u0436\u0430\u0442\u044c \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"),e.backgroundColor="#000000",e.opacityVideo="1",e.setSize(),e.status="waiting",e.loading=!1},e.recorder=new MediaRecorder(t),e.recorder.ondataavailable=s=>{e.chunks.push(s.data),e.save.emit(e.chunks)}}catch(t){e.error="NotAllowedError: Permission denied"===t.toString()||"NotAllowedError: Permission dismissed"===t.toString()?e.locationService.translate("Webcam not allowed","\u0412\u0435\u0431-\u043a\u0430\u043c\u0435\u0440\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430"):t}})()}uninit(){this.recorder.stream.getTracks().forEach(e=>e.stop())}createVideo(){let e=document.createElement("video");e.setAttribute("control",""),e.setAttribute("autoplay",""),e.setAttribute("width","200px"),e.setAttribute("height","200px"),e.style.position="absolute",e.style.zIndex="10000";let t=new Blob(this.chunks,{type:"video/webm"});e.src=URL.createObjectURL(t),document.body.appendChild(e)}ngOnInit(){}ngOnChanges(e){e.setinit&&e.setinit.previousValue!==e.setinit.currentValue&&void 0!==e.setinit.previousValue&&(e.setinit.currentValue?this.start():"none"!==this.status&&this.uninit())}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-web-camera"]],hostVars:2,hostBindings:function(e,t){1&e&&C("click",function(){return t.onClick()}),2&e&&b("background-color",t.backgroundColor)},inputs:{setinit:"setinit"},outputs:{save:"save"},features:[re],decls:14,vars:10,consts:[["class","preview","autoplay","",3,"muted","opacity",4,"ngIf"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],[1,"hint"],["viewBox","0 0 30 30","xmlns","http://www.w3.org/2000/svg",1,"rec"],["cx","15","cy","15","r","6","fill","#ffffff"],["attributeName","fill","values","#ffffff; #d93025; #ffffff","dur","2s","repeatCount","indefinite","begin","indefinite"],["cx","15","cy","15","r","10","fill","transparent","stroke","#fff","stroke-width","2"],["attributeName","stroke","values","#ffffff; #d93025; #ffffff","dur","2s","repeatCount","indefinite","begin","indefinite"],[1,"text"],[3,"value","result"],["autoplay","",1,"preview",3,"muted"],[1,"loading"],[1,"error"],[1,"icon"]],template:function(e,t){1&e&&(h(0,"div"),x(1),d(),S(2,vB,1,5,"video",0),S(3,yB,1,0,"div",1),S(4,CB,4,1,"div",2),h(5,"div",3),yi(),h(6,"svg",4),h(7,"circle",5),m(8,"animate",6),d(),h(9,"circle",7),m(10,"animate",8),d(),d(),ws(),h(11,"div",9),x(12),d(),d(),h(13,"app-touch-confirm",10),C("result",function(s){return t.resultconfirm(s)}),d()),2&e&&(Vo(t.timer>0?t.timer<=5?"timer hurryup":"timer":"timer hidden"),c(1),se(" ",t.timer," "),c(1),f("ngIf",""===t.error),c(1),f("ngIf",t.loading&&!t.error),c(1),f("ngIf",""!==t.error),c(1),b("opacity",t.opacityVideo),c(7),D(t.text),c(1),f("value",t.confirm))},directives:[Re,pa],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all ease .3s}[_nghost-%COMP%] > .loading[_ngcontent-%COMP%]{width:100px;height:100px;background-image:url(loading.07aa785054084df7.svg);background-position:center;background-size:contain;background-repeat:no-repeat;z-index:100}[_nghost-%COMP%] > .timer[_ngcontent-%COMP%]{position:absolute;top:50px;width:100%;text-align:center;display:flex;color:#fff;flex-direction:row;align-items:center;justify-content:center;font-size:20px;transition:all ease .3s}[_nghost-%COMP%] > .timer.hidden[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%] > .timer.hurryup[_ngcontent-%COMP%]{animation-name:hurryup;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;color:#d93025}[_nghost-%COMP%] > .preview[_ngcontent-%COMP%]{opacity:0;position:absolute;transition:all ease .3s}[_nghost-%COMP%] > .error[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:50px;background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(cross.0bf1b6052953de20.svg)}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:14px;color:#000;text-align:center}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{opacity:0;position:absolute;bottom:20px;display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .rec[_ngcontent-%COMP%]{width:30px;height:30px;margin:10px}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{color:#fff;font-size:12px;text-align:center;user-select:none}@keyframes hurryup{0%{transform:scale(1)}50%{transform:scale(2)}to{transform:scale(1)}}"]}),i})();function wB(i,n){1&i&&m(0,"div",3),2&i&&b("background-image","url(../../assets/play-gray.svg)")}function xB(i,n){1&i&&m(0,"div",3),2&i&&b("background-image","url(../../assets/pause-gray.svg)")}let C2=(()=>{class i{constructor(e,t,o){this.touch2Service=e,this.host=t,this.locationService=o,this.size=200,this.obs=null,this.canMove=!1,this.ycoord=0,this.ymemory=0,this.control="none",this.pause=!0,this.dblflag=!1,this.dbltimeout=setTimeout(()=>{},0),this.active=!1,this.video=""}processTouch(e){if("move"===e.action&&"start"===e.prev.action&&(Math.abs(e.x-e.prev.x)>Math.abs(e.y-e.prev.y)?this.canMove=!1:(this.canMove=!0,this.ymemory=this.ycoord)),"end"===e.action&&(this.dblflag?this.dblflag&&(this.dblflag=!1,this.dodbl(e)):(this.dblflag=!0,this.dbltimeout=setTimeout(()=>{this.dblflag&&!1===e.drag&&this.dotap(e),this.dblflag=!1},200))),"move"===e.action&&(this.dblflag=!1),"move"===e.action&&this.canMove){let t=this.ymemory+(e.y-e.start.y);t>window.innerHeight/2&&(t=window.innerHeight/2),t<-window.innerHeight/2&&(t=-window.innerHeight/2),this.ycoord=t}}dotap(e){this.pause?this.control="play":this.pause||(this.control="pause"),this.pause=!this.pause,setTimeout(()=>{this.control="none"},200)}dodbl(e){this.control=e.x>window.innerWidth/2?"next":"prev",setTimeout(()=>{this.control="none"},200)}setSize(){this.size=window.innerWidth/window.innerHeight>247/178?.9*window.innerHeight*(247/178):.9*window.innerWidth}ngOnInit(){}ngOnChanges(e){e.active&&e.active.previousValue!==e.active.currentValue&&(e.active.currentValue?(this.setSize(),this.obs=this.touch2Service.listen(this.host.nativeElement).subscribe(t=>{this.processTouch(t)})):null!==this.obs&&this.obs.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(P(da),P(q),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-touch-watch"]],inputs:{active:"active",video:"video"},features:[re],decls:15,vars:14,consts:[[3,"video","size","control"],[1,"hint"],[1,"hint__block"],[1,"hint__icon"],[1,"hint__text"],["class","hint__icon",3,"backgroundImage",4,"ngIf"]],template:function(e,t){1&e&&(m(0,"app-tablet",0),h(1,"div",1),h(2,"div",2),m(3,"div",3),h(4,"div",4),x(5),d(),d(),h(6,"div",2),S(7,wB,1,2,"div",5),S(8,xB,1,2,"div",5),h(9,"div",4),x(10),d(),d(),h(11,"div",2),h(12,"div",4),x(13),d(),m(14,"div",3),d(),d()),2&e&&(b("transform","translateY("+t.ycoord+"px)"),f("video",t.video)("size",t.size)("control",t.control),c(3),b("background-image","url(../../assets/prev-gray.svg)"),c(2),D(t.locationService.translate("double tap","\u0434\u0432\u0430 \u043a\u043b\u0438\u043a\u0430")),c(2),f("ngIf",t.pause),c(1),f("ngIf",!t.pause),c(2),D(t.locationService.translate("tap","\u043a\u043b\u0438\u043a")),c(3),D(t.locationService.translate("double tap","\u0434\u0432\u0430 \u043a\u043b\u0438\u043a\u0430")),c(1),b("background-image","url(../../assets/next-gray.svg)"))},directives:[wo,Re],styles:["[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{position:absolute;bottom:10px;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .hint__block[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .hint__block[_ngcontent-%COMP%] > .hint__icon[_ngcontent-%COMP%]{margin:10px;width:20px;height:20px;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .hint__block[_ngcontent-%COMP%] > .hint__text[_ngcontent-%COMP%]{font-size:12px;color:#999;text-align:center;user-select:none}"]}),i})();function kB(i,n){1&i&&m(0,"div",8)}function PB(i,n){if(1&i&&m(0,"video",9),2&i){const e=y();b("opacity",e.opacityVideo)("animation-name",e.chickchick?"takephoto":"none"),f("muted","muted"),$e("width",e.width+"px")("height",e.height+"px")}}function SB(i,n){if(1&i&&(h(0,"div",10),m(1,"div",11),h(2,"div",12),x(3),d(),d()),2&i){const e=y();c(3),D(e.error)}}let MB=(()=>{class i{constructor(e,t,o,s){this.asyncService=e,this.host=t,this.touch2Service=o,this.locationService=s,this.active=!1,this.save=new L,this.width=0,this.height=0,this.picture="",this.chickchick=!1,this.opacityVideo="0",this.opacityPhoto="0",this.error="",this.canMove=!1,this.ycoord=0,this.memory=0,this.velocity=0,this.timeoutvelocity=setTimeout(()=>{},0),this.loading=!0}onClick(){if("0"===this.opacityPhoto){const e=this.host.nativeElement.querySelector(".preview");this.host.nativeElement.querySelector(".photo"),this.takePhoto();const o=document.createElement("canvas"),s=o.getContext("2d");o.setAttribute("width",e.videoWidth+"px"),o.setAttribute("height",e.videoHeight+"px"),s.drawImage(e,0,0,e.videoWidth,e.videoHeight),this.picture=o.toDataURL("png/image",1)}else"1"===this.opacityPhoto&&(this.opacityPhoto="0",this.opacityVideo="1",this.save.emit(this.picture))}init(){return I(function*(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!0}):new Promise((e,t)=>t("Your browser does not support microphone recording"))})()}takePhoto(){var e=this;return I(function*(){return e.chickchick=!0,yield e.asyncService.delay(1e3),e.chickchick=!1,e.opacityPhoto="1",e.opacityVideo="0",e.ycoord=0,yield e.asyncService.delay(300),new Promise(t=>t())})()}start(){var e=this;return I(function*(){try{let t=yield e.init(),o=e.host.nativeElement.querySelector(".preview");o.srcObject=t,o.captureStream=o.captureStream||o.mozCaptureStream,o.onplay=()=>{e.setSize(),e.opacityVideo="1",e.loading=!1},e.recorder=new MediaRecorder(t)}catch(t){e.error="NotAllowedError: Permission denied"===t.toString()||"NotAllowedError: Permission dismissed"===t.toString()?e.locationService.translate("Webcam not allowed","\u041a\u0430\u043c\u0435\u0440\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430"):t}})()}setSize(){let e=this.host.nativeElement.querySelector(".preview"),t=e.videoWidth/e.videoHeight,o=window.innerWidth/window.innerHeight;o>t?(this.height=window.innerHeight,this.width=window.innerHeight*t):o<=t&&(this.width=window.innerWidth,this.height=window.innerWidth/t)}uninit(){this.recorder.stream.getTracks().forEach(e=>e.stop())}closePhoto(){var e=this;return I(function*(){return e.host.nativeElement.querySelector(".photo").style.transition="all ease 0.3s",e.ycoord=-window.innerHeight,yield e.asyncService.delay(300),e.opacityPhoto="0",e.picture="",e.opacityVideo="1",yield e.asyncService.delay(300),e.host.nativeElement.querySelector(".photo").style.removeProperty("transition"),new Promise(t=>t())})()}remainPhoto(){var e=this;return I(function*(){return e.host.nativeElement.querySelector(".photo").style.transition="all ease 0.3s",yield e.asyncService.delay(10),e.ycoord=0,yield e.asyncService.delay(300),e.host.nativeElement.querySelector(".photo").style.removeProperty("transition"),new Promise(t=>t())})()}processTouch(e){if("move"===e.action&&"start"===e.prev.action&&(Math.abs(e.x-e.prev.x)<Math.abs(e.y-e.prev.y)?(this.canMove=!0,this.memory=this.ycoord):this.canMove=!1),"move"===e.action&&this.canMove&&"1"===this.opacityPhoto){this.velocity=e.y-e.prev.y,clearTimeout(this.timeoutvelocity),this.timeoutvelocity=setTimeout(()=>{this.velocity=0},100);let t=this.memory+(e.y-e.start.y);t>0&&(t=0),t<-window.innerHeight/2&&(t=-window.innerHeight/2),this.ycoord=t}"end"===e.action&&this.canMove&&"1"===this.opacityPhoto&&(0===this.velocity?this.ycoord<-window.innerHeight/4?this.closePhoto():this.ycoord>-window.innerHeight/4&&this.remainPhoto():this.velocity>0?this.remainPhoto():this.velocity<0&&this.closePhoto())}ngOnInit(){}ngOnChanges(e){e.active&&e.active.previousValue!==e.active.currentValue&&null!=e.active.previousValue&&(e.active.currentValue?(this.start(),this.obs=this.touch2Service.listen(this.host.nativeElement).subscribe(t=>this.processTouch(t))):(this.uninit(),this.obs.unsubscribe()))}}return i.\u0275fac=function(e){return new(e||i)(P(ve),P(q),P(da),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-touch-take-picture"]],hostBindings:function(e,t){1&e&&C("click",function(){return t.onClick()})},inputs:{active:"active"},outputs:{save:"save"},features:[re],decls:11,vars:24,consts:[["class","loading",4,"ngIf"],["class","preview","autoplay","",3,"muted","opacity","animationName",4,"ngIf"],[1,"photo"],["class","error",4,"ngIf"],[1,"hint"],[1,"hintCancel"],[1,"hintSave"],[1,"subtext"],[1,"loading"],["autoplay","",1,"preview",3,"muted"],[1,"error"],[1,"icon"],[1,"text"]],template:function(e,t){1&e&&(S(0,kB,1,0,"div",0),S(1,PB,1,7,"video",1),m(2,"div",2),S(3,SB,4,1,"div",3),h(4,"div",4),x(5),d(),h(6,"div",5),x(7),d(),h(8,"div",6),h(9,"div",7),x(10),d(),d()),2&e&&(f("ngIf",t.loading&&!t.error),c(1),f("ngIf",""===t.error),c(1),b("width",t.width+"px")("height",t.height+"px")("opacity",t.opacityPhoto)("animation-name",t.chickchick?"takephoto":"none")("transform","translateY("+t.ycoord+"px)")("background-image","url("+t.picture+")"),c(1),f("ngIf",""!==t.error),c(1),b("opacity",t.opacityVideo),c(1),D(t.locationService.translate("tap to take a photo","\u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0444\u043e\u0442\u043e")),c(1),b("opacity",t.opacityPhoto),c(1),D(t.locationService.translate("swipe up to cancel","\u0441\u0432\u0430\u0439\u043f \u0432\u0432\u0435\u0440\u0445 \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")),c(1),b("opacity",t.opacityPhoto),c(2),D(t.locationService.translate("tap to save","\u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))},directives:[Re],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .loading[_ngcontent-%COMP%]{width:100px;height:100px;background-image:url(loading.07aa785054084df7.svg);background-position:center;background-size:contain;background-repeat:no-repeat;z-index:100}[_nghost-%COMP%] > .preview[_ngcontent-%COMP%]{position:absolute;animation-name:none;animation-duration:1s;animation-iteration-count:1;animation-timing-function:linear;transition:all ease .3s}[_nghost-%COMP%] > .photo[_ngcontent-%COMP%]{background-size:contain;position:absolute;animation-name:none;animation-duration:1s;animation-iteration-count:1;animation-timing-function:linear}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{padding:10px 0;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;bottom:0px;text-align:center;font-size:12px;color:#fff;opacity:0;user-select:none;background-color:#0009;transition:all ease .3s}[_nghost-%COMP%] > .hintCancel[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;top:20px;text-align:center;font-size:12px;color:#fff;opacity:0;background-color:#0009;border-radius:10px;user-select:none;transition:all ease .3s}[_nghost-%COMP%] > .hintSave[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;transition:all ease .3s}[_nghost-%COMP%] > .hintSave[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:center;text-align:center;font-size:18px;color:#fff;background-color:#0009;border-radius:10px;user-select:none}[_nghost-%COMP%] > .hintSave[_ngcontent-%COMP%] > .subtext[_ngcontent-%COMP%]{margin:10px;padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:center;text-align:center;font-size:12px;color:#fff;background-color:#0009;border-radius:10px;user-select:none}[_nghost-%COMP%] > .error[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:50px;background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(cross.0bf1b6052953de20.svg)}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:14px;color:#000;text-align:center}@keyframes takephoto{0%{opacity:1}10%{opacity:0}to{opacity:1}}"]}),i})();const DB=function(){return[]};let EB=(()=>{class i{constructor(e,t,o,s){this.touch2Service=e,this.host=t,this.getTargetHtmlService=o,this.locationService=s,this.active=!1,this.tool="pen",this.color="#000000",this.gift=null,this.sublimereset=!1,this.sublimesave=!1,this.close=new L,this.save=new L,this.touch=null,this.xcoord=0,this.ycoord=0,this.width=0,this.height=0,this.actionTouch="",this.memory=[0,0],this.dblflag=!1,this.dbltimeout=setTimeout(()=>{},0)}setSize(){window.innerWidth/window.innerHeight>.75?(this.height=.9*window.innerHeight,this.width=.9*window.innerHeight*.75):window.innerWidth/window.innerHeight<=.75&&(this.width=.9*window.innerWidth,this.height=.9*window.innerWidth/.75),this.xcoord=(window.innerWidth-this.width)/2,this.ycoord=(window.innerHeight-this.height)/2}processTouch(e){if("start"===e.action&&(null===this.getTargetHtmlService.get(e.target,"bright")?(this.actionTouch="shift",this.memory=[this.xcoord,this.ycoord]):this.actionTouch="draw"),"start"===e.action||"move"===e.action)if("shift"===this.actionTouch&&"move"===e.action){let t=this.memory[0]+(e.x-e.start.x),o=this.memory[1]+(e.y-e.start.y);t<-this.width&&(t=-this.width),t>window.innerWidth&&(t=window.innerWidth),o<-this.height&&(o=-this.height),o>window.innerHeight&&(o=window.innerHeight),this.xcoord=t,this.ycoord=o}else"draw"===this.actionTouch&&(this.touch=e);"end"===e.action&&(this.dblflag?this.dblflag&&(this.dblflag=!1,this.dodbl()):(this.dblflag=!0,this.dbltimeout=setTimeout(()=>{this.dblflag=!1},200)))}dodbl(){this.close.emit()}savedraw(e){this.save.emit(e)}ngOnInit(){}ngOnChanges(e){e.active&&e.active.previousValue!==e.active.currentValue&&(e.active.currentValue?(this.setSize(),this.obs=this.touch2Service.listen(this.host.nativeElement).subscribe(t=>{this.processTouch(t)})):e.active.currentValue||this.obs&&this.obs.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(P(da),P(q),P(li),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-touch-sign-photo"]],inputs:{active:"active",tool:"tool",color:"color",gift:"gift",sublimereset:"sublimereset",sublimesave:"sublimesave"},outputs:{close:"close",save:"save"},features:[re],decls:7,vars:21,consts:[[1,"wrap"],[1,"photo",3,"size"],[1,"mask"],[1,"bright"],[1,"canvas",3,"touch","tool","color","width","height","points","sublimereset","sublimesave","save"],[1,"hint"]],template:function(e,t){1&e&&(h(0,"div",0),m(1,"app-photo",1),d(),h(2,"div",2),m(3,"div",3),d(),h(4,"app-touch-draw-svg",4),C("save",function(s){return t.savedraw(s)}),d(),h(5,"div",5),x(6),d()),2&e&&(b("transform","translateX("+(t.xcoord+t.width/2)+"px) translateY("+(t.ycoord+t.height/2)+"px) rotateY(180deg)"),c(1),f("size",t.width),c(2),b("width",t.width,"px")("height",t.height,"px")("transform","translateX("+t.xcoord+"px) translateY("+t.ycoord+"px)"),c(1),b("transform","translateX("+t.xcoord+"px) translateY("+t.ycoord+"px) translateZ(1000px)"),f("touch",t.touch)("tool",t.tool)("color",t.color)("width",t.width)("height",t.height)("points",null!=t.gift&&t.gift.sign?null==t.gift?null:t.gift.sign:lo(20,DB))("sublimereset",t.sublimereset)("sublimesave",t.sublimesave),c(2),D(t.locationService.translate("double tap to menu","\u0434\u0432\u043e\u0439\u043d\u043e\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u0434\u043b\u044f \u0432\u044b\u0445\u043e\u0434\u0430 \u0432 \u043c\u0435\u043d\u044e")))},directives:[Yi,O0],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]{position:absolute;transform-style:preserve-3d}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%]   .mask[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:#0006;z-index:10}[_nghost-%COMP%]   .mask[_ngcontent-%COMP%] > .bright[_ngcontent-%COMP%]{backdrop-filter:brightness(1.7)}[_nghost-%COMP%] > .canvas[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{position:absolute;width:100%;color:#fff;font-size:12px;text-align:center;display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;z-index:10;bottom:10px}"]}),i})(),TB=(()=>{class i{constructor(e){this.locationService=e,this.touch=null,this.touchRefresh=null}ngOnInit(){}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&(this.touchRefresh=this.touch)}}return i.\u0275fac=function(e){return new(e||i)(P(De))},i.\u0275cmp=X({type:i,selectors:[["app-touch-empty-giftslist"]],inputs:{touch:"touch"},features:[re],decls:7,vars:3,consts:[[3,"touch"],[1,"main"],[1,"hint"],[1,"text"],[1,"ico"]],template:function(e,t){1&e&&(m(0,"app-touch-refresh",0),h(1,"div",1),x(2),d(),h(3,"div",2),h(4,"div",3),x(5),d(),m(6,"div",4),d()),2&e&&(f("touch",t.touchRefresh),c(2),D(t.locationService.translate("EMPTY","\u041f\u0423\u0421\u0422\u041e")),c(3),D(t.locationService.translate("add gift by","\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a")))},directives:[Eh],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .main[_ngcontent-%COMP%]{margin:auto 10px 10px;font-size:40px;color:#333;text-align:center}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{margin:10px 10px auto;display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#333}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:0 10px;width:100px;height:20px;background-image:url(arrow-right-sidebar.00e44d33ba7f85d4.svg)}"]}),i})();class OB extends Pt{constructor(n,e){super()}schedule(n,e=0){return this}}const Rh={setInterval(...i){const{delegate:n}=Rh;return((null==n?void 0:n.setInterval)||setInterval)(...i)},clearInterval(i){const{delegate:n}=Rh;return((null==n?void 0:n.clearInterval)||clearInterval)(i)},delegate:void 0};class I0 extends OB{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const t=this.id,o=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(o,t,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,t=0){return Rh.setInterval(n.flush.bind(n,this),t)}recycleAsyncId(n,e,t=0){if(null!=t&&this.delay===t&&!1===this.pending)return e;Rh.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const t=this._execute(n,e);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,t=!1;try{this.work(n)}catch(s){t=!0,o=s||new Error("Scheduled action threw falsy error")}if(t)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:t}=e;this.work=this.state=this.scheduler=null,this.pending=!1,tr(t,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const $l={schedule(i){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:t}=$l;t&&(n=t.requestAnimationFrame,e=t.cancelAnimationFrame);const o=n(s=>{e=void 0,i(s)});return new Pt(()=>null==e?void 0:e(o))},requestAnimationFrame(...i){const{delegate:n}=$l;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:n}=$l;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...i)},delegate:void 0},b2={now:()=>(b2.delegate||Date).now(),delegate:void 0};class Yl{constructor(n,e=Yl.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,t){return new this.schedulerActionCtor(this,n).schedule(t,e)}}Yl.now=b2.now;class A0 extends Yl{constructor(n,e=Yl.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let t;this._active=!0;do{if(t=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,t){for(;n=e.shift();)n.unsubscribe();throw t}}}const w2=new class extends A0{flush(n){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let t,o=-1;n=n||e.shift();const s=e.length;do{if(t=n.execute(n.state,n.delay))break}while(++o<s&&(n=e.shift()));if(this._active=!1,t){for(;++o<s&&(n=e.shift());)n.unsubscribe();throw t}}}(class extends I0{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,t=0){return null!==t&&t>0?super.requestAsyncId(n,e,t):(n.actions.push(this),n._scheduled||(n._scheduled=$l.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,t=0){if(null!=t&&t>0||null==t&&this.delay>0)return super.recycleAsyncId(n,e,t);0===n.actions.length&&($l.cancelAnimationFrame(e),n._scheduled=void 0)}});let R0,RB=1;const Fh={};function x2(i){return i in Fh&&(delete Fh[i],!0)}const FB={setImmediate(i){const n=RB++;return Fh[n]=!0,R0||(R0=Promise.resolve()),R0.then(()=>x2(n)&&i()),n},clearImmediate(i){x2(i)}},{setImmediate:NB,clearImmediate:BB}=FB,Nh={setImmediate(...i){const{delegate:n}=Nh;return((null==n?void 0:n.setImmediate)||NB)(...i)},clearImmediate(i){const{delegate:n}=Nh;return((null==n?void 0:n.clearImmediate)||BB)(i)},delegate:void 0},F0=(new class extends A0{flush(n){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let t,o=-1;n=n||e.shift();const s=e.length;do{if(t=n.execute(n.state,n.delay))break}while(++o<s&&(n=e.shift()));if(this._active=!1,t){for(;++o<s&&(n=e.shift());)n.unsubscribe();throw t}}}(class extends I0{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,t=0){return null!==t&&t>0?super.requestAsyncId(n,e,t):(n.actions.push(this),n._scheduled||(n._scheduled=Nh.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,t=0){if(null!=t&&t>0||null==t&&this.delay>0)return super.recycleAsyncId(n,e,t);0===n.actions.length&&(Nh.clearImmediate(e),n._scheduled=void 0)}}),new A0(I0)),k2=F0;function P2(i=0,n,e=k2){let t=-1;return null!=n&&(g_(n)?e=n:t=n),new Ze(o=>{let s=function(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;s<0&&(s=0);let r=0;return e.schedule(function(){o.closed||(o.next(r++),0<=t?this.schedule(void 0,t):o.complete())},s)})}function S2(i,n=k2){return function(i){return Ct((n,e)=>{let t=!1,o=null,s=null,r=!1;const a=()=>{if(null==s||s.unsubscribe(),s=null,t){t=!1;const u=o;o=null,e.next(u)}r&&e.complete()},l=()=>{s=null,r&&e.complete()};n.subscribe(new pt(e,u=>{t=!0,o=u,s||En(i()).subscribe(s=new pt(e,a,l))},()=>{r=!0,(!t||!s||s.closed)&&e.complete()}))})}(()=>P2(i,n))}let UB=(()=>{class i{constructor(e,t,o){this._ngZone=e,this._platform=t,this._scrolled=new ze,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ze(t=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(S2(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):_e()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const o=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(_n(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,e)&&t.push(s)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let o=Lt(t),s=e.getElementRef().nativeElement;do{if(o==s)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>yo(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(j(Ye),j(sa),j(at,8))},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),YB=(()=>{class i{constructor(e,t,o){this._platform=e,this._change=new ze,this._changeListener=s=>{this._change.next(s)},this._document=o,t.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+t,height:o,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),o=e.documentElement,s=o.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||t.scrollY||o.scrollTop||0,left:-s.left||e.body.scrollLeft||t.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(S2(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(j(sa),j(Ye),j(at,8))},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),WB=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=St({type:i}),i.\u0275inj=bt({}),i})();function N0(i,n,e){for(let t in n)if(n.hasOwnProperty(t)){const o=n[t];o?i.setProperty(t,o,(null==e?void 0:e.has(t))?"important":""):i.removeProperty(t)}return i}function fa(i,n){const e=n?"":"none";N0(i.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function M2(i,n,e){N0(i.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function Bh(i,n){return n&&"none"!=n?i+" "+n:i}function D2(i){const n=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*n}function B0(i,n){return i.getPropertyValue(n).split(",").map(t=>t.trim())}function V0(i){const n=i.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function L0(i,n,e){const{top:t,bottom:o,left:s,right:r}=i;return e>=t&&e<=o&&n>=s&&n<=r}function Wl(i,n,e){i.top+=n,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function E2(i,n,e,t){const{top:o,right:s,bottom:r,left:a,width:l,height:u}=i,p=l*n,g=u*n;return t>o-g&&t<r+g&&e>a-p&&e<s+p}class T2{constructor(n){this._document=n,this.positions=new Map}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:V0(e)})})}handleScroll(n){const e=mo(n),t=this.positions.get(e);if(!t)return null;const o=t.scrollPosition;let s,r;if(e===this._document){const u=this.getViewportScrollPosition();s=u.top,r=u.left}else s=e.scrollTop,r=e.scrollLeft;const a=o.top-s,l=o.left-r;return this.positions.forEach((u,p)=>{u.clientRect&&e!==p&&e.contains(p)&&Wl(u.clientRect,a,l)}),o.top=s,o.left=r,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function O2(i){const n=i.cloneNode(!0),e=n.querySelectorAll("[id]"),t=i.nodeName.toLowerCase();n.removeAttribute("id");for(let o=0;o<e.length;o++)e[o].removeAttribute("id");return"canvas"===t?R2(i,n):("input"===t||"select"===t||"textarea"===t)&&A2(i,n),I2("canvas",i,n,R2),I2("input, textarea, select",i,n,A2),n}function I2(i,n,e,t){const o=n.querySelectorAll(i);if(o.length){const s=e.querySelectorAll(i);for(let r=0;r<o.length;r++)t(o[r],s[r])}}let XB=0;function A2(i,n){"file"!==n.type&&(n.value=i.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${XB++}`)}function R2(i,n){const e=n.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch(t){}}const F2=Fs({passive:!0}),Vh=Fs({passive:!1}),z0=new Set(["position"]);class QB{constructor(n,e,t,o,s,r){this._config=e,this._document=t,this._ngZone=o,this._viewportRuler=s,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new ze,this._pointerMoveSubscription=Pt.EMPTY,this._pointerUpSubscription=Pt.EMPTY,this._scrollSubscription=Pt.EMPTY,this._resizeSubscription=Pt.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ze,this.started=new ze,this.released=new ze,this.ended=new ze,this.entered=new ze,this.exited=new ze,this.dropped=new ze,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const v=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),k=this._dropContainer;if(!v)return void this._endDragSequence(a);(!k||!k.isDragging()&&!k.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const u=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(u),this._dropContainer)this._updateActiveDropContainer(u,l);else{const p=this._activeTransform;p.x=u.x-this._pickupPositionOnPage.x+this._passiveTransform.x,p.y=u.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(p.x,p.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:u,event:a,distance:this._getDragDistance(u),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new T2(t),r.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){const e=_o(n);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>fa(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(t=>Lt(t)),this._handles.forEach(t=>fa(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const e=Lt(n);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Vh),e.addEventListener("touchstart",this._pointerDown,F2),e.addEventListener("dragstart",this._nativeDragStart,Vh)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?Lt(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){var n,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null==(n=this._rootElement)||n.remove()),null==(e=this._anchor)||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),fa(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),fa(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var n,e;null==(n=this._preview)||n.remove(),null==(e=this._previewRef)||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var n,e;null==(n=this._placeholder)||n.remove(),null==(e=this._placeholderRef)||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){ql(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,o=t.parentNode,s=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();o.insertBefore(r,t),this._initialTransform=t.style.transform||"",this._preview=this._createPreviewElement(),M2(t,!1,z0),this._document.body.appendChild(o.replaceChild(s,t)),this._getPreviewInsertionPoint(o,a).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();const t=this.isDragging(),o=ql(e),s=!o&&0!==e.button,r=this._rootElement,a=mo(e),l=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),u=o?Gg(e):zg(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),t||s||l||u)return;if(this._handles.length){const _=r.style;this._rootElementTapHighlight=_.webkitTapHighlightColor||"",_.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(_=>this._updateOnScroll(_)),this._boundaryElement&&(this._boundaryRect=V0(this._boundaryElement));const p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(n,e);const g=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:g.x,y:g.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){M2(this._rootElement,!0,z0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,t=e.getItemIndex(this),o=this._getPointerPositionOnPage(n),s=this._getDragDistance(o),r=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:s,dropPoint:o}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:s,dropPoint:o}),e.drop(this,t,this._initialIndex,this._initialContainer,r,s,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:t,y:o}){let s=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,n,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,o),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const n=this._previewTemplate,e=this.previewClass,t=n?n.template:null;let o;if(t&&n){const s=n.matchSize?this._rootElement.getBoundingClientRect():null,r=n.viewContainer.createEmbeddedView(t,n.context);r.detectChanges(),o=B2(r,this._document),this._previewRef=r,n.matchSize?V2(o,s):o.style.transform=Lh(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const s=this._rootElement;o=O2(s),V2(o,s.getBoundingClientRect()),this._initialTransform&&(o.style.transform=this._initialTransform)}return N0(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},z0),fa(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>o.classList.add(s)):o.classList.add(e)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const e=function(i){const n=getComputedStyle(i),e=B0(n,"transition-property"),t=e.find(a=>"transform"===a||"all"===a);if(!t)return 0;const o=e.indexOf(t),s=B0(n,"transition-duration"),r=B0(n,"transition-delay");return D2(s[o])+D2(r[o])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const o=r=>{var a;(!r||mo(r)===this._preview&&"transform"===r.propertyName)&&(null==(a=this._preview)||a.removeEventListener("transitionend",o),t(),clearTimeout(s))},s=setTimeout(o,1.5*e);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,e=n?n.template:null;let t;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),t=B2(this._placeholderRef,this._document)):t=O2(this._rootElement),t.style.pointerEvents="none",t.classList.add("cdk-drag-placeholder"),t}_getPointerPositionInElement(n,e){const t=this._rootElement.getBoundingClientRect(),o=n===this._rootElement?null:n,s=o?o.getBoundingClientRect():t,r=ql(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:s.left-t.left+(r.pageX-s.left-a.left),y:s.top-t.top+(r.pageY-s.top-a.top)}}_getPointerPositionOnPage(n){const e=this._getViewportScrollPosition(),t=ql(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,o=t.pageX-e.left,s=t.pageY-e.top;if(this._ownerSVGElement){const r=this._ownerSVGElement.getScreenCTM();if(r){const a=this._ownerSVGElement.createSVGPoint();return a.x=o,a.y=s,a.matrixTransform(r.inverse())}}return{x:o,y:s}}_getConstrainedPointerPosition(n){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:t,y:o}=this.constrainPosition?this.constrainPosition(n,this):n;if("x"===this.lockAxis||"x"===e?o=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(t=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:r}=this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:u}=this._getPreviewRect(),p=a.top+r,g=a.bottom-(u-r);t=N2(t,a.left+s,a.right-(l-s)),o=N2(o,p,g)}return{x:t,y:o}}_updatePointerDirectionDelta(n){const{x:e,y:t}=n,o=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,r=Math.abs(e-s.x),a=Math.abs(t-s.y);return r>this._config.pointerDirectionChangeThreshold&&(o.x=e>s.x?1:-1,s.x=e),a>this._config.pointerDirectionChangeThreshold&&(o.y=t>s.y?1:-1,s.y=t),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,fa(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,Vh),n.removeEventListener("touchstart",this._pointerDown,F2),n.removeEventListener("dragstart",this._nativeDragStart,Vh)}_applyRootElementTransform(n,e){const t=Lh(n,e),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=Bh(t,this._initialTransform)}_applyPreviewTransform(n,e){var s;const t=(null==(s=this._previewTemplate)?void 0:s.template)?void 0:this._initialTransform,o=Lh(n,e);this._preview.style.transform=Bh(o,t)}_getDragDistance(n){const e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(0===n&&0===e||this.isDragging()||!this._boundaryElement)return;const t=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();if(0===t.width&&0===t.height||0===o.width&&0===o.height)return;const s=t.left-o.left,r=o.right-t.right,a=t.top-o.top,l=o.bottom-t.bottom;t.width>o.width?(s>0&&(n+=s),r>0&&(n-=r)):n=0,t.height>o.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){const e=this.dragStartDelay;return"number"==typeof e?e:ql(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){const e=this._parentPositions.handleScroll(n);if(e){const t=mo(n);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&Wl(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var n;return(null==(n=this._parentPositions.positions.get(this._document))?void 0:n.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Lg(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){const t=this._previewContainer||"global";if("parent"===t)return n;if("global"===t){const o=this._document;return e||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return Lt(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}}function Lh(i,n){return`translate3d(${Math.round(i)}px, ${Math.round(n)}px, 0)`}function N2(i,n,e){return Math.max(n,Math.min(e,i))}function ql(i){return"t"===i.type[0]}function B2(i,n){const e=i.rootNodes;if(1===e.length&&e[0].nodeType===n.ELEMENT_NODE)return e[0];const t=n.createElement("div");return e.forEach(o=>t.appendChild(o)),t}function V2(i,n){i.style.width=`${n.width}px`,i.style.height=`${n.height}px`,i.style.transform=Lh(n.left,n.top)}function Zl(i,n){return Math.max(0,Math.min(n,i))}class eV{constructor(n,e,t,o,s){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ze,this.entered=new ze,this.exited=new ze,this.dropped=new ze,this.sorted=new ze,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Pt.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new ze,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(i=0,n=F0){return i<0&&(i=0),P2(i,i,n)}(0,w2).pipe(Ll(this._stopScrollTimers)).subscribe(()=>{const r=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?r.scrollBy(0,-a):2===this._verticalScrollDirection&&r.scrollBy(0,a),1===this._horizontalScrollDirection?r.scrollBy(-a,0):2===this._horizontalScrollDirection&&r.scrollBy(a,0)})},this.element=Lt(n),this._document=t,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new T2(t)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,t,o){let s;this._draggingStarted(),null==o?(s=this.sortingDisabled?this._draggables.indexOf(n):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(n,e,t))):s=o;const r=this._activeDraggables,a=r.indexOf(n),l=n.getPlaceholderElement();let u=r[s];if(u===n&&(u=r[s+1]),!u&&(null==s||-1===s||s<r.length-1)&&this._shouldEnterAsFirstChild(e,t)&&(u=r[0]),a>-1&&r.splice(a,1),u&&!this._dragDropRegistry.isDragging(u)){const p=u.getRootElement();p.parentElement.insertBefore(l,p),r.splice(s,0,n)}else Lt(this.element).appendChild(l),r.push(n);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,t,o,s,r,a){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:t,container:this,previousContainer:o,isPointerOverContainer:s,distance:r,dropPoint:a})}withItems(n){const e=this._draggables;return this._draggables=n,n.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(o=>o.isDragging()).every(o=>-1===n.indexOf(o))?this._reset():this._cacheItems()),this}withDirection(n){return this._direction=n,this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){return this._orientation=n,this}withScrollableParents(n){const e=Lt(this.element);return this._scrollableElements=-1===n.indexOf(e)?[e,...n]:n.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(t=>t.drag===n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,t,o){if(this.sortingDisabled||!this._clientRect||!E2(this._clientRect,.05,e,t))return;const s=this._itemPositions,r=this._getItemIndexFromPointerPosition(n,e,t,o);if(-1===r&&s.length>0)return;const a="horizontal"===this._orientation,l=s.findIndex(M=>M.drag===n),u=s[r],g=u.clientRect,_=l>r?1:-1,v=this._getItemOffsetPx(s[l].clientRect,g,_),k=this._getSiblingOffsetPx(l,s,_),w=s.slice();(function(i,n,e){const t=Zl(n,i.length-1),o=Zl(e,i.length-1);if(t===o)return;const s=i[t],r=o<t?-1:1;for(let a=t;a!==o;a+=r)i[a]=i[a+r];i[o]=s})(s,l,r),this.sorted.next({previousIndex:l,currentIndex:r,container:this,item:n}),s.forEach((M,O)=>{if(w[O]===M)return;const T=M.drag===n,R=T?v:k,N=T?n.getPlaceholderElement():M.drag.getRootElement();M.offset+=R,a?(N.style.transform=Bh(`translate3d(${Math.round(M.offset)}px, 0, 0)`,M.initialTransform),Wl(M.clientRect,0,R)):(N.style.transform=Bh(`translate3d(0, ${Math.round(M.offset)}px, 0)`,M.initialTransform),Wl(M.clientRect,R,0))}),this._previousSwap.overlaps=L0(g,e,t),this._previousSwap.drag=u.drag,this._previousSwap.delta=a?o.x:o.y}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let t,o=0,s=0;if(this._parentPositions.positions.forEach((r,a)=>{a===this._document||!r.clientRect||t||E2(r.clientRect,.05,n,e)&&([o,s]=function(i,n,e,t){const o=G2(n,t),s=j2(n,e);let r=0,a=0;if(o){const l=i.scrollTop;1===o?l>0&&(r=1):i.scrollHeight-l>i.clientHeight&&(r=2)}if(s){const l=i.scrollLeft;1===s?l>0&&(a=1):i.scrollWidth-l>i.clientWidth&&(a=2)}return[r,a]}(a,r.clientRect,n,e),(o||s)&&(t=a))}),!o&&!s){const{width:r,height:a}=this._viewportRuler.getViewportSize(),l={width:r,height:a,top:0,right:r,bottom:a,left:0};o=G2(l,e),s=j2(l,n),t=window}t&&(o!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=s,this._scrollNode=t,(o||s)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=Lt(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const n=Lt(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(n).clientRect}_cacheItemPositions(){const n="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:V0(t)}}).sort((e,t)=>n?e.clientRect.left-t.clientRect.left:e.clientRect.top-t.clientRect.top)}_reset(){this._isDragging=!1;const n=Lt(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var o;const t=e.getRootElement();if(t){const s=null==(o=this._itemPositions.find(r=>r.drag===e))?void 0:o.initialTransform;t.style.transform=s||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(n,e,t){const o="horizontal"===this._orientation,s=e[n].clientRect,r=e[n+-1*t];let a=s[o?"width":"height"]*t;if(r){const l=o?"left":"top",u=o?"right":"bottom";-1===t?a-=r.clientRect[l]-s[u]:a+=s[l]-r.clientRect[u]}return a}_getItemOffsetPx(n,e,t){const o="horizontal"===this._orientation;let s=o?e.left-n.left:e.top-n.top;return-1===t&&(s+=o?e.width-n.width:e.height-n.height),s}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;const t=this._itemPositions,o="horizontal"===this._orientation;if(t[0].drag!==this._activeDraggables[0]){const r=t[t.length-1].clientRect;return o?n>=r.right:e>=r.bottom}{const r=t[0].clientRect;return o?n<=r.left:e<=r.top}}_getItemIndexFromPointerPosition(n,e,t,o){const s="horizontal"===this._orientation,r=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===n)return!1;if(o){const u=s?o.x:o.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&u===this._previousSwap.delta)return!1}return s?e>=Math.floor(l.left)&&e<Math.floor(l.right):t>=Math.floor(l.top)&&t<Math.floor(l.bottom)});return-1!==r&&this.sortPredicate(r,n,this)?r:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(n,e){return null!=this._clientRect&&L0(this._clientRect,n,e)}_getSiblingContainerFromPosition(n,e,t){return this._siblings.find(o=>o._canReceive(n,e,t))}_canReceive(n,e,t){if(!this._clientRect||!L0(this._clientRect,e,t)||!this.enterPredicate(n,this))return!1;const o=this._getShadowRoot().elementFromPoint(e,t);if(!o)return!1;const s=Lt(this.element);return o===s||s.contains(o)}_startReceiving(n,e){const t=this._activeSiblings;!t.has(n)&&e.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(t.add(n),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(n);e&&(this._itemPositions.forEach(({clientRect:t})=>{Wl(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=Lg(Lt(this.element));this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}}function G2(i,n){const{top:e,bottom:t,height:o}=i,s=.05*o;return n>=e-s&&n<=e+s?1:n>=t-s&&n<=t+s?2:0}function j2(i,n){const{left:e,right:t,width:o}=i,s=.05*o;return n>=e-s&&n<=e+s?1:n>=t-s&&n<=t+s?2:0}const zh=Fs({passive:!1,capture:!0});let nV=(()=>{class i{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new ze,this.pointerUp=new ze,this.scroll=new ze,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=t}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,zh)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,zh)}startDragging(e,t){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const o=t.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:zh}),o||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:zh}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,r)=>{this._document.addEventListener(r,s.handler,s.options)})})}}stopDragging(e){const t=this._activeDragInstances.indexOf(e);t>-1&&(this._activeDragInstances.splice(t,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const t=[this.scroll];return e&&e!==this._document&&t.push(new Ze(o=>this._ngZone.runOutsideAngular(()=>{const r=a=>{this._activeDragInstances.length&&o.next(a)};return e.addEventListener("scroll",r,!0),()=>{e.removeEventListener("scroll",r,!0)}}))),Cu(...t)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)}),this._globalListeners.clear()}}return i.\u0275fac=function(e){return new(e||i)(j(Ye),j(at))},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const iV={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let G0=(()=>{class i{constructor(e,t,o,s){this._document=e,this._ngZone=t,this._viewportRuler=o,this._dragDropRegistry=s}createDrag(e,t=iV){return new QB(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new eV(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return i.\u0275fac=function(e){return new(e||i)(j(at),j(Ye),j(YB),j(nV))},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const H2=new oe("CDK_DRAG_PARENT"),U2=new oe("CdkDropListGroup"),$2=new oe("CDK_DRAG_CONFIG");let oV=0;const Y2=new oe("CdkDropList");let sV=(()=>{class i{constructor(e,t,o,s,r,a,l){this.element=e,this._changeDetectorRef=o,this._scrollDispatcher=s,this._dir=r,this._group=a,this._destroyed=new ze,this.connectedTo=[],this.id="cdk-drop-list-"+oV++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new L,this.entered=new L,this.exited=new L,this.sorted=new L,this._unsortedItems=new Set,this._dropListRef=t.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(u,p)=>this.enterPredicate(u.data,p.data),this._dropListRef.sortPredicate=(u,p,g)=>this.sortPredicate(u,p.data,g.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=_o(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=i._dropLists.indexOf(this);e>-1&&i._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Uc(this._dir.value),Ll(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const t=function(i){return Array.isArray(i)?i:[i]}(this.connectedTo).map(o=>"string"==typeof o?i._dropLists.find(r=>r.id===o):o);if(this._group&&this._group._items.forEach(o=>{-1===t.indexOf(o)&&t.push(o)}),!this._scrollableParentsResolved){const o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=_o(this.sortingDisabled),e.autoScrollDisabled=_o(this.autoScrollDisabled),e.autoScrollStep=$o(this.autoScrollStep,2),e.connectedTo(t.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance,dropPoint:t.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:t,draggingDisabled:o,sortingDisabled:s,listAutoScrollDisabled:r,listOrientation:a}=e;this.disabled=null!=o&&o,this.sortingDisabled=null!=s&&s,this.autoScrollDisabled=null!=r&&r,this.orientation=a||"vertical",t&&(this.lockAxis=t)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return i._dropLists=[],i.\u0275fac=function(e){return new(e||i)(P(q),P(G0),P(ei),P(UB),P(Hg,8),P(U2,12),P($2,8))},i.\u0275dir=ae({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,t){2&e&&($e("id",t.id),V("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Ge([{provide:U2,useValue:void 0},{provide:Y2,useExisting:i}])]}),i})();const W2=new oe("CdkDragHandle"),q2=new oe("CdkDragPlaceholder");let Z2=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(P(zi))},i.\u0275dir=ae({type:i,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[Ge([{provide:q2,useExisting:i}])]}),i})();const rV=new oe("CdkDragPreview");let lV=(()=>{class i{constructor(e,t,o,s,r,a,l,u,p,g,_){this.element=e,this.dropContainer=t,this._ngZone=s,this._viewContainerRef=r,this._dir=l,this._changeDetectorRef=p,this._selfHandle=g,this._parentDrag=_,this._destroyed=new ze,this.started=new L,this.released=new L,this.ended=new L,this.entered=new L,this.exited=new L,this.dropped=new L,this.moved=new Ze(v=>{const k=this._dragRef.moved.pipe(Ee(w=>({source:this,pointerPosition:w.pointerPosition,event:w.event,delta:w.delta,distance:w.distance}))).subscribe(v);return()=>{k.unsubscribe()}}),this._dragRef=u.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,i._dragInstances.push(this),a&&this._assignDefaults(a),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=_o(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(nr(1),Ll(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const t=e.rootElementSelector,o=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=i._dragInstances.indexOf(this);e>-1&&i._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var o;const e=this.element.nativeElement;let t=e;this.rootElementSelector&&(t=void 0!==e.closest?e.closest(this.rootElementSelector):null==(o=e.parentElement)?void 0:o.closest(this.rootElementSelector)),this._dragRef.withRootElement(t||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):Lt(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,o=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof o&&o?o:$o(o),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(nr(1)).subscribe(()=>{var o;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let t=this.element.nativeElement.parentElement;for(;t;){if(t.classList.contains("cdk-drag")){e.withParent((null==(o=i._dragInstances.find(s=>s.element.nativeElement===t))?void 0:o._dragRef)||null);break}t=t.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint})})}_assignDefaults(e){const{lockAxis:t,dragStartDelay:o,constrainPosition:s,previewClass:r,boundaryElement:a,draggingDisabled:l,rootElementSelector:u,previewContainer:p}=e;this.disabled=null!=l&&l,this.dragStartDelay=o||0,t&&(this.lockAxis=t),s&&(this.constrainPosition=s),r&&(this.previewClass=r),a&&(this.boundaryElement=a),u&&(this.rootElementSelector=u),p&&(this.previewContainer=p)}_setupHandlesListener(){this._handles.changes.pipe(Uc(this._handles),xn(e=>{const t=e.filter(o=>o._parentDrag===this).map(o=>o.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),jo(e=>Cu(...e.map(t=>t._stateChanges.pipe(Uc(t))))),Ll(this._destroyed)).subscribe(e=>{const t=this._dragRef,o=e.element.nativeElement;e.disabled?t.disableHandle(o):t.enableHandle(o)})}}return i._dragInstances=[],i.\u0275fac=function(e){return new(e||i)(P(q),P(Y2,12),P(at),P(Ye),P(Bt),P($2,8),P(Hg,8),P(G0),P(ei),P(W2,10),P(H2,12))},i.\u0275dir=ae({type:i,selectors:[["","cdkDrag",""]],contentQueries:function(e,t,o){if(1&e&&(Wr(o,rV,5),Wr(o,q2,5),Wr(o,W2,5)),2&e){let s;Ve(s=Le())&&(t._previewTemplate=s.first),Ve(s=Le())&&(t._placeholderTemplate=s.first),Ve(s=Le())&&(t._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,t){2&e&&V("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Ge([{provide:H2,useExisting:i}]),re]}),i})(),uV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=St({type:i}),i.\u0275inj=bt({providers:[G0],imports:[WB]}),i})();const cV=["*"];let j0=(()=>{class i{constructor(e,t){this.host=e,this.snapshotgiftservice=t,this.gift={},this.refresh=!1}snapshot(){var e=this;return I(function*(){const t=yield e.snapshotgiftservice.get(e.gift);e.host.nativeElement.querySelector(".wrap > .ico").style.backgroundImage="url("+t+")"})()}ngOnInit(){this.snapshot()}ngOnChanges(e){e.refresh&&e.refresh.previousValue!==e.refresh.currentValue&&void 0!==e.refresh.previousValue&&this.snapshot()}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(Ih))},i.\u0275cmp=X({type:i,selectors:[["app-touch-giftslist-option"]],inputs:{gift:"gift",refresh:"refresh"},features:[re],ngContentSelectors:cV,decls:4,vars:0,consts:[["matRipple","","matRippleColor","#00000011",1,"wrap"],[1,"ico"],[1,"title"]],template:function(e,t){1&e&&(xi(),h(0,"div",0),m(1,"div",1),h(2,"div",2),Jn(3),d(),d())},directives:[Gn],styles:["[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:10px;width:100px;height:100px;display:flex;flex-direction:column;align-items:center;justify-content:center;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{margin:10px;font-size:18px;color:#333;user-select:none;word-break:break-word}@keyframes rot{0%{transform:rotateY(0)}to{transform:rotateY(360deg)}}"]}),i})();function hV(i,n){1&i&&(Se(0),x(1,"empty"),Me())}let X2=(()=>{class i{constructor(e,t,o){this.readgileservice=e,this.host=t,this.asyncservice=o,this.value="",this.backgroundsize="90% auto",this.backgroundImage="url("+this.value+")"}setsize(){this.backgroundsize=this.image.naturalWidth>=this.image.naturalHeight?this.image.naturalWidth<117?`${this.image.naturalWidth}px auto`:"90% auto":this.image.naturalHeight<117?`${this.image.naturalHeight}px auto`:"auto 90%"}ngOnInit(){}ngOnChanges(e){e.value&&e.value.previousValue!==e.value.currentValue&&this.readgileservice.getImageByUrl(this.value).then(t=>{this.image=t,this.backgroundImage="url("+this.value+")",this.setsize()})}}return i.\u0275fac=function(e){return new(e||i)(P(Co),P(q),P(ve))},i.\u0275cmp=X({type:i,selectors:[["app-touch-option-trimlist"]],hostVars:4,hostBindings:function(e,t){2&e&&b("background-size",t.backgroundsize)("background-image",t.backgroundImage)},inputs:{value:"value"},features:[re],decls:2,vars:1,consts:[["matRipple","","matRippleColor","#00000011",1,"ripple"],[4,"ngIf"]],template:function(e,t){1&e&&(h(0,"div",0),S(1,hV,2,0,"ng-container",1),d()),2&e&&(c(1),f("ngIf",""===t.value))},directives:[Gn,Re],styles:["[_nghost-%COMP%]{width:130px;height:130px;margin:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:10px;background-position:center;background-size:90% auto;background-repeat:no-repeat;user-select:none;font-size:14px;color:#999;text-align:center}[_nghost-%COMP%] > .ripple[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}"]}),i})(),H0=(()=>{class i{transform(e,t=20){let o=e;return e.length>t&&(o=o.substr(0,t-3)+"..."),o}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=hn({name:"textMore",type:i,pure:!0}),i})();function dV(i,n){if(1&i&&m(0,"app-touch-empty-giftslist",44),2&i){const e=y();f("@emptyBlock",void 0)("touch",e.touches.giftslist)}}function pV(i,n){1&i&&m(0,"div",49)}const fV=function(i){return{delay:i}},gV=function(i){return{value:"",params:i}};function mV(i,n){if(1&i){const e=H();h(0,"app-touch-giftslist-option",47),C("click",function(){const s=E(e).$implicit;return y(2).showviewgift(s)}),S(1,pV,1,0,"div",48),x(2),vc(3,"textMore"),d()}if(2&i){const e=n.$implicit,t=n.index,o=y(2);V("option-list-gift-animated",o.optionListGiftAnimated),f("@slideTopGiftBlock",Xt(13,gV,Xt(11,fV,20*t+"ms")))("cdkDragDisabled",o.gifts.length<2)("cdkDragStartDelay",500)("gift",e)("refresh",o.refreshsnapshots),c(2),se(" ",yc(3,8,e.title,20)," ")}}function _V(i,n){if(1&i){const e=H();h(0,"app-touch-scroll",45),C("cdkDropListDropped",function(o){return E(e),y().dropListGifts(o)}),S(1,mV,4,15,"app-touch-giftslist-option",46),d()}if(2&i){const e=y();f("cdkDropListAutoScrollDisabled",!0)("touch",e.touches.giftslist)("refreshable",!0),c(1),f("ngForOf",e.gifts)}}function vV(i,n){if(1&i){const e=H();h(0,"div",50),h(1,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().inputUploadImageTrim()}),d(),h(2,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/1.png")}),d(),h(3,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/2.png")}),d(),h(4,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/3.png")}),d(),h(5,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/4.png")}),d(),h(6,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/5.png")}),d(),h(7,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/6.png")}),d(),h(8,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/7.png")}),d(),h(9,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/8.png")}),d(),h(10,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/9.png")}),d(),h(11,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/10.png")}),d(),h(12,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/11.png")}),d(),h(13,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/12.png")}),d(),h(14,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/13.png")}),d(),h(15,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/14.png")}),d(),h(16,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/15.png")}),d(),h(17,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/16.png")}),d(),h(18,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/17.png")}),d(),h(19,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/18.png")}),d(),h(20,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/19.png")}),d(),h(21,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/20.png")}),d(),h(22,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/21.png")}),d(),h(23,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/22.png")}),d(),h(24,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/23.png")}),d(),h(25,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/24.png")}),d(),h(26,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/25.png")}),d(),h(27,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/26.png")}),d(),h(28,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/27.png")}),d(),h(29,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/28.png")}),d(),h(30,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/29.png")}),d(),h(31,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/30.png")}),d(),h(32,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/31.png")}),d(),h(33,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/32.png")}),d(),h(34,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/33.png")}),d(),h(35,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/34.png")}),d(),h(36,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/35.png")}),d(),h(37,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/36.png")}),d(),h(38,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/37.png")}),d(),h(39,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/38.png")}),d(),h(40,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/39.png")}),d(),h(41,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/front/40.png")}),d(),d()}2&i&&(c(1),f("value","../../assets/upload.svg"),c(1),f("value","../../assets/greetingcard/front/1.png"),c(1),f("value","../../assets/greetingcard/front/2.png"),c(1),f("value","../../assets/greetingcard/front/3.png"),c(1),f("value","../../assets/greetingcard/front/4.png"),c(1),f("value","../../assets/greetingcard/front/5.png"),c(1),f("value","../../assets/greetingcard/front/6.png"),c(1),f("value","../../assets/greetingcard/front/7.png"),c(1),f("value","../../assets/greetingcard/front/8.png"),c(1),f("value","../../assets/greetingcard/front/9.png"),c(1),f("value","../../assets/greetingcard/front/10.png"),c(1),f("value","../../assets/greetingcard/front/11.png"),c(1),f("value","../../assets/greetingcard/front/12.png"),c(1),f("value","../../assets/greetingcard/front/13.png"),c(1),f("value","../../assets/greetingcard/front/14.png"),c(1),f("value","../../assets/greetingcard/front/15.png"),c(1),f("value","../../assets/greetingcard/front/16.png"),c(1),f("value","../../assets/greetingcard/front/17.png"),c(1),f("value","../../assets/greetingcard/front/18.png"),c(1),f("value","../../assets/greetingcard/front/19.png"),c(1),f("value","../../assets/greetingcard/front/20.png"),c(1),f("value","../../assets/greetingcard/front/21.png"),c(1),f("value","../../assets/greetingcard/front/22.png"),c(1),f("value","../../assets/greetingcard/front/23.png"),c(1),f("value","../../assets/greetingcard/front/24.png"),c(1),f("value","../../assets/greetingcard/front/25.png"),c(1),f("value","../../assets/greetingcard/front/26.png"),c(1),f("value","../../assets/greetingcard/front/27.png"),c(1),f("value","../../assets/greetingcard/front/28.png"),c(1),f("value","../../assets/greetingcard/front/29.png"),c(1),f("value","../../assets/greetingcard/front/30.png"),c(1),f("value","../../assets/greetingcard/front/31.png"),c(1),f("value","../../assets/greetingcard/front/32.png"),c(1),f("value","../../assets/greetingcard/front/33.png"),c(1),f("value","../../assets/greetingcard/front/34.png"),c(1),f("value","../../assets/greetingcard/front/35.png"),c(1),f("value","../../assets/greetingcard/front/36.png"),c(1),f("value","../../assets/greetingcard/front/37.png"),c(1),f("value","../../assets/greetingcard/front/38.png"),c(1),f("value","../../assets/greetingcard/front/39.png"),c(1),f("value","../../assets/greetingcard/front/40.png"))}function yV(i,n){if(1&i){const e=H();h(0,"div",50),h(1,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().inputUploadImageTrim()}),d(),h(2,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/1.jpg")}),d(),h(3,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/2.jpg")}),d(),h(4,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/3.jpg")}),d(),h(5,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/4.jpg")}),d(),h(6,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/5.jpg")}),d(),h(7,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/6.jpg")}),d(),h(8,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/7.jpg")}),d(),h(9,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/8.jpg")}),d(),h(10,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/9.jpg")}),d(),h(11,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/10.jpg")}),d(),h(12,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/11.jpg")}),d(),h(13,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/12.jpg")}),d(),h(14,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/13.jpg")}),d(),h(15,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/14.jpg")}),d(),h(16,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/15.jpg")}),d(),h(17,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/16.jpg")}),d(),h(18,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/17.jpg")}),d(),h(19,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/18.jpg")}),d(),h(20,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/19.jpg")}),d(),h(21,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/greetingcard/back/20.jpg")}),d(),d()}2&i&&(c(1),f("value","../../assets/upload.svg"),c(1),f("value","../../assets/greetingcard/back/1.jpg"),c(1),f("value","../../assets/greetingcard/back/2.jpg"),c(1),f("value","../../assets/greetingcard/back/3.jpg"),c(1),f("value","../../assets/greetingcard/back/4.jpg"),c(1),f("value","../../assets/greetingcard/back/5.jpg"),c(1),f("value","../../assets/greetingcard/back/6.jpg"),c(1),f("value","../../assets/greetingcard/back/7.jpg"),c(1),f("value","../../assets/greetingcard/back/8.jpg"),c(1),f("value","../../assets/greetingcard/back/9.jpg"),c(1),f("value","../../assets/greetingcard/back/10.jpg"),c(1),f("value","../../assets/greetingcard/back/11.jpg"),c(1),f("value","../../assets/greetingcard/back/12.jpg"),c(1),f("value","../../assets/greetingcard/back/13.jpg"),c(1),f("value","../../assets/greetingcard/back/14.jpg"),c(1),f("value","../../assets/greetingcard/back/15.jpg"),c(1),f("value","../../assets/greetingcard/back/16.jpg"),c(1),f("value","../../assets/greetingcard/back/17.jpg"),c(1),f("value","../../assets/greetingcard/back/18.jpg"),c(1),f("value","../../assets/greetingcard/back/19.jpg"),c(1),f("value","../../assets/greetingcard/back/20.jpg"))}function CV(i,n){if(1&i){const e=H();h(0,"div",50),h(1,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().inputUploadImageTrim()}),d(),h(2,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/speaker/grill/0.png")}),d(),h(3,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/speaker/grill/1.png")}),d(),h(4,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/speaker/grill/2.png")}),d(),h(5,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/speaker/grill/3.png")}),d(),h(6,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/speaker/grill/4.png")}),d(),h(7,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/speaker/grill/5.png")}),d(),h(8,"app-touch-option-trimlist",51),C("click",function(){return E(e),y().uploadImageTrim("../../assets/speaker/grill/6.png")}),d(),d()}2&i&&(c(1),f("value","../../assets/upload.svg"),c(1),f("value",""),c(1),f("value","../../assets/speaker/grill/1.png"),c(1),f("value","../../assets/speaker/grill/2.png"),c(1),f("value","../../assets/speaker/grill/3.png"),c(1),f("value","../../assets/speaker/grill/4.png"),c(1),f("value","../../assets/speaker/grill/5.png"),c(1),f("value","../../assets/speaker/grill/6.png"))}function bV(i,n){1&i&&m(0,"img",62)}function wV(i,n){1&i&&m(0,"img",63)}function xV(i,n){1&i&&m(0,"img",64)}function kV(i,n){1&i&&m(0,"img",65)}function PV(i,n){1&i&&m(0,"img",66)}function SV(i,n){1&i&&m(0,"img",67)}function MV(i,n){if(1&i&&(h(0,"div",52),h(1,"div",53),x(2),d(),h(3,"div",54),x(4),h(5,"b"),x(6),d(),x(7,"."),d(),h(8,"div",53),x(9),d(),h(10,"div",54),x(11),d(),S(12,bV,1,0,"img",55),S(13,wV,1,0,"img",56),h(14,"div",53),x(15),d(),h(16,"div",54),x(17),d(),h(18,"div",57),x(19),m(20,"br"),x(21),m(22,"br"),x(23),m(24,"br"),x(25),m(26,"br"),d(),h(27,"div",54),x(28),d(),S(29,xV,1,0,"img",58),S(30,kV,1,0,"img",59),h(31,"div",53),x(32),d(),h(33,"div",54),x(34),d(),S(35,PV,1,0,"img",60),S(36,SV,1,0,"img",61),h(37,"div",54),x(38),d(),d()),2&i){const e=y();c(2),D(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),se("",e.locationService.translate("This is an greeting card that we used to gift on various occasions. The cover for which you choose yourself. On the reverse side, write your wishes in poetic form. And most importantly -","\u042d\u0442\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u044b \u043f\u0440\u0438\u0432\u044b\u043a\u043b\u0438 \u0434\u0430\u0440\u0438\u0442\u044c \u043f\u043e \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c \u043f\u043e\u0432\u043e\u0434\u0430\u043c: \u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f, \u0441\u0432\u0430\u0434\u044c\u0431\u0430, 8 \u043c\u0430\u0440\u0442\u0430 \u0438 \u0442.\u0434. \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u044e \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0443. \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0443\u044e \u043e\u0431\u043b\u043e\u0436\u043a\u0443, \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043b\u043e\u0432\u0430 \u043f\u043e\u0436\u0435\u043b\u0430\u043d\u0438\u044f \u0432 \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u043d\u043e\u0439 \u0444\u043e\u0440\u043c\u0435 \u0438 \u0447\u0442\u043e \u0441\u0430\u043c\u043e\u0435 \u0434\u0443\u0448\u0435\u0432\u043d\u043e\u0435,")," "),c(2),D(e.locationService.translate("you can sign it with YOUR OWN HAND","\u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c \u0435\u0451 \u0421\u041e\u0411\u0421\u0422\u0412\u0415\u041d\u041d\u041e\u0419 \u0420\u0423\u041a\u041e\u0419")),c(3),D(e.locationService.translate("Setting the cover","\u0412\u044b\u0431\u043e\u0440 \u043e\u0431\u043b\u043e\u0436\u043a\u0438")),c(2),D(e.locationService.translate("Imagine the situation you want to give a gift to your girlfriend, and you want to add a greeting card with a love poem to the gift box, let's first choose a cover. For example this one:","\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044e: \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0432\u0430\u0448\u0435\u0439 \u0434\u0435\u0432\u0443\u0448\u043a\u0435 \u0438 \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u0447\u043d\u0443\u044e \u043a\u043e\u0440\u043e\u0431\u043a\u0443 \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0443. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u044b\u0431\u0435\u0440\u0435\u043c \u043e\u0431\u043b\u043e\u0436\u043a\u0443, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u044f \u0432\u044b\u0431\u0440\u0430\u043b \u0442\u0430\u043a\u0443\u044e:")),c(1),f("ngIf","us"===e.locationService.location().country.code),c(1),f("ngIf","ru"===e.locationService.location().country.code),c(2),D(e.locationService.translate("Let's write a poem","\u041d\u0430\u043f\u0438\u0448\u0435\u043c \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435")),c(2),D(e.locationService.translate("We also need some kind of poem that we will write on the back side, for example, I get it from the internet, not bad, right?","\u0422\u0430\u043a\u0436\u0435 \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043a\u0430\u043a\u043e\u0435-\u043d\u0438\u0431\u0443\u0434\u044c \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0442\u0430\u043a\u043e\u0435 \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435 (\u044f \u0443\u043a\u0440\u0430\u043b \u0443 \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430 \u0421\u0435\u0440\u0433\u0435\u0435\u0432\u0438\u0447\u0430):")),c(2),se(" ",e.locationService.translate("Amazing and beautiful,","\u041f\u0440\u0435\u0434 \u043d\u0435\u0439 \u0437\u0430\u0434\u0443\u043c\u0447\u0438\u0432\u043e \u0441\u0442\u043e\u044e,"),""),c(2),se(" ",e.locationService.translate("not a flower or a tree.","\u0421\u0432\u0435\u0441\u0442\u0438 \u043e\u0447\u0435\u0439 \u0441 \u043d\u0435\u0435 \u043d\u0435\u0442 \u0441\u0438\u043b\u044b;"),""),c(2),se(" ",e.locationService.translate("Much prettier than that,","\u0418 \u0433\u043e\u0432\u043e\u0440\u044e \u0435\u0439: \u043a\u0430\u043a \u0432\u044b \u043c\u0438\u043b\u044b!"),""),c(2),se(" ",e.locationService.translate("and only I can see.","\u0418 \u043c\u044b\u0441\u043b\u044e: \u043a\u0430\u043a \u0442\u0435\u0431\u044f \u043b\u044e\u0431\u043b\u044e!"),""),c(3),D(e.locationService.translate("What does it look like:","\u0412\u043e\u0442 \u043a\u0430\u043a \u044d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442:")),c(1),f("ngIf","us"===e.locationService.location().country.code),c(1),f("ngIf","ru"===e.locationService.location().country.code),c(2),D(e.locationService.translate("The most magic","\u0421\u0430\u043c\u043e\u0435 \u0432\u043e\u043b\u0448\u0435\u0431\u0441\u0442\u0432\u043e")),c(2),D(e.locationService.translate("For a congratulation to be truly sincere, it must be signed, otherwise it looks like it was written by a robot, you can pass the captcha, right?","\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u044b\u043b\u0438 \u043f\u043e-\u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u043c\u0443 \u0438\u0441\u043a\u0440\u0435\u043d\u043d\u0438\u043c\u0438 \u043d\u0443\u0436\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0443 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0440\u0443\u043a\u043e\u0439. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u044f \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043b \u0441\u0435\u0440\u0434\u0435\u0447\u043a\u0438 \u0438 \u0447\u0451\u0440\u0442\u043e\u0447\u043a\u0438, \u044d\u0442\u043e\u0433\u043e \u0432\u043f\u043e\u043b\u043d\u0435 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e.")),c(1),f("ngIf","us"===e.locationService.location().country.code),c(1),f("ngIf","ru"===e.locationService.location().country.code),c(2),D(e.locationService.translate("Wow this looks really great, the recipient is sure to be delighted.","\u0412\u0410\u0423!!! \u042d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043f\u043e\u0442\u0440\u044f\u0441\u0430\u044e\u0449\u0435, \u043c\u043d\u0435 \u043a\u0430\u0436\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u0442\u043e\u0447\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0434."))}}function DV(i,n){1&i&&m(0,"img",78)}function EV(i,n){1&i&&m(0,"img",79)}function TV(i,n){1&i&&m(0,"img",80)}function OV(i,n){1&i&&m(0,"img",81)}function IV(i,n){1&i&&m(0,"img",82)}function AV(i,n){1&i&&m(0,"img",83)}function RV(i,n){if(1&i&&(h(0,"div",52),h(1,"div",53),x(2),d(),h(3,"div",54),x(4),d(),h(5,"div",53),x(6),d(),h(7,"div",68),x(8),d(),h(9,"div",54),x(10),d(),m(11,"img",69),h(12,"div",54),x(13),d(),h(14,"div",54),x(15),d(),S(16,DV,1,0,"img",70),S(17,EV,1,0,"img",71),h(18,"div",53),x(19),d(),h(20,"div",54),x(21),d(),S(22,TV,1,0,"img",72),S(23,OV,1,0,"img",73),h(24,"div",54),x(25),d(),h(26,"div",74),S(27,IV,1,0,"img",75),S(28,AV,1,0,"img",76),m(29,"img",77),d(),h(30,"div",54),x(31),d(),d()),2&i){const e=y();c(2),D(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),D(e.locationService.translate("This is a video game box. If the recipient loves games, you can gift a video game redeem key, which he/she can enter and get a video game.","\u042d\u0442\u043e \u043a\u043e\u0440\u043e\u0431\u043a\u0430 \u0441 \u0432\u0438\u0434\u0435\u043e\u0438\u0433\u0440\u043e\u0439. \u0415\u0441\u043b\u0438 \u0447\u0435\u043b\u043e\u0432\u0435\u043a, \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a, \u043b\u044e\u0431\u0438\u0442 \u0438\u0433\u0440\u0430\u0442\u044c \u0432 \u0438\u0433\u0440\u044b, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0435\u043c\u0443/\u0435\u0439 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0438\u0433\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u043d/\u043e\u043d\u0430 \u0441\u043c\u043e\u0436\u0435\u0442 \u0432\u0432\u0435\u0441\u0442\u0438 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u0433\u0440\u0443.")),c(2),D(e.locationService.translate("Redeem key","\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447")),c(2),D(e.locationService.translate("!!! IMPORTANT !!! To gift a game, you need a redeem key. You must buy a card. On the back side, erase the area where you can find the key and enter it on our site so that we transfer it to your recipient.","!!! \u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415 !!! \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0438\u0433\u0440\u0443, \u0432\u0430\u043c \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0432 \u043b\u044e\u0431\u043e\u043c \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 DNS, \u041c\u0432\u0438\u0434\u0435\u043e \u0438 \u0442. \u0434.), \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0441\u0442\u0435\u0440\u0435\u0442\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u044b\u0439 \u0441\u043b\u043e\u0439 \u0438 \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0435\u0442 \u0438 \u0432\u0432\u0451\u0434\u0435\u0442 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e. \u0412\u0432\u043e\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447 \u0438\u043c\u0435\u043d\u043d\u043e \u043d\u0430 \u044d\u0442\u043e\u043c \u0441\u0430\u0439\u0442\u0435, \u043d\u0438\u0433\u0434\u0435 \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0439\u0442\u0435 \u0438\u0433\u0440\u0443.")),c(2),D(e.locationService.translate("This is what redeem key looks like:","\u041f\u0440\u0438\u043c\u0435\u0440\u043d\u043e \u0442\u0430\u043a \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0441 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u043e\u043d\u043d\u044b\u043c \u043a\u043b\u044e\u0447\u043e\u043c \u0434\u043b\u044f \u0438\u0433\u0440\u044b:")),c(3),D(e.locationService.translate("If you bought a game for playstation or xbox or nintendo switch, we will tell the recipient how to activate the game. In other cases, we will ask you to write instructions on how to activate the game. The instructions are almost always written on the back of the card.","\u0415\u0441\u043b\u0438 \u0432\u044b \u043a\u0443\u043f\u0438\u0442\u0435 \u0438\u0433\u0440\u0443 \u0434\u043b\u044f playstation, xbox \u0438\u043b\u0438 nintendo switch, \u0442\u043e \u043c\u044b \u0441\u0430\u043c\u0438 \u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0435\u043c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044e \u043a\u0430\u043a \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0433\u0440\u0443. \u0412 \u0434\u0440\u0443\u0433\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043c\u044b \u043f\u043e\u043f\u0440\u043e\u0441\u0438\u043c \u0432\u0430\u0441 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e \u043f\u043e \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u043a\u043b\u044e\u0447\u0430, \u043f\u043e\u0447\u0442\u0438 \u0432\u0441\u0435\u0433\u0434\u0430 \u043e\u043d\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0430 \u043d\u0430 \u0437\u0430\u0434\u043d\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0438 \u0441\u043e\u0441\u0442\u043e\u0438\u0442 \u0438\u0437 3-5 \u0448\u0430\u0433\u043e\u0432.")),c(2),D(e.locationService.translate("Let's say i bought the game 'little nightmares' for playstation 5. I entered the redeem key:","\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c \u044f \u043a\u0443\u043f\u0438\u043b \u043a\u043b\u044e\u0447 \u043a \u0438\u0433\u0440\u0435 'little nightmares'. \u0418 \u0441\u0440\u0430\u0437\u0443 \u0432\u0432\u043e\u0436\u0443 \u043a\u043e\u0434:")),c(1),f("ngIf","us"===e.locationService.location().country.code),c(1),f("ngIf","ru"===e.locationService.location().country.code),c(2),D(e.locationService.translate("Set cover","\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c \u043e\u0431\u043b\u043e\u0436\u043a\u0443")),c(2),D(e.locationService.translate("Now i need to set cover. I google 'little nightmares cover' and download the picture.","\u0414\u0430\u043b\u0435\u0435 \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u0430 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0430\u044f \u043e\u0431\u043b\u043e\u0436\u043a\u0430. \u0412 \u0433\u0443\u0433\u043b \u043f\u043e\u0438\u0441\u043a\u0435 \u0432\u0432\u043e\u0436\u0443 'little nightmares \u043e\u0431\u043b\u043e\u0436\u043a\u0430' \u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u044e \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443.")),c(1),f("ngIf","us"===e.locationService.location().country.code),c(1),f("ngIf","ru"===e.locationService.location().country.code),c(2),D(e.locationService.translate("Now just install it. Here's what we got:","\u0422\u0435\u043f\u0435\u0440\u044c \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043e\u0431\u043b\u043e\u0436\u043a\u0443. \u0412\u043e\u0442 \u0447\u0442\u043e \u0443 \u043c\u0435\u043d\u044f \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c:")),c(2),f("ngIf","us"===e.locationService.location().country.code),c(1),f("ngIf","ru"===e.locationService.location().country.code),c(3),D(e.locationService.translate("That's all, you can gift the game.","\u041d\u0430 \u044d\u0442\u043e\u043c \u0432\u0441\u0451, \u0442\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0438\u0433\u0440\u0443."))}}function FV(i,n){1&i&&m(0,"img",86)}function NV(i,n){1&i&&m(0,"img",87)}function BV(i,n){if(1&i&&(h(0,"div",52),h(1,"div",53),x(2),d(),h(3,"div",54),x(4),d(),h(5,"div",68),x(6),d(),h(7,"div",53),x(8),d(),h(9,"div",54),x(10),d(),S(11,FV,1,0,"img",84),S(12,NV,1,0,"img",85),d()),2&i){const e=y();c(2),D(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),D(e.locationService.translate("This is a speaker where you can record your own greeting voice (any other sound can also be recorded up to 50 seconds).","\u042d\u0442\u043e \u043a\u043e\u043b\u043e\u043d\u043a\u0430. \u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043d\u0435\u0451 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0433\u043e\u043b\u043e\u0441 \u0441 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438 \u0438\u043b\u0438 \u0436\u0435 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0437\u0432\u0443\u043a. (\u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u0437\u0430\u043f\u0438\u0441\u0438 50 \u0441\u0435\u043a.)")),c(2),D(e.locationService.translate("For this gift you will need a microphone. If you use a phone or laptop, it is already built into your device.","\u0414\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0434\u0430\u0440\u043a\u0430, \u0443 \u0432\u0430\u0441 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043d\u043e\u0443\u0442\u0431\u0443\u043a \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d/\u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u0442\u043e \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u043e\u043d \u0432\u0441\u0442\u0440\u043e\u0435\u043d.")),c(2),D(e.locationService.translate("Sound recording","\u0417\u0430\u043f\u0438\u0441\u044c \u0437\u0432\u0443\u043a\u0430")),c(2),D(e.locationService.translate("All you need is to record the sound you want to send to the recipient. This is what the settings panel for sound recording looks like:","\u0412\u0441\u0435 \u0447\u0442\u043e \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e, \u044d\u0442\u043e \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0437\u0432\u0443\u043a, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044e. \u0412\u043e\u0442 \u043a\u0430\u043a \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043f\u0430\u043d\u0435\u043b\u044c \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0438 \u0433\u043e\u043b\u043e\u0441\u0430:")),c(1),f("ngIf","us"===e.locationService.location().country.code),c(1),f("ngIf","ru"===e.locationService.location().country.code)}}function VV(i,n){if(1&i&&(h(0,"div",52),h(1,"div",53),x(2),d(),h(3,"div",54),x(4),d(),h(5,"div",68),x(6),d(),m(7,"img",88),d()),2&i){const e=y();c(2),D(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),D(e.locationService.translate("Here you can record video with congratulations. All this will be designed as a tablet on which the recipient can watch your self made video (maximum duration up to 30 seconds).","\u042d\u0442\u043e \u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e\u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435. (\u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 30 \u0441\u0435\u043a.)")),c(2),D(e.locationService.translate("For this gift you will need a microphone and webcam. If you use a phone or laptop, it is already built into your device.","\u0414\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0434\u0430\u0440\u043a\u0430 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u044b \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d \u0438 \u0432\u0435\u0431\u043a\u0430\u043c\u0435\u0440\u0430. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043d\u043e\u0443\u0442\u0431\u0443\u043a \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d/\u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u0442\u043e \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u043e\u043d\u0438 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u044b."))}}function LV(i,n){if(1&i&&(h(0,"div",52),h(1,"div",53),x(2),d(),h(3,"div",54),x(4),h(5,"b"),x(6),d(),x(7,"."),d(),h(8,"div",68),x(9),d(),h(10,"div",53),x(11),d(),h(12,"div",54),x(13),d(),m(14,"img",89),h(15,"div",53),x(16),d(),h(17,"div",54),x(18),d(),m(19,"img",90),h(20,"div",54),x(21),d(),d()),2&i){const e=y();c(2),D(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),se("",e.locationService.translate("This is a photo taken by you. And most importantly, on the back side, ","\u042d\u0442\u043e \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f, \u043d\u0430 \u0437\u0430\u0434\u043d\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435")," "),c(2),D(e.locationService.translate("you can sign it with YOUR OWN HAND","\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u0421\u041e\u0411\u0422\u0412\u0415\u041d\u041d\u041e\u0419 \u0420\u0423\u041a\u041e\u0419")),c(3),D(e.locationService.translate("For this gift you will need a webcam. If you use a phone or laptop, it is already built into your device.","\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u0434\u0430\u0440\u043a\u0430 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u0430 \u0432\u0435\u0431 \u043a\u0430\u043c\u0435\u0440\u0430. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043d\u043e\u0443\u0442\u0431\u0443\u043a \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d/\u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u0442\u043e \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u043e\u043d\u0430 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u0430.")),c(2),D(e.locationService.translate("Take a photo","\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f")),c(2),D(e.locationService.translate("Imagine that you want to give your boyfriend a gift and put your photo there. First, let's take a photo, you can make it on this web-site. (Attention! this photo is just an example). Here's what we got:","\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0432\u0430\u0448\u0435\u043c\u0443 \u043f\u0430\u0440\u043d\u044e \u0438 \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u043b\u043e\u0436\u0438\u0442\u044c \u0442\u0443\u0434\u0430 \u0441\u0432\u043e\u044e \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0444\u043e\u0442\u043e. (\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u042d\u0442\u043e \u043d\u0435 \u043c\u043e\u0451 \u0444\u043e\u0442\u043e \u044f \u0435\u0433\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u0437\u044f\u043b \u0441 pixabay.com):")),c(3),D(e.locationService.translate("Sign with all your heart","\u0420\u0430\u0441\u043f\u0438\u0448\u0435\u043c\u0441\u044f \u043e\u0442 \u0432\u0441\u0435\u0433\u043e \u0441\u0435\u0440\u0434\u0446\u0430")),c(2),D(e.locationService.translate("Now to make the photo really worthwhile, let's sign it on the back side with our own hand. Here's what it looks like:","\u0422\u0435\u043f\u0435\u0440\u044c \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u044d\u0442\u043e \u0444\u043e\u0442\u043e \u0441\u0442\u043e\u044f\u0449\u0438\u043c. \u0420\u0430\u0441\u043f\u0438\u0448\u0435\u043c\u0441\u044f \u043d\u0430 \u0437\u0430\u0434\u043d\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435. \u0412\u043e\u0442 \u0447\u0442\u043e \u0443 \u043c\u0435\u043d\u044f \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c:")),c(3),D(e.locationService.translate("Wow this looks very attractive the recipient will definitely be pleased.","\u0412\u0430\u0443! \u042d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043e\u0447\u0435\u043d\u044c \u043f\u0440\u0438\u0432\u043b\u0435\u043a\u0430\u0442\u0435\u043b\u044c\u043d\u043e! \u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0432\u043e\u043b\u0435\u043d."))}}let zV=(()=>{class i{constructor(e,t,o,s,r,a,l,u){this.touchservice=e,this.gettargethtml=t,this.asyncservice=o,this.host=s,this.readfileservice=r,this.linersvgservice=a,this.locationService=l,this.route=u,this.subs=[],this.changeGlobalStage=new L,this.hostAimation="",this.touches={giftslist:null,menu:null,screenadd:null,screenviewgift:null,screentrim:null,screenlisttrim:null,screensigngreeting:null,screenplatformgame:null,screenrecordaudio:null,screenlistenaudio:null,screencolorplate:null,screenrecordvideo:null,screenwatchvideo:null,screentakephoto:null,screensignphoto:null,screenhowitworks:null},this.disableds={giftslist:!1,menu:!1,screenadd:!0,screenviewgift:!0,screentrim:!0,screenlisttrim:!0,screensigngreeting:!0,screenplatformgame:!0,screenrecordaudio:!0,screenlistenaudio:!0,screencolorplate:!0,screenrecordvideo:!0,screenwatchvideo:!0,screentakephoto:!0,screensignphoto:!0,screenhowitworks:!0},this.stats={menu:"close",screenadd:"close",screenviewgift:"close",screentitle:"close",screentrim:"close",screenlisttrim:"close",screensigngreeting:"close",screenplatformgame:"close",screenrecordaudio:"close",screenlistenaudio:"close",screencolorplate:"close",screenrecordvideo:"close",screenwatchvideo:"close",screentakephoto:"close",screensignphoto:"close",screenhowitworks:"close"},this.menu=[{title:this.locationService.translate("add","\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),ico:"../../assets/plus.svg",value:"add"}],this.menusublimeshow=!1,this.gifts=[],this.activeGift=null,this.moveWithWaiting=!1,this.timeoutMoveWithWaiting=setTimeout(()=>{},0),this.valerror="",this.timeoutError=setTimeout(()=>{},0),this.sublimerefreshviewgift=!1,this.renamemax=1e3,this.renamemin=3,this.renamewhat="",this.renamevalue="",this.optionListGiftAnimated=!1,this.modeviewgift="usual",this.modetrim="usual",this.imgtrim="",this.sublimesavetrim=!1,this.hashedtrim=null,this.listtrim="",this.ratiotrim=1,this.enterablerename=!1,this.refreshsnapshots=!1,this.sublimerefreshplatform=!1,this.sublimerefreshcolorplate=!1,this.sublimestoprecordaudio=!1,this.signgreetingtool="pen",this.signgreetingcolor="#ffffff",this.signgreetingsublimereset=!1,this.signgreetingsublimesave=!1,this.signphotosublimereset=!1,this.signphotosublimesave=!1,this.initrecordvideo=!1,this.activewatchvideo=!1,this.activetakephoto=!1,this.activesignphoto=!1,this.confirm={value:"",type:""},this.showSelectLanguage=!1,this.flagdbl=!1,this.timeoutdbl=setTimeout(()=>{},0)}processtouch(e){this.setdisableds(e),Object.keys(this.touches).forEach(t=>{this.touches[t]=null}),this.disableds.giftslist||(this.touches.giftslist=e),this.disableds.menu||(this.touches.menu=e),this.disableds.screenadd||(this.touches.screenadd=e),this.disableds.screenviewgift||(this.touches.screenviewgift=e),this.disableds.screentrim||(this.touches.screentrim=e),this.disableds.screenlisttrim||(this.touches.screenlisttrim=e),this.disableds.screensigngreeting||(this.touches.screensigngreeting=e),this.disableds.screenplatformgame||(this.touches.screenplatformgame=e),this.disableds.screenrecordaudio||(this.touches.screenrecordaudio=e),this.disableds.screenlistenaudio||(this.touches.screenlistenaudio=e),this.disableds.screencolorplate||(this.touches.screencolorplate=e),this.disableds.screenrecordvideo||(this.touches.screenrecordvideo=e),this.disableds.screenwatchvideo||(this.touches.screenwatchvideo=e),this.disableds.screentakephoto||(this.touches.screentakephoto=e),this.disableds.screensignphoto||(this.touches.screensignphoto=e),this.disableds.screenhowitworks||(this.touches.screenhowitworks=e),"start"===e.action&&(clearTimeout(this.timeoutMoveWithWaiting),this.timeoutMoveWithWaiting=setTimeout(()=>{this.moveWithWaiting=!0},400)),"move"===e.action&&clearTimeout(this.timeoutMoveWithWaiting),"end"===e.action&&(this.moveWithWaiting=!1,this.optionListGiftAnimated=!1),"end"===e.action&&!1===e.drag&&(this.flagdbl?(this.dbltap(),this.flagdbl=!1):(clearTimeout(this.timeoutdbl),this.flagdbl=!0,this.timeoutdbl=setTimeout(()=>{this.flagdbl=!1},200)))}dbltap(){"open"===this.stats.screenviewgift&&("usual"==this.modeviewgift?(this.modeviewgift="review",this.menu=[]):"review"==this.modeviewgift&&(this.modeviewgift="usual",this.setmenuviewgift()))}getGiftId(){let e=0;return this.gifts.forEach(t=>{t.id>e&&(e=t.id)}),e+1}addgifttolist(e){let t={};t.id=this.getGiftId(),"greetingcard"===e?(t.title=this.locationService.translate("Greeting card","\u041e\u0442\u043a\u0440\u044b\u0442\u043a\u0430"),t.front=this.locationService.translate("../../assets/greetingcard/front/1.png","../../assets/greetingcard/front/21.png"),t.back="../../assets/greetingcard/back/5.jpg",t.text=this.locationService.translate("May you be gifted with life\u2019s\nbiggest joys and never-ending bliss.\nAfter all, you yourself are a gift to earth, so you deserve the best.\nHappy birthday.","\u0416\u0435\u043b\u0430\u044e \u0441\u0447\u0430\u0441\u0442\u044c\u044f, \u0440\u0430\u0434\u043e\u0441\u0442\u0438, \u043b\u044e\u0431\u0432\u0438,\n\u0415\u0449\u0435 \u043c\u0435\u0447\u0442\u044b \u0437\u0430\u0432\u0435\u0442\u043d\u043e\u0439 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u044c\u044f,\n\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u044f \u043a\u0440\u0435\u043f\u043a\u043e\u0433\u043e, \u0443\u0434\u0430\u0447 \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u043e \u0432\u0441\u0435\u043c\n\u0418 \u0434\u043e\u0431\u0440\u044b\u0445 \u0441\u043b\u043e\u0432 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u044c\u044f!"),t.sign=[],t.color="#ffffff"):"game"===e?(t.title=this.locationService.translate("Game","\u0418\u0433\u0440\u0430"),t.color="#003791",t.front="../../assets/game/example.jpg",t.inside="../../assets/game/game.png",t.side="../../assets/game/gameleft.png",t.code="WERB-NBHP-DXCV-ZZKL-UIFM",t.platform="ps",t.open=!1):"speaker"===e?(t.title=this.locationService.translate("Audio","\u0410\u0443\u0434\u0438\u043e\u0437\u0430\u043f\u0438\u0441\u044c"),t.grill="../../assets/speaker/grill/0.png",t.color="#ff5722",t.value=[]):"tablet"===e?(t.title=this.locationService.translate("Audio","\u0412\u0438\u0434\u0435\u043e\u0437\u0430\u043f\u0438\u0441\u044c"),t.color="#c0c0c0",t.value=""):"photo"===e&&(t.title=this.locationService.translate("Photo","\u0424\u043e\u0442\u043e"),t.photo="../../assets/photo/example.jpg",t.sign=[]),t.type=e,this.gifts.push(t),this.saveUpdate()}setdisableds(e){if("open"===this.stats.menu)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!1,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screensignphoto)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!1,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screentakephoto)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!1,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screenwatchvideo)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!1,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screenrecordvideo)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!1,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screencolorplate)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!1,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screenlistenaudio)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!1,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screenrecordaudio)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.menu=!0,this.disableds.screenrecordaudio=!1,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screenplatformgame)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!1,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screensigngreeting)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.screentrim=!0,this.disableds.menu=!0,this.disableds.screensigngreeting=!1,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screenlisttrim)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0,"move"===e.action&&"start"===e.prev.action&&(Math.abs(e.y-e.prev.y)>Math.abs(e.x-e.prev.x)?(this.disableds.screenlisttrim=!1,this.disableds.menu=!0):e.x-e.prev.x<0?(this.disableds.screenlisttrim=!0,this.disableds.menu=!1):(this.disableds.screenlisttrim=!1,this.disableds.menu=!0));else if("open"===this.stats.screentrim)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.screenlisttrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0,"usual"===this.modetrim?"move"===e.action&&"start"===e.prev.action&&(e.x-e.prev.x<0?(this.disableds.menu=!1,this.disableds.screentrim=!0):(this.disableds.menu=!0,this.disableds.screentrim=!1)):(this.disableds.menu=!0,this.disableds.screentrim=!1);else if("open"===this.stats.screenadd)this.disableds.giftslist=!0,this.disableds.screenadd=!1,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screenlisttrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screenviewgift){if(this.disableds.screenlisttrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0,"review"===this.modeviewgift)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!1,this.disableds.menu=!0,this.disableds.screentrim=!0;else if("move"===e.action&&null!==e.prev&&"start"===e.prev.action){const t=[e.x-e.prev.x,e.y-e.prev.y];Math.abs(t[1])>Math.abs(t[0])?(this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!1,this.disableds.menu=!0,this.disableds.screentrim=!0):t[0]<0?(this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!1,this.disableds.screentrim=!0):(this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!1,this.disableds.menu=!0,this.disableds.screentrim=!0)}}else if("open"===this.stats.screenhowitworks)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screenlisttrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!1;else if(this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.screenlisttrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0,this.disableds.screentrim=!0,"move"===e.action&&null!==e.prev&&"start"===e.prev.action)if(this.disableds.giftslist=!0,this.disableds.menu=!0,!this.moveWithWaiting||this.gifts.length<2){const t=[e.x-e.prev.x,e.y-e.prev.y];Math.abs(t[1])>Math.abs(t[0])?(this.disableds.giftslist=!1,this.disableds.menu=!0):(this.disableds.giftslist=!0,t[0]>0?this.disableds.menu=!0:t[0]<0&&(this.disableds.menu=!1))}else this.optionListGiftAnimated=!0}dropListGifts(e){let t=this.gifts[e.previousIndex];this.gifts.splice(e.previousIndex,1),this.gifts.splice(e.currentIndex,0,t),this.saveUpdate()}closesignturegreeting(){this.menusublimeshow=!this.menusublimeshow,"photo"===this.activeGift.type&&(this.activesignphoto=!1)}chooseaddlist(e){this.addgifttolist(e),this.stats.screenadd="close",this.setmenuhome()}changecolor(e){"greetingcard"===this.activeGift.type?"open"===this.stats.screensigngreeting?this.signgreetingcolor=e.target.value:this.activeGift.color=e.target.value:"game"===this.activeGift.type||"speaker"===this.activeGift.type?(this.activeGift.color=e.target.value,this.refreshsnapshots=!this.refreshsnapshots):"photo"===this.activeGift.type&&(this.signgreetingcolor=e.target.value),this.saveUpdate()}menuwaschoosen(e){var t;"add"===e?(this.menu=[],this.stats.screenadd="open"):"howitworks"===e?this.activeGift&&(this.stats.screenviewgift="close",this.stats.screenhowitworks="open"):"delete"===e?(this.confirm.value=this.locationService.translate("Are you sure?","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?"),this.confirm.type="deleteGift"):"code"===e?"game"===(null===(t=this.activeGift)||void 0===t?void 0:t.type)&&(this.renamewhat="gamecode",this.renamevalue=this.activeGift.code,this.enterablerename=!1,this.stats.screenviewgift="close",this.stats.screentitle="open"):"photo"===e?"photo"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screentakephoto="open",this.activetakephoto=!0,this.menu=[]):"watch"===e?"tablet"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screenwatchvideo="open",this.activewatchvideo=!0):"case"===e?"tablet"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screencolorplate="open",this.sublimerefreshcolorplate=!this.sublimerefreshcolorplate):"listen"===e?"speaker"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screenlistenaudio="open"):"record"===e?"speaker"===this.activeGift.type?(this.stats.screenviewgift="close",this.stats.screenrecordaudio="open",this.menu=[]):"tablet"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screenrecordvideo="open",this.initrecordvideo=!0,this.menu=[]):"open"===e?"game"===this.activeGift.type&&(this.activeGift.open=!0,this.setmenuviewgift()):"close"===e?"game"===this.activeGift.type&&(this.activeGift.open=!1,this.setmenuviewgift()):"eraser"===e?("open"===this.stats.screensigngreeting||"open"===this.stats.screensignphoto)&&(this.signgreetingtool="eraser",this.menu=[{title:this.locationService.translate("pen","\u0440\u0443\u0447\u043a\u0430"),ico:"../../assets/pen.svg",value:"pen"},{title:this.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"},{title:this.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"}]):"pen"===e?("open"===this.stats.screensigngreeting||"open"===this.stats.screensignphoto)&&(this.signgreetingtool="pen",this.menu=[{title:this.locationService.translate("eraser","\u043b\u0430\u0441\u0442\u0438\u043a"),ico:"../../assets/eraser.svg",value:"eraser"},{title:this.locationService.translate("color","\u0446\u0432\u0435\u0442"),ico:"../../assets/palette.svg",value:"color"},{title:this.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"},{title:this.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"}]):"sign"===e?"greetingcard"===this.activeGift.type?(this.stats.screenviewgift="close",this.stats.screensigngreeting="open",this.signgreetingcolor="#ffffff",this.menu=[{title:this.locationService.translate("eraser","\u043b\u0430\u0441\u0442\u0438\u043a"),ico:"../../assets/eraser.svg",value:"eraser"},{title:this.locationService.translate("color","\u0446\u0432\u0435\u0442"),ico:"../../assets/palette.svg",value:"color"},{title:this.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"},{title:this.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"}]):"photo"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screensignphoto="open",this.activesignphoto=!0,this.signgreetingcolor="#000000",this.menu=[{title:this.locationService.translate("eraser","\u043b\u0430\u0441\u0442\u0438\u043a"),ico:"../../assets/eraser.svg",value:"eraser"},{title:this.locationService.translate("color","\u0446\u0432\u0435\u0442"),ico:"../../assets/palette.svg",value:"color"},{title:this.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"},{title:this.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"}]):"chgtitle"===e?(this.menu=[],this.stats.screenviewgift="close",this.stats.screentitle="open",this.renamewhat="title",setTimeout(()=>{this.renamemin=3,this.renamemax=100,this.renamevalue=this.activeGift.title,this.enterablerename=!1},10)):"color"===e?"greetingcard"===this.activeGift.type?(this.host.nativeElement.querySelector("#inputcolor").value="open"===this.stats.screensigngreeting?this.signgreetingcolor:this.activeGift.color,this.host.nativeElement.querySelector("#inputcolor").click()):"game"===this.activeGift.type||"speaker"===this.activeGift.type?(this.host.nativeElement.querySelector("#inputcolor").value=this.activeGift.color,this.host.nativeElement.querySelector("#inputcolor").click()):"photo"===this.activeGift.type&&(this.host.nativeElement.querySelector("#inputcolor").value=this.signgreetingcolor,this.host.nativeElement.querySelector("#inputcolor").click()):"text"===e?"greetingcard"===this.activeGift.type&&(this.menu=[],this.stats.screenviewgift="close",this.stats.screentitle="open",this.renamewhat="greetingcardtext",this.renamemin=10,this.renamemax=200,this.enterablerename=!0,setTimeout(()=>{this.renamevalue=this.activeGift.text},200)):"grill"===e?"speaker"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screentrim="open",this.imgtrim=this.activeGift.grill,this.ratiotrim=1,this.listtrim="speakergrill",this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/image.svg",value:"chgimage"}]):"front"===e?"greetingcard"===this.activeGift.type?(this.stats.screenviewgift="close",this.stats.screentrim="open",this.imgtrim=this.activeGift.front,this.ratiotrim=297/420,this.listtrim="greetingcardfront",this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/image.svg",value:"chgimage"}]):"game"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screentrim="open",this.imgtrim=this.activeGift.front,this.ratiotrim=256/310,this.listtrim="gamefront",this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("upload","\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"),ico:"../../assets/upload-mini.svg",value:"uploadimage"}]):"inside"===e?"game"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screentrim="open",this.imgtrim=this.activeGift.inside,this.ratiotrim=1,this.listtrim="gameinside",this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("upload","\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"),ico:"../../assets/upload-mini.svg",value:"uploadimage"}]):"side"===e?"game"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screentrim="open",this.imgtrim=this.activeGift.side,this.ratiotrim=79/828,this.listtrim="gameside",this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("upload","\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"),ico:"../../assets/upload-mini.svg",value:"uploadimage"}]):"uploadimage"===e?"game"===this.activeGift.type&&this.inputUploadImageTrim():"back"===e?("greetingcard"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screentrim="open",this.imgtrim=this.activeGift.back,this.ratiotrim=1,this.listtrim="greetingcardback"),this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change image","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),ico:"../../assets/image.svg",value:"chgimage"}]):"trim"===e?(this.modetrim="trim",this.menu=[{title:this.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"},{title:this.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"}]):"save"===e?"open"===this.stats.screentrim?(null!==this.hashedtrim&&(this.hashedtrim=null),this.sublimesavetrim=!this.sublimesavetrim,this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change image","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),ico:"../../assets/image.svg",value:"chgimage"}]):"open"===this.stats.screensigngreeting?(this.stats.screensigngreeting="close",this.stats.screenviewgift="open",this.signgreetingsublimesave=!this.signgreetingsublimesave,this.signgreetingtool="pen",this.setmenuviewgift()):"open"===this.stats.screensignphoto&&(this.stats.screensignphoto="close",this.stats.screenviewgift="open",this.signphotosublimesave=!this.signphotosublimesave,this.signgreetingtool="pen",this.setmenuviewgift()):"cancel"===e?"open"===this.stats.screentrim?(null!==this.hashedtrim&&(this.imgtrim=this.hashedtrim,this.hashedtrim=null),this.modetrim="usual",this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change image","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),ico:"../../assets/image.svg",value:"chgimage"}]):"open"===this.stats.screensigngreeting?(this.signgreetingsublimereset=!this.signgreetingsublimereset,this.stats.screensigngreeting="close",this.stats.screenviewgift="open",this.signgreetingtool="pen",this.setmenuviewgift()):"open"===this.stats.screensignphoto&&(this.signphotosublimereset=!this.signphotosublimereset,this.stats.screensignphoto="close",this.stats.screenviewgift="open",this.signgreetingtool="pen",this.setmenuviewgift()):"chgimage"===e?"open"===this.stats.screentrim&&(this.stats.screentrim="close",this.stats.screenlisttrim="open",this.menu=[]):"platform"===e?"game"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screenplatformgame="open",this.sublimerefreshplatform=!this.sublimerefreshplatform,this.menu=[]):"accept"===e&&(this.activeGift||this.changeGlobalStage.emit(2))}closescreenadd(){this.stats.screenadd="close",this.setmenuhome()}showviewgift(e){this.activeGift=e,this.stats.screenviewgift="open",this.sublimerefreshviewgift=!this.sublimerefreshviewgift,this.setmenuviewgift()}closescreenviewgift(){"open"===this.stats.screentitle||"open"===this.stats.screentrim||"open"===this.stats.screenlisttrim||"open"===this.stats.screensigngreeting||"open"===this.stats.screenplatformgame||"open"===this.stats.screenrecordaudio||"open"===this.stats.screenlistenaudio||"open"===this.stats.screencolorplate||"open"===this.stats.screenrecordvideo||"open"===this.stats.screenwatchvideo||"open"===this.stats.screentakephoto||"open"===this.stats.screensignphoto||"open"===this.stats.screenhowitworks||(this.activeGift=null,this.stats.screenviewgift="close",this.modeviewgift="usual",this.setmenuhome())}closehowitworks(){this.stats.screenviewgift="open",this.stats.screenhowitworks="close",this.setmenuviewgift()}closescreenrecordaudio(){this.stats.screenviewgift="open",this.stats.screenrecordaudio="close",this.sublimestoprecordaudio=!this.sublimestoprecordaudio,this.setmenuviewgift()}closescreencolorplate(){this.stats.screencolorplate="close",this.stats.screenviewgift="open",this.setmenuviewgift()}closescreentrim(){this.stats.screentrim="close","close"===this.stats.screenlisttrim&&(this.listtrim="",this.stats.screenviewgift="open",this.setmenuviewgift())}closescreentrimlist(){this.stats.screenlisttrim="close",this.stats.screentrim="open",this.menu=[{title:"trim",ico:"../../assets/scissors.svg",value:"trim"},{title:"change",ico:"../../assets/image.svg",value:"chgimage"}]}saveaudio(e){this.activeGift.value=e,"open"===this.stats.screenviewgift&&this.setmenuviewgift(),this.saveUpdate()}setmenuviewgift(){if(null===this.activeGift&&"close"===this.stats.screenviewgift)return;let e=[{title:this.locationService.translate("title","\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),ico:"../../assets/rename.svg",value:"chgtitle"},{title:this.locationService.translate("how it works","\u043a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442"),ico:"../../assets/question-mark.svg",value:"howitworks"}];"greetingcard"===this.activeGift.type?(e.push({title:this.locationService.translate("front","\u043e\u0431\u043b\u043e\u0436\u043a\u0430"),ico:"../../assets/front.svg",value:"front"}),e.push({title:this.locationService.translate("back","\u0437\u0430\u0434\u043d\u044f\u044f \u0441\u0442\u043e\u0440\u043e\u043d\u0430"),ico:"../../assets/background.svg",value:"back"}),e.push({title:this.locationService.translate("text","\u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435"),ico:"../../assets/text.svg",value:"text"}),e.push({title:this.locationService.translate("color","\u0446\u0432\u0435\u0442"),ico:"../../assets/palette.svg",value:"color"}),e.push({title:this.locationService.translate("signature","\u043f\u043e\u0434\u043f\u0438\u0441\u044c"),ico:"../../assets/signature.svg",value:"sign"})):"game"===this.activeGift.type?(e.push(this.activeGift.open?{title:this.locationService.translate("close","\u0437\u0430\u043a\u0440\u044b\u0442\u044c"),ico:"../../assets/open.svg",value:"close"}:{title:this.locationService.translate("open","\u043e\u0442\u043a\u0440\u044b\u0442\u044c"),ico:"../../assets/open.svg",value:"open"}),e.push({title:this.locationService.translate("redeem key","\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447"),ico:"../../assets/password.svg",value:"code"}),e.push({title:this.locationService.translate("platform","\u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430"),ico:"../../assets/controller.svg",value:"platform"}),e.push({title:this.locationService.translate("front","\u043e\u0431\u043b\u043e\u0436\u043a\u0430"),ico:"../../assets/front.svg",value:"front"}),"custom"===this.activeGift.platform&&(e.push({title:this.locationService.translate("color","\u0446\u0432\u0435\u0442"),ico:"../../assets/palette.svg",value:"color"}),e.push({title:this.locationService.translate("inside","\u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0431\u0451\u0440\u0442\u043a\u0430"),ico:"../../assets/inside.svg",value:"inside"}),e.push({title:this.locationService.translate("left side","\u0431\u043e\u043a\u043e\u0432\u0430\u044f \u043d\u0430\u0434\u043f\u0438\u0441\u044c"),ico:"../../assets/left-side.svg",value:"side"}))):"speaker"===this.activeGift.type?(e.push({title:this.locationService.translate("record","\u0437\u0430\u043f\u0438\u0441\u044c"),ico:"../../assets/microphone.svg",value:"record"}),this.activeGift.value[0]&&e.push({title:this.locationService.translate("listen","\u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0430\u0442\u044c"),ico:"../../assets/speaker.svg",value:"listen"}),e.push({title:this.locationService.translate("grill","\u0441\u0435\u0442\u043a\u0430"),ico:"../../assets/grill.svg",value:"grill"}),e.push({title:this.locationService.translate("color","\u0446\u0432\u0435\u0442"),ico:"../../assets/palette.svg",value:"color"})):"tablet"===this.activeGift.type?(e.push({title:this.locationService.translate("case","\u043a\u043e\u0440\u043f\u0443\u0441"),ico:"../../assets/case.svg",value:"case"}),e.push({title:this.locationService.translate("record","\u0437\u0430\u043f\u0438\u0441\u044c"),ico:"../../assets/webcam.svg",value:"record"}),null!==this.activeGift.value&&""!==this.activeGift.value&&e.push({title:this.locationService.translate("watch","\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"),ico:"../../assets/eye.svg",value:"watch"})):"photo"===this.activeGift.type&&(e.push({title:this.locationService.translate("photo","\u0444\u043e\u0442\u043e"),ico:"../../assets/photo.svg",value:"photo"}),e.push({title:this.locationService.translate("sign","\u043f\u043e\u0434\u043f\u0438\u0441\u044c"),ico:"../../assets/signature.svg",value:"sign"})),e.push({title:this.locationService.translate("delete gift","\u0443\u0434\u0430\u043b\u0438\u0442\u044c"),ico:"../../assets/trash.svg",value:"delete"}),this.menu=e}setmenuhome(){let e=[{title:this.locationService.translate("add","\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),ico:"../../assets/plus.svg",value:"add"}];this.gifts.length&&e.push({title:this.locationService.translate("next stage","\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u044d\u0442\u0430\u043f"),ico:"../../assets/checkmark.svg",value:"accept"}),this.menu=e}screentitlewasclosed(){"close"!==this.stats.screentitle&&(this.setmenuviewgift(),this.stats.screentitle="close",this.stats.screenviewgift="open")}screentitlewassaved(e){"title"===this.renamewhat?this.activeGift.title=e:"greetingcardtext"===this.renamewhat?this.activeGift.text=e:"gamecode"===this.renamewhat&&(this.activeGift.code=e),this.saveUpdate()}closetrim(){this.menusublimeshow=!this.menusublimeshow}savetrim(e){this.imgtrim=e,this.modetrim="usual","greetingcardfront"===this.listtrim?this.activeGift.front=e:"greetingcardback"===this.listtrim?this.activeGift.back=e:"gamefront"===this.listtrim?this.activeGift.front=e:"gameinside"===this.listtrim?this.activeGift.inside=e:"gameside"===this.listtrim?this.activeGift.side=e:"speakergrill"===this.listtrim&&(this.activeGift.grill=e),this.refreshsnapshots=!this.refreshsnapshots,this.saveUpdate()}uploadImageTrim(e){var t=this;return I(function*(){return t.hashedtrim=t.imgtrim,t.imgtrim=e,t.stats.screenlisttrim="close",t.stats.screentrim="open",yield t.asyncservice.delay(300),t.modetrim="trim",t.menu=[{title:t.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"},{title:t.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"}],new Promise(o=>o())})()}inputUploadImageTrim(){this.host.nativeElement.querySelector("#inputuploadtrim").click()}tryuploadimage(e){var t=this;return I(function*(){const o=e.target.files[0];let s=[],r={};return o.size/1048576>3&&s.push("should be less than 3 MB"),"image/png"!==o.type&&"image/jpeg"!==o.type&&"image/webp"!==o.type&&"image/x-icon"!==o.type&&"image/gif"!==o.type&&s.push("should be type of png, jpeg, webp, gif, icon"),s[0]||(r=yield t.readfileservice.getImageFromFile(o),(r.naturalWidth>1920||r.naturalHeight>1080)&&s.push("should be less than 1920x1080")),s[0]?(t.showerror(s.join("; ")),e.target.value=null):t.uploadImageTrim(r.src),new Promise(a=>a())})()}showerror(e){var t=this;return I(function*(){return clearTimeout(t.timeoutError),t.valerror="",yield t.asyncservice.delay(250),t.valerror=e,t.timeoutError=setTimeout(()=>{t.valerror=""},5e3),new Promise(o=>o())})()}savegreetingsign(e){this.activeGift.sign=[...e],this.sublimerefreshviewgift=!this.sublimerefreshviewgift,this.saveUpdate()}setPlatformGame(e){this.activeGift.platform=e,this.stats.screenplatformgame="close",this.stats.screenviewgift="open","pc"===e?(this.activeGift.color="#000000",this.activeGift.inside="../../assets/game/game.png",this.activeGift.side="../../assets/game/gameleft.png"):"ps"===e?(this.activeGift.color="#003791",this.activeGift.inside="../../assets/game/ps.png",this.activeGift.side="../../assets/game/psleft.png"):"xbox"===e?(this.activeGift.color="#107C10",this.activeGift.inside="../../assets/game/xbox.png",this.activeGift.side="../../assets/game/xboxleft.png"):"switch"===e&&(this.activeGift.color="#e60012",this.activeGift.inside="../../assets/game/switch.png",this.activeGift.side="../../assets/game/switchleft.png"),"custom"===e&&(this.activeGift.color="#000000",this.activeGift.inside="../../assets/game/game.png",this.activeGift.side="../../assets/game/gameleft.png"),this.refreshsnapshots=!this.refreshsnapshots,this.setmenuviewgift(),this.saveUpdate()}setColorTablet(e){this.activeGift.color=e,this.closescreencolorplate(),this.saveUpdate()}screenplatformgamewasclose(){this.stats.screenplatformgame="close",this.stats.screenviewgift="open",this.setmenuviewgift()}closescreenlistenaudio(){this.stats.screenlistenaudio="close",this.stats.screenviewgift="open"}closerecordvideo(){this.stats.screenrecordvideo="close",this.stats.screenviewgift="open",this.initrecordvideo=!1,this.setmenuviewgift()}getVideo(){return this.activeGift&&this.activeGift.value?URL.createObjectURL(this.activeGift.value):null}saverecordvideo(e){this.activeGift.value=e[0],this.activeGift.urlVideo=URL.createObjectURL(e[0]),this.saveUpdate()}closewatchvideo(){this.stats.screenwatchvideo="close",this.stats.screenviewgift="open",this.activewatchvideo=!1}closetakephoto(){this.stats.screentakephoto="close",this.stats.screenviewgift="open",this.activetakephoto=!1,this.setmenuviewgift()}savephoto(e){this.activeGift.photo=e,this.refreshsnapshots=!this.refreshsnapshots,this.saveUpdate()}closesignphoto(){this.activesignphoto&&(this.activesignphoto=!1)}actionmenu(e){this.stats.menu=e,"close"===e&&"open"===this.stats.screensignphoto&&(this.activesignphoto=!0)}deleteGift(e){for(let t=0;t<this.gifts.length;t++)if(this.gifts[t].id===e){this.gifts.splice(t,1);break}this.saveUpdate()}resultConfirm(e){"agree"===e&&"deleteGift"===this.confirm.type&&(this.deleteGift(this.activeGift.id),this.stats.screenviewgift="close"),this.confirm.value="",this.confirm.type=""}blobToBase64(e){return e instanceof Blob?new Promise(t=>{const o=new FileReader;o.onloadend=()=>t(o.result),o.readAsDataURL(e)}):new Promise(t=>t(""))}saveUpdate(){var e=this;return I(function*(){const t=[...e.gifts];for(let o=0;o<t.length;o++){let s=t[o];if("speaker"!==s.type)if("tablet"!==s.type)t[o]=Object.assign({},s);else{const r=yield e.blobToBase64(s.value);t[o]=Object.assign(Object.assign({},s),{value:r})}else{const r=yield e.blobToBase64(s.value[0]);t[o]=Object.assign(Object.assign({},s),{value:r})}}return window.localStorage.setItem("gifts",JSON.stringify(t)),new Promise(o=>o())})()}convertURIToBinary(e){let t=";base64,",o=e.indexOf(t)+t.length,s=e.substring(o),r=window.atob(s),a=r.length,l=new Uint8Array(new ArrayBuffer(a));for(let u=0;u<a;u++)l[u]=r.charCodeAt(u);return l}refreshAudioInGifts(e){var t=this;return I(function*(){for(let o=0;o<e.length;o++){let s=e[o];if("speaker"!==s.type)e[o]=Object.assign({},s);else{const r=yield t.convertURIToBinary(s.value);let a=new Blob([r],{type:"audio/webm"});e[o]=Object.assign(Object.assign({},s),{value:[a]})}}return new Promise(o=>o(e))})()}refreshVideoInGifts(e){var t=this;return I(function*(){for(let o=0;o<e.length;o++){let s=e[o];if("tablet"!==s.type)e[o]=Object.assign({},s);else{const r=yield t.convertURIToBinary(s.value);let a=new Blob([r],{type:"video/webm"});e[o]=Object.assign(Object.assign({},s),{value:[a],urlVideo:URL.createObjectURL(a)})}}return new Promise(o=>o(e))})()}setGifts(){var e=this;return I(function*(){let t=JSON.parse(window.localStorage.getItem("gifts")||"[]");return t=yield e.refreshAudioInGifts(t),t=yield e.refreshVideoInGifts(t),e.gifts=t,e.setmenuhome(),new Promise(o=>o())})()}ngOnInit(){this.setGifts(),this.subs.push(this.touchservice.stream$.subscribe(e=>{this.processtouch(e)})),this.subs.push(this.route.queryParams.subscribe(e=>{const t=e.l;this.showSelectLanguage="us"!==t&&"ru"!==t,this.setmenuhome()}))}ngOnDestroy(){this.subs.forEach(e=>{e.unsubscribe()})}}return i.\u0275fac=function(e){return new(e||i)(P(Zo),P(li),P(ve),P(q),P(Co),P(ha),P(De),P(go))},i.\u0275cmp=X({type:i,selectors:[["app-touch-page-create-stage1"]],hostVars:1,hostBindings:function(e,t){2&e&&Lo("@hostAimation",t.hostAimation)},outputs:{changeGlobalStage:"changeGlobalStage"},decls:116,vars:125,consts:[[3,"value","result"],[3,"value"],[3,"touch","options","sublimeshow","action","choose"],[3,"touch",4,"ngIf"],["cdkDropList","",3,"cdkDropListAutoScrollDisabled","touch","refreshable","cdkDropListDropped",4,"ngIf"],[3,"touch","show","close"],[3,"display","click"],[1,"title"],[1,"description"],[3,"touch","show","scrollable","backable","close"],[3,"touch","gift","mode","sublimerefresh"],[3,"show","value","enterable","max","min","close","save"],[3,"touch","ratio","img","mode","sublimesave","closetrim","save"],["type","file","id","inputuploadtrim","accept","image/png, image/jpeg, image/webp, image/x-icon, image/gif",2,"display","none",3,"change"],["type","color","id","inputcolor",2,"display","none",3,"change"],["class","listimages",4,"ngIf"],[3,"show","backable","scrollable"],[3,"touch","tool","color","gift","sublimereset","sublimesave","close","save"],[3,"show","backable","scrollable","touch","close"],[3,"touch","sublimerefresh"],["matRipple","","matRippleColor","#00000011",3,"click"],[1,"icon-platform",2,"background-image","url(../../assets/pc-logo.svg)","background-size","50%"],[1,"text-platform"],[1,"icon-platform",2,"background-image","url(../../assets/ps-logo.svg)"],[1,"icon-platform",2,"background-image","url(../../assets/xbox-logo.svg)"],[1,"icon-platform",2,"background-image","url(../../assets/nintendo-switch-logo.svg)"],[1,"icon-platform",2,"background-image","url(../../assets/tools.svg)","background-size","50%"],[3,"show","touch","backable","scrollable","close"],[3,"sublimestop","save"],[3,"touch","gift","value","close"],[1,"icon-tablet"],[1,"tablet-demo",2,"background-color","#C0C0C0"],[1,"tablet-gradient"],[1,"tablet-demo",2,"background-color","#69abce"],[1,"tablet-demo",2,"background-color","#005f56"],[1,"tablet-demo",2,"background-color","#FFDF4F"],[1,"icon-tablet",2,"transform","translateY(180deg)"],[1,"tablet-demo",2,"background-color","#2b2031"],[3,"setinit","save"],[3,"active","video"],[3,"active","save"],[3,"show","backable","scrollable","close"],[3,"active","tool","color","gift","sublimereset","sublimesave","close","save"],["class","dialog",4,"ngIf"],[3,"touch"],["cdkDropList","",3,"cdkDropListAutoScrollDisabled","touch","refreshable","cdkDropListDropped"],["class","gift-option-list","cdkDrag","",3,"option-list-gift-animated","cdkDragDisabled","cdkDragStartDelay","gift","refresh","click",4,"ngFor","ngForOf"],["cdkDrag","",1,"gift-option-list",3,"cdkDragDisabled","cdkDragStartDelay","gift","refresh","click"],["class","placeholder-list-gift",4,"cdkDragPlaceholder"],[1,"placeholder-list-gift"],[1,"listimages"],[3,"value","click"],[1,"dialog"],[1,"dialog-title"],[1,"dialog-text"],["width","70%","class","dialog-img","src","assets/greetingcard/front/12.png",4,"ngIf"],["width","70%","class","dialog-img","src","assets/greetingcard/front/26.png",4,"ngIf"],[1,"dialog-quote"],["width","70%","class","dialog-img","src","assets/greetingcard/example1.png",4,"ngIf"],["width","70%","class","dialog-img","src","assets/greetingcard/example3.png",4,"ngIf"],["width","70%","class","dialog-img","src","assets/greetingcard/example2.png",4,"ngIf"],["width","70%","class","dialog-img","src","assets/greetingcard/example4.png",4,"ngIf"],["width","70%","src","assets/greetingcard/front/12.png",1,"dialog-img"],["width","70%","src","assets/greetingcard/front/26.png",1,"dialog-img"],["width","70%","src","assets/greetingcard/example1.png",1,"dialog-img"],["width","70%","src","assets/greetingcard/example3.png",1,"dialog-img"],["width","70%","src","assets/greetingcard/example2.png",1,"dialog-img"],["width","70%","src","assets/greetingcard/example4.png",1,"dialog-img"],[1,"dialog-warning"],["width","80%","src","assets/game/example1.png",1,"dialog-img"],["width","80%","class","dialog-img","src","assets/game/example5.png",4,"ngIf"],["width","80%","class","dialog-img","src","assets/game/example7.png",4,"ngIf"],["width","90%","class","dialog-img","src","assets/game/example2.png",4,"ngIf"],["width","90%","class","dialog-img","src","assets/game/example6.png",4,"ngIf"],[1,"dialog-row"],["width","80%","class","dialog-img","src","assets/game/example3.png",4,"ngIf"],["width","80%","class","dialog-img","src","assets/game/example8.png",4,"ngIf"],["width","80%","src","assets/game/example4.png",1,"dialog-img"],["width","80%","src","assets/game/example5.png",1,"dialog-img"],["width","80%","src","assets/game/example7.png",1,"dialog-img"],["width","90%","src","assets/game/example2.png",1,"dialog-img"],["width","90%","src","assets/game/example6.png",1,"dialog-img"],["width","80%","src","assets/game/example3.png",1,"dialog-img"],["width","80%","src","assets/game/example8.png",1,"dialog-img"],["width","80%","class","dialog-img","src","assets/speaker/example1.png",4,"ngIf"],["width","80%","class","dialog-img","src","assets/speaker/example2.png",4,"ngIf"],["width","80%","src","assets/speaker/example1.png",1,"dialog-img"],["width","80%","src","assets/speaker/example2.png",1,"dialog-img"],["width","80%","src","assets/tablet/example1.png",1,"dialog-img"],["width","60%","src","assets/photo/example1.png",1,"dialog-img"],["width","60%","src","assets/photo/example2.png",1,"dialog-img"]],template:function(e,t){1&e&&(h(0,"app-touch-confirm",0),C("result",function(s){return t.resultConfirm(s)}),d(),m(1,"app-touch-error",1),h(2,"app-touch-menu",2),C("action",function(s){return t.actionmenu(s)})("choose",function(s){return t.menuwaschoosen(s)}),d(),S(3,dV,1,2,"app-touch-empty-giftslist",3),S(4,_V,2,4,"app-touch-scroll",4),h(5,"app-touch-screen",5),C("close",function(){return t.closescreenadd()}),h(6,"app-touch-giftlistadd-option",6),C("click",function(){return t.chooseaddlist("greetingcard")}),h(7,"div",7),x(8),d(),h(9,"div",8),x(10),d(),d(),h(11,"app-touch-giftlistadd-option",6),C("click",function(){return t.chooseaddlist("game")}),Se(12,7),x(13),Me(),Se(14,8),x(15),Me(),d(),h(16,"app-touch-giftlistadd-option",6),C("click",function(){return t.chooseaddlist("speaker")}),Se(17,7),x(18),Me(),Se(19,8),x(20),Me(),d(),h(21,"app-touch-giftlistadd-option",6),C("click",function(){return t.chooseaddlist("tablet")}),Se(22,7),x(23),Me(),Se(24,8),x(25),Me(),d(),h(26,"app-touch-giftlistadd-option",6),C("click",function(){return t.chooseaddlist("photo")}),Se(27,7),x(28),Me(),Se(29,8),x(30),Me(),d(),d(),h(31,"app-touch-screen",9),C("close",function(){return t.closescreenviewgift()}),m(32,"app-touch-view-gift",10),d(),h(33,"app-touch-rename",11),C("close",function(){return t.screentitlewasclosed()})("save",function(s){return t.screentitlewassaved(s)}),d(),h(34,"app-touch-screen",9),C("close",function(){return t.closescreentrim()}),h(35,"app-touch-trim",12),C("closetrim",function(){return t.closetrim()})("save",function(s){return t.savetrim(s)}),d(),d(),h(36,"input",13),C("change",function(s){return t.tryuploadimage(s)}),d(),h(37,"input",14),C("change",function(s){return t.changecolor(s)}),d(),h(38,"app-touch-screen",9),C("close",function(){return t.closescreentrimlist()}),S(39,vV,42,41,"div",15),S(40,yV,22,21,"div",15),S(41,CV,9,8,"div",15),d(),h(42,"app-touch-screen",16),h(43,"app-touch-sign-greetingcard",17),C("close",function(){return t.closesignturegreeting()})("save",function(s){return t.savegreetingsign(s)}),d(),d(),h(44,"app-touch-screen",18),C("close",function(){return t.screenplatformgamewasclose()}),h(45,"app-touch-scroll-fragments",19),h(46,"div",20),C("click",function(){return t.setPlatformGame("pc")}),m(47,"div",21),h(48,"div",22),x(49,"PC"),d(),d(),h(50,"div",20),C("click",function(){return t.setPlatformGame("ps")}),m(51,"div",23),h(52,"div",22),x(53,"Playstation"),d(),d(),h(54,"div",20),C("click",function(){return t.setPlatformGame("xbox")}),m(55,"div",24),h(56,"div",22),x(57,"Xbox"),d(),d(),h(58,"div",20),C("click",function(){return t.setPlatformGame("switch")}),m(59,"div",25),h(60,"div",22),x(61,"Nintendo switch"),d(),d(),h(62,"div",20),C("click",function(){return t.setPlatformGame("custom")}),m(63,"div",26),h(64,"div",22),x(65),d(),d(),d(),d(),h(66,"app-touch-screen",27),C("close",function(){return t.closescreenrecordaudio()}),h(67,"app-touch-micro",28),C("save",function(s){return t.saveaudio(s)}),d(),d(),h(68,"app-touch-screen",16),h(69,"app-touch-listen",29),C("close",function(){return t.closescreenlistenaudio()}),d(),d(),h(70,"app-touch-screen",18),C("close",function(){return t.closescreencolorplate()}),h(71,"app-touch-scroll-fragments",19),h(72,"div",20),C("click",function(){return t.setColorTablet("#c0c0c0")}),h(73,"div",30),h(74,"div",31),m(75,"div",32),d(),d(),h(76,"div",22),x(77),d(),d(),h(78,"div",20),C("click",function(){return t.setColorTablet("#69abce")}),h(79,"div",30),h(80,"div",33),m(81,"div",32),d(),d(),h(82,"div",22),x(83),d(),d(),h(84,"div",20),C("click",function(){return t.setColorTablet("#005f56")}),h(85,"div",30),h(86,"div",34),m(87,"div",32),d(),d(),h(88,"div",22),x(89),d(),d(),h(90,"div",20),C("click",function(){return t.setColorTablet("#FFDF4F")}),h(91,"div",30),h(92,"div",35),m(93,"div",32),d(),d(),h(94,"div",22),x(95),d(),d(),h(96,"div",20),C("click",function(){return t.setColorTablet("#2b2031")}),h(97,"div",36),h(98,"div",37),m(99,"div",32),d(),d(),h(100,"div",22),x(101),d(),d(),d(),d(),h(102,"app-touch-screen",27),C("close",function(){return t.closerecordvideo()}),h(103,"app-web-camera",38),C("save",function(s){return t.saverecordvideo(s)}),d(),d(),h(104,"app-touch-screen",27),C("close",function(){return t.closewatchvideo()}),m(105,"app-touch-watch",39),d(),h(106,"app-touch-screen",27),C("close",function(){return t.closetakephoto()}),h(107,"app-touch-take-picture",40),C("save",function(s){return t.savephoto(s)}),d(),d(),h(108,"app-touch-screen",41),C("close",function(){return t.closesignphoto()}),h(109,"app-touch-sign-photo",42),C("close",function(){return t.closesignturegreeting()})("save",function(s){return t.savegreetingsign(s)}),d(),d(),h(110,"app-touch-screen",27),C("close",function(){return t.closehowitworks()}),S(111,MV,39,21,"div",43),S(112,RV,32,17,"div",43),S(113,BV,13,7,"div",43),S(114,VV,8,3,"div",43),S(115,LV,22,9,"div",43),d()),2&e&&(f("value",t.confirm.value),c(1),f("value",t.valerror),c(1),f("touch",t.touches.menu)("options",t.menu)("sublimeshow",t.menusublimeshow),c(1),f("ngIf",!t.gifts.length),c(1),f("ngIf",t.gifts.length),c(1),f("touch",t.touches.screenadd)("show","open"==t.stats.screenadd),c(1),f("display","greetingcard"),c(2),D(t.locationService.translate("Greeting card","\u041e\u0442\u043a\u0440\u044b\u0442\u043a\u0430")),c(2),D(t.locationService.translate("Congratulate with a quatrain and sign with your own hand","\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u043d\u043e\u0439 \u0444\u043e\u0440\u043c\u0435 \u0438 \u043f\u043e\u0434\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0440\u0443\u043a\u043e\u0439")),c(1),f("display","game"),c(2),D(t.locationService.translate("Game","\u0412\u0438\u0434\u0435\u043e\u0438\u0433\u0440\u0430")),c(2),D(t.locationService.translate("Buy a game redemption code and give it as a gift{{ locationService.translate","\u041a\u0443\u043f\u0438\u0442\u0435 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0434\u043b\u044f \u0438\u0433\u0440\u044b \u0438 \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u0435 \u0438\u0433\u0440\u0443")),c(1),f("display","speaker"),c(2),D(t.locationService.translate("Audio","\u041a\u043e\u043b\u043e\u043d\u043a\u0430")),c(2),D(t.locationService.translate("Record your voice","\u0417\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0433\u043e\u043b\u043e\u0441 \u0441 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438")),c(1),f("display","tablet"),c(2),D(t.locationService.translate("Video","\u041f\u043b\u0430\u043d\u0448\u0435\u0442")),c(2),D(t.locationService.translate("Record your video","\u0417\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043d\u0430 \u0432\u0435\u0431\u043a\u0430\u043c\u0435\u0440\u0443 \u0441 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438")),c(1),f("display","photo"),c(2),D(t.locationService.translate("Photo","\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f")),c(2),D(t.locationService.translate("Take a photo","\u0421\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e \u0438 \u043f\u043e\u0434\u043f\u0438\u0448\u0438\u0442\u0435 \u0435\u0451 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0440\u0443\u043a\u043e\u0439")),c(1),f("touch",t.touches.screenviewgift)("show","open"==t.stats.screenviewgift)("scrollable",!1)("backable","usual"===t.modeviewgift),c(1),f("touch",t.touches.screenviewgift)("gift",t.activeGift)("mode",t.modeviewgift)("sublimerefresh",t.sublimerefreshviewgift),c(1),f("show","open"===t.stats.screentitle)("value",t.renamevalue)("enterable",t.enterablerename)("max",t.renamemax)("min",t.renamemin),c(1),f("touch",t.touches.screentrim)("show","open"===t.stats.screentrim)("scrollable",!1)("backable","usual"===t.modetrim),c(1),f("touch",t.touches.screentrim)("ratio",t.ratiotrim)("img",t.imgtrim)("mode",t.modetrim)("sublimesave",t.sublimesavetrim),c(3),f("touch",t.touches.screenlisttrim)("show","open"===t.stats.screenlisttrim)("scrollable",!0)("backable",!0),c(1),f("ngIf","greetingcardfront"===t.listtrim),c(1),f("ngIf","greetingcardback"===t.listtrim),c(1),f("ngIf","speakergrill"===t.listtrim),c(1),f("show","open"===t.stats.screensigngreeting)("backable",!1)("scrollable",!1),c(1),f("touch",t.touches.screensigngreeting)("tool",t.signgreetingtool)("color",t.signgreetingcolor)("gift",t.activeGift)("sublimereset",t.signgreetingsublimereset)("sublimesave",t.signgreetingsublimesave),c(1),f("show","open"===t.stats.screenplatformgame)("backable",!0)("scrollable",!1)("touch",t.touches.screenplatformgame),c(1),f("touch",t.touches.screenplatformgame)("sublimerefresh",t.sublimerefreshplatform),c(20),D(t.locationService.translate("Custom","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e")),c(1),f("show","open"===t.stats.screenrecordaudio)("touch",t.touches.screenrecordaudio)("backable",!0)("scrollable",!1),c(1),f("sublimestop",t.sublimestoprecordaudio),c(1),f("show","open"===t.stats.screenlistenaudio)("backable",!1)("scrollable",!1),c(1),f("touch",t.touches.screenlistenaudio)("gift",t.activeGift)("value","speaker"===(null==t.activeGift?null:t.activeGift.type)?null==t.activeGift?null:t.activeGift.value:null),c(1),f("show","open"===t.stats.screencolorplate)("backable",!0)("scrollable",!1)("touch",t.touches.screencolorplate),c(1),f("touch",t.touches.screencolorplate)("sublimerefresh",t.sublimerefreshcolorplate),c(6),D(t.locationService.translate("Pure silver","\u0427\u0438\u0441\u0442\u043e\u0435 \u0441\u0435\u0440\u0435\u0431\u0440\u043e")),c(6),D(t.locationService.translate("Sierra blue","\u0421\u044c\u0435\u0440\u0440\u0430 \u0441\u0438\u043d\u0438\u0439")),c(6),D(t.locationService.translate("Alpine green","\u0410\u043b\u044c\u043f\u0438\u0439\u0441\u043a\u0438\u0439 \u0437\u0435\u043b\u0435\u043d\u044b\u0439")),c(6),D(t.locationService.translate("Shining gold","\u0421\u0438\u044f\u044e\u0449\u0435\u0435 \u0437\u043e\u043b\u043e\u0442\u043e")),c(6),D(t.locationService.translate("Dark matter","\u0422\u0451\u043c\u043d\u0430\u044f \u043c\u0430\u0442\u0435\u0440\u0438\u044f")),c(1),f("show","open"===t.stats.screenrecordvideo)("touch",t.touches.screenrecordvideo)("backable",!0)("scrollable",!1),c(1),f("setinit",t.initrecordvideo),c(1),f("show","open"===t.stats.screenwatchvideo)("touch",t.touches.screenwatchvideo)("backable",!0)("scrollable",!1),c(1),f("active",t.activewatchvideo)("video",null==t.activeGift?null:t.activeGift.urlVideo),c(1),f("show","open"===t.stats.screentakephoto)("touch",t.touches.screentakephoto)("backable",!0)("scrollable",!1),c(1),f("active",t.activetakephoto),c(1),f("show","open"===t.stats.screensignphoto)("backable",!1)("scrollable",!1),c(1),f("active",t.activesignphoto)("tool",t.signgreetingtool)("color",t.signgreetingcolor)("gift",t.activeGift)("sublimereset",t.signphotosublimereset)("sublimesave",t.signphotosublimesave),c(1),f("show","open"===t.stats.screenhowitworks)("touch",t.touches.screenhowitworks)("backable",!0)("scrollable",!0),c(1),f("ngIf","greetingcard"===(null==t.activeGift?null:t.activeGift.type)),c(1),f("ngIf","game"===(null==t.activeGift?null:t.activeGift.type)),c(1),f("ngIf","speaker"===(null==t.activeGift?null:t.activeGift.type)),c(1),f("ngIf","tablet"===(null==t.activeGift?null:t.activeGift.type)),c(1),f("ngIf","photo"===(null==t.activeGift?null:t.activeGift.type)))},directives:[pa,Dh,Oh,Re,Hl,VN,o2,T0,v2,cB,dB,Gn,_B,y2,bB,C2,MB,EB,TB,Th,sV,gt,j0,lV,Z2,X2],pipes:[H0],styles:["[_nghost-%COMP%]{position:absolute;left:0px;top:0px;width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .option-list-gift-animated[_ngcontent-%COMP%]{transition:transform .25s ease}[_nghost-%COMP%]   .placeholder-list-gift[_ngcontent-%COMP%]{width:100%;height:120px;opacity:0;transition:transform .25s ease}[_nghost-%COMP%]   .listimages[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around;flex-wrap:wrap}[_nghost-%COMP%]   .icon-platform[_ngcontent-%COMP%]{margin:10px 0;width:90%;height:50%;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%]   .text-platform[_ngcontent-%COMP%]{margin:10px;text-align:center;user-select:none;font-size:18px;font-weight:bold;color:#333}[_nghost-%COMP%]   .tablet-demo[_ngcontent-%COMP%]{width:80%;height:60%;border-radius:10px;overflow:hidden}[_nghost-%COMP%]   .tablet-demo[_ngcontent-%COMP%] > .tablet-gradient[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(45deg,#00000066,#00000000)}[_nghost-%COMP%]   .icon-tablet[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:10px 0;width:90%;height:50%;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]{padding-bottom:40px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{text-align:center;font-size:26px;font-weight:bold;color:#333;margin:50px 50px 10px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-text[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#333;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-quote[_ngcontent-%COMP%]{text-align:center;font-style:italic;color:#999;font-size:16px;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-img[_ngcontent-%COMP%]{margin:10px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-warning[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#f44336;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around;flex-wrap:wrap}"],data:{animation:[he("emptyBlock",[K(":enter",[kn(".main",[F({transform:"scale(0.1)",opacity:"0"})]),kn(".hint",[F({transform:"scale(0.1)",opacity:"0"})]),kn(".main",[$("0.5s ease",F({transform:"scale(1)",opacity:"1"}))]),kn(".hint",[$("0.5s ease",F({transform:"scale(1)",opacity:"1"}))])])]),he("slideTopGiftBlock",[K(":enter",[F({transform:"translateY(100vh)",opacity:"0"}),$("0.5s {{delay}} ease",F({transform:"translateY(0px)",opacity:"1"}))])]),he("hostAimation",[K(":leave",[F({opacity:"1"}),$("0.5s ease",F({opacity:"0"}))])])]}}),i})(),GV=(()=>{class i{constructor(e,t){this.host=e,this.locationService=t,this.first=!0,this.text="",this.result=new L,this.slideTop="show",this.left=0,this.top=0}onClick(e){this.first?this.first=!1:this.host.nativeElement.contains(e.target)||this.result.emit(!1)}onResize(){this.setCoord()}setCoord(){let e=this.host.nativeElement.getBoundingClientRect(),t=this.target.getBoundingClientRect();if(!(t.x||t.y||t.width||t.height))return;let o=t.x+window.scrollX-40,s=t.y+window.scrollY+30;s+e.height>window.innerHeight&&(s=t.y-e.height-30),this.left=o,this.top=s}ngOnInit(){this.setCoord()}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-confirm"]],hostVars:5,hostBindings:function(e,t){1&e&&C("click",function(s){return t.onClick(s)},!1,be)("resize",function(){return t.onResize()},!1,be),2&e&&(Lo("@slideTop",t.slideTop),b("left",t.left,"px")("top",t.top,"px"))},inputs:{text:"text",target:"target"},outputs:{result:"result"},decls:7,vars:3,consts:[[1,"confirm-text"],[1,"confirm-buttons"],[1,"confirm-button","confirm-button__disagree",3,"click"],[1,"confirm-button","confirm-button__agree",3,"click"]],template:function(e,t){1&e&&(h(0,"div",0),x(1),d(),h(2,"div",1),h(3,"div",2),C("click",function(){return t.result.emit(!1)}),x(4),d(),h(5,"div",3),C("click",function(){return t.result.emit(!0)}),x(6),d(),d()),2&e&&(c(1),D(t.text),c(3),D(t.locationService.translate("no","\u043d\u0435\u0442")),c(2),D(t.locationService.translate("yes","\u0434\u0430")))},styles:["[_nghost-%COMP%]{position:absolute;left:0px;top:0px;z-index:1000;box-shadow:0 0 5px #ddd;border-radius:10px;background-color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:300px}[_nghost-%COMP%] > .confirm-text[_ngcontent-%COMP%]{margin:10px;color:#333;font-size:16px}[_nghost-%COMP%] > .confirm-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%] > .confirm-buttons[_ngcontent-%COMP%] > .confirm-button[_ngcontent-%COMP%]{margin:0 10px 5px;background-color:#0000;cursor:pointer;border-radius:5px;padding:10px;transition:background-color ease .2s}[_nghost-%COMP%] > .confirm-buttons[_ngcontent-%COMP%] > .confirm-button__agree[_ngcontent-%COMP%]{color:#4caf50}[_nghost-%COMP%] > .confirm-buttons[_ngcontent-%COMP%] > .confirm-button__disagree[_ngcontent-%COMP%]{color:#f44336}[_nghost-%COMP%] > .confirm-buttons[_ngcontent-%COMP%] > .confirm-button[_ngcontent-%COMP%]:hover{background-color:#0001}"],data:{animation:[he("slideTop",[K(":enter",[F({opacity:0,transform:"translateY(-40px)"}),$("200ms ease",F({opacity:1,transform:"translateY(0px)"}))]),K(":leave",[$("200ms ease",F({opacity:0,transform:"translateY(-40px)"}))])])]}}),i})(),ga=(()=>{class i{constructor(e,t){this.appRef=e,this.cfr=t}show(e,t,o,s){const r=this.cfr.resolveComponentFactory(GV);this.component=e.createComponent(r),this.component.instance.text=o,this.component.instance.target=t,this.component.instance.result.subscribe(s)}hide(){this.component.destroy()}}return i.\u0275fac=function(e){return new(e||i)(j(Xr),j(zo))},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function jV(i,n){if(1&i&&m(0,"app-greeting-card",8),2&i){const e=y();b("transform","rotateY("+e.rotateGifts+"deg)"),V("gift-animated",e.animateGifts),f("size",297/420*190*e.scaleIcon)("front",e.gift.front)("back",e.gift.back)("text",e.gift.text)("color",e.gift.color)("sign",e.gift.sign)}}function HV(i,n){if(1&i&&m(0,"app-game",9),2&i){const e=y();b("transform","rotateY("+e.rotateGifts+"deg)"),V("gift-animated",e.animateGifts),f("size",135*e.scaleIcon)("color",e.gift.color)("front",e.gift.front)("inside",e.gift.inside)("side",e.gift.side)("code",e.gift.code)}}function UV(i,n){if(1&i&&m(0,"app-speaker",10),2&i){const e=y();b("transform","rotateY("+(e.rotateGifts+180)+"deg)")("animation-name","rotPlus180"),V("gift-animated",e.animateGifts),f("size",170*e.scaleIcon)("grill",e.gift.grill)("color",e.gift.color)}}function $V(i,n){if(1&i&&m(0,"app-tablet",11),2&i){const e=y();b("transform","rotateY("+e.rotateGifts+"deg)"),V("gift-animated",e.animateGifts),f("color",e.gift.color)("size",190*e.scaleIcon)}}function YV(i,n){if(1&i&&m(0,"app-photo",12),2&i){const e=y();b("transform","rotateY("+e.rotateGifts+"deg)"),V("gift-animated",e.animateGifts),f("photo",e.gift.photo)("sign",e.gift.sign)("size",142.5*e.scaleIcon)}}function WV(i,n){if(1&i){const e=H();h(0,"div",16),C("mousedown",function(o){E(e);const s=y(2);return s.buttonsDisabled?null:s.pushMove(o)}),d()}if(2&i){const e=y(2);b("filter",e.buttonsDisabled?"blur(2px)":"")("cursor",e.buttonsDisabled?"default":"pointer")}}function qV(i,n){if(1&i){const e=H();h(0,"div",13),S(1,WV,1,4,"div",14),h(2,"app-desktop-button",15),C("click",function(){E(e);const o=y();return o.buttonsDisabled?null:o.clickAdd()}),d(),h(3,"app-desktop-button",15),C("click",function(o){E(e);const s=y();return s.buttonsDisabled?null:s.clickDelete(o)}),d(),d()}if(2&i){const e=y();c(1),f("ngIf",e.showMove),c(1),f("icon","../../assets/pen.svg")("background","#ffffff")("disabled",e.buttonsDisabled),c(1),f("icon","../../assets/trash.svg")("background","#ffffff")("disabled",e.buttonsDisabled)}}let Xl=(()=>{class i{constructor(e,t,o,s,r){this.asyncService=e,this.host=t,this.confirmService=o,this.hostContainer=s,this.locationService=r,this.gift=null,this.showMove=!1,this.sublimeStartRotate=!1,this.sublimeStopRotate=!1,this.showButtons=!0,this.scaleIcon=1,this.startMove=new L,this.edit=new L,this.delete=new L,this.rotateGifts=0,this.intervalRotateGifts=setInterval(()=>{},99999),this.animateGifts=!1,this.buttonsDisabled=!1}pushMove(e){this.startMove.emit({gift:this.gift,rect:this.host.nativeElement.getBoundingClientRect(),event:e})}clickAdd(){this.edit.emit({gift:this.gift,rect:this.host.nativeElement.getBoundingClientRect()})}clickDelete(e){this.buttonsDisabled=!0,this.confirmService.show(this.hostContainer,e.target,this.locationService.translate("Are you sure?","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?"),t=>{t&&this.delete.emit(this.gift),this.buttonsDisabled=!1,this.confirmService.hide()})}startRotateGifts(){clearInterval(this.intervalRotateGifts),this.intervalRotateGifts=setInterval(()=>{this.rotateGifts+=1,this.rotateGifts>360&&(this.rotateGifts-=360)},10)}stopRotateGifts(){var e=this;return I(function*(){return e.animateGifts=!0,yield e.asyncService.delay(10),clearInterval(e.intervalRotateGifts),e.rotateGifts=e.rotateGifts<180?0:360,yield e.asyncService.delay(200),e.animateGifts=!1,new Promise(t=>t())})()}ngOnInit(){}ngOnChanges(e){e.sublimeStartRotate&&void 0!==e.sublimeStartRotate.previousValue&&e.sublimeStartRotate.previousValue!==e.sublimeStartRotate.currentValue&&this.startRotateGifts(),e.sublimeStopRotate&&void 0!==e.sublimeStopRotate.previousValue&&e.sublimeStopRotate.previousValue!==e.sublimeStopRotate.currentValue&&this.stopRotateGifts()}}return i.\u0275fac=function(e){return new(e||i)(P(ve),P(q),P(ga),P(Bt),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-gift-list-option"]],inputs:{gift:"gift",showMove:"showMove",sublimeStartRotate:"sublimeStartRotate",sublimeStopRotate:"sublimeStopRotate",showButtons:"showButtons",scaleIcon:"scaleIcon"},outputs:{startMove:"startMove",edit:"edit",delete:"delete"},features:[re],decls:9,vars:11,consts:[[1,"icon"],[3,"gift-animated","transform","size","front","back","text","color","sign",4,"ngIf"],[3,"gift-animated","transform","size","color","front","inside","side","code",4,"ngIf"],[3,"gift-animated","transform","size","grill","color","animationName",4,"ngIf"],[3,"gift-animated","transform","color","size",4,"ngIf"],[3,"gift-animated","transform","photo","sign","size",4,"ngIf"],[1,"title"],["class","buttons",4,"ngIf"],[3,"size","front","back","text","color","sign"],[3,"size","color","front","inside","side","code"],[3,"size","grill","color"],[3,"color","size"],[3,"photo","sign","size"],[1,"buttons"],["class","move-button",3,"filter","cursor","mousedown",4,"ngIf"],[1,"button-edit",3,"icon","background","disabled","click"],[1,"move-button",3,"mousedown"]],template:function(e,t){1&e&&(h(0,"div",0),S(1,jV,1,10,"app-greeting-card",1),S(2,HV,1,10,"app-game",2),S(3,UV,1,9,"app-speaker",3),S(4,$V,1,6,"app-tablet",4),S(5,YV,1,7,"app-photo",5),d(),h(6,"div",6),x(7),d(),S(8,qV,4,7,"div",7)),2&e&&(b("width",200*t.scaleIcon,"px")("height",200*t.scaleIcon,"px"),c(1),f("ngIf","greetingcard"===t.gift.type),c(1),f("ngIf","game"===t.gift.type),c(1),f("ngIf","speaker"===t.gift.type),c(1),f("ngIf","tablet"===t.gift.type),c(1),f("ngIf","photo"===t.gift.type),c(2),D(t.gift.title),c(1),f("ngIf",t.showButtons))},directives:[Re,$i,Xo,bo,wo,Yi,ai],styles:["[_nghost-%COMP%]{margin:10px;display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .icon[_ngcontent-%COMP%]{flex-shrink:0;margin:10px;width:200px;height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;perspective:2000px}[_nghost-%COMP%] > .icon[_ngcontent-%COMP%] > .gift-animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%] > .title[_ngcontent-%COMP%]{margin:20px;font-size:18px;text-align:left;word-break:break-word}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;flex-shrink:0;margin-left:auto}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px 10px 10px 0}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin-left:10px}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%] > .move-button[_ngcontent-%COMP%]{margin:10px;width:30px;height:30px;cursor:grab;background-image:url(menu.256c1139be19ba43.svg);background-position:center;background-size:contain;background-repeat:no-repeat}"]}),i})(),Gs=(()=>{class i{constructor(){this.text="",this.color="#333333",this.visible="hide",this.insideText="",this.timeout=setTimeout(()=>{},0)}ngOnInit(){}ngOnChanges(e){e.text&&void 0!==e.text.previousValue&&(""===this.text?(clearTimeout(this.timeout),this.visible="hide"):(this.insideText=this.text,this.visible="show"))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=X({type:i,selectors:[["app-desktop-error"]],hostVars:1,hostBindings:function(e,t){2&e&&Lo("@buttomShow",t.visible)},inputs:{text:"text",color:"color"},features:[re],decls:4,vars:3,consts:[[1,"wrap"],[1,"close",3,"click"],[1,"text"]],template:function(e,t){1&e&&(h(0,"div",0),h(1,"div",1),C("click",function(){return t.visible="hide",t.text=""}),d(),h(2,"div",2),x(3),d(),d()),2&e&&(c(2),b("color",t.color),c(1),D(t.insideText))},styles:["[_nghost-%COMP%]{position:fixed;bottom:20px;left:50%;margin:0 auto;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;z-index:10}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;background-color:#fff;border-radius:10px;box-shadow:0 0 5px #0003}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .close[_ngcontent-%COMP%]{position:absolute;width:30px;height:30px;align-self:flex-end;background-image:url(/assets/cross.svg);background-position:center;background-size:50%;background-repeat:no-repeat;cursor:pointer;opacity:1;transform:translate(50%) translateY(-50%);background-color:#fff;box-shadow:0 0 5px #0003;border-radius:100%;transition:all ease .2s}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .close[_ngcontent-%COMP%]:hover{background-color:#eee}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:30px 40px;font-size:14px;text-align:center}"],data:{animation:[he("buttomShow",[Yo("show",F({transform:"translateX(-50%) translateY(0px)"})),Yo("hide",F({transform:"translateX(-50%) translateY(200px)"})),K("hide => show",[$("200ms ease")]),K("show => hide",[$("200ms ease")])])]}}),i})();const ZV=["confirm"],XV=["progress"];function KV(i,n){if(1&i){const e=H();h(0,"app-desktop-button",6),C("click",function(){return E(e),y().switchRecord()}),d()}if(2&i){const e=y();f("icon","recording"===e.status?"../../assets/stop.svg":"../../assets/record.svg")("background","#fafafa")("disabled",e.playing||"open"===e.showConfirm)}}function QV(i,n){1&i&&m(0,"div",13),2&i&&b("height",n.$implicit,"px")}function JV(i,n){if(1&i&&(h(0,"div",14),x(1),d()),2&i){const e=y();c(1),D(e.timer)}}let K2=(()=>{class i{constructor(e,t,o,s){this.asyncService=e,this.host=t,this.getTargetHtmlService=o,this.locationService=s,this.status="waiting",this.error="",this.sounds=[],this.chunks=[],this.showConfirm="close",this.playing=!1,this.timer=0,this.interval=setInterval(()=>{},1e6),this.progress=0,this.intervalPlaying=setInterval(()=>{},1e6),this.widthProgress=0,this.audioDuration=0,this.trackConfig={active:!1,wasPlaying:!1},this.textError="",this.timeoutError=setTimeout(()=>{},0),this.withoutRecord=!1,this.sublimeValue=null,this.sublimeSounds=null,this.sublimeDuration=null,this.sublimestop=!1,this.save=new L}showError(e){clearTimeout(this.timeoutError),this.textError=e,this.timeoutError=setTimeout(()=>{this.textError=""},5e3)}init(){return I(function*(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}):new Promise((e,t)=>t("Your browser does not support microphone recording"))})()}onMouseClick(e){"open"===this.showConfirm&&!this.confirmRef.nativeElement.contains(e.target)&&(this.showConfirm="close")}onMouseDownTrack(e){this.trackConfig.active=!0,this.trackConfig.wasPlaying=this.playing,this.playing&&this.stopPlaying();let t=this.progressRef.nativeElement.getBoundingClientRect();this.progress=(e.clientX-t.x)/t.width,this.widthProgress=this.progress*t.width,this.widthProgress>t.width&&(this.widthProgress=t.width),this.audio.currentTime=this.progress*this.audioDuration}onMouseMoveTrack(e){if(!this.trackConfig.active)return;let t=this.progressRef.nativeElement.getBoundingClientRect();this.progress=(e.clientX-t.x)/t.width,this.widthProgress=this.progress*t.width,this.widthProgress>t.width&&(this.widthProgress=t.width),this.audio.currentTime=this.progress*this.audioDuration}onMouseUpTrack(e){this.trackConfig.active=!1,this.trackConfig.wasPlaying&&this.startPlaying()}onMouseLeave(){this.trackConfig.active=!1}startRecord(){var e=this;return I(function*(){if(e.chunks[0])setTimeout(()=>{e.showConfirm="open"},30);else try{e.widthProgress=0;let t=yield e.init();e.audioCtx=new AudioContext,e.analyser=e.audioCtx.createAnalyser(),e.analyser.fftSize=2048,e.audioCtx.createMediaStreamSource(t).connect(e.analyser),e.recorder=new MediaRecorder(t),e.status="recording",e.recorder.ondataavailable=o=>{e.chunks.push(o.data),e.save.emit({chunks:e.chunks,sounds:e.sounds,duration:e.audioDuration})},e.recorder.start(),e.listen(),e.timer=50,e.interval=setInterval(()=>{e.timer--,e.timer<=0&&e.stopRecord()},1e3)}catch(t){e.error="NotAllowedError: Permission denied"===t.toString()||"NotAllowedError: Permission dismissed"===t.toString()?"Microphone not allowed":t,e.showError(e.error)}})()}stopRecord(){var e=this;return I(function*(){e.audioDuration=50-e.timer,e.timer=0,clearInterval(e.interval),e.status="waiting",e.recorder.stop(),e.recorder.stream.getTracks().forEach(s=>s.stop());let[t,o]=[0,10];for(;!(e.chunks[0]||(yield e.asyncService.delay(500),t++,t>o)););return t<o&&(e.audio=new Audio(URL.createObjectURL(e.chunks[0])),e.audio.onended=()=>{e.stopPlaying()}),new Promise(s=>s())})()}listen(){var e=this;return I(function*(){for(;"recording"===e.status;){let o=new Uint8Array(e.analyser.frequencyBinCount);e.analyser.getByteFrequencyData(o);let s=0;for(var t=0;t<o.length;t++)s+=o[t]**2;s/=o.length,s=Math.sqrt(s),e.addSound(s),yield e.asyncService.delay(200)}})()}addSound(e){if(this.sounds.push(e/=2),this.sounds.length>150)for(let t=0;t<this.sounds.length;t+=2)this.sounds.splice(t,1)}resultconfirm(e){"agree"===e&&(this.chunks=[],this.sounds=[],this.startRecord()),this.showConfirm="close"}switchRecord(){this.playing||"open"===this.showConfirm||("waiting"===this.status?this.startRecord():this.stopRecord())}switchPlay(){!this.chunks[0]||"recording"===this.status||"open"===this.showConfirm||(this.playing?this.stopPlaying():this.startPlaying())}startPlaying(){this.playing=!0,this.audio.play(),this.intervalPlaying=setInterval(()=>{this.progress=this.audio.currentTime/this.audioDuration;let e=this.progressRef.nativeElement.getBoundingClientRect();this.widthProgress=this.progress*e.width,this.widthProgress>e.width&&(this.widthProgress=e.width)},100)}stopPlaying(){this.playing=!1,this.audio.pause(),clearInterval(this.intervalPlaying)}ngOnInit(){}ngOnChanges(e){e.sublimestop&&e.sublimestop.previousValue!==e.sublimestop.currentValue&&void 0!==e.sublimestop.previousValue&&this.stopRecord(),e.sublimeValue&&e.sublimeValue.previousValue!==e.sublimeValue.currentValue&&this.sublimeValue[0]&&(this.chunks=this.sublimeValue,this.audio=new Audio(URL.createObjectURL(this.chunks[0])),this.audio.onended=()=>{this.stopPlaying()}),e.sublimeSounds&&e.sublimeSounds.previousValue!==e.sublimeSounds.currentValue&&this.sublimeSounds&&(this.sounds=this.sublimeSounds),e.sublimeDuration&&e.sublimeDuration.previousValue!==e.sublimeDuration.currentValue&&this.sublimeDuration&&(this.audioDuration=this.sublimeDuration)}}return i.\u0275fac=function(e){return new(e||i)(P(ve),P(q),P(li),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-micro"]],viewQuery:function(e,t){if(1&e&&(Xe(ZV,5),Xe(XV,5)),2&e){let o;Ve(o=Le())&&(t.confirmRef=o.first),Ve(o=Le())&&(t.progressRef=o.first)}},hostBindings:function(e,t){1&e&&C("click",function(s){return t.onMouseClick(s)},!1,be)},inputs:{withoutRecord:"withoutRecord",sublimeValue:"sublimeValue",sublimeSounds:"sublimeSounds",sublimeDuration:"sublimeDuration",sublimestop:"sublimestop"},outputs:{save:"save"},features:[re],decls:17,vars:18,consts:[[1,"confirm"],["confirm",""],[1,"confirm__text"],[1,"confirm__buttons"],[1,"confirm__button",3,"click"],[3,"icon","background","disabled","click",4,"ngIf"],[3,"icon","background","disabled","click"],[1,"track",3,"mousedown","mouseup","mousemove","mouseleave"],["progress",""],[1,"progress"],["class","sound",3,"height",4,"ngFor","ngForOf"],["class","timer",4,"ngIf"],[3,"text","color"],[1,"sound"],[1,"timer"]],template:function(e,t){1&e&&(h(0,"div",0,1),h(2,"div",2),x(3),d(),h(4,"div",3),h(5,"div",4),C("click",function(){return t.resultconfirm("reject")}),x(6),d(),h(7,"div",4),C("click",function(){return t.resultconfirm("agree")}),x(8),d(),d(),d(),S(9,KV,1,3,"app-desktop-button",5),h(10,"app-desktop-button",6),C("click",function(){return t.switchPlay()}),d(),h(11,"div",7,8),C("mousedown",function(s){return t.onMouseDownTrack(s)})("mouseup",function(s){return t.onMouseUpTrack(s)})("mousemove",function(s){return t.onMouseMoveTrack(s)})("mouseleave",function(){return t.onMouseLeave()}),m(13,"div",9),S(14,QV,1,2,"div",10),d(),S(15,JV,2,1,"div",11),m(16,"app-desktop-error",12)),2&e&&(f("@popup",t.showConfirm),c(3),D(t.locationService.translate("Overwrite?","\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c?")),c(2),b("color","#f44336"),c(1),D(t.locationService.translate("no","\u043d\u0435\u0442")),c(1),b("color","#4caf50"),c(1),D(t.locationService.translate("yes","\u0434\u0430")),c(1),f("ngIf",!t.withoutRecord),c(1),f("icon",t.playing?"../../assets/pause-icon.svg":"../../assets/play-icon.svg")("background","#fafafa")("disabled",!t.chunks[0]||"recording"===t.status||"open"===t.showConfirm),c(3),b("width",t.widthProgress,"px"),c(1),f("ngForOf",t.sounds),c(1),f("ngIf","recording"===t.status),c(1),f("text",t.textError)("color","#f44336"))},directives:[Re,ai,gt,Gs],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .confirm[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;box-shadow:0 0 5px #ddd;border-radius:10px;background-color:#fff;z-index:10;transform:translate(-30px) translateY(80px)}[_nghost-%COMP%] > .confirm[_ngcontent-%COMP%] > .confirm__text[_ngcontent-%COMP%]{font-size:14px;color:#333;text-align:center;margin:10px 20px}[_nghost-%COMP%] > .confirm[_ngcontent-%COMP%] > .confirm__buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%] > .confirm[_ngcontent-%COMP%] > .confirm__buttons[_ngcontent-%COMP%] > .confirm__button[_ngcontent-%COMP%]{margin:5px 10px;padding:10px;cursor:pointer;border-radius:5px;background-color:#eee0;transition:background-color ease .2s}[_nghost-%COMP%] > .confirm[_ngcontent-%COMP%] > .confirm__buttons[_ngcontent-%COMP%] > .confirm__button[_ngcontent-%COMP%]:hover{background-color:#eee}[_nghost-%COMP%] > .track[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-end;justify-content:flex-start;height:30px;overflow:hidden;user-select:none;margin:0 10px}[_nghost-%COMP%] > .track[_ngcontent-%COMP%] > .progress[_ngcontent-%COMP%]{position:absolute;height:5px;width:0px;background-color:#f006;user-select:none}[_nghost-%COMP%] > .track[_ngcontent-%COMP%] > .sound[_ngcontent-%COMP%]{margin-right:1px;width:1px;min-height:5px;max-height:30px;background-color:#333;user-select:none}[_nghost-%COMP%] > .timer[_ngcontent-%COMP%]{font-size:14px;color:#333}"],data:{animation:[he("popup",[Yo("open",F({display:"flex",transform:"translateX(-30px) translateY(80px)",opacity:"1"})),Yo("close",F({transform:"translateX(-30px) translateY(50px)",opacity:"0",display:"none"})),K("open <=> close",$("0.2s ease"))])]}}),i})();function eL(i,n){if(1&i){const e=H();h(0,"div",4),C("click",function(){const s=E(e).$implicit;return y().choose.emit(s)}),m(1,"div",5),d()}if(2&i){const e=n.$implicit;f("matRippleColor","#00000022"),c(1),b("background-image","url("+e+")")}}let tL=(()=>{class i{constructor(e,t){this.readfileservice=e,this.asyncService=t,this.images=[],this.choose=new L,this.textError="",this.timeoutError=setTimeout(()=>{},0)}tryuploadimage(e){var t=this;return I(function*(){const o=e.target.files[0];let s=[],r={};return o.size/1048576>3&&s.push("should be less than 3 MB"),"image/png"!==o.type&&"image/jpeg"!==o.type&&"image/webp"!==o.type&&"image/x-icon"!==o.type&&"image/gif"!==o.type&&s.push("should be type of png, jpeg, webp, gif, icon"),s[0]||(r=yield t.readfileservice.getImageFromFile(o),(r.naturalWidth>1920||r.naturalHeight>1080)&&s.push("should be less than 1920x1080")),s[0]?(t.showError(s.join("; ")),e.target.value=null):t.choose.emit(r.src),new Promise(a=>a(!0))})()}showError(e){var t=this;return I(function*(){return clearTimeout(t.timeoutError),t.textError="",yield t.asyncService.delay(100),t.textError=e,t.timeoutError=setTimeout(()=>{t.textError=""},5e3),new Promise(o=>o())})()}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(P(Co),P(ve))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-list-images"]],inputs:{images:"images"},outputs:{choose:"choose"},decls:10,vars:7,consts:[[1,"list-images-background"],[1,"list-images-display"],[1,"list-images-close",3,"click"],[1,"list-images-list"],["matRipple","",1,"list-images-option",3,"matRippleColor","click"],[1,"list-images-option__image"],["class","list-images-option","matRipple","",3,"matRippleColor","click",4,"ngFor","ngForOf"],["type","file","accept","image/png, image/jpeg",2,"display","none",3,"input"],["inputFile",""],[3,"text","color"]],template:function(e,t){if(1&e){const o=H();h(0,"div",0),h(1,"div",1),h(2,"div",2),C("click",function(){return t.choose.emit("")}),d(),h(3,"div",3),h(4,"div",4),C("click",function(){return E(o),so(8).click()}),m(5,"div",5),d(),S(6,eL,2,3,"div",6),d(),d(),d(),h(7,"input",7,8),C("input",function(r){return t.tryuploadimage(r)}),d(),m(9,"app-desktop-error",9)}2&e&&(c(1),f("@rightShow",void 0),c(3),f("matRippleColor","#00000022"),c(1),b("background-image","url(../../assets/upload.svg)"),c(1),f("ngForOf",t.images),c(3),f("text",t.textError)("color","#f44336"))},directives:[Gn,gt,Gs],styles:["[_nghost-%COMP%] > .list-images-background[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;background-color:#0006;display:flex;flex-direction:row;align-items:stretch;justify-content:flex-end;z-index:1}[_nghost-%COMP%] > .list-images-background[_ngcontent-%COMP%] > .list-images-display[_ngcontent-%COMP%]{width:100%;max-width:600px;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;overflow-y:auto;background-color:#fff}[_nghost-%COMP%] > .list-images-background[_ngcontent-%COMP%] > .list-images-display[_ngcontent-%COMP%] > .list-images-close[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:10px;right:10px;align-self:flex-end;background-image:url(cross.0bf1b6052953de20.svg);background-position:center;background-size:contain;background-repeat:no-repeat;cursor:pointer;opacity:.5;transition:all ease .3s}[_nghost-%COMP%] > .list-images-background[_ngcontent-%COMP%] > .list-images-display[_ngcontent-%COMP%] > .list-images-close[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%] > .list-images-background[_ngcontent-%COMP%] > .list-images-display[_ngcontent-%COMP%] > .list-images-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;flex-wrap:wrap}[_nghost-%COMP%] > .list-images-background[_ngcontent-%COMP%] > .list-images-display[_ngcontent-%COMP%] > .list-images-list[_ngcontent-%COMP%] > .list-images-option[_ngcontent-%COMP%]{margin:30px;width:150px;height:150px;border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%] > .list-images-background[_ngcontent-%COMP%] > .list-images-display[_ngcontent-%COMP%] > .list-images-list[_ngcontent-%COMP%] > .list-images-option[_ngcontent-%COMP%] > .list-images-option__image[_ngcontent-%COMP%]{width:120px;height:120px;background-position:center;background-repeat:no-repeat;background-size:contain}"],data:{animation:[he("rightShow",[K(":enter",[F({transform:"translateX(min(600px, 100%))"}),$("200ms ease",F({transform:"translateX(0px)"}))]),K(":leave",[$("200ms ease",F({transform:"translateX(min(600px, 100%))"}))])])]}}),i})(),nL=(()=>{class i{constructor(){this.choose=new L}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=X({type:i,selectors:[["app-desktop-list-platforms"]],outputs:{choose:"choose"},decls:23,vars:2,consts:[[1,"list-platforms-background"],[1,"list-platforms-display"],[1,"list-platforms-display__close",3,"click"],["matRipple","","matRippleColor","#00000022",1,"list-platforms-display__option",3,"click"],[1,"list-platforms-display__icon","list-platforms-display__icon_pc"],[1,"list-platforms-display__text"],[1,"list-platforms-display__icon","list-platforms-display__icon_playstation"],[1,"list-platforms-display__icon","list-platforms-display__icon_xbox"],[1,"list-platforms-display__icon","list-platforms-display__icon_nintendo-switch"],[1,"list-platforms-display__icon","list-platforms-display__icon_custom"]],template:function(e,t){1&e&&(m(0,"div",0),h(1,"div",1),h(2,"div",2),C("click",function(){return t.choose.emit("")}),d(),h(3,"div",3),C("click",function(){return t.choose.emit("pc")}),m(4,"div",4),h(5,"div",5),x(6,"PC"),d(),d(),h(7,"div",3),C("click",function(){return t.choose.emit("ps")}),m(8,"div",6),h(9,"div",5),x(10,"Playstation"),d(),d(),h(11,"div",3),C("click",function(){return t.choose.emit("xbox")}),m(12,"div",7),h(13,"div",5),x(14,"Xbox"),d(),d(),h(15,"div",3),C("click",function(){return t.choose.emit("switch")}),m(16,"div",8),h(17,"div",5),x(18,"Nintendo switch"),d(),d(),h(19,"div",3),C("click",function(){return t.choose.emit("custom")}),m(20,"div",9),h(21,"div",5),x(22,"Custom"),d(),d(),d()),2&e&&(f("@opacity",void 0),c(1),f("@slideRight",void 0))},directives:[Gn],styles:["[_nghost-%COMP%] > .list-platforms-background[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;background-color:#0006}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%]{position:fixed;top:0px;right:0px;width:100%;height:100%;max-width:600px;background-color:#fff;overflow-y:auto;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-shrink:0}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__close[_ngcontent-%COMP%]{position:fixed;right:0px;top:0px;width:30px;height:30px;margin:20px;cursor:pointer;opacity:.7;background-image:url(cross.0bf1b6052953de20.svg);background-position:center;background-size:contain;background-repeat:no-repeat;transition:all ease .3s}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__close[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%]{width:300px;height:300px;border-radius:10px;margin:50px 0;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%] > .list-platforms-display__icon[_ngcontent-%COMP%]{width:200px;height:200px;background-position:center;background-repeat:no-repeat;background-size:contain}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%] > .list-platforms-display__icon_pc[_ngcontent-%COMP%]{background-size:70%;background-image:url(pc-logo.6d54122594d07bdd.svg)}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%] > .list-platforms-display__icon_playstation[_ngcontent-%COMP%]{background-image:url(ps-logo.967abfd9cf77474c.svg)}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%] > .list-platforms-display__icon_xbox[_ngcontent-%COMP%]{background-image:url(xbox-logo.62030c0107d258ac.svg)}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%] > .list-platforms-display__icon_nintendo-switch[_ngcontent-%COMP%]{background-image:url(nintendo-switch-logo.a3b0c6616231ce07.svg)}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%] > .list-platforms-display__icon_custom[_ngcontent-%COMP%]{background-size:70%;background-image:url(tools.74f73ba7b140b239.svg)}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%] > .list-platforms-display__text[_ngcontent-%COMP%]{margin:10px;text-align:center;font-size:20px;color:#333}"],data:{animation:[he("opacity",[K(":enter",[F({opacity:"0"}),$("200ms",F({opacity:"1"}))]),K(":leave",[$("200ms",F({opacity:"0"}))])]),he("slideRight",[K(":enter",[F({transform:"translateX(min(100%, 600px))"}),$("200ms ease",F({transform:"0px"}))]),K(":leave",[$("200ms ease",F({transform:"translateX(min(100%, 600px))"}))])])]}}),i})();const iL=["projection"];function oL(i,n){if(1&i){const e=H();h(0,"div",6),C("click",function(){const s=E(e).$implicit;return y().choose.emit(s.getAttribute("value"))}),d()}2&i&&f("innerHTML",n.$implicit.outerHTML,Ku)}const sL=["*"];let rL=(()=>{class i{constructor(){this.optionsDOMs=[],this.choose=new L}checkChange(e,t){if(e.length!==t.length)return!0;for(let o=0;o<e.length;o++)if(e[o].outerHTML!==t[o].outerHTML)return!0;return!1}ngOnInit(){}ngAfterViewChecked(){let e=this.projectionRef.nativeElement.querySelectorAll(":scope > *");this.checkChange(e,this.optionsDOMs)&&(this.optionsDOMs=e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=X({type:i,selectors:[["app-desktop-list-side"]],viewQuery:function(e,t){if(1&e&&Xe(iL,5),2&e){let o;Ve(o=Le())&&(t.projectionRef=o.first)}},outputs:{choose:"choose"},ngContentSelectors:sL,decls:7,vars:3,consts:[[1,"list-platforms-background"],[1,"list-platforms-display"],[1,"list-platforms-display__close",3,"click"],["matRipple","","matRippleColor","#00000022","class","list-platforms-display__option",3,"innerHTML","click",4,"ngFor","ngForOf"],[2,"display","none"],["projection",""],["matRipple","","matRippleColor","#00000022",1,"list-platforms-display__option",3,"innerHTML","click"]],template:function(e,t){1&e&&(xi(),m(0,"div",0),h(1,"div",1),h(2,"div",2),C("click",function(){return t.choose.emit("")}),d(),S(3,oL,1,1,"div",3),d(),h(4,"div",4,5),Jn(6),d()),2&e&&(f("@opacity",void 0),c(1),f("@slideRight",void 0),c(2),f("ngForOf",t.optionsDOMs))},directives:[gt,Gn],styles:["[_nghost-%COMP%] > .list-platforms-background[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;background-color:#0006}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%]{position:fixed;top:0px;right:0px;width:100%;height:100%;max-width:600px;background-color:#fff;overflow-y:auto;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-shrink:0}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__close[_ngcontent-%COMP%]{position:fixed;right:0px;top:0px;width:30px;height:30px;margin:20px;cursor:pointer;opacity:.7;background-image:url(cross.0bf1b6052953de20.svg);background-position:center;background-size:contain;background-repeat:no-repeat;transition:all ease .3s}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__close[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}"],data:{animation:[he("opacity",[K(":enter",[F({opacity:"0"}),$("200ms",F({opacity:"1"}))]),K(":leave",[$("200ms",F({opacity:"0"}))])]),he("slideRight",[K(":enter",[F({transform:"translateX(min(100%, 600px))"}),$("200ms ease",F({transform:"0px"}))]),K(":leave",[$("200ms ease",F({transform:"translateX(min(100%, 600px))"}))])])]}}),i})(),Q2=(()=>{class i{constructor(e,t,o){this.linerSvgService=e,this.host=t,this.asyncService=o,this.width=0,this.height=0,this.points=[],this.tool="pen",this.color="#000",this.ban=[],this.sublimereset=!1,this.sublimesave=!1,this.save=new L,this.cachedPoints=[],this.inn="",this.toolActive=!1,this.timeoutSave=setTimeout(()=>{},0)}onResize(){this.setImage()}onMouseDown(e){const t=this.host.nativeElement.getBoundingClientRect(),o=(e.clientX-t.x)/this.width,s=(e.clientY-t.y)/this.height;"pen"===this.tool?(this.points.push([this.color]),this.checkBan(o,s)&&(this.points[this.points.length-1].push([o+3/this.width,s]),this.points[this.points.length-1].push([o,s]))):"eraser"===this.tool&&this.doErase(o,s),this.setImage(),this.toolActive=!0}onMousemove(e){if(!this.toolActive)return;const t=this.host.nativeElement.getBoundingClientRect(),o=(e.clientX-t.x)/this.width,s=(e.clientY-t.y)/this.height;"pen"===this.tool?this.checkBan(o,s)&&this.points[this.points.length-1].push([o,s]):"eraser"===this.tool&&this.doErase(o,s),this.setImage(),clearTimeout(this.timeoutSave),this.timeoutSave=setTimeout(()=>{this.save.emit(this.points)},300)}onMouseup(){let e=this.host.nativeElement.querySelectorAll("svg");for(let t=0;t<e.length-1;t++)e[t].remove();this.toolActive=!1}onMouseleaveWindow(){let e=this.host.nativeElement.querySelectorAll("svg");for(let t=0;t<e.length-1;t++)e[t].remove();this.toolActive=!1}onMouseleave(){let e=this.host.nativeElement.querySelectorAll("svg");for(let t=0;t<e.length-1;t++)e[t].remove();this.toolActive=!1}insideRect(e,t){return t.x>e[0]&&t.x<e[2]&&t.y>e[1]&&t.y<e[3]}checkBan(e,t){for(let o=0;o<this.ban.length;o++)if(this.insideRect(this.ban[o],{x:e,y:t}))return!1;return!0}doErase(e,t){const s=.1*this.width/this.height;for(let r=0;this.points[r]&&r<this.points.length;r++)for(let a=1;this.points[r]&&this.points[r][a]&&a<this.points[r].length;a++)if(this.insideRect([e-.05,t-s/2,e+.05,t+s/2],{x:this.points[r][a][0],y:this.points[r][a][1]})){let l=this.points[r][0],u=this.points[r].slice(1,a),p=this.points[r].slice(a+1,this.points[r].length);u[0]&&!p[0]?(u.splice(0,0,l),this.points.splice(r,1,u),r++):!u[0]&&p[0]?(p.splice(0,0,l),this.points.splice(r,1,p)):u[0]&&p[0]?(u.splice(0,0,l),p.splice(0,0,l),this.points.splice(r,1,u,p),r++):!u[0]&&!p[0]&&this.points.splice(r,1),a=1}}processTouch(){return I(function*(){})()}setImage(){let e=this.linerSvgService.getSvg(this.width,this.height,this.points);e.style.width=`${this.width}px`,e.style.height=`${this.height}px`;let t=this.host.nativeElement.querySelectorAll("svg");for(let o=0;o<t.length;o++)t[o].style.display="none";this.host.nativeElement.appendChild(e)}getImage(){return this.save.emit(this.points),new Promise(e=>e())}ngOnInit(){}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch(),e.points&&e.points.previousValue!==e.points.currentValue&&e.points.currentValue&&e.points.currentValue!==[]&&(this.cachedPoints=[...this.points],this.setImage()),e.sublimereset&&e.sublimereset.previousValue!==e.sublimereset.currentValue&&void 0!==e.sublimereset.previousValue&&(this.points=[...this.cachedPoints],this.setImage()),e.sublimesave&&e.sublimesave.previousValue!==e.sublimesave.currentValue&&void 0!==e.sublimesave.previousValue&&this.getImage()}}return i.\u0275fac=function(e){return new(e||i)(P(ha),P(q),P(ve))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-draw-svg"]],hostVars:4,hostBindings:function(e,t){1&e&&C("resize",function(){return t.onResize()},!1,be)("mousedown",function(s){return t.onMouseDown(s)})("mousemove",function(s){return t.onMousemove(s)})("mouseup",function(){return t.onMouseup()},!1,be)("mouseleave",function(){return t.onMouseleaveWindow()},!1,be)("mouseleave",function(){return t.onMouseleave()}),2&e&&b("width",t.width,"px")("height",t.height,"px")},inputs:{width:"width",height:"height",points:"points",tool:"tool",color:"color",ban:"ban",sublimereset:"sublimereset",sublimesave:"sublimesave"},outputs:{save:"save"},features:[re],decls:0,vars:0,template:function(e,t){},styles:[""]}),i})(),aL=(()=>{class i{constructor(e,t,o){this.touch2Service=e,this.host=t,this.getTargetHtmlService=o,this.tool="pen",this.color="#000000",this.gift=null,this.sublimereset=!1,this.sublimesave=!1,this.close=new L,this.save=new L,this.touch=null,this.xcoord=0,this.ycoord=0,this.width=0,this.height=0,this.actionTouch="",this.memory=[0,0]}onResize(){this.setSize()}setSize(){window.innerWidth/window.innerHeight>.75?(this.height=.9*window.innerHeight,this.width=.9*window.innerHeight*.75):window.innerWidth/window.innerHeight<=.75&&(this.width=.9*window.innerWidth,this.height=.9*window.innerWidth/.75),this.xcoord=(window.innerWidth-this.width)/2,this.ycoord=(window.innerHeight-this.height)/2}processTouch(e){if("start"===e.action&&(null===this.getTargetHtmlService.get(e.target,"bright")?(this.actionTouch="shift",this.memory=[this.xcoord,this.ycoord]):this.actionTouch="draw"),"start"===e.action||"move"===e.action)if("shift"===this.actionTouch&&"move"===e.action){let t=this.memory[0]+(e.x-e.start.x),o=this.memory[1]+(e.y-e.start.y);t<-this.width&&(t=-this.width),t>window.innerWidth&&(t=window.innerWidth),o<-this.height&&(o=-this.height),o>window.innerHeight&&(o=window.innerHeight),this.xcoord=t,this.ycoord=o}else"draw"===this.actionTouch&&(this.touch=e)}savedraw(e){this.save.emit(e)}ngOnInit(){this.setSize()}ngOnChanges(e){}}return i.\u0275fac=function(e){return new(e||i)(P(da),P(q),P(li))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-sign-photo"]],hostBindings:function(e,t){1&e&&C("resize",function(){return t.onResize()},!1,be)},inputs:{tool:"tool",color:"color",gift:"gift",sublimereset:"sublimereset",sublimesave:"sublimesave"},outputs:{close:"close",save:"save"},features:[re],decls:5,vars:18,consts:[[1,"canvas",3,"tool","color","width","height","points","sublimereset","sublimesave","save"],[1,"wrap"],[1,"photo",3,"size"],[1,"mask"],[1,"bright"]],template:function(e,t){1&e&&(h(0,"app-desktop-draw-svg",0),C("save",function(s){return t.savedraw(s)}),d(),h(1,"div",1),m(2,"app-photo",2),d(),h(3,"div",3),m(4,"div",4),d()),2&e&&(b("transform","translateX("+t.xcoord+"px) translateY("+t.ycoord+"px) translateZ(1000px)"),f("tool",t.tool)("color",t.color)("width",t.width)("height",t.height)("points",null==t.gift?null:t.gift.sign)("sublimereset",t.sublimereset)("sublimesave",t.sublimesave),c(1),b("transform","translateX("+(t.xcoord+t.width/2)+"px) translateY("+(t.ycoord+t.height/2)+"px) rotateY(180deg)"),c(1),f("size",t.width),c(2),b("width",t.width,"px")("height",t.height,"px")("transform","translateX("+t.xcoord+"px) translateY("+t.ycoord+"px)"))},directives:[Q2,Yi],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;background-color:#fff}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]{position:absolute;transform-style:preserve-3d}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%]   .mask[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:#0006;z-index:10}[_nghost-%COMP%]   .mask[_ngcontent-%COMP%] > .bright[_ngcontent-%COMP%]{backdrop-filter:brightness(1.7)}[_nghost-%COMP%] > .canvas[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;z-index:15}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{position:absolute;width:100%;color:#fff;font-size:12px;text-align:center;display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;z-index:10;bottom:10px}"]}),i})(),lL=(()=>{class i{constructor(){this.gift={},this.tool="pen",this.color="#ffffff",this.sublimereset=!1,this.sublimesave=!1,this.close=new L,this.save=new L,this.under={x:0,y:0,w:0,h:0},this.canvas={x:0,y:0,w:0,h:0}}onResize(){this.setSize()}setSize(){this.under.w=.4*window.innerWidth,this.under.h=this.under.w/(297/420),this.under.x=this.under.w/2+(window.innerWidth-this.under.w)/2,this.under.y=(window.innerHeight-this.under.h)/2+.1*this.under.h,this.canvas.w=this.under.w,this.canvas.h=.2*this.under.h,this.canvas.x=this.under.x-this.under.w/2,this.canvas.y=this.under.y+this.under.h/2-this.canvas.h+1}ngOnInit(){this.setSize()}savedraw(e){this.save.emit(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=X({type:i,selectors:[["app-desktop-sign-greetingcard"]],hostBindings:function(e,t){1&e&&C("resize",function(){return t.onResize()},!1,be)},inputs:{gift:"gift",tool:"tool",color:"color",sublimereset:"sublimereset",sublimesave:"sublimesave"},outputs:{close:"close",save:"save"},decls:4,vars:23,consts:[[1,"greetingcard",3,"size","back","text","color"],[1,"canvas",3,"tool","color","width","height","points","sublimereset","sublimesave","save"],[1,"background"],[1,"bright"]],template:function(e,t){1&e&&(m(0,"app-greeting-card",0),h(1,"app-desktop-draw-svg",1),C("save",function(s){return t.savedraw(s)}),d(),m(2,"div",2),m(3,"div",3)),2&e&&(b("transform","translateX("+t.under.x+"px) translateY("+t.under.y+"px) translateZ(0px) rotateY(180deg)"),f("size",t.under.w)("back",null==t.gift?null:t.gift.back)("text",null==t.gift?null:t.gift.text)("color",null==t.gift?null:t.gift.color),c(1),b("transform","translateX("+t.canvas.x+"px) translateY("+t.canvas.y+"px) translateZ(1000px)"),f("tool",t.tool)("color",t.color)("width",t.canvas.w)("height",t.canvas.h)("points",null==t.gift?null:t.gift.sign)("sublimereset",t.sublimereset)("sublimesave",t.sublimesave),c(1),b("transform","translateZ(998px)"),c(1),b("width",t.canvas.w+"px")("height",t.canvas.h+"px")("transform","translateX("+t.canvas.x+"px) translateY("+t.canvas.y+"px) translateZ(999px)"))},directives:[$i,Q2],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d;background:#ffffff}[_nghost-%COMP%] > .greetingcard[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px}[_nghost-%COMP%] > .canvas[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px}[_nghost-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;width:100%;height:100%;background-color:#0009}[_nghost-%COMP%] > .bright[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;backdrop-filter:brightness(2.5)}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:0px;width:100%;text-align:center;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:12px;color:#fff;user-select:none}"]}),i})();const uL=["progressRef"];function cL(i,n){if(1&i&&m(0,"video",5),2&i){const e=y();f("@verticalShow",void 0)("muted","muted"),$e("width",e.width+"px")("height",e.height+"px")}}function hL(i,n){if(1&i&&m(0,"video",6),2&i){const e=y();f("@verticalShow",void 0),$e("width",e.width+"px")("height",e.height+"px")}}function dL(i,n){1&i&&m(0,"div",7)}function pL(i,n){if(1&i&&(h(0,"div",8),m(1,"div",9),h(2,"div",10),x(3),d(),d()),2&i){const e=y();c(3),D(e.error)}}function fL(i,n){if(1&i){const e=H();h(0,"div",11),h(1,"app-desktop-button",12),C("click",function(){return E(e),y().switchPlaying()}),d(),h(2,"div",13,14),C("mousedown",function(o){return E(e),y().onMouseDownProgress(o)}),m(4,"div",15),d(),d()}if(2&i){const e=y();f("@verticalShow",void 0),c(1),f("icon",e.playing?"../../assets/pause-icon-white.svg":"../../assets/play-icon-white.svg")("background","#00000033")("color","#333333"),c(3),b("width",100*e.progress.value+"%")}}let J2=(()=>{class i{constructor(e,t){this.host=e,this.asyncService=t,this.withoutCamera=!1,this.recording=!1,this.screen="recording",this.duration=0,this.value=[],this.sublimeuninit=!1,this.loading=!0,this.error="",this.width=0,this.height=0,this.text="",this.status="none",this.confirm="",this.chunks=[],this.timer=0,this.interval=setInterval(()=>{},1e6),this.playing=!1,this.progress={active:!1,playing:!1,value:0,interval:setInterval(()=>{},1e6)},this.save=new L,this.backgroundColor="#ffffff"}onMouseDownProgress(e){this.progress.active=!0,this.progress.playing=this.playing,this.stopPlaying();let t=this.host.nativeElement.querySelector(".result"),o=this.progressRef.nativeElement.getBoundingClientRect();this.progress.value=(e.clientX-o.x)/o.width,this.progress.value>1&&(this.progress.value=1),this.progress.value<0&&(this.progress.value=0),t.currentTime=this.progress.value*this.duration}onMouseMoveProgress(e){if(!this.progress.active)return;let t=this.host.nativeElement.querySelector(".result"),o=this.progressRef.nativeElement.getBoundingClientRect();this.progress.value=(e.clientX-o.x)/o.width,this.progress.value>1&&(this.progress.value=1),this.progress.value<0&&(this.progress.value=0),t.currentTime=this.progress.value*this.duration}onMouseUpProgress(e){!this.progress.active||(this.progress.active=!1,this.progress.playing&&this.startPlaying())}onMouseLeaveProgress(e){!this.progress.active||(this.progress.active=!1,this.stopPlaying())}init(){return I(function*(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!0}):new Promise((e,t)=>t("Your browser does not support video recording"))})()}setSize(){let e=this.host.nativeElement.querySelector(".preview"),t=e.videoWidth/e.videoHeight,o=window.innerWidth/window.innerHeight;o>t?(this.height=window.innerHeight,this.width=window.innerHeight*t):o<=t&&(this.width=window.innerWidth,this.height=window.innerWidth/t)}startRecord(){var e=this;return I(function*(){e.recorder&&(yield e.initRecord()),e.chunks=[],e.timer=30,e.interval=setInterval(()=>{e.timer--,e.timer<=0&&e.stopRecord()},1e3),e.status="recording",e.text="tap to stop record",setTimeout(()=>{e.recorder.start()},100)})()}stopRecord(){this.duration=30-this.timer,clearInterval(this.interval),this.status="waiting",this.timer=0,this.text="tap to start record",this.recorder.stop()}resultconfirm(e){"agree"===e?(this.chunks=[],setTimeout(()=>{this.confirm="",this.startRecord()},100)):"reject"===e&&(this.confirm="")}initRecord(){var e=this;return I(function*(){e.stream&&e.uninit();try{e.stream=yield e.init();let t=e.host.nativeElement.querySelector(".preview");t.setAttribute("muted","true"),t.srcObject=e.stream,t.captureStream=t.captureStream||t.mozCaptureStream,t.onplay=()=>{e.text="tap to start record",e.backgroundColor="#000000",e.setSize(),e.status="waiting",e.loading=!1},e.recorder=new MediaRecorder(e.stream),e.recorder.ondataavailable=o=>{e.chunks.push(o.data),e.save.emit({value:e.chunks,duration:e.duration})}}catch(t){e.error="NotAllowedError: Permission denied"===t.toString()||"NotAllowedError: Permission dismissed"===t.toString()?"Webcam not allowed":t}})()}uninit(){var e;let t=this.host.nativeElement.querySelector(".preview");(null==t?void 0:t.srcObject)&&t.srcObject.getTracks().forEach(o=>o.stop()),this.stream&&this.stream.getTracks().forEach(o=>o.stop()),(null===(e=this.recorder)||void 0===e?void 0:e.stream)&&this.recorder.stream.getTracks().forEach(o=>o.stop())}createVideo(){this.backgroundColor="#000000",this.uninit();let e=this.host.nativeElement.querySelector(".result");e.setAttribute("control","");let t=new Blob(this.chunks,{type:"video/webm"});e.src=URL.createObjectURL(t)}switchPlaying(){this.playing?this.stopPlaying():this.startPlaying()}startPlaying(){let e=this.host.nativeElement.querySelector(".result");this.playing=!0,e.play(),this.progress.interval=setInterval(()=>{let t=this.host.nativeElement.querySelector(".result");this.progress.value=t.currentTime/this.duration},100)}stopPlaying(){let e=this.host.nativeElement.querySelector(".result");this.playing=!1,e.pause(),clearInterval(this.progress.interval)}ngOnInit(){console.log(this.screen),"recording"===this.screen?this.initRecord():setTimeout(()=>{console.log(this.chunks),this.createVideo(),this.loading=!1},100)}ngOnDestroy(){this.uninit()}ngOnChanges(e){e.recording&&e.recording.previousValue!==e.recording.currentValue&&void 0!==e.recording.previousValue&&(this.recording?this.startRecord():this.stopRecord()),e.value&&e.value.previousValue!==e.value.currentValue&&this.value[0]&&(this.chunks=this.value),e.screen&&e.screen.previousValue!==e.screen.currentValue&&("recording"===this.screen?this.initRecord():"watching"===this.screen&&setTimeout(()=>{this.createVideo()},100)),e.sublimeuninit&&e.sublimeuninit.previousValue!==e.sublimeuninit.currentValue&&void 0!==e.sublimeuninit.previousValue&&this.uninit()}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(ve))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-webcam-video"]],viewQuery:function(e,t){if(1&e&&Xe(uL,5),2&e){let o;Ve(o=Le())&&(t.progressRef=o.first)}},hostVars:2,hostBindings:function(e,t){1&e&&C("mousemove",function(s){return t.onMouseMoveProgress(s)},!1,be)("mouseup",function(s){return t.onMouseUpProgress(s)},!1,be)("mouseleave",function(s){return t.onMouseLeaveProgress(s)},!1,be),2&e&&b("background-color",t.backgroundColor)},inputs:{withoutCamera:"withoutCamera",recording:"recording",screen:"screen",duration:"duration",value:"value",sublimeuninit:"sublimeuninit"},outputs:{save:"save"},features:[re],decls:7,vars:8,consts:[["class","preview","autoplay","",3,"muted",4,"ngIf"],["class","result",4,"ngIf"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],["class","wrap-progress",4,"ngIf"],["autoplay","",1,"preview",3,"muted"],[1,"result"],[1,"loading"],[1,"error"],[1,"icon"],[1,"text"],[1,"wrap-progress"],[3,"icon","background","color","click"],[1,"progress",3,"mousedown"],["progressRef",""],[1,"progress-past"]],template:function(e,t){1&e&&(h(0,"div"),x(1),d(),S(2,cL,1,4,"video",0),S(3,hL,1,3,"video",1),S(4,dL,1,0,"div",2),S(5,pL,4,1,"div",3),S(6,fL,5,6,"div",4)),2&e&&(Vo(t.timer>0?t.timer<=5?"timer hurryup":"timer":"timer hidden"),c(1),se(" ",t.timer," "),c(1),f("ngIf",""===t.error&&"recording"===t.screen),c(1),f("ngIf",""===t.error&&"watching"===t.screen),c(1),f("ngIf",t.loading&&!t.error),c(1),f("ngIf",""!==t.error),c(1),f("ngIf","watching"===t.screen))},directives:[Re,ai],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all ease .3s}[_nghost-%COMP%] > .loading[_ngcontent-%COMP%]{width:100px;height:100px;background-image:url(loading.07aa785054084df7.svg);background-position:center;background-size:contain;background-repeat:no-repeat;z-index:100}[_nghost-%COMP%] > .timer[_ngcontent-%COMP%]{position:absolute;top:50px;width:100%;text-align:center;display:flex;color:#fff;flex-direction:row;align-items:center;justify-content:center;font-size:60px;z-index:10;transition:all ease .3s}[_nghost-%COMP%] > .timer.hidden[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%] > .timer.hurryup[_ngcontent-%COMP%]{animation-name:hurryup;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;color:#d93025}[_nghost-%COMP%] > .preview[_ngcontent-%COMP%], [_nghost-%COMP%] > .result[_ngcontent-%COMP%]{position:absolute;transition:all ease .3s}[_nghost-%COMP%] > .result[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%] > .error[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:50px;background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(cross.0bf1b6052953de20.svg)}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:14px;color:#000;text-align:center}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{opacity:0;position:absolute;bottom:20px;display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .rec[_ngcontent-%COMP%]{width:30px;height:30px;margin:10px}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{color:#fff;font-size:12px;text-align:center;user-select:none}[_nghost-%COMP%] > .wrap-progress[_ngcontent-%COMP%]{position:fixed;bottom:30px;width:100%;max-width:600px;display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none}[_nghost-%COMP%] > .wrap-progress[_ngcontent-%COMP%] > .progress[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:flex-start;margin:20px;background-color:#0003;border-radius:10px;height:6px;flex:1;cursor:pointer}[_nghost-%COMP%] > .wrap-progress[_ngcontent-%COMP%] > .progress[_ngcontent-%COMP%] > .progress-past[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;width:0%}@keyframes hurryup{0%{transform:scale(1)}50%{transform:scale(2)}to{transform:scale(1)}}"],data:{animation:[he("verticalShow",[K(":enter",[F({transform:"translateY(-20px)",opacity:"0"}),$("200ms",F({transform:"translateY(0px)",opacity:"1"}))]),K(":leave",[$("200ms",F({transform:"translateY(0px)",opacity:"0"}))])])]}}),i})();function gL(i,n){1&i&&m(0,"div",4)}function mL(i,n){if(1&i&&m(0,"video",5),2&i){const e=y();b("opacity",e.opacityVideo)("animation-name",e.chickchick?"takephoto":"none"),f("muted","muted"),$e("width",e.width+"px")("height",e.height+"px")}}function _L(i,n){if(1&i&&(h(0,"div",6),m(1,"div",7),h(2,"div",8),x(3),d(),d()),2&i){const e=y();c(3),D(e.error)}}let vL=(()=>{class i{constructor(e,t,o){this.asyncService=e,this.host=t,this.touch2Service=o,this.value="",this.sublimeTakePicture=!1,this.sublimeSave=!1,this.sublimeCancel=!1,this.save=new L,this.width=0,this.height=0,this.picture="",this.chickchick=!1,this.opacityVideo="0",this.opacityPhoto="0",this.error="",this.canMove=!1,this.ycoord=0,this.memory=0,this.velocity=0,this.timeoutvelocity=setTimeout(()=>{},0),this.loading=!0}init(){return I(function*(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!0}):new Promise((e,t)=>t("Your browser does not support microphone recording"))})()}takePhoto(){var e=this;return I(function*(){return e.chickchick=!0,yield e.asyncService.delay(1e3),e.chickchick=!1,e.opacityPhoto="1",e.opacityVideo="0",e.ycoord=0,yield e.asyncService.delay(300),new Promise(t=>t())})()}start(){var e=this;return I(function*(){try{e.stream=yield e.init();let t=e.host.nativeElement.querySelector(".preview");t.srcObject=e.stream,t.captureStream=t.captureStream||t.mozCaptureStream,t.onplay=()=>{e.setSize(),e.opacityVideo="1",e.loading=!1}}catch(t){e.error="NotAllowedError: Permission denied"===t.toString()||"NotAllowedError: Permission dismissed"===t.toString()?"Webcam not allowed":t}})()}setSize(){let e=this.host.nativeElement.querySelector(".preview"),t=e.videoWidth/e.videoHeight,o=window.innerWidth/window.innerHeight;o>t?(this.height=window.innerHeight,this.width=window.innerHeight*t):o<=t&&(this.width=window.innerWidth,this.height=window.innerWidth/t)}uninit(){let e=this.host.nativeElement.querySelector(".preview");(null==e?void 0:e.srcObject)&&e.srcObject.getTracks().forEach(t=>t.stop()),this.stream&&this.stream.getTracks().forEach(t=>t.stop())}closePhoto(){var e=this;return I(function*(){return e.host.nativeElement.querySelector(".photo").style.transition="all ease 0.3s",e.ycoord=-window.innerHeight,yield e.asyncService.delay(300),e.opacityPhoto="0",e.picture="",e.opacityVideo="1",yield e.asyncService.delay(300),e.host.nativeElement.querySelector(".photo").style.removeProperty("transition"),new Promise(t=>t())})()}remainPhoto(){var e=this;return I(function*(){return e.host.nativeElement.querySelector(".photo").style.transition="all ease 0.3s",yield e.asyncService.delay(10),e.ycoord=0,yield e.asyncService.delay(300),e.host.nativeElement.querySelector(".photo").style.removeProperty("transition"),new Promise(t=>t())})()}processTouch(e){if("move"===e.action&&"start"===e.prev.action&&(Math.abs(e.x-e.prev.x)<Math.abs(e.y-e.prev.y)?(this.canMove=!0,this.memory=this.ycoord):this.canMove=!1),"move"===e.action&&this.canMove&&"1"===this.opacityPhoto){this.velocity=e.y-e.prev.y,clearTimeout(this.timeoutvelocity),this.timeoutvelocity=setTimeout(()=>{this.velocity=0},100);let t=this.memory+(e.y-e.start.y);t>0&&(t=0),t<-window.innerHeight/2&&(t=-window.innerHeight/2),this.ycoord=t}"end"===e.action&&this.canMove&&"1"===this.opacityPhoto&&(0===this.velocity?this.ycoord<-window.innerHeight/4?this.closePhoto():this.ycoord>-window.innerHeight/4&&this.remainPhoto():this.velocity>0?this.remainPhoto():this.velocity<0&&this.closePhoto())}ngOnInit(){this.start()}ngOnDestroy(){this.uninit()}ngOnChanges(e){if(e.sublimeTakePicture&&e.sublimeTakePicture.previousValue!==e.sublimeTakePicture.currentValue&&null!=e.sublimeTakePicture.previousValue){const t=this.host.nativeElement.querySelector(".preview");this.host.nativeElement.querySelector(".photo"),this.takePhoto();const s=document.createElement("canvas"),r=s.getContext("2d");s.setAttribute("width",t.videoWidth+"px"),s.setAttribute("height",t.videoHeight+"px"),r.drawImage(t,0,0,t.videoWidth,t.videoHeight),this.picture=s.toDataURL("png/image",1)}e.sublimeSave&&e.sublimeSave.previousValue!==e.sublimeSave.currentValue&&null!=e.sublimeSave.previousValue&&(this.opacityPhoto="0",this.opacityVideo="1",this.save.emit(this.picture)),e.sublimeCancel&&e.sublimeCancel.previousValue!==e.sublimeCancel.currentValue&&null!=e.sublimeCancel.previousValue&&(this.opacityPhoto="0",this.opacityVideo="1",this.save.emit(""))}}return i.\u0275fac=function(e){return new(e||i)(P(ve),P(q),P(da))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-take-picture"]],inputs:{value:"value",sublimeTakePicture:"sublimeTakePicture",sublimeSave:"sublimeSave",sublimeCancel:"sublimeCancel"},outputs:{save:"save"},features:[re],decls:4,vars:15,consts:[["class","loading",4,"ngIf"],["class","preview","autoplay","",3,"muted","opacity","animationName",4,"ngIf"],[1,"photo"],["class","error",4,"ngIf"],[1,"loading"],["autoplay","",1,"preview",3,"muted"],[1,"error"],[1,"icon"],[1,"text"]],template:function(e,t){1&e&&(S(0,gL,1,0,"div",0),S(1,mL,1,7,"video",1),m(2,"div",2),S(3,_L,4,1,"div",3)),2&e&&(f("ngIf",t.loading&&!t.error),c(1),f("ngIf",""===t.error),c(1),b("width",t.width+"px")("height",t.height+"px")("opacity",t.opacityPhoto)("animation-name",t.chickchick?"takephoto":"none")("transform","translateY("+t.ycoord+"px)")("background-image","url("+t.picture+")"),c(1),f("ngIf",""!==t.error))},directives:[Re],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#fff}[_nghost-%COMP%] > .loading[_ngcontent-%COMP%]{width:100px;height:100px;background-image:url(loading.07aa785054084df7.svg);background-position:center;background-size:contain;background-repeat:no-repeat;z-index:100}[_nghost-%COMP%] > .preview[_ngcontent-%COMP%]{position:absolute;animation-name:none;animation-duration:1s;animation-iteration-count:1;animation-timing-function:linear;transition:all ease .3s}[_nghost-%COMP%] > .photo[_ngcontent-%COMP%]{background-size:contain;position:absolute;animation-name:none;animation-duration:1s;animation-iteration-count:1;animation-timing-function:linear}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{padding:10px 0;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;bottom:0px;text-align:center;font-size:12px;color:#fff;opacity:0;user-select:none;background-color:#0009;transition:all ease .3s}[_nghost-%COMP%] > .hintCancel[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;top:20px;text-align:center;font-size:12px;color:#fff;opacity:0;background-color:#0009;border-radius:10px;user-select:none;transition:all ease .3s}[_nghost-%COMP%] > .hintSave[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;transition:all ease .3s}[_nghost-%COMP%] > .hintSave[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:center;text-align:center;font-size:18px;color:#fff;background-color:#0009;border-radius:10px;user-select:none}[_nghost-%COMP%] > .hintSave[_ngcontent-%COMP%] > .subtext[_ngcontent-%COMP%]{margin:10px;padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:center;text-align:center;font-size:12px;color:#fff;background-color:#0009;border-radius:10px;user-select:none}[_nghost-%COMP%] > .error[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:50px;background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(cross.0bf1b6052953de20.svg)}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:14px;color:#000;text-align:center}@keyframes takephoto{0%{opacity:1}10%{opacity:0}to{opacity:1}}"]}),i})(),ex=(()=>{class i{constructor(e,t,o){this.readfileservice=e,this.host=t,this.gettargethtmlservice=o,this.img="",this.ratio=16/9,this.mode="usual",this.touch=null,this.sublimesave=!1,this.closetrim=new L,this.save=new L,this.imgobj=new Image,this.modemove="none",this.startposimage=[0,0],this.startposframe=[0,0],this.width=0,this.height=0,this.x=0,this.y=0,this.mouseStart={x:0,y:0},this.frame={w:0,h:0,x:0,y:0},this.timeoutResize=setTimeout(()=>{},0)}onResize(){this.setsize(),clearTimeout(this.timeoutResize),this.timeoutResize=setTimeout(()=>{this.turnontrim()},300)}setobjectimg(){var e=this;return I(function*(){return e.imgobj=yield e.readfileservice.getImageByUrl(e.img),new Promise(t=>t())})()}setsize(){this.imgobj.naturalWidth/this.imgobj.naturalHeight>=window.innerWidth/window.innerHeight?(this.width=.8*window.innerWidth,this.width>this.imgobj.naturalWidth&&(this.width=this.imgobj.naturalWidth),this.height=this.width/(this.imgobj.naturalWidth/this.imgobj.naturalHeight)):this.imgobj.naturalWidth/this.imgobj.naturalHeight<window.innerWidth/window.innerHeight&&(this.height=.8*window.innerHeight,this.height>this.imgobj.naturalHeight&&(this.height=this.imgobj.naturalHeight),this.width=this.height*(this.imgobj.naturalWidth/this.imgobj.naturalHeight)),this.x=(window.innerWidth-this.width)/2,this.y=(window.innerHeight-this.height)/2-20}turnontrim(){const e=this.host.nativeElement.querySelector(".image").getBoundingClientRect();this.ratio>=this.width/this.height?(this.frame.w=this.width,this.frame.h=this.frame.w/this.ratio):this.ratio<this.width/this.height&&(this.frame.h=this.height,this.frame.w=this.frame.h*this.ratio),this.frame.x=e.x+(this.width-this.frame.w)/2,this.frame.y=e.y+(this.height-this.frame.h)/2}dotrim(){const e=document.createElement("canvas"),t=e.getContext("2d");e.setAttribute("width",this.imgobj.naturalWidth*(this.frame.w/this.width)+"px"),e.setAttribute("height",this.imgobj.naturalHeight*(this.frame.h/this.height)+"px"),t.drawImage(this.imgobj,this.imgobj.naturalWidth*(this.frame.x-this.x)/this.width,this.imgobj.naturalHeight*(this.frame.y-this.y)/this.height,this.imgobj.naturalWidth*(this.frame.w/this.width),this.imgobj.naturalHeight*(this.frame.h/this.height),0,0,this.imgobj.naturalWidth*(this.frame.w/this.width),this.imgobj.naturalHeight*(this.frame.h/this.height));let o=e.toDataURL("image/jpg",1);this.img=o,this.setobjectimg().then(()=>{this.setsize(),this.save.emit(o)})}onMouseDown(e){"trim"===this.mode&&(this.gettargethtmlservice.get(e.target,"screen-image-upload__close")||(this.mouseStart.x=e.clientX,this.mouseStart.y=e.clientY,this.gettargethtmlservice.get(e.target,"resize")?this.modemove="resize":this.gettargethtmlservice.get(e.target,"frame")?(this.startposframe=[this.frame.x,this.frame.y],this.modemove="frame"):(this.startposimage=[this.x,this.y],this.startposframe=[this.frame.x,this.frame.y],this.modemove="shift")))}onMouseMove(e){"trim"===this.mode&&("resize"===this.modemove?(this.frame.w=e.clientX-this.frame.x,this.frame.h=this.frame.w/this.ratio,this.frame.w<30&&(this.frame.w=30,this.frame.h=this.frame.w/this.ratio),this.frame.h<30&&(this.frame.h=30,this.frame.w=this.frame.h*this.ratio),this.frame.x+this.frame.w>this.x+this.width&&(this.frame.w=this.x+this.width-this.frame.x,this.frame.h=this.frame.w/this.ratio),this.frame.y+this.frame.h>this.y+this.height&&(this.frame.h=this.y+this.height-this.frame.y,this.frame.w=this.frame.h*this.ratio)):"frame"===this.modemove&&(this.frame.x=this.startposframe[0]+e.clientX-this.mouseStart.x,this.frame.y=this.startposframe[1]+e.clientY-this.mouseStart.y,this.frame.x<this.x&&(this.frame.x=this.x),this.frame.y<this.y&&(this.frame.y=this.y),this.frame.x+this.frame.w>this.x+this.width&&(this.frame.x=this.x+this.width-this.frame.w),this.frame.y+this.frame.h>this.y+this.height&&(this.frame.y=this.y+this.height-this.frame.h)))}onMouseUp(){this.modemove="none"}processTouch(){"trim"===this.mode&&("start"===this.touch.action&&(this.gettargethtmlservice.get(this.touch.target,"resize")?this.modemove="resize":this.gettargethtmlservice.get(this.touch.target,"frame")?(this.startposframe=[this.frame.x,this.frame.y],this.modemove="frame"):(this.startposimage=[this.x,this.y],this.startposframe=[this.frame.x,this.frame.y],this.modemove="shift")),"move"===this.touch.action&&("resize"===this.modemove?(this.frame.w=this.touch.x-this.frame.x,this.frame.h=this.frame.w/this.ratio,this.frame.w<30&&(this.frame.w=30,this.frame.h=this.frame.w/this.ratio),this.frame.h<30&&(this.frame.h=30,this.frame.w=this.frame.h*this.ratio),this.frame.x+this.frame.w>this.x+this.width&&(this.frame.w=this.x+this.width-this.frame.x,this.frame.h=this.frame.w/this.ratio),this.frame.y+this.frame.h>this.y+this.height&&(this.frame.h=this.y+this.height-this.frame.y,this.frame.w=this.frame.h*this.ratio)):"frame"===this.modemove?(this.frame.x=this.startposframe[0]+this.touch.x-this.touch.start.x,this.frame.y=this.startposframe[1]+this.touch.y-this.touch.start.y,this.frame.x<this.x&&(this.frame.x=this.x),this.frame.y<this.y&&(this.frame.y=this.y),this.frame.x+this.frame.w>this.x+this.width&&(this.frame.x=this.x+this.width-this.frame.w),this.frame.y+this.frame.h>this.y+this.height&&(this.frame.y=this.y+this.height-this.frame.h)):"shift"===this.modemove&&(this.frame.x=this.startposframe[0]+this.touch.x-this.touch.start.x,this.frame.y=this.startposframe[1]+this.touch.y-this.touch.start.y,this.x=this.startposimage[0]+this.touch.x-this.touch.start.x,this.y=this.startposimage[1]+this.touch.y-this.touch.start.y,this.x<-this.width&&(this.x=-this.width,this.frame.x=this.x+(this.startposframe[0]-this.startposimage[0])),this.x>window.innerWidth&&(this.x=window.innerWidth,this.frame.x=this.x+(this.startposframe[0]-this.startposimage[0])),this.y<-this.height&&(this.y=-this.height,this.frame.y=this.y+(this.startposframe[1]-this.startposimage[1])),this.y>window.innerHeight&&(this.y=window.innerHeight,this.frame.y=this.y+(this.startposframe[1]-this.startposimage[1])))))}ngOnInit(){this.closetrim=this.closetrim}ngOnChanges(e){e.img&&e.img.previousValue!==e.img.currentValue&&""!==e.img.currentValue&&this.setobjectimg().then(()=>{this.setsize()}),e.mode&&e.mode.previousValue!==e.mode.currentValue&&("usual"===e.mode.currentValue?this.setsize():"trim"===e.mode.currentValue&&this.turnontrim()),e.sublimesave&&e.sublimesave.previousValue!==e.sublimesave.currentValue&&void 0!==e.sublimesave.previousValue&&this.dotrim()}}return i.\u0275fac=function(e){return new(e||i)(P(Co),P(q),P(li))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-trim"]],hostBindings:function(e,t){1&e&&C("resize",function(){return t.onResize()},!1,be)("mousedown",function(s){return t.onMouseDown(s)},!1,be)("mousemove",function(s){return t.onMouseMove(s)},!1,be)("mouseup",function(){return t.onMouseUp()},!1,be)},inputs:{img:"img",ratio:"ratio",mode:"mode",touch:"touch",sublimesave:"sublimesave"},outputs:{closetrim:"closetrim",save:"save"},features:[re],decls:5,vars:22,consts:[[1,"image"],[1,"trimtools"],[1,"back"],[1,"frame"],[1,"resize"]],template:function(e,t){1&e&&(m(0,"div",0),h(1,"div",1),m(2,"div",2),h(3,"div",3),m(4,"div",4),d(),d()),2&e&&(b("width",t.width,"px")("height",t.height,"px")("transform","translateX("+t.x+"px) translateY("+t.y+"px)")("background-image","url("+t.img+")"),c(1),b("display","trim"===t.mode?"flex":"none"),c(1),b("width","100%")("height","100%")("transform","translateX(0px) translateY(0px)"),c(1),b("width",t.frame.w,"px")("height",t.frame.h,"px")("transform","translateX("+t.frame.x+"px) translateY("+t.frame.y+"px)"))},styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-image:url(transparent.1234cf35f41c1d9e.svg);background-size:20px;background-repeat:repeat;background-position:0px 0px;user-select:none}[_nghost-%COMP%] > .image[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%] > .back[_ngcontent-%COMP%]{left:0px;top:0px;position:absolute;background-color:#0009}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%] > .frame[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;outline-color:#fff;outline-style:solid;outline-width:5px;display:flex;flex-direction:row;align-items:flex-end;justify-content:flex-end;backdrop-filter:brightness(2.5);z-index:1;cursor:grab}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%] > .frame[_ngcontent-%COMP%] > .resize[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;transform:translate(20px) translateY(20px);border-radius:500px;background-color:#fff;z-index:2;background-position:center;background-size:contain;background-repeat:no-repeat;background-image:url(resize.ee042e9d80a38daf.svg);box-shadow:0 0 2px #000;cursor:nw-resize}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:0px;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#0009;transition:all ease .2s}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:10px;font-size:12px;color:#fff;text-align:right;user-select:none}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:10px 10px 10px 0;width:20px;height:20px;background-position:center;background-size:contain;background-repeat:no-repeat}"]}),i})();const yL=["mockButtons"],CL=["confirmWebcamVideo"];function bL(i,n){if(1&i&&m(0,"app-greeting-card",24),2&i){const e=y();b("transform","rotateY("+e.rotateGift.angle+"deg)"),V("gift-animated",e.rotateGift.animate),f("size",e.giftDOM.size*(297/420))("front",e.gift.front)("back",e.gift.back)("text",e.gift.text)("color",e.gift.color)("sign",e.gift.sign)("smooth",e.animate)}}function wL(i,n){if(1&i&&m(0,"app-game",25),2&i){const e=y();b("transform","rotateY("+e.rotateGift.angle+"deg)"),V("gift-animated",e.rotateGift.animate),f("size",e.giftDOM.size*(135/190))("color",e.gift.color)("front",e.gift.front)("inside",e.gift.inside)("side",e.gift.side)("code",e.gift.code)("open",e.openGame)("smooth",e.animate)}}function xL(i,n){if(1&i&&m(0,"app-speaker",26),2&i){const e=y();b("transform","rotateY("+(e.rotateGift.angle+180)+"deg)")("animation-name","rotPlus180"),V("gift-animated",e.rotateGift.animate),f("size",e.giftDOM.size-20)("grill",e.gift.grill)("color",e.gift.color)("smooth",e.animate)}}function kL(i,n){if(1&i&&m(0,"app-tablet",27),2&i){const e=y();b("transform","rotateY("+e.rotateGift.angle+"deg)"),V("gift-animated",e.rotateGift.animate),f("size",e.giftDOM.size)("color",e.gift.color)("smooth",e.animate)}}function PL(i,n){if(1&i&&m(0,"app-photo",28),2&i){const e=y();b("transform","rotateY("+e.rotateGift.angle+"deg)"),V("gift-animated",e.rotateGift.animate),f("size",.75*e.giftDOM.size)("photo",e.gift.photo)("sign",e.gift.sign)("smooth",e.animate)}}function SL(i,n){if(1&i){const e=H();Se(0),h(1,"div",29),m(2,"div",30),h(3,"div",31),x(4),d(),h(5,"app-desktop-button",32),C("click",function(){return E(e),y().showUploadImageFrontGreetingCard()}),d(),d(),h(6,"div",29),m(7,"div",33),h(8,"div",31),x(9),d(),h(10,"app-desktop-button",32),C("click",function(){return E(e),y().showUploadImageBack()}),d(),d(),h(11,"div",29),m(12,"div",34),h(13,"div",31),x(14),d(),h(15,"app-desktop-button",32),C("click",function(){E(e);const o=y();return o.showTextGreetingcard=!o.showTextGreetingcard}),d(),d(),h(16,"textarea",35),C("input",function(o){return E(e),y().inputTextGreetingcard(o)}),d(),h(17,"div",29),m(18,"div",36),h(19,"div",31),x(20),d(),h(21,"app-desktop-button",32),C("click",function(){return E(e),so(23).click()}),d(),h(22,"input",37,38),C("input",function(o){return E(e),y().setColorTextGreetingCard(o)}),d(),d(),h(24,"div",29),m(25,"div",39),h(26,"div",31),x(27),d(),h(28,"app-desktop-button",32),C("click",function(){return E(e),y().signGreetingcard.visible=!0}),d(),d(),Me()}if(2&i){const e=y();c(4),D(e.locationService.translate("front","\u043e\u0431\u043b\u043e\u0436\u043a\u0430")),c(1),f("icon","../../assets/pen.svg")("background","#fafafa"),c(4),D(e.locationService.translate("back","\u0437\u0430\u0434\u043d\u044f\u044f \u0441\u0442\u043e\u0440\u043e\u043d\u0430")),c(1),f("icon","../../assets/pen.svg")("background","#fafafa"),c(4),D(e.locationService.translate("text","\u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435")),c(1),f("icon",e.showTextGreetingcard?"../../assets/checkmark.svg":"../../assets/pen.svg")("background","#fafafa"),c(1),V("edit-gift-textarea_collapsed",!e.showTextGreetingcard),f("value",e.gift.text),c(4),D(e.locationService.translate("color","\u0446\u0432\u0435\u0442")),c(1),f("icon","../../assets/pen.svg")("background","#fafafa"),c(1),f("value",e.gift.color),c(5),D(e.locationService.translate("signature","\u043f\u043e\u0434\u043f\u0438\u0441\u044c")),c(1),f("icon","../../assets/pen.svg")("background","#fafafa")}}function ML(i,n){if(1&i){const e=H();h(0,"div",29),m(1,"div",36),h(2,"div",31),x(3),d(),h(4,"app-desktop-button",32),C("click",function(){return E(e),so(6).click()}),d(),h(5,"input",37,44),C("input",function(o){return E(e),y(2).setColorTextGreetingCard(o)}),d(),d()}if(2&i){const e=y(2);c(3),D(e.locationService.translate("color","\u0446\u0432\u0435\u0442")),c(1),f("icon","../../assets/pen.svg")("background","#fafafa"),c(1),f("value",e.gift.color)}}function DL(i,n){if(1&i){const e=H();h(0,"div",29),m(1,"div",45),h(2,"div",31),x(3),d(),h(4,"app-desktop-button",32),C("click",function(){return E(e),y(2).showUploadImageInside()}),d(),d()}if(2&i){const e=y(2);c(3),D(e.locationService.translate("inside","\u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0431\u0451\u0440\u0442\u043a\u0430")),c(1),f("icon","../../assets/pen.svg")("background","#fafafa")}}function EL(i,n){if(1&i){const e=H();h(0,"div",29),m(1,"div",46),h(2,"div",31),x(3),d(),h(4,"app-desktop-button",32),C("click",function(){return E(e),y(2).showUploadImageLeftSide()}),d(),d()}if(2&i){const e=y(2);c(3),D(e.locationService.translate("left side","\u0431\u043e\u043a\u043e\u0432\u0430\u044f \u043d\u0430\u0434\u043f\u0438\u0441\u044c")),c(1),f("icon","../../assets/pen.svg")("background","#fafafa")}}function TL(i,n){if(1&i){const e=H();Se(0),h(1,"div",29),m(2,"div",40),h(3,"div",31),x(4),d(),h(5,"app-desktop-button",32),C("click",function(){return E(e),y().switchTextCodeGame()}),d(),d(),h(6,"input",41),C("input",function(o){return E(e),y().setCodeGame(o)}),d(),h(7,"div",29),m(8,"div",30),h(9,"div",31),x(10),d(),h(11,"app-desktop-button",32),C("click",function(){return E(e),y().showUploadImageFrontGame()}),d(),d(),h(12,"div",29),m(13,"div",42),h(14,"div",31),x(15),d(),h(16,"app-desktop-button",32),C("click",function(){return E(e),y().showListPlatformsGame=!0}),d(),d(),S(17,ML,7,4,"div",43),S(18,DL,5,3,"div",43),S(19,EL,5,3,"div",43),Me()}if(2&i){const e=y();c(4),D(e.locationService.translate("code","\u043a\u043e\u0434")),c(1),f("icon",e.showTextCodeGame?"../../assets/checkmark.svg":"../../assets/pen.svg")("background","#fafafa"),c(1),V("edit-gift-input_collapsed",!e.showTextCodeGame),f("value",e.gift.code),c(4),D(e.locationService.translate("front","\u043e\u0431\u043b\u043e\u0436\u043a\u0430")),c(1),f("icon","../../assets/pen.svg")("background","#fafafa"),c(4),D(e.locationService.translate("platform","\u0438\u0433\u0440\u043e\u0432\u0430\u044f \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430")),c(1),f("icon","../../assets/pen.svg")("background","#fafafa"),c(1),f("ngIf","custom"===e.gift.platform),c(1),f("ngIf","custom"===e.gift.platform),c(1),f("ngIf","custom"===e.gift.platform)}}function OL(i,n){if(1&i){const e=H();Se(0),h(1,"div",29),m(2,"div",47),h(3,"div",31),x(4),d(),h(5,"app-desktop-button",32),C("click",function(){return E(e),y().switchShowRecordAudioSpeaker()}),d(),d(),h(6,"app-desktop-micro",48),C("save",function(o){return E(e),y().saveSpeaker(o)}),d(),h(7,"div",29),m(8,"div",49),h(9,"div",31),x(10),d(),h(11,"app-desktop-button",32),C("click",function(){return E(e),y().showUploadImageGrill()}),d(),d(),h(12,"div",29),m(13,"div",36),h(14,"div",31),x(15),d(),h(16,"app-desktop-button",32),C("click",function(){return E(e),so(18).click()}),d(),h(17,"input",37,50),C("input",function(o){return E(e),y().setColorTextGreetingCard(o)}),d(),d(),Me()}if(2&i){const e=y();c(4),D(e.locationService.translate("record","\u0437\u0430\u043f\u0438\u0441\u044c")),c(1),f("icon",e.audioSpeaker.visible?"../../assets/checkmark.svg":"../../assets/pen.svg")("background","#fafafa"),c(1),b("height",e.audioSpeaker.visible?50:0,"px")("opacity",e.audioSpeaker.visible?"1":"0"),f("sublimeValue",e.gift.value)("sublimeDuration",e.gift.duration)("sublimeSounds",e.gift.sounds)("sublimestop",e.audioSpeaker.sublimestop),c(4),D(e.locationService.translate("grill","\u0441\u0435\u0442\u043a\u0430")),c(1),f("icon","../../assets/pen.svg")("background","#fafafa"),c(4),D(e.locationService.translate("color","\u0446\u0432\u0435\u0442")),c(1),f("icon","../../assets/pen.svg")("background","#fafafa"),c(1),f("value",e.gift.color)}}function IL(i,n){if(1&i){const e=H();Se(0),h(1,"div",29),m(2,"div",51),h(3,"div",31),x(4),d(),h(5,"app-desktop-button",32),C("click",function(){return E(e),y().webcamVideo.visible=!0}),d(),d(),h(6,"div",29),m(7,"div",52),h(8,"div",31),x(9),d(),h(10,"app-desktop-button",32),C("click",function(){return E(e),y().showSideListTableCase=!0}),d(),d(),Me()}if(2&i){const e=y();c(4),D(e.locationService.translate("record","\u0437\u0430\u043f\u0438\u0441\u044c")),c(1),f("icon","../../assets/pen.svg")("background","#fafafa"),c(4),D(e.locationService.translate("case","\u043a\u043e\u0440\u043f\u0443\u0441")),c(1),f("icon","../../assets/pen.svg")("background","#fafafa")}}function AL(i,n){if(1&i){const e=H();Se(0),h(1,"div",29),m(2,"div",53),h(3,"div",31),x(4),d(),h(5,"app-desktop-button",32),C("click",function(){E(e);const o=y();return o.takePicture.visible=!0,o.takePicture.preview=!1}),d(),d(),h(6,"div",29),m(7,"div",39),h(8,"div",31),x(9),d(),h(10,"app-desktop-button",32),C("click",function(){return E(e),y().signPhoto.visible=!0}),d(),d(),Me()}if(2&i){const e=y();c(4),D(e.locationService.translate("photo","\u0444\u043e\u0442\u043e")),c(1),f("icon","../../assets/pen.svg")("background","#fafafa"),c(4),D(e.locationService.translate("sign","\u043f\u043e\u0434\u043f\u0438\u0441\u044c")),c(1),f("icon","../../assets/pen.svg")("background","#fafafa")}}function RL(i,n){if(1&i){const e=H();h(0,"app-desktop-list-images",54),C("choose",function(o){return E(e),y().selectUploadImage(o)}),d()}2&i&&f("images",y().getListUploadImages())}function FL(i,n){if(1&i){const e=H();h(0,"app-desktop-list-platforms",55),C("choose",function(o){return E(e),y().onChoosePlatformGame(o)}),d()}}function NL(i,n){if(1&i){const e=H();h(0,"app-desktop-list-side",55),C("choose",function(o){return E(e),y().onChooseTabletCase(o)}),h(1,"div",56),h(2,"div",57),m(3,"div",58),d(),h(4,"div",59),x(5),d(),d(),h(6,"div",60),h(7,"div",61),m(8,"div",58),d(),h(9,"div",59),x(10),d(),d(),h(11,"div",62),h(12,"div",63),m(13,"div",58),d(),h(14,"div",59),x(15),d(),d(),h(16,"div",64),h(17,"div",65),m(18,"div",58),d(),h(19,"div",59),x(20),d(),d(),h(21,"div",66),h(22,"div",67),m(23,"div",58),d(),h(24,"div",59),x(25),d(),d(),d()}if(2&i){const e=y();c(5),D(e.locationService.translate("Pure silver","\u0427\u0438\u0441\u0442\u043e\u0435 \u0441\u0435\u0440\u0435\u0431\u0440\u043e")),c(5),D(e.locationService.translate("Sierra blue","\u0421\u044c\u0435\u0440\u0440\u0430 \u0441\u0438\u043d\u0438\u0439")),c(5),D(e.locationService.translate("Alpine green","\u0410\u043b\u044c\u043f\u0438\u0439\u0441\u043a\u0438\u0439 \u0437\u0435\u043b\u0435\u043d\u044b\u0439")),c(5),D(e.locationService.translate("Shining gold","\u0421\u0438\u044f\u044e\u0449\u0435\u0435 \u0437\u043e\u043b\u043e\u0442\u043e")),c(5),D(e.locationService.translate("Dark matter","\u0422\u0451\u043c\u043d\u0430\u044f \u043c\u0430\u0442\u0435\u0440\u0438\u044f"))}}function BL(i,n){if(1&i){const e=H();h(0,"app-desktop-button",75),C("click",function(){return E(e),y(2).signPhoto.tool="eraser"}),d()}2&i&&f("text",y(2).locationService.translate("eraser","\u043b\u0430\u0441\u0442\u0438\u043a"))("icon","../../assets/eraser.svg")("background","#ffffff")("color","#333333")}function VL(i,n){if(1&i){const e=H();h(0,"app-desktop-button",75),C("click",function(){return E(e),y(2).signPhoto.tool="pen"}),d()}2&i&&f("text",y(2).locationService.translate("pen","\u0440\u0443\u0447\u043a\u0430"))("icon","../../assets/pen.svg")("background","#ffffff")("color","#333333")}function LL(i,n){if(1&i){const e=H();h(0,"app-desktop-button",75),C("click",function(){return E(e),y(),so(8).click()}),d()}2&i&&f("text",y(2).locationService.translate("color","\u0446\u0432\u0435\u0442"))("icon","../../assets/palette.svg")("background","#ffffff")("color","#333333")}function zL(i,n){if(1&i){const e=H();h(0,"div",68),h(1,"div",69),C("click",function(){return E(e),y().signPhoto.visible=!1}),d(),h(2,"app-desktop-sign-photo",70),C("save",function(o){return E(e),y().saveSignGreetingcard(o)}),d(),h(3,"div",71),S(4,BL,1,4,"app-desktop-button",72),S(5,VL,1,4,"app-desktop-button",72),S(6,LL,1,4,"app-desktop-button",72),h(7,"input",73,74),C("input",function(o){return E(e),y().setColorSignPhoto(o)}),d(),d(),d()}if(2&i){const e=y();f("@verticalShow",void 0),c(2),f("gift",e.gift)("tool",e.signPhoto.tool)("color",e.signPhoto.color),c(2),f("ngIf","pen"===e.signPhoto.tool),c(1),f("ngIf","eraser"===e.signPhoto.tool),c(1),f("ngIf","pen"===e.signPhoto.tool),c(1),f("value",e.signPhoto.color)}}function GL(i,n){if(1&i){const e=H();h(0,"app-desktop-button",75),C("click",function(){return E(e),y(2).signGreetingcard.tool="eraser"}),d()}2&i&&f("text",y(2).locationService.translate("eraser","\u043b\u0430\u0441\u0442\u0438\u043a"))("icon","../../assets/eraser.svg")("background","#ffffff")("color","#333333")}function jL(i,n){if(1&i){const e=H();h(0,"app-desktop-button",75),C("click",function(){return E(e),y(2).signGreetingcard.tool="pen"}),d()}2&i&&f("text",y(2).locationService.translate("pen","\u0440\u0443\u0447\u043a\u0430"))("icon","../../assets/pen.svg")("background","#ffffff")("color","#333333")}function HL(i,n){if(1&i){const e=H();h(0,"app-desktop-button",75),C("click",function(){return E(e),y(),so(8).click()}),d()}2&i&&f("text",y(2).locationService.translate("color","\u0446\u0432\u0435\u0442"))("icon","../../assets/palette.svg")("background","#ffffff")("color","#333333")}function UL(i,n){if(1&i){const e=H();h(0,"div",68),h(1,"div",69),C("click",function(){return E(e),y().signGreetingcard.visible=!1}),d(),h(2,"app-desktop-sign-greetingcard",70),C("save",function(o){return E(e),y().saveSignGreetingcard(o)}),d(),h(3,"div",71),S(4,GL,1,4,"app-desktop-button",72),S(5,jL,1,4,"app-desktop-button",72),S(6,HL,1,4,"app-desktop-button",72),h(7,"input",73,76),C("input",function(o){return E(e),y().setColorSignGreetingcard(o)}),d(),d(),d()}if(2&i){const e=y();f("@verticalShow",void 0),c(2),f("gift",e.gift)("tool",e.signGreetingcard.tool)("color",e.signGreetingcard.color),c(2),f("ngIf","pen"===e.signGreetingcard.tool),c(1),f("ngIf","eraser"===e.signGreetingcard.tool),c(1),f("ngIf","pen"===e.signGreetingcard.tool),c(1),f("value",e.signGreetingcard.color)}}function $L(i,n){if(1&i){const e=H();h(0,"app-desktop-button",79),C("click",function(){return E(e),y(2).switchWebcamRecord()}),d()}if(2&i){const e=y(2);f("text",e.webcamVideo.recording?e.locationService.translate("stop","\u0441\u0442\u043e\u043f"):e.locationService.translate("record","\u0437\u0430\u043f\u0438\u0441\u044c"))("icon",e.webcamVideo.recording?"../../assets/stop.svg":"../../assets/record.svg")("background","#ffffff")("color","#333333")("disabled","open"===e.webcamVideo.showConfirm)}}function YL(i,n){if(1&i){const e=H();h(0,"div",68),h(1,"app-desktop-webcam-video",77),C("save",function(o){return E(e),y().saveWebcamVideo(o)}),d(),h(2,"div",78),C("click",function(){return E(e),y().closeWebcamVideo()}),d(),h(3,"div",71),h(4,"app-desktop-button",79),C("click",function(){return E(e),y().switchWebcamVideoMode()}),d(),S(5,$L,1,5,"app-desktop-button",80),h(6,"div",81,82),h(8,"div",83),x(9),d(),h(10,"div",84),h(11,"div",85),C("click",function(){return E(e),y().resultWebcamConfirm("reject")}),x(12),d(),h(13,"div",85),C("click",function(){return E(e),y().resultWebcamConfirm("agree")}),x(14),d(),d(),d(),d(),d()}if(2&i){const e=y();f("@verticalShow",void 0),c(1),f("value",e.gift.value)("duration",e.gift.duration)("recording",e.webcamVideo.recording)("screen",e.webcamVideo.screen)("sublimeuninit",e.webcamVideo.sublimeUninit),c(3),f("text","recording"===e.webcamVideo.screen?e.locationService.translate("to watching","\u043a \u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443"):e.locationService.translate("to recording","\u043a \u0437\u0430\u043f\u0438\u0441\u0438"))("icon","recording"===e.webcamVideo.screen?"../../assets/eye.svg":"../../assets/webcam.svg")("background","#ffffff")("color","#333333")("disabled",!e.gift.value[0]||"open"===e.webcamVideo.showConfirm||e.webcamVideo.recording),c(1),f("ngIf","recording"===e.webcamVideo.screen),c(1),f("@popup",e.webcamVideo.showConfirm),c(3),D(e.locationService.translate("Overwrite?","\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c?")),c(2),b("color","#f44336"),c(1),D(e.locationService.translate("no","\u043d\u0435\u0442")),c(1),b("color","#4caf50"),c(1),D(e.locationService.translate("yes","\u0434\u0430"))}}function WL(i,n){if(1&i){const e=H();h(0,"app-desktop-button",75),C("click",function(){E(e);const o=y(2);return o.takePicture.sublimeTakePicture=!o.takePicture.sublimeTakePicture,o.takePicture.preview=!0}),d()}2&i&&f("text",y(2).locationService.translate("take a picture","\u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0444\u043e\u0442\u043e"))("icon","../../assets/photo.svg")("background","#ffffff")("color","#333333")}function qL(i,n){if(1&i){const e=H();h(0,"app-desktop-button",75),C("click",function(){E(e);const o=y(2);return o.takePicture.sublimeSave=!o.takePicture.sublimeSave}),d()}if(2&i){const e=y(2);f("text",e.gift.photo&&""!==e.gift.photo?e.locationService.translate("overwrite","\u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c"):e.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))("icon","../../assets/checkmark.svg")("background","#ffffff")("color","#333333")}}function ZL(i,n){if(1&i){const e=H();h(0,"app-desktop-button",75),C("click",function(){E(e);const o=y(2);return o.takePicture.sublimeCancel=!o.takePicture.sublimeCancel}),d()}2&i&&f("text",y(2).locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0430"))("icon","../../assets/cross.svg")("background","#ffffff")("color","#333333")}function XL(i,n){if(1&i){const e=H();h(0,"div",68),h(1,"app-desktop-take-picture",86),C("save",function(o){return E(e),y().saveTakePicture(o)}),d(),h(2,"div",78),C("click",function(){return E(e),y().takePicture.visible=!1}),d(),h(3,"div",71),S(4,WL,1,4,"app-desktop-button",72),S(5,qL,1,4,"app-desktop-button",72),S(6,ZL,1,4,"app-desktop-button",72),d(),d()}if(2&i){const e=y();f("@verticalShow",void 0),c(1),f("value",e.gift.value)("sublimeTakePicture",e.takePicture.sublimeTakePicture)("sublimeSave",e.takePicture.sublimeSave)("sublimeCancel",e.takePicture.sublimeCancel),c(3),f("ngIf",!e.takePicture.preview),c(1),f("ngIf",e.takePicture.preview),c(1),f("ngIf",e.takePicture.preview)}}function KL(i,n){if(1&i){const e=H();h(0,"app-desktop-button",75),C("click",function(){return E(e),y(2).imageUpload.mode="trim"}),d()}2&i&&f("text",y(2).locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"))("icon","../../assets/scissors.svg")("background","#ffffff")("color","#333333")}function QL(i,n){if(1&i){const e=H();h(0,"app-desktop-button",75),C("click",function(){return E(e),y(2).imageUpload.showList=!0}),d()}2&i&&f("text",y(2).locationService.translate("change","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"))("icon","../../assets/image.svg")("background","#ffffff")("color","#333333")}function JL(i,n){if(1&i){const e=H();h(0,"app-desktop-button",75),C("click",function(){return E(e),y(2),so(33).click()}),d()}2&i&&f("text",y(2).locationService.translate("upload","\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"))("icon","../../assets/upload-mini.svg")("background","#ffffff")("color","#333333")}function ez(i,n){if(1&i){const e=H();h(0,"app-desktop-button",75),C("click",function(){E(e);const o=y(2);return o.imageUpload.sublimesave=!o.imageUpload.sublimesave}),d()}2&i&&f("text",y(2).locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))("icon","../../assets/checkmark.svg")("background","#ffffff")("color","#333333")}function tz(i,n){if(1&i){const e=H();h(0,"app-desktop-button",75),C("click",function(){return E(e),y(2).cancelTrim()}),d()}2&i&&f("text",y(2).locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"))("icon","../../assets/cross.svg")("background","#ffffff")("color","#333333")}function nz(i,n){if(1&i){const e=H();h(0,"div",68),h(1,"app-desktop-trim",87),C("save",function(o){return E(e),y().saveUploadImage(o)}),d(),h(2,"div",69),C("click",function(){return E(e),y().imageUpload.visible=!1}),d(),h(3,"div",71),S(4,KL,1,4,"app-desktop-button",72),S(5,QL,1,4,"app-desktop-button",72),S(6,JL,1,4,"app-desktop-button",72),S(7,ez,1,4,"app-desktop-button",72),S(8,tz,1,4,"app-desktop-button",72),d(),d()}if(2&i){const e=y();f("@verticalShow",void 0),c(1),f("img",e.imageUpload.img)("ratio",e.imageUpload.ratio)("mode",e.imageUpload.mode)("sublimesave",e.imageUpload.sublimesave),c(1),V("screen-image-upload__close_background","usual"===e.imageUpload.mode),c(2),f("ngIf","usual"===e.imageUpload.mode),c(1),f("ngIf",!e.noListUploadImage()&&"usual"===e.imageUpload.mode),c(1),f("ngIf",e.noListUploadImage()&&"usual"===e.imageUpload.mode),c(1),f("ngIf","trim"===e.imageUpload.mode),c(1),f("ngIf","trim"===e.imageUpload.mode)}}let iz=(()=>{class i{constructor(e,t,o,s){this.asyncService=e,this.host=t,this.readfileservice=o,this.locationService=s,this.animate=!1,this.gift=null,this.initialRect=null,this.close=new L,this.change=new L,this.editingTitle=!1,this.insideWrapDOM={maxWidth:"800px"},this.mockButtonsDOM={display:"flex",opacity:"0",maxWidth:"400px"},this.viewDOM={width:"200px",height:"200px"},this.giftDOM={size:190},this.closeDOM={opacity:"0",transform:"translateY(-50px)"},this.contentAdditionDOM={opacity:"0",maxHeight:"0px"},this.editIconTitleDOM={opacity:"0"},this.imageUpload={visible:!1,type:"none",img:"",cancelImg:"",ratio:16/9,mode:"usual",sublimesave:!1,showList:!1},this.webcamVideo={visible:!1,recording:!1,screen:"recording",showConfirm:"close",sublimeUninit:!1},this.takePicture={visible:!1,preview:!1,sublimeTakePicture:!1,sublimeSave:!1,sublimeCancel:!1},this.signGreetingcard={visible:!1,tool:"pen",color:"#ffffff"},this.signPhoto={visible:!1,tool:"pen",color:"#000000"},this.rotateGift={angle:0,pause:!1,interval:setInterval(()=>{},9999),animate:!1,startMouse:0,startRotate:0},this.showTextGreetingcard=!1,this.textError="",this.timeoutError=setTimeout(()=>{},0),this.showTextCodeGame=!1,this.openGame=!1,this.showListPlatformsGame=!1,this.audioSpeaker={visible:!1,sublimestop:!1},this.showSideListTableCase=!1}startRotate(){clearInterval(this.rotateGift.interval),this.rotateGift.interval=setInterval(()=>{this.rotateGift.pause||(this.rotateGift.angle+=1,this.rotateGift.angle>360&&(this.rotateGift.angle-=360),this.rotateGift.angle<0&&(this.rotateGift.angle+=360))},10)}onMouseClick(e){"open"===this.webcamVideo.showConfirm&&!this.confirmWebcamVideoRef.nativeElement.contains(e.target)&&(this.webcamVideo.showConfirm="close")}stopRotate(){var e=this;return I(function*(){return e.rotateGift.animate=!0,yield e.asyncService.delay(10),clearInterval(e.rotateGift.interval),e.rotateGift.angle=e.rotateGift.angle<180?0:360,yield e.asyncService.delay(200),e.rotateGift.animate=!1,new Promise(t=>t())})()}mousedownIcon(e){this.rotateGift.pause=!0,this.rotateGift.startMouse=e.clientX,this.rotateGift.startRotate=this.rotateGift.angle,document.body.style.userSelect="none"}onMouseMove(e){!this.rotateGift.pause||"game"===this.gift.type&&this.openGame||(this.rotateGift.angle=this.rotateGift.startRotate+(e.clientX-this.rotateGift.startMouse),this.rotateGift.angle>360&&(this.rotateGift.angle-=360),this.rotateGift.angle<0&&(this.rotateGift.angle+=360))}onMouseUp(){this.rotateGift.pause&&clearInterval(this.rotateGift.interval),this.rotateGift.pause=!1,this.rotateGift.startMouse=0,this.rotateGift.startRotate=0,document.body.style.userSelect="auto"}onMouseLeave(){this.rotateGift.pause=!1,this.rotateGift.startMouse=0,this.rotateGift.startRotate=0,document.body.style.userSelect="auto"}show(){var e=this;return I(function*(){const t=e.host.nativeElement;return t.style.left=e.initialRect.x+10+"px",t.style.top=e.initialRect.y+"px",t.style.width=e.initialRect.width+"px",t.style.height=e.initialRect.height+"px",t.style.borderRadius="20px",e.mockButtonsDOM.display="flex",e.mockButtonsDOM.opacity="1",e.mockButtonsDOM.maxWidth="400px",e.viewDOM.width="200px",e.viewDOM.height="200px",e.giftDOM.size=190,e.closeDOM.opacity="0",e.closeDOM.transform="translateY(-50px)",e.contentAdditionDOM.opacity="0",e.contentAdditionDOM.maxHeight="0px",e.insideWrapDOM.maxWidth="800px",yield e.asyncService.delay(10),e.animate=!0,yield e.asyncService.delay(10),t.style.left="0px",t.style.top="0px",t.style.width="100%",t.style.height="100%",t.style.borderRadius="0px",e.mockButtonsDOM.opacity="0",e.mockButtonsDOM.maxWidth="0px",e.closeDOM.opacity="1",e.closeDOM.transform="translateY(0px)",e.viewDOM.width="500px",e.viewDOM.height="500px",e.contentAdditionDOM.maxHeight="4000px",e.contentAdditionDOM.opacity="1",e.insideWrapDOM.maxWidth="1000px",yield e.asyncService.delay(300),e.giftDOM.size=390,e.editIconTitleDOM.opacity="1",yield e.asyncService.delay(300),e.mockButtonsDOM.display="none",yield e.asyncService.delay(100),e.animate=!1,e.startRotate(),new Promise(o=>o())})()}hide(){var e=this;return I(function*(){e.audioSpeaker.visible&&(e.audioSpeaker.sublimestop=!e.audioSpeaker.sublimestop);const t=e.host.nativeElement;return yield e.stopRotate(),t.style.left="0px",t.style.top="0px",t.style.width="100%",t.style.height="100%",t.style.borderRadius="0px",e.mockButtonsDOM.opacity="0",e.mockButtonsDOM.maxWidth="0px",e.closeDOM.opacity="1",e.closeDOM.transform="translateY(0px)",e.viewDOM.width="500px",e.viewDOM.height="500px",e.contentAdditionDOM.maxHeight="4000px",e.contentAdditionDOM.opacity="1",e.giftDOM.size=390,e.insideWrapDOM.maxWidth="1000px",e.mockButtonsDOM.display="flex",e.editIconTitleDOM.opacity="0",yield e.asyncService.delay(10),e.animate=!0,yield e.asyncService.delay(10),e.giftDOM.size=190,e.closeDOM.opacity="0",e.closeDOM.transform="translateY(-50px)",e.contentAdditionDOM.opacity="0",e.contentAdditionDOM.maxHeight="0px",yield e.asyncService.delay(300),t.style.left=e.initialRect.x+10+"px",t.style.top=e.initialRect.y+"px",t.style.width=e.initialRect.width+"px",t.style.height=e.initialRect.height+"px",t.style.borderRadius="20px",e.mockButtonsDOM.display="flex",e.mockButtonsDOM.opacity="1",e.mockButtonsDOM.maxWidth="400px",e.viewDOM.width="200px",e.viewDOM.height="200px",e.insideWrapDOM.maxWidth="800px",yield e.asyncService.delay(300),e.animate=!1,e.close.emit(),new Promise(o=>o())})()}onChoosePlatformGame(e){this.showListPlatformsGame=!1,""!==e&&(this.gift.platform=e,"pc"===e?(this.gift.color="#000000",this.gift.inside="../../assets/game/game.png",this.gift.side="../../assets/game/gameleft.png"):"ps"===e?(this.gift.color="#003791",this.gift.inside="../../assets/game/ps.png",this.gift.side="../../assets/game/psleft.png"):"xbox"===e?(this.gift.color="#107C10",this.gift.inside="../../assets/game/xbox.png",this.gift.side="../../assets/game/xboxleft.png"):"switch"===e&&(this.gift.color="#e60012",this.gift.inside="../../assets/game/switch.png",this.gift.side="../../assets/game/switchleft.png"),"custom"===e&&(this.gift.color="#000000",this.gift.inside="../../assets/game/game.png",this.gift.side="../../assets/game/gameleft.png"),this.change.emit())}saveSignGreetingcard(e){this.gift.sign=[...e],this.change.emit()}inputTitle(e){this.gift.title=e.target.value,this.change.emit()}inputTextGreetingcard(e){this.gift.text=e.target.value,this.change.emit()}setColorTextGreetingCard(e){this.gift.color=e.target.value,this.change.emit()}setColorSignGreetingcard(e){this.signGreetingcard.color=e.target.value}setColorSignPhoto(e){this.signPhoto.color=e.target.value}setCodeGame(e){this.gift.code=e.target.value,this.change.emit()}switchTextCodeGame(){var e=this;return I(function*(){return e.showTextCodeGame?(e.animate=!0,yield e.asyncService.delay(100),e.openGame=!1,yield e.asyncService.delay(300),e.animate=!1):(e.stopRotate(),e.openGame=!0),e.showTextCodeGame=!e.showTextCodeGame,new Promise(t=>t())})()}inputUploadImage(e){this.saveUploadImage(e.target.files[0])}tryuploadimage(e){var t=this;return I(function*(){const o=e.target.files[0];let s=[],r={};return o.size/1048576>3&&s.push("should be less than 3 MB"),"image/png"!==o.type&&"image/jpeg"!==o.type&&"image/webp"!==o.type&&"image/x-icon"!==o.type&&"image/gif"!==o.type&&s.push("should be type of png, jpeg, webp, gif, icon"),s[0]||(r=yield t.readfileservice.getImageFromFile(o),(r.naturalWidth>1920||r.naturalHeight>1080)&&s.push("should be less than 1920x1080")),s[0]?(t.showError(s.join("; ")),e.target.value=null):(t.imageUpload.mode="trim",t.imageUpload.cancelImg=t.imageUpload.img,t.imageUpload.img=r.src),new Promise(a=>a(!0))})()}showError(e){var t=this;return I(function*(){return clearTimeout(t.timeoutError),t.textError="",yield t.asyncService.delay(100),t.textError=e,t.timeoutError=setTimeout(()=>{t.textError=""},5e3),new Promise(o=>o())})()}saveUploadImage(e){this.imageUpload.mode="usual","greetingcard"===this.gift.type&&"front"===this.imageUpload.type?this.gift.front=e:"greetingcard"===this.gift.type&&"back"===this.imageUpload.type?this.gift.back=e:"game"===this.gift.type&&"front"===this.imageUpload.type?this.gift.front=e:"game"===this.gift.type&&"inside"===this.imageUpload.type?this.gift.inside=e:"game"===this.gift.type&&"left-side"===this.imageUpload.type?this.gift.side=e:"speaker"===this.gift.type&&"grill"===this.imageUpload.type&&(this.gift.grill=e),this.imageUpload.cancelImg="",this.change.emit()}showUploadImageFrontGreetingCard(){this.imageUpload.visible=!0,this.imageUpload.img=this.gift.front,this.imageUpload.type="front",this.imageUpload.ratio=297/420,this.imageUpload.mode="usual"}showUploadImageFrontGame(){this.imageUpload.visible=!0,this.imageUpload.img=this.gift.front,this.imageUpload.type="front",this.imageUpload.ratio=.828,this.imageUpload.mode="usual"}showUploadImageBack(){this.imageUpload.visible=!0,this.imageUpload.img=this.gift.back,this.imageUpload.type="back",this.imageUpload.ratio=1,this.imageUpload.mode="usual"}showUploadImageInside(){this.imageUpload.visible=!0,this.imageUpload.img=this.gift.inside,this.imageUpload.type="inside",this.imageUpload.ratio=1,this.imageUpload.mode="usual"}showUploadImageLeftSide(){this.imageUpload.visible=!0,this.imageUpload.img=this.gift.side,this.imageUpload.type="left-side",this.imageUpload.ratio=15/190,this.imageUpload.mode="usual"}showUploadImageGrill(){this.imageUpload.visible=!0,this.imageUpload.img=this.gift.grill,this.imageUpload.type="grill",this.imageUpload.ratio=1,this.imageUpload.mode="usual"}noListUploadImage(){if("greetingcard"===this.gift.type){if("front"===this.imageUpload.type||"back"===this.imageUpload.type)return!1}else if("game"===this.gift.type&&("front"===this.imageUpload.type||"left-side"===this.imageUpload.type||"inside"===this.imageUpload.type))return!0;return!1}getListUploadImages(){return"greetingcard"===this.gift.type&&"front"===this.imageUpload.type?["../../assets/greetingcard/front/1.png","../../assets/greetingcard/front/2.png","../../assets/greetingcard/front/3.png","../../assets/greetingcard/front/4.png","../../assets/greetingcard/front/5.png","../../assets/greetingcard/front/6.png","../../assets/greetingcard/front/7.png","../../assets/greetingcard/front/8.png","../../assets/greetingcard/front/9.png","../../assets/greetingcard/front/10.png","../../assets/greetingcard/front/11.png","../../assets/greetingcard/front/12.png","../../assets/greetingcard/front/13.png","../../assets/greetingcard/front/14.png","../../assets/greetingcard/front/15.png","../../assets/greetingcard/front/16.png","../../assets/greetingcard/front/17.png","../../assets/greetingcard/front/18.png","../../assets/greetingcard/front/19.png","../../assets/greetingcard/front/20.png","../../assets/greetingcard/front/21.png","../../assets/greetingcard/front/22.png","../../assets/greetingcard/front/23.png","../../assets/greetingcard/front/24.png","../../assets/greetingcard/front/25.png","../../assets/greetingcard/front/26.png","../../assets/greetingcard/front/27.png","../../assets/greetingcard/front/28.png","../../assets/greetingcard/front/29.png","../../assets/greetingcard/front/30.png","../../assets/greetingcard/front/31.png","../../assets/greetingcard/front/32.png","../../assets/greetingcard/front/33.png","../../assets/greetingcard/front/34.png","../../assets/greetingcard/front/35.png","../../assets/greetingcard/front/36.png","../../assets/greetingcard/front/37.png","../../assets/greetingcard/front/38.png","../../assets/greetingcard/front/39.png","../../assets/greetingcard/front/40.png"]:"greetingcard"===this.gift.type&&"back"===this.imageUpload.type?["../../assets/greetingcard/back/1.jpg","../../assets/greetingcard/back/2.jpg","../../assets/greetingcard/back/3.jpg","../../assets/greetingcard/back/4.jpg","../../assets/greetingcard/back/5.jpg","../../assets/greetingcard/back/6.jpg","../../assets/greetingcard/back/7.jpg","../../assets/greetingcard/back/8.jpg","../../assets/greetingcard/back/9.jpg","../../assets/greetingcard/back/10.jpg","../../assets/greetingcard/back/11.jpg","../../assets/greetingcard/back/12.jpg","../../assets/greetingcard/back/13.jpg","../../assets/greetingcard/back/14.jpg","../../assets/greetingcard/back/15.jpg","../../assets/greetingcard/back/16.jpg","../../assets/greetingcard/back/17.jpg","../../assets/greetingcard/back/18.jpg","../../assets/greetingcard/back/19.jpg","../../assets/greetingcard/back/20.jpg"]:"speaker"===this.gift.type&&"grill"===this.imageUpload.type?["../../assets/speaker/grill/0.png","../../assets/speaker/grill/1.png","../../assets/speaker/grill/2.png","../../assets/speaker/grill/3.png","../../assets/speaker/grill/4.png","../../assets/speaker/grill/5.png","../../assets/speaker/grill/6.png"]:[]}saveSpeaker(e){this.gift.value=e.chunks,this.gift.sounds=e.sounds,this.gift.duration=e.duration,this.change.emit()}selectUploadImage(e){this.imageUpload.showList=!1,""!==e&&(this.imageUpload.cancelImg=this.imageUpload.img,this.imageUpload.img=e,setTimeout(()=>{this.imageUpload.mode="trim"},100))}cancelTrim(){this.imageUpload.mode="usual",""!==this.imageUpload.cancelImg&&(this.imageUpload.img=this.imageUpload.cancelImg),this.imageUpload.cancelImg=""}saveWebcamVideo(e){var t=this;return I(function*(){return t.gift.value=e.value,t.gift.duration=e.duration,t.webcamVideo.screen="watching",t.change.emit(),new Promise(o=>o())})()}resultWebcamConfirm(e){"agree"===e&&(this.gift.value=[],this.gift.duration=0,this.webcamVideo.recording=!0,this.change.emit()),this.webcamVideo.showConfirm="close"}switchWebcamRecord(){"open"!==this.webcamVideo.showConfirm&&(this.webcamVideo.recording?this.webcamVideo.recording=!1:this.gift.value?setTimeout(()=>{this.webcamVideo.showConfirm="open"},100):this.webcamVideo.recording=!0)}switchWebcamVideoMode(){!this.gift.value[0]||"open"===this.webcamVideo.showConfirm||this.webcamVideo.recording||(this.webcamVideo.screen="recording"===this.webcamVideo.screen?"watching":"recording")}onChooseTabletCase(e){if(this.showSideListTableCase=!1,""===e)return;let t="#C0C0C0";"pure-silver"===e?t="#C0C0C0":"sierra-blue"===e?t="#69abce":"alpine-green"===e?t="#005f56":"shining-gold"===e?t="#FFDF4F":"dark-matter"===e&&(t="#2b2031"),this.gift.color=t,this.change.emit()}saveTakePicture(e){this.takePicture.preview=!1,""!==e&&(this.gift.photo=e,this.change.emit())}switchShowRecordAudioSpeaker(){this.audioSpeaker.visible&&(this.audioSpeaker.sublimestop=!this.audioSpeaker.sublimestop),this.audioSpeaker.visible=!this.audioSpeaker.visible}closeWebcamVideo(){var e=this;return I(function*(){return e.webcamVideo.screen="recording",e.webcamVideo.visible=!1,new Promise(t=>t())})()}ngAfterViewInit(){this.show()}ngOnInit(){}ngOnChanges(e){console.log(this.gift)}}return i.\u0275fac=function(e){return new(e||i)(P(ve),P(q),P(Co),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-edit-gift"]],viewQuery:function(e,t){if(1&e&&(Xe(yL,5,q),Xe(CL,5)),2&e){let o;Ve(o=Le())&&(t.mockButtonsRef=o.first),Ve(o=Le())&&(t.confirmWebcamVideoRef=o.first)}},hostVars:2,hostBindings:function(e,t){1&e&&C("click",function(s){return t.onMouseClick(s)},!1,be)("mousemove",function(s){return t.onMouseMove(s)},!1,be)("mouseup",function(s){return t.onMouseUp(s)},!1,be)("mouseleave",function(s){return t.onMouseLeave(s)},!1,be),2&e&&V("animate",t.animate)},inputs:{gift:"gift",initialRect:"initialRect"},outputs:{close:"close",change:"change"},features:[re],decls:35,vars:56,consts:[[1,"inside-wrap"],[1,"close",3,"click"],[1,"view",3,"mousedown"],[3,"transform","gift-animated","size","front","back","text","color","sign","smooth",4,"ngIf"],[3,"transform","gift-animated","size","color","front","inside","side","code","open","smooth",4,"ngIf"],[3,"transform","gift-animated","size","animationName","grill","color","smooth",4,"ngIf"],[3,"transform","gift-animated","size","color","smooth",4,"ngIf"],[3,"transform","gift-animated","size","photo","sign","smooth",4,"ngIf"],[1,"info"],[1,"content"],[1,"title"],[1,"text"],["type","text","maxlength","100",1,"title-edit-input",3,"input","keyup.enter"],[1,"button-change-title",3,"icon","background","click"],[1,"content-addition"],[4,"ngIf"],[1,"mockButtons"],[1,"button-edit",3,"icon","background"],[3,"images","choose",4,"ngIf"],[3,"choose",4,"ngIf"],["class","screen-image-upload",4,"ngIf"],["type","file","accept","image/png, image/jpeg",2,"display","none",3,"input"],["inputUploadImage",""],[3,"text","color"],[3,"size","front","back","text","color","sign","smooth"],[3,"size","color","front","inside","side","code","open","smooth"],[3,"size","grill","color","smooth"],[3,"size","color","smooth"],[3,"size","photo","sign","smooth"],[1,"edit-gift-option"],[1,"edit-gift-option__icon","edit-gift-option__icon-front"],[1,"edit-gift-option__text"],[1,"edit-gift-option__button-edit",3,"icon","background","click"],[1,"edit-gift-option__icon","edit-gift-option__icon-back"],[1,"edit-gift-option__icon","edit-gift-option__icon-text"],[1,"edit-gift-textarea",3,"value","input"],[1,"edit-gift-option__icon","edit-gift-option__icon-color"],["type","color",1,"colorTextGreetingCard",3,"value","input"],["colorTextGreetingCard",""],[1,"edit-gift-option__icon","edit-gift-option__icon-signature"],[1,"edit-gift-option__icon","edit-gift-option__icon-password"],[1,"edit-gift-input",3,"value","input"],[1,"edit-gift-option__icon","edit-gift-option__icon-platform"],["class","edit-gift-option",4,"ngIf"],["colorGame",""],[1,"edit-gift-option__icon","edit-gift-option__icon-inside"],[1,"edit-gift-option__icon","edit-gift-option__icon-left-side"],[1,"edit-gift-option__icon","edit-gift-option__icon-speaker"],[1,"micro-speaker",3,"sublimeValue","sublimeDuration","sublimeSounds","sublimestop","save"],[1,"edit-gift-option__icon","edit-gift-option__icon-grill"],["colorSpeaker",""],[1,"edit-gift-option__icon","edit-gift-option__icon-webcam"],[1,"edit-gift-option__icon","edit-gift-option__icon-case"],[1,"edit-gift-option__icon","edit-gift-option__icon-photo"],[3,"images","choose"],[3,"choose"],["value","pure-silver",1,"table-case-option"],[1,"table-case-option__image","table-case-option__image_pure-silver"],[1,"table-case-option__tablet-gradient"],[1,"table-case-option__text"],["value","sierra-blue",1,"table-case-option"],[1,"table-case-option__image","table-case-option__image_sierra-blue"],["value","alpine-green",1,"table-case-option"],[1,"table-case-option__image","table-case-option__image_alpine-green"],["value","shining-gold",1,"table-case-option"],[1,"table-case-option__image","table-case-option__image_shining-gold"],["value","dark-matter",1,"table-case-option"],[1,"table-case-option__image","table-case-option__image_dark-matter"],[1,"screen-image-upload"],[1,"screen-image-upload__close",3,"click"],[3,"gift","tool","color","save"],[1,"screen-image-upload__menu"],[3,"text","icon","background","color","click",4,"ngIf"],["type","color",1,"input-color-sign-greetingcard",3,"value","input"],["inputColorSignPhoto",""],[3,"text","icon","background","color","click"],["inputColorSignGreetingcard",""],[3,"value","duration","recording","screen","sublimeuninit","save"],[1,"screen-image-upload__close","screen-image-upload__close_background",3,"click"],[3,"text","icon","background","color","disabled","click"],[3,"text","icon","background","color","disabled","click",4,"ngIf"],[1,"webcam-video-confirm"],["confirmWebcamVideo",""],[1,"webcam-video-confirm__text"],[1,"webcam-video-confirm__buttons"],[1,"webcam-video-confirm__button",3,"click"],[3,"value","sublimeTakePicture","sublimeSave","sublimeCancel","save"],[3,"img","ratio","mode","sublimesave","save"]],template:function(e,t){1&e&&(h(0,"div",0),h(1,"div",1),C("click",function(){return t.hide()}),d(),h(2,"div",2),C("mousedown",function(s){return t.mousedownIcon(s)}),S(3,bL,1,11,"app-greeting-card",3),S(4,wL,1,12,"app-game",4),S(5,xL,1,10,"app-speaker",5),S(6,kL,1,7,"app-tablet",6),S(7,PL,1,8,"app-photo",7),d(),h(8,"div",8),h(9,"div",9),h(10,"div",10),h(11,"div",11),x(12),d(),h(13,"input",12),C("input",function(s){return t.inputTitle(s)})("keyup.enter",function(){return t.editingTitle=!t.editingTitle}),d(),h(14,"app-desktop-button",13),C("click",function(){return t.editingTitle=!t.editingTitle}),d(),d(),h(15,"div",14),S(16,SL,29,19,"ng-container",15),S(17,TL,20,15,"ng-container",15),S(18,OL,19,18,"ng-container",15),S(19,IL,11,6,"ng-container",15),S(20,AL,11,6,"ng-container",15),d(),d(),h(21,"div",16),m(22,"app-desktop-button",17),m(23,"app-desktop-button",17),d(),d(),d(),S(24,RL,1,1,"app-desktop-list-images",18),S(25,FL,1,0,"app-desktop-list-platforms",19),S(26,NL,26,5,"app-desktop-list-side",19),S(27,zL,9,8,"div",20),S(28,UL,9,8,"div",20),S(29,YL,15,20,"div",20),S(30,XL,7,8,"div",20),S(31,nz,9,12,"div",20),h(32,"input",21,22),C("input",function(s){return t.tryuploadimage(s)}),d(),m(34,"app-desktop-error",23)),2&e&&(b("max-width",t.insideWrapDOM.maxWidth),c(1),b("opacity",t.closeDOM.opacity)("transform",t.closeDOM.transform),c(1),b("width",t.viewDOM.width)("height",t.viewDOM.height),c(1),f("ngIf","greetingcard"===t.gift.type),c(1),f("ngIf","game"===t.gift.type),c(1),f("ngIf","speaker"===t.gift.type),c(1),f("ngIf","tablet"===t.gift.type),c(1),f("ngIf","photo"===t.gift.type),c(4),b("margin",t.editingTitle?"0px":"0px 20px")("display",t.editingTitle?"none":"flex"),c(1),D(t.gift.title),c(1),b("margin",t.editingTitle?"0px 9px":"0px")("display",t.editingTitle?"flex":"none"),$e("value",t.gift.title),c(1),b("opacity",t.editIconTitleDOM.opacity),f("icon",t.editingTitle?"../../assets/checkmark.svg":"../../assets/pen.svg")("background","#fafafa"),c(1),b("max-height",t.contentAdditionDOM.maxHeight)("opacity",t.contentAdditionDOM.opacity),c(1),f("ngIf","greetingcard"===t.gift.type),c(1),f("ngIf","game"===t.gift.type),c(1),f("ngIf","speaker"===t.gift.type),c(1),f("ngIf","tablet"===t.gift.type),c(1),f("ngIf","photo"===t.gift.type),c(1),b("max-width",t.mockButtonsDOM.maxWidth)("opacity",t.mockButtonsDOM.opacity),c(1),f("icon","../../assets/pen.svg")("background","#ffffff"),c(1),f("icon","../../assets/trash.svg")("background","#ffffff"),c(1),f("ngIf",t.imageUpload.showList),c(1),f("ngIf",t.showListPlatformsGame),c(1),f("ngIf",t.showSideListTableCase),c(1),f("ngIf",t.signPhoto.visible),c(1),f("ngIf",t.signGreetingcard.visible),c(1),f("ngIf",t.webcamVideo.visible),c(1),f("ngIf",t.takePicture.visible),c(1),f("ngIf",t.imageUpload.visible),c(3),f("text",t.textError)("color","#f44336"))},directives:[Re,ai,Gs,$i,Xo,bo,wo,Yi,K2,tL,nL,rL,aL,lL,J2,vL,ex],styles:['[_nghost-%COMP%]{position:fixed;display:flex;flex-direction:row;align-items:stretch;justify-content:center;background-color:#fafafa;z-index:10}[_nghost-%COMP%]   .gift-animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;max-width:800px}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .close[_ngcontent-%COMP%]{right:0px;top:0px;margin:20px;position:fixed;width:30px;height:30px;background-image:url(cross.0bf1b6052953de20.svg);background-position:center;background-size:contain;background-repeat:no-repeat;cursor:pointer;opacity:.1;transition:all ease .3s}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .close[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .view[_ngcontent-%COMP%]{flex-shrink:0;margin:10px;width:200px;height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:grab;perspective:2000px}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{padding-right:20px;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;flex:1;max-height:100vh;overflow-y:auto}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;height:60px}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:20px;font-size:18px;text-align:left;overflow:hidden;word-break:break-word;transition:all ease .3s}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%] > .button-change-title[_ngcontent-%COMP%]{margin-left:auto;transition:all ease .3s}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%] > .title-edit-input[_ngcontent-%COMP%]{flex:1;padding:10px;font-size:18px;color:#333;margin:20px;border-radius:10px;border:1px solid #eee;outline:none;font-family:"Comfortaa",cursive;overflow:hidden;transition:all ease .3s}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%]{overflow-y:hidden;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;flex-shrink:0}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-textarea[_ngcontent-%COMP%], [_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-input[_ngcontent-%COMP%]{padding:10px;font-size:18px;color:#333;flex-shrink:0;margin:0;border-radius:10px;border:1px solid #eee;outline:none;font-family:"Comfortaa",cursive;height:150px;text-align:center;resize:none;overflow-y:auto;transition:all ease .3s}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-input[_ngcontent-%COMP%]{height:20px}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-textarea_collapsed[_ngcontent-%COMP%], [_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%]   .edit-gift-input_collapsed[_ngcontent-%COMP%]{height:0px;padding:0;margin:0;border:0px solid #eee}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .micro-speaker[_ngcontent-%COMP%]{overflow:hidden;transition:all ease .2s}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon[_ngcontent-%COMP%]{width:30px;height:30px;margin:10px;background-size:contain;background-position:center;background-repeat:no-repeat}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-front[_ngcontent-%COMP%]{background-image:url(front.52b9f3c5e1f2cfcc.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-back[_ngcontent-%COMP%]{background-image:url(background.076b4b8093997417.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-text[_ngcontent-%COMP%]{background-image:url(text.99953cbe21fd94da.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-color[_ngcontent-%COMP%]{background-image:url(palette.e779d1aac46cc465.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-signature[_ngcontent-%COMP%]{background-image:url(signature.bc4b1dcb33c0b7ad.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-password[_ngcontent-%COMP%]{background-image:url(password.1803c7dd55c2663d.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-platform[_ngcontent-%COMP%]{background-image:url(controller.baac382b952f543a.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-inside[_ngcontent-%COMP%]{background-image:url(inside.ff786a08e7146afc.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-left-side[_ngcontent-%COMP%]{background-image:url(left-side.932e89d692e31b9c.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-speaker[_ngcontent-%COMP%]{background-image:url(speaker.c32b5ce159db4012.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-grill[_ngcontent-%COMP%]{background-image:url(grill.930d1a56372649d9.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-webcam[_ngcontent-%COMP%]{background-image:url(webcam.88ce2f1f7037b83c.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-case[_ngcontent-%COMP%]{background-image:url(case.676ad90f7fdba5cd.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-photo[_ngcontent-%COMP%]{background-image:url(photo.6281a9128e483ae7.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-signature[_ngcontent-%COMP%]{background-image:url(signature.bc4b1dcb33c0b7ad.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__text[_ngcontent-%COMP%]{font-size:14px;color:#000;maring:10px}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__button-edit[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .colorTextGreetingCard[_ngcontent-%COMP%]{width:0px;border:none;padding:0;outline:none;background:unset;height:0px;overflow:hidden;transform:translate(-20px)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .mockButtons[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex-direction:row;align-items:center;justify-content:center;flex-shrink:0;margin-left:auto;opacity:1;max-width:400px}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .mockButtons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px 10px 10px 0}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .mockButtons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin-left:10px}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__close[_ngcontent-%COMP%]{position:fixed;top:0px;right:0px;margin:20px;width:40px;height:40px;z-index:15;cursor:pointer;border-radius:100px;background-image:url(cross_white.3cfbf2db249143ad.svg);background-position:center;background-size:70%;background-repeat:no-repeat}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__close_background[_ngcontent-%COMP%]{background-color:#0006}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;border-radius:10px;box-shadow:0 0 5px #0003;background-color:#fff;display:flex;flex-direction:row;align-items:center;justify-content:center;z-index:15}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px 10px 10px 0}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin-left:10px}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%] > .input-color-sign-greetingcard[_ngcontent-%COMP%]{margin:0;width:0px;height:0px;border:none;outline:none;transform:translate(-90px)}[_nghost-%COMP%]   .webcam-video-confirm[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;box-shadow:0 0 5px #999;border-radius:10px;background-color:#fff;z-index:10;transform:translate(-30px) translateY(80px)}[_nghost-%COMP%]   .webcam-video-confirm[_ngcontent-%COMP%] > .webcam-video-confirm__text[_ngcontent-%COMP%]{font-size:14px;color:#333;text-align:center;margin:10px 20px}[_nghost-%COMP%]   .webcam-video-confirm[_ngcontent-%COMP%] > .webcam-video-confirm__buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%]   .webcam-video-confirm[_ngcontent-%COMP%] > .webcam-video-confirm__buttons[_ngcontent-%COMP%] > .webcam-video-confirm__button[_ngcontent-%COMP%]{margin:5px 10px;padding:10px;cursor:pointer;border-radius:5px;background-color:#eee0;transition:background-color ease .2s}[_nghost-%COMP%]   .webcam-video-confirm[_ngcontent-%COMP%] > .webcam-video-confirm__buttons[_ngcontent-%COMP%] > .webcam-video-confirm__button[_ngcontent-%COMP%]:hover{background-color:#eee}[_nghost-%COMP%]     .table-case-option{margin:50px 0;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:10px}[_nghost-%COMP%]     .table-case-option>.table-case-option__image{margin:10px;width:300px;height:216.1943319838px;border-radius:10px;overflow:hidden}[_nghost-%COMP%]     .table-case-option>.table-case-option__image>.table-case-option__tablet-gradient{width:100%;height:100%;background:linear-gradient(45deg,#00000066,#00000000)}[_nghost-%COMP%]     .table-case-option>.table-case-option__text{margin:10px;font-size:16px;text-align:center}[_nghost-%COMP%]     .table-case-option>.table-case-option__image_pure-silver{background-color:silver}[_nghost-%COMP%]     .table-case-option>.table-case-option__image_sierra-blue{background-color:#69abce}[_nghost-%COMP%]     .table-case-option>.table-case-option__image_alpine-green{background-color:#005f56}[_nghost-%COMP%]     .table-case-option>.table-case-option__image_shining-gold{background-color:#ffdf4f}[_nghost-%COMP%]     .table-case-option>.table-case-option__image_dark-matter{background-color:#2b2031}.animate[_nghost-%COMP%]{transition:all ease .3s}.animate[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%]{transition:all ease .3s}.animate[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .view[_ngcontent-%COMP%]{transition:all ease .3s}.animate[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%]{transition:all ease .3s}.animate[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{transition:all ease .3s}.animate[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%]{transition:all ease .3s}.animate[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .mockButtons[_ngcontent-%COMP%]{transition:all ease .3s}'],data:{animation:[he("verticalShow",[K(":enter",[F({transform:"translateY(-100%)"}),$("200ms",F({transform:"translateY(0%)"}))]),K(":leave",[$("200ms",F({transform:"translateY(-100%)"}))])]),he("popup",[Yo("open",F({display:"flex",transform:"translateX(70px) translateY(-60px)",opacity:"1"})),Yo("close",F({transform:"translateX(70px) translateY(-80px)",opacity:"0",display:"none"})),K("open <=> close",$("0.2s ease"))])]}}),i})();function xo(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function tx(i,n){i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n}var U0,mt,qi,Z0,X0,lx,hx,ba,ou,l,u,p,g,_,v,i,n,e,t,o,s,r,a,k,jn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ma={duration:.5,overwrite:!1,delay:0},ui=1e8,it=1e-8,$0=2*Math.PI,oz=$0/4,sz=0,nx=Math.sqrt,rz=Math.cos,az=Math.sin,Ht=function(n){return"string"==typeof n},Ut=function(n){return"function"==typeof n},ko=function(n){return"number"==typeof n},Y0=function(n){return void 0===n},Po=function(n){return"object"==typeof n},Pn=function(n){return!1!==n},ix=function(){return"undefined"!=typeof window},Gh=function(n){return Ut(n)||Ht(n)},ox="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},on=Array.isArray,W0=/(?:-?\.?\d|\.)+/gi,sx=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_a=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,q0=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,rx=/[+-]=-?[.\d]+/,ax=/[^,'"\[\]\s]+/gi,lz=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Hn={},jh={},ux=function(n){return(jh=Hs(n,Hn))&&Ei},K0=function(n,e){return console.warn("Invalid property",n,"set to",e,"Missing plugin? gsap.registerPlugin()")},Hh=function(n,e){return!e&&console.warn(n)},cx=function(n,e){return n&&(Hn[n]=e)&&jh&&(jh[n]=e)||Hn},Kl=function(){return 0},Q0={},Jo=[],J0={},Un={},em={},dx=30,Uh=[],tm="",nm=function(n){var t,o,e=n[0];if(Po(e)||Ut(e)||(n=[n]),!(t=(e._gsap||{}).harness)){for(o=Uh.length;o--&&!Uh[o].targetTest(e););t=Uh[o]}for(o=n.length;o--;)n[o]&&(n[o]._gsap||(n[o]._gsap=new Lx(n[o],t)))||n.splice(o,1);return n},js=function(n){return n._gsap||nm(di(n))[0]._gsap},px=function(n,e,t){return(t=n[e])&&Ut(t)?n[e]():Y0(t)&&n.getAttribute&&n.getAttribute(e)||t},Sn=function(n,e){return(n=n.split(",")).forEach(e)||n},kt=function(n){return Math.round(1e5*n)/1e5||0},sn=function(n){return Math.round(1e7*n)/1e7||0},va=function(n,e){var t=e.charAt(0),o=parseFloat(e.substr(2));return n=parseFloat(n),"+"===t?n+o:"-"===t?n-o:"*"===t?n*o:n/o},uz=function(n,e){for(var t=e.length,o=0;n.indexOf(e[o])<0&&++o<t;);return o<t},$h=function(){var t,o,n=Jo.length,e=Jo.slice(0);for(J0={},Jo.length=0,t=0;t<n;t++)(o=e[t])&&o._lazy&&(o.render(o._lazy[0],o._lazy[1],!0)._lazy=0)},fx=function(n,e,t,o){Jo.length&&$h(),n.render(e,t,o),Jo.length&&$h()},gx=function(n){var e=parseFloat(n);return(e||0===e)&&(n+"").match(ax).length<2?e:Ht(n)?n.trim():n},mx=function(n){return n},ci=function(n,e){for(var t in e)t in n||(n[t]=e[t]);return n},Hs=function(n,e){for(var t in e)n[t]=e[t];return n},_x=function i(n,e){for(var t in e)"__proto__"!==t&&"constructor"!==t&&"prototype"!==t&&(n[t]=Po(e[t])?i(n[t]||(n[t]={}),e[t]):e[t]);return n},Yh=function(n,e){var o,t={};for(o in n)o in e||(t[o]=n[o]);return t},Ql=function(n){var e=n.parent||mt,t=n.keyframes?function(n){return function(e,t){for(var o in t)o in e||"duration"===o&&n||"ease"===o||(e[o]=t[o])}}(on(n.keyframes)):ci;if(Pn(n.inherit))for(;e;)t(n,e.vars.defaults),e=e.parent||e._dp;return n},vx=function(n,e,t,o,s){void 0===t&&(t="_first"),void 0===o&&(o="_last");var a,r=n[o];if(s)for(a=e[s];r&&r[s]>a;)r=r._prev;return r?(e._next=r._next,r._next=e):(e._next=n[t],n[t]=e),e._next?e._next._prev=e:n[o]=e,e._prev=r,e.parent=e._dp=n,e},Wh=function(n,e,t,o){void 0===t&&(t="_first"),void 0===o&&(o="_last");var s=e._prev,r=e._next;s?s._next=r:n[t]===e&&(n[t]=r),r?r._prev=s:n[o]===e&&(n[o]=s),e._next=e._prev=e.parent=null},So=function(n,e){n.parent&&(!e||n.parent.autoRemoveChildren)&&n.parent.remove(n),n._act=0},Us=function(n,e){if(n&&(!e||e._end>n._dur||e._start<0))for(var t=n;t;)t._dirty=1,t=t.parent;return n},dz=function(n){for(var e=n.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return n},pz=function i(n){return!n||n._ts&&i(n.parent)},yx=function(n){return n._repeat?ya(n._tTime,n=n.duration()+n._rDelay)*n:0},ya=function(n,e){var t=Math.floor(n/=e);return n&&t===n?t-1:t},qh=function(n,e){return(n-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Zh=function(n){return n._end=sn(n._start+(n._tDur/Math.abs(n._ts||n._rts||it)||0))},im=function(n,e){var t=n._dp;return t&&t.smoothChildTiming&&n._ts&&(n._start=sn(t._time-(n._ts>0?e/n._ts:((n._dirty?n.totalDuration():n._tDur)-e)/-n._ts)),Zh(n),t._dirty||Us(t,n)),n},Cx=function(n,e){var t;if((e._time||e._initted&&!e._dur)&&(t=qh(n.rawTime(),e),(!e._dur||eu(0,e.totalDuration(),t)-e._tTime>it)&&e.render(t,!0)),Us(n,e)._dp&&n._initted&&n._time>=n._dur&&n._ts){if(n._dur<n.duration())for(t=n;t._dp;)t.rawTime()>=0&&t.totalTime(t._tTime),t=t._dp;n._zTime=-it}},Zi=function(n,e,t,o){return e.parent&&So(e),e._start=sn((ko(t)?t:t||n!==mt?hi(n,t,e):n._time)+e._delay),e._end=sn(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),vx(n,e,"_first","_last",n._sort?"_start":0),om(e)||(n._recent=e),o||Cx(n,e),n},bx=function(n,e){return(Hn.ScrollTrigger||K0("scrollTrigger",e))&&Hn.ScrollTrigger.create(e,n)},wx=function(n,e,t,o){return dm(n,e),n._initted?!t&&n._pt&&(n._dur&&!1!==n.vars.lazy||!n._dur&&n.vars.lazy)&&hx!==$n.frame?(Jo.push(n),n._lazy=[e,o],1):void 0:1},fz=function i(n){var e=n.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||i(e))},om=function(n){var e=n.data;return"isFromStart"===e||"isStart"===e},Ca=function(n,e,t,o){var s=n._repeat,r=sn(e)||0,a=n._tTime/n._tDur;return a&&!o&&(n._time*=r/n._dur),n._dur=r,n._tDur=s?s<0?1e10:sn(r*(s+1)+n._rDelay*s):r,a>0&&!o?im(n,n._tTime=n._tDur*a):n.parent&&Zh(n),t||Us(n.parent,n),n},xx=function(n){return n instanceof Mn?Us(n):Ca(n,n._dur)},_z={_start:0,endTime:Kl,totalDuration:Kl},hi=function i(n,e,t){var a,l,u,o=n.labels,s=n._recent||_z,r=n.duration()>=ui?s.endTime(!1):n._dur;return Ht(e)&&(isNaN(e)||e in o)?(l=e.charAt(0),u="%"===e.substr(-1),a=e.indexOf("="),"<"===l||">"===l?(a>=0&&(e=e.replace(/=/,"")),("<"===l?s._start:s.endTime(s._repeat>=0))+(parseFloat(e.substr(1))||0)*(u?(a<0?s:t).totalDuration()/100:1)):a<0?(e in o||(o[e]=r),o[e]):(l=parseFloat(e.charAt(a-1)+e.substr(a+1)),u&&t&&(l=l/100*(on(t)?t[0]:t).totalDuration()),a>1?i(n,e.substr(0,a-1),t)+l:r+l)):null==e?r:+e},Jl=function(n,e,t){var a,l,o=ko(e[1]),s=(o?2:1)+(n<2?0:1),r=e[s];if(o&&(r.duration=e[1]),r.parent=t,n){for(a=r,l=t;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Pn(l.vars.inherit)&&l.parent;r.immediateRender=Pn(a.immediateRender),n<2?r.runBackwards=1:r.startAt=e[s-1]}return new $t(e[0],r,e[s+1])},es=function(n,e){return n||0===n?e(n):e},eu=function(n,e,t){return t<n?n:t>e?e:t},rn=function(n,e){return Ht(n)&&(e=lz.exec(n))?e[1]:""},sm=[].slice,kx=function(n,e){return n&&Po(n)&&"length"in n&&(!e&&!n.length||n.length-1 in n&&Po(n[0]))&&!n.nodeType&&n!==qi},di=function(n,e,t){return!Ht(n)||t||!Z0&&wa()?on(n)?function(n,e,t){return void 0===t&&(t=[]),n.forEach(function(o){var s;return Ht(o)&&!e||kx(o,1)?(s=t).push.apply(s,di(o)):t.push(o)})||t}(n,t):kx(n)?sm.call(n,0):n?[n]:[]:sm.call((e||X0).querySelectorAll(n),0)},Px=function(n){return n.sort(function(){return.5-Math.random()})},Sx=function(n){if(Ut(n))return n;var e=Po(n)?n:{each:n},t=$s(e.ease),o=e.from||0,s=parseFloat(e.base)||0,r={},a=o>0&&o<1,l=isNaN(o)||a,u=e.axis,p=o,g=o;return Ht(o)?p=g={center:.5,edges:.5,end:1}[o]||0:!a&&l&&(p=o[0],g=o[1]),function(_,v,k){var O,T,R,N,B,z,U,Q,W,w=(k||e).length,M=r[w];if(!M){if(!(W="auto"===e.grid?0:(e.grid||[1,ui])[1])){for(U=-ui;U<(U=k[W++].getBoundingClientRect().left)&&W<w;);W--}for(M=r[w]=[],O=l?Math.min(W,w)*p-.5:o%W,T=W===ui?0:l?w*g/W-.5:o/W|0,U=0,Q=ui,z=0;z<w;z++)R=z%W-O,N=T-(z/W|0),M[z]=B=u?Math.abs("y"===u?N:R):nx(R*R+N*N),B>U&&(U=B),B<Q&&(Q=B);"random"===o&&Px(M),M.max=U-Q,M.min=Q,M.v=w=(parseFloat(e.amount)||parseFloat(e.each)*(W>w?w-1:u?"y"===u?w/W:W:Math.max(W,w/W))||0)*("edges"===o?-1:1),M.b=w<0?s-w:s,M.u=rn(e.amount||e.each)||0,t=t&&w<0?Nx(t):t}return w=(M[_]-M.min)/M.max||0,sn(M.b+(t?t(w):w)*M.v)+M.u}},rm=function(n){var e=Math.pow(10,((n+"").split(".")[1]||"").length);return function(t){var o=Math.round(parseFloat(t)/n)*n*e;return(o-o%1)/e+(ko(t)?0:rn(t))}},Mx=function(n,e){var o,s,t=on(n);return!t&&Po(n)&&(o=t=n.radius||ui,n.values?(n=di(n.values),(s=!ko(n[0]))&&(o*=o)):n=rm(n.increment)),es(e,t?Ut(n)?function(r){return s=n(r),Math.abs(s-r)<=o?s:r}:function(r){for(var _,v,a=parseFloat(s?r.x:r),l=parseFloat(s?r.y:0),u=ui,p=0,g=n.length;g--;)(_=s?(_=n[g].x-a)*_+(v=n[g].y-l)*v:Math.abs(n[g]-a))<u&&(u=_,p=g);return p=!o||u<=o?n[p]:r,s||p===r||ko(r)?p:p+rn(r)}:rm(n))},Dx=function(n,e,t,o){return es(on(n)?!e:!0===t?!!(t=0):!o,function(){return on(n)?n[~~(Math.random()*n.length)]:(t=t||1e-5)&&(o=t<1?Math.pow(10,(t+"").length-2):1)&&Math.floor(Math.round((n-t/2+Math.random()*(e-n+.99*t))/t)*t*o)/o})},Ex=function(n,e,t){return es(t,function(o){return n[~~e(o)]})},tu=function(n){for(var o,s,r,a,e=0,t="";~(o=n.indexOf("random(",e));)r=n.indexOf(")",o),a="["===n.charAt(o+7),s=n.substr(o+7,r-o-7).match(a?ax:W0),t+=n.substr(e,o-e)+Dx(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),e=r+1;return t+n.substr(e,n.length-e)},Tx=function(n,e,t,o,s){var r=e-n,a=o-t;return es(s,function(l){return t+((l-n)/r*a||0)})},Ox=function(n,e,t){var r,a,l,o=n.labels,s=ui;for(r in o)(a=o[r]-e)<0==!!t&&a&&s>(a=Math.abs(a))&&(l=r,s=a);return l},pi=function(n,e,t){var r,a,o=n.vars,s=o[e];if(s)return r=o[e+"Params"],a=o.callbackScope||n,t&&Jo.length&&$h(),r?s.apply(a,r):s.call(a)},nu=function(n){return So(n),n.scrollTrigger&&n.scrollTrigger.kill(!1),n.progress()<1&&pi(n,"onInterrupt"),n},Mz=function(n){var e=(n=!n.name&&n.default||n).name,t=Ut(n),o=e&&!t&&n.init?function(){this._props=[]}:n,s={init:Kl,render:gm,add:cm,kill:Hz,modifier:jz,rawVars:0},r={targetTest:0,get:0,getSetter:fm,aliases:{},register:0};if(wa(),n!==o){if(Un[e])return;ci(o,ci(Yh(n,s),r)),Hs(o.prototype,Hs(s,Yh(n,r))),Un[o.prop=e]=o,n.targetTest&&(Uh.push(o),Q0[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}cx(e,o),n.register&&n.register(Ei,o,Dn)},ot=255,iu={aqua:[0,ot,ot],lime:[0,ot,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ot],navy:[0,0,128],white:[ot,ot,ot],olive:[128,128,0],yellow:[ot,ot,0],orange:[ot,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ot,0,0],pink:[ot,192,203],cyan:[0,ot,ot],transparent:[ot,ot,ot,0]},am=function(n,e,t){return(6*(n+=n<0?1:n>1?-1:0)<1?e+(t-e)*n*6:n<.5?t:3*n<2?e+(t-e)*(2/3-n)*6:e)*ot+.5|0},Ix=function(n,e,t){var s,r,a,l,u,p,g,_,v,k,o=n?ko(n)?[n>>16,n>>8&ot,n&ot]:0:iu.black;if(!o){if(","===n.substr(-1)&&(n=n.substr(0,n.length-1)),iu[n])o=iu[n];else if("#"===n.charAt(0)){if(n.length<6&&(s=n.charAt(1),r=n.charAt(2),a=n.charAt(3),n="#"+s+s+r+r+a+a+(5===n.length?n.charAt(4)+n.charAt(4):"")),9===n.length)return[(o=parseInt(n.substr(1,6),16))>>16,o>>8&ot,o&ot,parseInt(n.substr(7),16)/255];o=[(n=parseInt(n.substr(1),16))>>16,n>>8&ot,n&ot]}else if("hsl"===n.substr(0,3))if(o=k=n.match(W0),e){if(~n.indexOf("="))return o=n.match(sx),t&&o.length<4&&(o[3]=1),o}else l=+o[0]%360/360,u=+o[1]/100,s=2*(p=+o[2]/100)-(r=p<=.5?p*(u+1):p+u-p*u),o.length>3&&(o[3]*=1),o[0]=am(l+1/3,s,r),o[1]=am(l,s,r),o[2]=am(l-1/3,s,r);else o=n.match(W0)||iu.transparent;o=o.map(Number)}return e&&!k&&(s=o[0]/ot,r=o[1]/ot,a=o[2]/ot,p=((g=Math.max(s,r,a))+(_=Math.min(s,r,a)))/2,g===_?l=u=0:(v=g-_,u=p>.5?v/(2-g-_):v/(g+_),l=g===s?(r-a)/v+(r<a?6:0):g===r?(a-s)/v+2:(s-r)/v+4,l*=60),o[0]=~~(l+.5),o[1]=~~(100*u+.5),o[2]=~~(100*p+.5)),t&&o.length<4&&(o[3]=1),o},Ax=function(n){var e=[],t=[],o=-1;return n.split(ts).forEach(function(s){var r=s.match(_a)||[];e.push.apply(e,r),t.push(o+=r.length+1)}),e.c=t,e},Rx=function(n,e,t){var l,u,p,g,o="",s=(n+o).match(ts),r=e?"hsla(":"rgba(",a=0;if(!s)return n;if(s=s.map(function(_){return(_=Ix(_,e,1))&&r+(e?_[0]+","+_[1]+"%,"+_[2]+"%,"+_[3]:_.join(","))+")"}),t&&(p=Ax(n),(l=t.c).join(o)!==p.c.join(o)))for(g=(u=n.replace(ts,"1").split(_a)).length-1;a<g;a++)o+=u[a]+(~l.indexOf(a)?s.shift()||r+"0,0,0,0)":(p.length?p:s.length?s:t).shift());if(!u)for(g=(u=n.split(ts)).length-1;a<g;a++)o+=u[a]+s[a];return o+u[g]},ts=function(){var n,i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(n in iu)i+="|"+n+"\\b";return new RegExp(i+")","gi")}(),Dz=/hsl[a]?\(/,Fx=function(n){var t,e=n.join(" ");if(ts.lastIndex=0,ts.test(e))return t=Dz.test(e),n[1]=Rx(n[1],t),n[0]=Rx(n[0],t,Ax(n[1])),!0},$n=(i=Date.now,n=500,e=33,t=i(),o=t,r=s=1e3/240,k=function w(M){var R,N,B,z,O=i()-o,T=!0===M;if(O>n&&(t+=O-e),((R=(B=(o+=O)-t)-r)>0||T)&&(z=++g.frame,_=B-1e3*g.time,g.time=B/=1e3,r+=R+(R>=s?4:s-R),N=1),T||(l=u(w)),N)for(v=0;v<a.length;v++)a[v](B,_,z,M)},g={time:0,frame:0,tick:function(){k(!0)},deltaRatio:function(M){return _/(1e3/(M||60))},wake:function(){lx&&(!Z0&&ix()&&(qi=Z0=window,X0=qi.document||{},Hn.gsap=Ei,(qi.gsapVersions||(qi.gsapVersions=[])).push(Ei.version),ux(jh||qi.GreenSockGlobals||!qi.gsap&&qi||{}),p=qi.requestAnimationFrame),l&&g.sleep(),u=p||function(M){return setTimeout(M,r-1e3*g.time+1|0)},ou=1,k(2))},sleep:function(){(p?qi.cancelAnimationFrame:clearTimeout)(l),ou=0,u=Kl},lagSmoothing:function(M,O){n=M||1/it,e=Math.min(O,n,0)},fps:function(M){r=1e3*g.time+(s=1e3/(M||240))},add:function(M,O,T){var R=O?function(N,B,z,U){M(N,B,z,U),g.remove(R)}:M;return g.remove(M),a[T?"unshift":"push"](R),wa(),R},remove:function(M,O){~(O=a.indexOf(M))&&a.splice(O,1)&&v>=O&&v--},_listeners:a=[]}),wa=function(){return!ou&&$n.wake()},Fe={},Ez=/^[\d.\-M][\d.\-,\s]/,Tz=/["']/g,Oz=function(n){for(var a,l,u,e={},t=n.substr(1,n.length-3).split(":"),o=t[0],s=1,r=t.length;s<r;s++)l=t[s],a=s!==r-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),e[o]=isNaN(u)?u.replace(Tz,"").trim():+u,o=l.substr(a+1).trim();return e},Nx=function(n){return function(e){return 1-n(1-e)}},Bx=function i(n,e){for(var o,t=n._first;t;)t instanceof Mn?i(t,e):t.vars.yoyoEase&&(!t._yoyo||!t._repeat)&&t._yoyo!==e&&(t.timeline?i(t.timeline,e):(o=t._ease,t._ease=t._yEase,t._yEase=o,t._yoyo=e)),t=t._next},$s=function(n,e){return n&&(Ut(n)?n:Fe[n]||function(n){var e=(n+"").split("("),t=Fe[e[0]];return t&&e.length>1&&t.config?t.config.apply(null,~n.indexOf("{")?[Oz(e[1])]:function(n){var e=n.indexOf("(")+1,t=n.indexOf(")"),o=n.indexOf("(",e);return n.substring(e,~o&&o<t?n.indexOf(")",t+1):t)}(n).split(",").map(gx)):Fe._CE&&Ez.test(n)?Fe._CE("",n):t}(n))||e},Ys=function(n,e,t,o){void 0===t&&(t=function(l){return 1-e(1-l)}),void 0===o&&(o=function(l){return l<.5?e(2*l)/2:1-e(2*(1-l))/2});var r,s={easeIn:e,easeOut:t,easeInOut:o};return Sn(n,function(a){for(var l in Fe[a]=Hn[a]=s,Fe[r=a.toLowerCase()]=t,s)Fe[r+("easeIn"===l?".in":"easeOut"===l?".out":".inOut")]=Fe[a+"."+l]=s[l]}),s},Vx=function(n){return function(e){return e<.5?(1-n(1-2*e))/2:.5+n(2*(e-.5))/2}},lm=function i(n,e,t){var o=e>=1?e:1,s=(t||(n?.3:.45))/(e<1?e:1),r=s/$0*(Math.asin(1/o)||0),a=function(p){return 1===p?1:o*Math.pow(2,-10*p)*az((p-r)*s)+1},l="out"===n?a:"in"===n?function(u){return 1-a(1-u)}:Vx(a);return s=$0/s,l.config=function(u,p){return i(n,u,p)},l},um=function i(n,e){void 0===e&&(e=1.70158);var t=function(r){return r?--r*r*((e+1)*r+e)+1:0},o="out"===n?t:"in"===n?function(s){return 1-t(1-s)}:Vx(t);return o.config=function(s){return i(n,s)},o};Sn("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,n){var e=n<5?n+1:n;Ys(i+",Power"+(e-1),n?function(t){return Math.pow(t,e)}:function(t){return t},function(t){return 1-Math.pow(1-t,e)},function(t){return t<.5?Math.pow(2*t,e)/2:1-Math.pow(2*(1-t),e)/2})}),Fe.Linear.easeNone=Fe.none=Fe.Linear.easeIn,Ys("Elastic",lm("in"),lm("out"),lm()),function(i,n){var s=function(a){return a<.36363636363636365?i*a*a:a<.7272727272727273?i*Math.pow(a-1.5/n,2)+.75:a<.9090909090909092?i*(a-=2.25/n)*a+.9375:i*Math.pow(a-2.625/n,2)+.984375};Ys("Bounce",function(r){return 1-s(1-r)},s)}(7.5625,2.75),Ys("Expo",function(i){return i?Math.pow(2,10*(i-1)):0}),Ys("Circ",function(i){return-(nx(1-i*i)-1)}),Ys("Sine",function(i){return 1===i?1:1-rz(i*oz)}),Ys("Back",um("in"),um("out"),um()),Fe.SteppedEase=Fe.steps=Hn.SteppedEase={config:function(n,e){void 0===n&&(n=1);var t=1/n,o=n+(e?0:1),s=e?1:0;return function(a){return((o*eu(0,.99999999,a)|0)+s)*t}}},ma.ease=Fe["quad.out"],Sn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return tm+=i+","+i+"Params,"});var Lx=function(n,e){this.id=sz++,n._gsap=this,this.target=n,this.harness=e,this.get=e?e.get:px,this.set=e?e.getSetter:fm},su=function(){function i(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Ca(this,+e.duration,1,1),this.data=e.data,ou||$n.wake()}var n=i.prototype;return n.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},n.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},n.totalDuration=function(t){return arguments.length?(this._dirty=0,Ca(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},n.totalTime=function(t,o){if(wa(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(im(this,t),!s._dp||s.parent||Cx(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Zi(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!o||this._initted&&Math.abs(this._zTime)===it||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),fx(this,t,o)),this},n.time=function(t,o){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+yx(this))%(this._dur+this._rDelay)||(t?this._dur:0),o):this._time},n.totalProgress=function(t,o){return arguments.length?this.totalTime(this.totalDuration()*t,o):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},n.progress=function(t,o){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+yx(this),o):this.duration()?Math.min(1,this._time/this._dur):this.ratio},n.iteration=function(t,o){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*s,o):this._repeat?ya(this._tTime,s)+1:1},n.timeScale=function(t){if(!arguments.length)return this._rts===-it?0:this._rts;if(this._rts===t)return this;var o=this.parent&&this._ts?qh(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-it?0:this._rts,this.totalTime(eu(-this._delay,this._tDur,o),!0),Zh(this),dz(this)},n.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(wa(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==it&&(this._tTime-=it)))),this):this._ps},n.startTime=function(t){if(arguments.length){this._start=t;var o=this.parent||this._dp;return o&&(o._sort||!this.parent)&&Zi(o,this,t-this._delay),this}return this._start},n.endTime=function(t){return this._start+(Pn(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},n.rawTime=function(t){var o=this.parent||this._dp;return o?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?qh(o.rawTime(t),this):this._tTime:this._tTime},n.globalTime=function(t){for(var o=this,s=arguments.length?t:o.rawTime();o;)s=o._start+s/(o._ts||1),o=o._dp;return s},n.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,xx(this)):-2===this._repeat?1/0:this._repeat},n.repeatDelay=function(t){if(arguments.length){var o=this._time;return this._rDelay=t,xx(this),o?this.time(o):this}return this._rDelay},n.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},n.seek=function(t,o){return this.totalTime(hi(this,t),Pn(o))},n.restart=function(t,o){return this.play().totalTime(t?-this._delay:0,Pn(o))},n.play=function(t,o){return null!=t&&this.seek(t,o),this.reversed(!1).paused(!1)},n.reverse=function(t,o){return null!=t&&this.seek(t||this.totalDuration(),o),this.reversed(!0).paused(!1)},n.pause=function(t,o){return null!=t&&this.seek(t,o),this.paused(!0)},n.resume=function(){return this.paused(!1)},n.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-it:0)),this):this._rts<0},n.invalidate=function(){return this._initted=this._act=0,this._zTime=-it,this},n.isActive=function(){var s,t=this.parent||this._dp,o=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(s=t.rawTime(!0))>=o&&s<this.endTime(!0)-it))},n.eventCallback=function(t,o,s){var r=this.vars;return arguments.length>1?(o?(r[t]=o,s&&(r[t+"Params"]=s),"onUpdate"===t&&(this._onUpdate=o)):delete r[t],this):r[t]},n.then=function(t){var o=this;return new Promise(function(s){var r=Ut(t)?t:mx,a=function(){var u=o.then;o.then=null,Ut(r)&&(r=r(o))&&(r.then||r===o)&&(o.then=u),s(r),o.then=u};o._initted&&1===o.totalProgress()&&o._ts>=0||!o._tTime&&o._ts<0?a():o._prom=a})},n.kill=function(){nu(this)},i}();ci(su.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-it,_prom:0,_ps:!1,_rts:1});var Mn=function(i){function n(t,o){var s;return void 0===t&&(t={}),(s=i.call(this,t)||this).labels={},s.smoothChildTiming=!!t.smoothChildTiming,s.autoRemoveChildren=!!t.autoRemoveChildren,s._sort=Pn(t.sortChildren),mt&&Zi(t.parent||mt,xo(s),o),t.reversed&&s.reverse(),t.paused&&s.paused(!0),t.scrollTrigger&&bx(xo(s),t.scrollTrigger),s}tx(n,i);var e=n.prototype;return e.to=function(o,s,r){return Jl(0,arguments,this),this},e.from=function(o,s,r){return Jl(1,arguments,this),this},e.fromTo=function(o,s,r,a){return Jl(2,arguments,this),this},e.set=function(o,s,r){return s.duration=0,s.parent=this,Ql(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new $t(o,s,hi(this,r),1),this},e.call=function(o,s,r){return Zi(this,$t.delayedCall(0,o,s),r)},e.staggerTo=function(o,s,r,a,l,u,p){return r.duration=s,r.stagger=r.stagger||a,r.onComplete=u,r.onCompleteParams=p,r.parent=this,new $t(o,r,hi(this,l)),this},e.staggerFrom=function(o,s,r,a,l,u,p){return r.runBackwards=1,Ql(r).immediateRender=Pn(r.immediateRender),this.staggerTo(o,s,r,a,l,u,p)},e.staggerFromTo=function(o,s,r,a,l,u,p,g){return a.startAt=r,Ql(a).immediateRender=Pn(a.immediateRender),this.staggerTo(o,s,a,l,u,p,g)},e.render=function(o,s,r){var _,v,k,w,M,O,T,R,N,B,z,U,a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,p=o<=0?0:sn(o),g=this._zTime<0!=o<0&&(this._initted||!u);if(this!==mt&&p>l&&o>=0&&(p=l),p!==this._tTime||r||g){if(a!==this._time&&u&&(p+=this._time-a,o+=this._time-a),_=p,N=this._start,O=!(R=this._ts),g&&(u||(a=this._zTime),(o||!s)&&(this._zTime=o)),this._repeat){if(z=this._yoyo,M=u+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(100*M+o,s,r);if(_=sn(p%M),p===l?(w=this._repeat,_=u):((w=~~(p/M))&&w===p/M&&(_=u,w--),_>u&&(_=u)),B=ya(this._tTime,M),!a&&this._tTime&&B!==w&&(B=w),z&&1&w&&(_=u-_,U=1),w!==B&&!this._lock){var Q=z&&1&B,W=Q===(z&&1&w);if(w<B&&(Q=!Q),a=Q?0:u,this._lock=1,this.render(a||(U?0:sn(w*M)),s,!u)._lock=0,this._tTime=p,!s&&this.parent&&pi(this,"onRepeat"),this.vars.repeatRefresh&&!U&&(this.invalidate()._lock=1),a&&a!==this._time||O!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,W&&(this._lock=2,this.render(a=Q?u:-1e-4,!0),this.vars.repeatRefresh&&!U&&this.invalidate()),this._lock=0,!this._ts&&!O)return this;Bx(this,U)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(T=function(n,e,t){var o;if(t>e)for(o=n._first;o&&o._start<=t;){if("isPause"===o.data&&o._start>e)return o;o=o._next}else for(o=n._last;o&&o._start>=t;){if("isPause"===o.data&&o._start<e)return o;o=o._prev}}(this,sn(a),sn(_)),T&&(p-=_-(_=T._start))),this._tTime=p,this._time=_,this._act=!R,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=o,a=0),!a&&_&&!s&&(pi(this,"onStart"),this._tTime!==p))return this;if(_>=a&&o>=0)for(v=this._first;v;){if(k=v._next,(v._act||_>=v._start)&&v._ts&&T!==v){if(v.parent!==this)return this.render(o,s,r);if(v.render(v._ts>0?(_-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(_-v._start)*v._ts,s,r),_!==this._time||!this._ts&&!O){T=0,k&&(p+=this._zTime=-it);break}}v=k}else{v=this._last;for(var de=o<0?o:_;v;){if(k=v._prev,(v._act||de<=v._end)&&v._ts&&T!==v){if(v.parent!==this)return this.render(o,s,r);if(v.render(v._ts>0?(de-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(de-v._start)*v._ts,s,r),_!==this._time||!this._ts&&!O){T=0,k&&(p+=this._zTime=de?-it:it);break}}v=k}}if(T&&!s&&(this.pause(),T.render(_>=a?0:-it)._zTime=_>=a?1:-1,this._ts))return this._start=N,Zh(this),this.render(o,s,r);this._onUpdate&&!s&&pi(this,"onUpdate",!0),(p===l&&this._tTime>=this.totalDuration()||!p&&a)&&(N===this._start||Math.abs(R)!==Math.abs(this._ts))&&(this._lock||((o||!u)&&(p===l&&this._ts>0||!p&&this._ts<0)&&So(this,1),!s&&(!(o<0)||a)&&(p||a||!l)&&(pi(this,p===l&&o>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(p<l&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(o,s){var r=this;if(ko(s)||(s=hi(this,s,o)),!(o instanceof su)){if(on(o))return o.forEach(function(a){return r.add(a,s)}),this;if(Ht(o))return this.addLabel(o,s);if(!Ut(o))return this;o=$t.delayedCall(0,o)}return this!==o?Zi(this,o,s):this},e.getChildren=function(o,s,r,a){void 0===o&&(o=!0),void 0===s&&(s=!0),void 0===r&&(r=!0),void 0===a&&(a=-ui);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof $t?s&&l.push(u):(r&&l.push(u),o&&l.push.apply(l,u.getChildren(!0,s,r)))),u=u._next;return l},e.getById=function(o){for(var s=this.getChildren(1,1,1),r=s.length;r--;)if(s[r].vars.id===o)return s[r]},e.remove=function(o){return Ht(o)?this.removeLabel(o):Ut(o)?this.killTweensOf(o):(Wh(this,o),o===this._recent&&(this._recent=this._last),Us(this))},e.totalTime=function(o,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=sn($n.time-(this._ts>0?o/this._ts:(this.totalDuration()-o)/-this._ts))),i.prototype.totalTime.call(this,o,s),this._forcing=0,this):this._tTime},e.addLabel=function(o,s){return this.labels[o]=hi(this,s),this},e.removeLabel=function(o){return delete this.labels[o],this},e.addPause=function(o,s,r){var a=$t.delayedCall(0,s||Kl,r);return a.data="isPause",this._hasPause=1,Zi(this,a,hi(this,o))},e.removePause=function(o){var s=this._first;for(o=hi(this,o);s;)s._start===o&&"isPause"===s.data&&So(s),s=s._next},e.killTweensOf=function(o,s,r){for(var a=this.getTweensOf(o,r),l=a.length;l--;)ns!==a[l]&&a[l].kill(o,s);return this},e.getTweensOf=function(o,s){for(var p,r=[],a=di(o),l=this._first,u=ko(s);l;)l instanceof $t?uz(l._targets,a)&&(u?(!ns||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&r.push(l):(p=l.getTweensOf(a,s)).length&&r.push.apply(r,p),l=l._next;return r},e.tweenTo=function(o,s){s=s||{};var v,r=this,a=hi(r,o),u=s.startAt,p=s.onStart,g=s.onStartParams,_=s.immediateRender,k=$t.to(r,ci({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:r._time))/r.timeScale())||it,onStart:function(){if(r.pause(),!v){var M=s.duration||Math.abs((a-(u&&"time"in u?u.time:r._time))/r.timeScale());k._dur!==M&&Ca(k,M,0,1).render(k._time,!0,!0),v=1}p&&p.apply(k,g||[])}},s));return _?k.render(0):k},e.tweenFromTo=function(o,s,r){return this.tweenTo(s,ci({startAt:{time:hi(this,o)}},r))},e.recent=function(){return this._recent},e.nextLabel=function(o){return void 0===o&&(o=this._time),Ox(this,hi(this,o))},e.previousLabel=function(o){return void 0===o&&(o=this._time),Ox(this,hi(this,o),1)},e.currentLabel=function(o){return arguments.length?this.seek(o,!0):this.previousLabel(this._time+it)},e.shiftChildren=function(o,s,r){void 0===r&&(r=0);for(var u,a=this._first,l=this.labels;a;)a._start>=r&&(a._start+=o,a._end+=o),a=a._next;if(s)for(u in l)l[u]>=r&&(l[u]+=o);return Us(this)},e.invalidate=function(){var o=this._first;for(this._lock=0;o;)o.invalidate(),o=o._next;return i.prototype.invalidate.call(this)},e.clear=function(o){void 0===o&&(o=!0);for(var r,s=this._first;s;)r=s._next,this.remove(s),s=r;return this._dp&&(this._time=this._tTime=this._pTime=0),o&&(this.labels={}),Us(this)},e.totalDuration=function(o){var u,p,g,s=0,r=this,a=r._last,l=ui;if(arguments.length)return r.timeScale((r._repeat<0?r.duration():r.totalDuration())/(r.reversed()?-o:o));if(r._dirty){for(g=r.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),(p=a._start)>l&&r._sort&&a._ts&&!r._lock?(r._lock=1,Zi(r,a,p-a._delay,1)._lock=0):l=p,p<0&&a._ts&&(s-=p,(!g&&!r._dp||g&&g.smoothChildTiming)&&(r._start+=p/r._ts,r._time-=p,r._tTime-=p),r.shiftChildren(-p,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=u;Ca(r,r===mt&&r._time>s?r._time:s,1,1),r._dirty=0}return r._tDur},n.updateRoot=function(o){if(mt._ts&&(fx(mt,qh(o,mt)),hx=$n.frame),$n.frame>=dx){dx+=jn.autoSleep||120;var s=mt._first;if((!s||!s._ts)&&jn.autoSleep&&$n._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||$n.sleep()}}},n}(su);ci(Mn.prototype,{_lock:0,_hasPause:0,_forcing:0});var ns,hm,Rz=function(n,e,t,o,s,r,a){var g,_,v,k,w,M,O,T,l=new Dn(this._pt,n,e,0,1,$x,null,s),u=0,p=0;for(l.b=t,l.e=o,t+="",(O=~(o+="").indexOf("random("))&&(o=tu(o)),r&&(r(T=[t,o],n,e),t=T[0],o=T[1]),_=t.match(q0)||[];g=q0.exec(o);)k=g[0],w=o.substring(u,g.index),v?v=(v+1)%5:"rgba("===w.substr(-5)&&(v=1),k!==_[p++]&&(M=parseFloat(_[p-1])||0,l._pt={_next:l._pt,p:w||1===p?w:",",s:M,c:"="===k.charAt(1)?va(M,k)-M:parseFloat(k)-M,m:v&&v<4?Math.round:0},u=q0.lastIndex);return l.c=u<o.length?o.substring(u,o.length):"",l.fp=a,(rx.test(o)||O)&&(l.e=0),this._pt=l,l},cm=function(n,e,t,o,s,r,a,l,u){Ut(o)&&(o=o(s||0,n,r));var v,p=n[e],g="get"!==t?t:Ut(p)?u?n[e.indexOf("set")||!Ut(n["get"+e.substr(3)])?e:"get"+e.substr(3)](u):n[e]():p,_=Ut(p)?u?Lz:Hx:pm;if(Ht(o)&&(~o.indexOf("random(")&&(o=tu(o)),"="===o.charAt(1)&&((v=va(g,o)+(rn(g)||0))||0===v)&&(o=v)),g!==o||hm)return isNaN(g*o)||""===o?(!p&&!(e in n)&&K0(e,o),Rz.call(this,n,e,g,o,_,l||jn.stringFilter,u)):(v=new Dn(this._pt,n,e,+g||0,o-(g||0),"boolean"==typeof p?Gz:Ux,0,_),u&&(v.fp=u),a&&v.modifier(a,this,n),this._pt=v)},zx=function(n,e,t,o,s,r){var a,l,u,p;if(Un[n]&&!1!==(a=new Un[n]).init(s,a.rawVars?e[n]:function(n,e,t,o,s){if(Ut(n)&&(n=ru(n,s,e,t,o)),!Po(n)||n.style&&n.nodeType||on(n)||ox(n))return Ht(n)?ru(n,s,e,t,o):n;var a,r={};for(a in n)r[a]=ru(n[a],s,e,t,o);return r}(e[n],o,s,r,t),t,o,r)&&(t._pt=l=new Dn(t._pt,s,n,0,1,a.render,a,0,a.priority),t!==ba))for(u=t._ptLookup[t._targets.indexOf(s)],p=a._props.length;p--;)u[a._props[p]]=l;return a},dm=function i(n,e){var z,U,Q,W,de,Ue,Ke,je,We,st,Y,ie,le,t=n.vars,o=t.ease,s=t.startAt,r=t.immediateRender,a=t.lazy,l=t.onUpdate,u=t.onUpdateParams,p=t.callbackScope,g=t.runBackwards,_=t.yoyoEase,v=t.keyframes,k=t.autoRevert,w=n._dur,M=n._startAt,O=n._targets,T=n.parent,R=T&&"nested"===T.data?T.parent._targets:O,N="auto"===n._overwrite&&!U0,B=n.timeline;if(B&&(!v||!o)&&(o="none"),n._ease=$s(o,ma.ease),n._yEase=_?Nx($s(!0===_?o:_,ma.ease)):0,_&&n._yoyo&&!n._repeat&&(_=n._yEase,n._yEase=n._ease,n._ease=_),n._from=!B&&!!t.runBackwards,!B||v&&!t.stagger){if(ie=(je=O[0]?js(O[0]).harness:0)&&t[je.prop],z=Yh(t,Q0),M&&(So(M.render(-1,!0)),M._lazy=0),s)if(So(n._startAt=$t.set(O,ci({data:"isStart",overwrite:!1,parent:T,immediateRender:!0,lazy:Pn(a),startAt:null,delay:0,onUpdate:l,onUpdateParams:u,callbackScope:p,stagger:0},s))),e<0&&!r&&!k&&n._startAt.render(-1,!0),r){if(e>0&&!k&&(n._startAt=0),w&&e<=0)return void(e&&(n._zTime=e))}else!1===k&&(n._startAt=0);else if(g&&w)if(M)!k&&(n._startAt=0);else if(e&&(r=!1),Q=ci({overwrite:!1,data:"isFromStart",lazy:r&&Pn(a),immediateRender:r,stagger:0,parent:T},z),ie&&(Q[je.prop]=ie),So(n._startAt=$t.set(O,Q)),e<0&&n._startAt.render(-1,!0),n._zTime=e,r){if(!e)return}else i(n._startAt,it);for(n._pt=n._ptCache=0,a=w&&Pn(a)||a&&!w,U=0;U<O.length;U++){if(Ke=(de=O[U])._gsap||nm(O)[U]._gsap,n._ptLookup[U]=st={},J0[Ke.id]&&Jo.length&&$h(),Y=R===O?U:R.indexOf(de),je&&!1!==(We=new je).init(de,ie||z,n,Y,R)&&(n._pt=W=new Dn(n._pt,de,We.name,0,1,We.render,We,0,We.priority),We._props.forEach(function(Pe){st[Pe]=W}),We.priority&&(Ue=1)),!je||ie)for(Q in z)Un[Q]&&(We=zx(Q,z,n,Y,de,R))?We.priority&&(Ue=1):st[Q]=W=cm.call(n,de,Q,"get",z[Q],Y,R,0,t.stringFilter);n._op&&n._op[U]&&n.kill(de,n._op[U]),N&&n._pt&&(ns=n,mt.killTweensOf(de,st,n.globalTime(e)),le=!n.parent,ns=0),n._pt&&a&&(J0[Ke.id]=1)}Ue&&Yx(n),n._onInit&&n._onInit(n)}n._onUpdate=l,n._initted=(!n._op||n._pt)&&!le,v&&e<=0&&B.render(ui,!0,!0)},Vz=function(n,e,t,o){var r,a,s=e.ease||o||"power1.inOut";if(on(e))a=t[n]||(t[n]=[]),e.forEach(function(l,u){return a.push({t:u/(e.length-1)*100,v:l,e:s})});else for(r in e)a=t[r]||(t[r]=[]),"ease"===r||a.push({t:parseFloat(n),v:e[r],e:s})},ru=function(n,e,t,o,s){return Ut(n)?n.call(e,t,o,s):Ht(n)&&~n.indexOf("random(")?tu(n):n},Gx=tm+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",jx={};Sn(Gx+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return jx[i]=1});var $t=function(i){function n(t,o,s,r){var a;"number"==typeof o&&(s.duration=o,o=s,s=null);var N,B,z,U,Q,W,de,Ue,l=(a=i.call(this,r?o:Ql(o))||this).vars,u=l.duration,p=l.delay,g=l.immediateRender,_=l.stagger,v=l.overwrite,k=l.keyframes,w=l.defaults,M=l.scrollTrigger,O=l.yoyoEase,T=o.parent||mt,R=(on(t)||ox(t)?ko(t[0]):"length"in o)?[t]:di(t);if(a._targets=R.length?nm(R):Hh("GSAP target "+t+" not found. https://greensock.com",!jn.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=v,k||_||Gh(u)||Gh(p)){if(o=a.vars,(N=a.timeline=new Mn({data:"nested",defaults:w||{}})).kill(),N.parent=N._dp=xo(a),N._start=0,_||Gh(u)||Gh(p)){if(U=R.length,de=_&&Sx(_),Po(_))for(Q in _)~Gx.indexOf(Q)&&(Ue||(Ue={}),Ue[Q]=_[Q]);for(B=0;B<U;B++)(z=Yh(o,jx)).stagger=0,O&&(z.yoyoEase=O),Ue&&Hs(z,Ue),W=R[B],z.duration=+ru(u,xo(a),B,W,R),z.delay=(+ru(p,xo(a),B,W,R)||0)-a._delay,!_&&1===U&&z.delay&&(a._delay=p=z.delay,a._start+=p,z.delay=0),N.to(W,z,de?de(B,W,R):0),N._ease=Fe.none;N.duration()?u=p=0:a.timeline=0}else if(k){Ql(ci(N.vars.defaults,{ease:"none"})),N._ease=$s(k.ease||o.ease||"none");var je,We,st,Ke=0;if(on(k))k.forEach(function(Y){return N.to(R,Y,">")});else{for(Q in z={},k)"ease"===Q||"easeEach"===Q||Vz(Q,k[Q],z,k.easeEach);for(Q in z)for(je=z[Q].sort(function(Y,ie){return Y.t-ie.t}),Ke=0,B=0;B<je.length;B++)(st={ease:(We=je[B]).e,duration:(We.t-(B?je[B-1].t:0))/100*u})[Q]=We.v,N.to(R,st,Ke),Ke+=st.duration;N.duration()<u&&N.to({},{duration:u-N.duration()})}}u||a.duration(u=N.duration())}else a.timeline=0;return!0===v&&!U0&&(ns=xo(a),mt.killTweensOf(R),ns=0),Zi(T,xo(a),s),o.reversed&&a.reverse(),o.paused&&a.paused(!0),(g||!u&&!k&&a._start===sn(T._time)&&Pn(g)&&pz(xo(a))&&"nested"!==T.data)&&(a._tTime=-it,a.render(Math.max(0,-p))),M&&bx(xo(a),M),a}tx(n,i);var e=n.prototype;return e.render=function(o,s,r){var g,_,v,k,w,M,O,T,R,a=this._time,l=this._tDur,u=this._dur,p=o>l-it&&o>=0?l:o<it?0:o;if(u){if(p!==this._tTime||!o||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=o<0){if(g=p,T=this.timeline,this._repeat){if(k=u+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(100*k+o,s,r);if(g=sn(p%k),p===l?(v=this._repeat,g=u):((v=~~(p/k))&&v===p/k&&(g=u,v--),g>u&&(g=u)),(M=this._yoyo&&1&v)&&(R=this._yEase,g=u-g),w=ya(this._tTime,k),g===a&&!r&&this._initted)return this._tTime=p,this;v!==w&&(T&&this._yEase&&Bx(T,M),this.vars.repeatRefresh&&!M&&!this._lock&&(this._lock=r=1,this.render(sn(k*v),!0).invalidate()._lock=0))}if(!this._initted){if(wx(this,o<0?o:g,r,s))return this._tTime=0,this;if(a!==this._time)return this;if(u!==this._dur)return this.render(o,s,r)}if(this._tTime=p,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=O=(R||this._ease)(g/u),this._from&&(this.ratio=O=1-O),g&&!a&&!s&&(pi(this,"onStart"),this._tTime!==p))return this;for(_=this._pt;_;)_.r(O,_.d),_=_._next;T&&T.render(o<0?o:!g&&M?-it:T._dur*T._ease(g/this._dur),s,r)||this._startAt&&(this._zTime=o),this._onUpdate&&!s&&(o<0&&this._startAt&&this._startAt.render(o,!0,r),pi(this,"onUpdate")),this._repeat&&v!==w&&this.vars.onRepeat&&!s&&this.parent&&pi(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(o<0&&this._startAt&&!this._onUpdate&&this._startAt.render(o,!0,!0),(o||!u)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&So(this,1),!s&&(!(o<0)||a)&&(p||a)&&(pi(this,p===l?"onComplete":"onReverseComplete",!0),this._prom&&!(p<l&&this.timeScale()>0)&&this._prom()))}}else!function(n,e,t,o){var u,p,g,s=n.ratio,r=e<0||!e&&(!n._start&&fz(n)&&(n._initted||!om(n))||(n._ts<0||n._dp._ts<0)&&!om(n))?0:1,a=n._rDelay,l=0;if(a&&n._repeat&&(l=eu(0,n._tDur,e),p=ya(l,a),n._yoyo&&1&p&&(r=1-r),p!==ya(n._tTime,a)&&(s=1-r,n.vars.repeatRefresh&&n._initted&&n.invalidate())),r!==s||o||n._zTime===it||!e&&n._zTime){if(!n._initted&&wx(n,e,o,t))return;for(g=n._zTime,n._zTime=e||(t?it:0),t||(t=e&&!g),n.ratio=r,n._from&&(r=1-r),n._time=0,n._tTime=l,u=n._pt;u;)u.r(r,u.d),u=u._next;n._startAt&&e<0&&n._startAt.render(e,!0,!0),n._onUpdate&&!t&&pi(n,"onUpdate"),l&&n._repeat&&!t&&n.parent&&pi(n,"onRepeat"),(e>=n._tDur||e<0)&&n.ratio===r&&(r&&So(n,1),t||(pi(n,r?"onComplete":"onReverseComplete",!0),n._prom&&n._prom()))}else n._zTime||(n._zTime=e)}(this,o,s,r);return this},e.targets=function(){return this._targets},e.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),i.prototype.invalidate.call(this)},e.resetTo=function(o,s,r,a){ou||$n.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||dm(this,l),function(n,e,t,o,s,r,a){var u,p,g,l=(n._pt&&n._ptCache||(n._ptCache={}))[e];if(!l)for(l=n._ptCache[e]=[],p=n._ptLookup,g=n._targets.length;g--;){if((u=p[g][e])&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==e;)u=u._next;if(!u)return hm=1,n.vars[e]="+=0",dm(n,a),hm=0,1;l.push(u)}for(g=l.length;g--;)(u=l[g]).s=!o&&0!==o||s?u.s+(o||0)+r*u.c:o,u.c=t-u.s,u.e&&(u.e=kt(t)+rn(u.e)),u.b&&(u.b=u.s+rn(u.b))}(this,o,s,r,a,this._ease(l/this._dur),l)?this.resetTo(o,s,r,a):(im(this,0),this.parent||vx(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(o,s){if(void 0===s&&(s="all"),!(o||s&&"all"!==s))return this._lazy=this._pt=0,this.parent?nu(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(o,s,ns&&!0!==ns.vars.overwrite)._first||nu(this),this.parent&&r!==this.timeline.totalDuration()&&Ca(this,this._dur*this.timeline._tDur/r,0,1),this}var g,_,v,k,w,M,O,a=this._targets,l=o?di(o):a,u=this._ptLookup,p=this._pt;if((!s||"all"===s)&&function(n,e){for(var t=n.length,o=t===e.length;o&&t--&&n[t]===e[t];);return t<0}(a,l))return"all"===s&&(this._pt=0),nu(this);for(g=this._op=this._op||[],"all"!==s&&(Ht(s)&&(w={},Sn(s,function(T){return w[T]=1}),s=w),s=function(n,e){var s,r,a,l,t=n[0]?js(n[0]).harness:0,o=t&&t.aliases;if(!o)return e;for(r in s=Hs({},e),o)if(r in s)for(a=(l=o[r].split(",")).length;a--;)s[l[a]]=s[r];return s}(a,s)),O=a.length;O--;)if(~l.indexOf(a[O]))for(w in _=u[O],"all"===s?(g[O]=s,k=_,v={}):(v=g[O]=g[O]||{},k=s),k)(M=_&&_[w])&&((!("kill"in M.d)||!0===M.d.kill(w))&&Wh(this,M,"_pt"),delete _[w]),"all"!==v&&(v[w]=1);return this._initted&&!this._pt&&p&&nu(this),this},n.to=function(o,s){return new n(o,s,arguments[2])},n.from=function(o,s){return Jl(1,arguments)},n.delayedCall=function(o,s,r,a){return new n(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:o,onComplete:s,onReverseComplete:s,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:a})},n.fromTo=function(o,s,r){return Jl(2,arguments)},n.set=function(o,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new n(o,s)},n.killTweensOf=function(o,s,r){return mt.killTweensOf(o,s,r)},n}(su);ci($t.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Sn("staggerTo,staggerFrom,staggerFromTo",function(i){$t[i]=function(){var n=new Mn,e=sm.call(arguments,0);return e.splice("staggerFromTo"===i?5:4,0,0),n[i].apply(n,e)}});var pm=function(n,e,t){return n[e]=t},Hx=function(n,e,t){return n[e](t)},Lz=function(n,e,t,o){return n[e](o.fp,t)},zz=function(n,e,t){return n.setAttribute(e,t)},fm=function(n,e){return Ut(n[e])?Hx:Y0(n[e])&&n.setAttribute?zz:pm},Ux=function(n,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*n))/1e6,e)},Gz=function(n,e){return e.set(e.t,e.p,!!(e.s+e.c*n),e)},$x=function(n,e){var t=e._pt,o="";if(!n&&e.b)o=e.b;else if(1===n&&e.e)o=e.e;else{for(;t;)o=t.p+(t.m?t.m(t.s+t.c*n):Math.round(1e4*(t.s+t.c*n))/1e4)+o,t=t._next;o+=e.c}e.set(e.t,e.p,o,e)},gm=function(n,e){for(var t=e._pt;t;)t.r(n,t.d),t=t._next},jz=function(n,e,t,o){for(var r,s=this._pt;s;)r=s._next,s.p===o&&s.modifier(n,e,t),s=r},Hz=function(n){for(var t,o,e=this._pt;e;)o=e._next,e.p===n&&!e.op||e.op===n?Wh(this,e,"_pt"):e.dep||(t=1),e=o;return!t},Uz=function(n,e,t,o){o.mSet(n,e,o.m.call(o.tween,t,o.mt),o)},Yx=function(n){for(var t,o,s,r,e=n._pt;e;){for(t=e._next,o=s;o&&o.pr>e.pr;)o=o._next;(e._prev=o?o._prev:r)?e._prev._next=e:s=e,(e._next=o)?o._prev=e:r=e,e=t}n._pt=s},Dn=function(){function i(e,t,o,s,r,a,l,u,p){this.t=t,this.s=s,this.c=r,this.p=o,this.r=a||Ux,this.d=l||this,this.set=u||pm,this.pr=p||0,this._next=e,e&&(e._prev=this)}return i.prototype.modifier=function(t,o,s){this.mSet=this.mSet||this.set,this.set=Uz,this.m=t,this.mt=s,this.tween=o},i}();Sn(tm+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return Q0[i]=1}),Hn.TweenMax=Hn.TweenLite=$t,Hn.TimelineLite=Hn.TimelineMax=Mn,mt=new Mn({sortChildren:!1,defaults:ma,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),jn.stringFilter=Fx;var Xh={registerPlugin:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e.forEach(function(o){return Mz(o)})},timeline:function(n){return new Mn(n)},getTweensOf:function(n,e){return mt.getTweensOf(n,e)},getProperty:function(n,e,t,o){Ht(n)&&(n=di(n)[0]);var s=js(n||{}).get,r=t?mx:gx;return"native"===t&&(t=""),n&&(e?r((Un[e]&&Un[e].get||s)(n,e,t,o)):function(a,l,u){return r((Un[a]&&Un[a].get||s)(n,a,l,u))})},quickSetter:function(n,e,t){if((n=di(n)).length>1){var o=n.map(function(p){return Ei.quickSetter(p,e,t)}),s=o.length;return function(p){for(var g=s;g--;)o[g](p)}}var r=Un[e],a=js(n=n[0]||{}),l=a.harness&&(a.harness.aliases||{})[e]||e,u=r?function(p){var g=new r;ba._pt=0,g.init(n,t?p+t:p,ba,0,[n]),g.render(1,g),ba._pt&&gm(1,ba)}:a.set(n,l);return r?u:function(p){return u(n,l,t?p+t:p,a,1)}},quickTo:function(n,e,t){var o,s=Ei.to(n,Hs(((o={})[e]="+=0.1",o.paused=!0,o),t||{})),r=function(l,u,p){return s.resetTo(e,l,u,p)};return r.tween=s,r},isTweening:function(n){return mt.getTweensOf(n,!0).length>0},defaults:function(n){return n&&n.ease&&(n.ease=$s(n.ease,ma.ease)),_x(ma,n||{})},config:function(n){return _x(jn,n||{})},registerEffect:function(n){var e=n.name,t=n.effect,s=n.defaults,r=n.extendTimeline;(n.plugins||"").split(",").forEach(function(a){return a&&!Un[a]&&!Hn[a]&&Hh(e+" effect requires "+a+" plugin.")}),em[e]=function(a,l,u){return t(di(a),ci(l||{},s),u)},r&&(Mn.prototype[e]=function(a,l,u){return this.add(em[e](a,Po(l)?l:(u=l)&&{},this),u)})},registerEase:function(n,e){Fe[n]=$s(e)},parseEase:function(n,e){return arguments.length?$s(n,e):Fe},getById:function(n){return mt.getById(n)},exportRoot:function(n,e){void 0===n&&(n={});var o,s,t=new Mn(n);for(t.smoothChildTiming=Pn(n.smoothChildTiming),mt.remove(t),t._dp=0,t._time=t._tTime=mt._time,o=mt._first;o;)s=o._next,(e||!(!o._dur&&o instanceof $t&&o.vars.onComplete===o._targets[0]))&&Zi(t,o,o._start-o._delay),o=s;return Zi(mt,t,0),t},utils:{wrap:function i(n,e,t){var o=e-n;return on(n)?Ex(n,i(0,n.length),e):es(t,function(s){return(o+(s-n)%o)%o+n})},wrapYoyo:function i(n,e,t){var o=e-n,s=2*o;return on(n)?Ex(n,i(0,n.length-1),e):es(t,function(r){return n+((r=(s+(r-n)%s)%s||0)>o?s-r:r)})},distribute:Sx,random:Dx,snap:Mx,normalize:function(n,e,t){return Tx(n,e,0,1,t)},getUnit:rn,clamp:function(n,e,t){return es(t,function(o){return eu(n,e,o)})},splitColor:Ix,toArray:di,selector:function(n){return n=di(n)[0]||Hh("Invalid scope")||{},function(e){var t=n.current||n.nativeElement||n;return di(e,t.querySelectorAll?t:t===n?Hh("Invalid scope")||X0.createElement("div"):n)}},mapRange:Tx,pipe:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(o){return e.reduce(function(s,r){return r(s)},o)}},unitize:function(n,e){return function(t){return n(parseFloat(t))+(e||rn(t))}},interpolate:function i(n,e,t,o){var s=isNaN(n+e)?0:function(v){return(1-v)*n+v*e};if(!s){var l,u,p,g,_,r=Ht(n),a={};if(!0===t&&(o=1)&&(t=null),r)n={p:n},e={p:e};else if(on(n)&&!on(e)){for(p=[],_=(g=n.length)-2,u=1;u<g;u++)p.push(i(n[u-1],n[u]));g--,s=function(k){k*=g;var w=Math.min(_,~~k);return p[w](k-w)},t=e}else o||(n=Hs(on(n)?[]:{},n));if(!p){for(l in e)cm.call(a,n,l,"get",e[l]);s=function(k){return gm(k,a)||(r?n.p:n)}}}return es(t,s)},shuffle:Px},install:ux,effects:em,ticker:$n,updateRoot:Mn.updateRoot,plugins:Un,globalTimeline:mt,core:{PropTween:Dn,globals:cx,Tween:$t,Timeline:Mn,Animation:su,getCache:js,_removeLinkedListItem:Wh,suppressOverwrites:function(n){return U0=n}}};Sn("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return Xh[i]=$t[i]}),$n.add(Mn.updateRoot),ba=Xh.to({},{duration:0});var $z=function(n,e){for(var t=n._pt;t&&t.p!==e&&t.op!==e&&t.fp!==e;)t=t._next;return t},mm=function(n,e){return{name:n,rawVars:1,init:function(o,s,r){r._onInit=function(a){var l,u;if(Ht(s)&&(l={},Sn(s,function(p){return l[p]=1}),s=l),e){for(u in l={},s)l[u]=e(s[u]);s=l}!function(n,e){var o,s,r,t=n._targets;for(o in e)for(s=t.length;s--;)(r=n._ptLookup[s][o])&&(r=r.d)&&(r._pt&&(r=$z(r,o)),r&&r.modifier&&r.modifier(e[o],n,t[s],o))}(a,s)}}}},Ei=Xh.registerPlugin({name:"attr",init:function(n,e,t,o,s){var r,a;for(r in e)(a=this.add(n,"setAttribute",(n.getAttribute(r)||0)+"",e[r],o,s,0,0,r))&&(a.op=r),this._props.push(r)}},{name:"endArray",init:function(n,e){for(var t=e.length;t--;)this.add(n,t,n[t]||0,e[t])}},mm("roundProps",rm),mm("modifiers"),mm("snap",Mx))||Xh;$t.version=Mn.version=Ei.version="3.10.4",lx=1,ix()&&wa();var Wx,is,xa,_m,Ws,qx,ek,os={},qs=180/Math.PI,ka=Math.PI/180,Pa=Math.atan2,Zx=1e8,Xx=/([A-Z])/g,Zz=/(left|right|width|margin|padding|x)/i,Xz=/[\s,\(]\S/,ss={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Kx=function(n,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*n))/1e4+e.u,e)},Kz=function(n,e){return e.set(e.t,e.p,1===n?e.e:Math.round(1e4*(e.s+e.c*n))/1e4+e.u,e)},Qz=function(n,e){return e.set(e.t,e.p,n?Math.round(1e4*(e.s+e.c*n))/1e4+e.u:e.b,e)},Jz=function(n,e){var t=e.s+e.c*n;e.set(e.t,e.p,~~(t+(t<0?-.5:.5))+e.u,e)},Qx=function(n,e){return e.set(e.t,e.p,n?e.e:e.b,e)},Jx=function(n,e){return e.set(e.t,e.p,1!==n?e.b:e.e,e)},eG=function(n,e,t){return n.style[e]=t},tG=function(n,e,t){return n.style.setProperty(e,t)},nG=function(n,e,t){return n._gsap[e]=t},iG=function(n,e,t){return n._gsap.scaleX=n._gsap.scaleY=t},oG=function(n,e,t,o,s){var r=n._gsap;r.scaleX=r.scaleY=t,r.renderTransform(s,r)},sG=function(n,e,t,o,s){var r=n._gsap;r[e]=t,r.renderTransform(s,r)},Qt="transform",rs=Qt+"Origin",vm=function(n,e){var t=is.createElementNS?is.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),n):is.createElement(n);return t.style?t:is.createElement(n)},Mo=function i(n,e,t){var o=getComputedStyle(n);return o[e]||o.getPropertyValue(e.replace(Xx,"-$1").toLowerCase())||o.getPropertyValue(e)||!t&&i(n,Sa(e)||e,1)||""},tk="O,Moz,ms,Ms,Webkit".split(","),Sa=function(n,e,t){var s=(e||Ws).style,r=5;if(n in s&&!t)return n;for(n=n.charAt(0).toUpperCase()+n.substr(1);r--&&!(tk[r]+n in s););return r<0?null:(3===r?"ms":r>=0?tk[r]:"")+n},ym=function(){"undefined"!=typeof window&&window.document&&(Wx=window,xa=(is=Wx.document).documentElement,Ws=vm("div")||{style:{}},vm("div"),Qt=Sa(Qt),rs=Qt+"Origin",Ws.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ek=!!Sa("perspective"),_m=1)},Cm=function i(n){var r,e=vm("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),t=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(xa.appendChild(e),e.appendChild(this),this.style.display="block",n)try{r=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=i}catch(a){}else this._gsapBBox&&(r=this._gsapBBox());return t&&(o?t.insertBefore(this,o):t.appendChild(this)),xa.removeChild(e),this.style.cssText=s,r},nk=function(n,e){for(var t=e.length;t--;)if(n.hasAttribute(e[t]))return n.getAttribute(e[t])},ik=function(n){var e;try{e=n.getBBox()}catch(t){e=Cm.call(n,!0)}return e&&(e.width||e.height)||n.getBBox===Cm||(e=Cm.call(n,!0)),!e||e.width||e.x||e.y?e:{x:+nk(n,["x","cx","x1"])||0,y:+nk(n,["y","cy","y1"])||0,width:0,height:0}},ok=function(n){return!(!n.getCTM||n.parentNode&&!n.ownerSVGElement||!ik(n))},au=function(n,e){if(e){var t=n.style;e in os&&e!==rs&&(e=Qt),t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(Xx,"-$1").toLowerCase())):t.removeAttribute(e)}},as=function(n,e,t,o,s,r){var a=new Dn(n._pt,e,t,0,1,r?Jx:Qx);return n._pt=a,a.b=o,a.e=s,n._props.push(t),a},sk={deg:1,rad:1,turn:1},ls=function i(n,e,t,o){var k,w,M,O,s=parseFloat(t)||0,r=(t+"").trim().substr((s+"").length)||"px",a=Ws.style,l=Zz.test(e),u="svg"===n.tagName.toLowerCase(),p=(u?"client":"offset")+(l?"Width":"Height"),g=100,_="px"===o,v="%"===o;return o===r||!s||sk[o]||sk[r]?s:("px"!==r&&!_&&(s=i(n,e,t,"px")),O=n.getCTM&&ok(n),!v&&"%"!==r||!os[e]&&!~e.indexOf("adius")?(a[l?"width":"height"]=g+(_?r:o),w=~e.indexOf("adius")||"em"===o&&n.appendChild&&!u?n:n.parentNode,O&&(w=(n.ownerSVGElement||{}).parentNode),(!w||w===is||!w.appendChild)&&(w=is.body),(M=w._gsap)&&v&&M.width&&l&&M.time===$n.time?kt(s/M.width*g):((v||"%"===r)&&(a.position=Mo(n,"position")),w===n&&(a.position="static"),w.appendChild(Ws),k=Ws[p],w.removeChild(Ws),a.position="absolute",l&&v&&((M=js(w)).time=$n.time,M.width=w[p]),kt(_?k*s/g:k&&s?g/k*s:0))):(k=O?n.getBBox()[l?"width":"height"]:n[p],kt(v?s/k*g:s/100*k)))},Zs=function(n,e,t,o){var s;return _m||ym(),e in ss&&"transform"!==e&&~(e=ss[e]).indexOf(",")&&(e=e.split(",")[0]),os[e]&&"transform"!==e?(s=uu(n,o),s="transformOrigin"!==e?s[e]:s.svg?s.origin:Qh(Mo(n,rs))+" "+s.zOrigin+"px"):(!(s=n.style[e])||"auto"===s||o||~(s+"").indexOf("calc("))&&(s=Kh[e]&&Kh[e](n,e,t)||Mo(n,e)||px(n,e)||("opacity"===e?1:0)),t&&!~(s+"").trim().indexOf(" ")?ls(n,e,s,t)+t:s},rG=function(n,e,t,o){if(!t||"none"===t){var s=Sa(e,n,1),r=s&&Mo(n,s,1);r&&r!==t?(e=s,t=r):"borderColor"===e&&(t=Mo(n,"borderTopColor"))}var p,g,_,v,k,w,M,O,T,R,N,a=new Dn(this._pt,n.style,e,0,1,$x),l=0,u=0;if(a.b=t,a.e=o,t+="","auto"==(o+="")&&(n.style[e]=o,o=Mo(n,e)||o,n.style[e]=t),Fx(p=[t,o]),o=p[1],_=(t=p[0]).match(_a)||[],(o.match(_a)||[]).length){for(;g=_a.exec(o);)M=g[0],T=o.substring(l,g.index),k?k=(k+1)%5:("rgba("===T.substr(-5)||"hsla("===T.substr(-5))&&(k=1),M!==(w=_[u++]||"")&&(v=parseFloat(w)||0,N=w.substr((v+"").length),"="===M.charAt(1)&&(M=va(v,M)+N),O=parseFloat(M),R=M.substr((O+"").length),l=_a.lastIndex-R.length,R||(R=R||jn.units[e]||N,l===o.length&&(o+=R,a.e+=R)),N!==R&&(v=ls(n,e,w,R)||0),a._pt={_next:a._pt,p:T||1===u?T:",",s:v,c:O-v,m:k&&k<4||"zIndex"===e?Math.round:0});a.c=l<o.length?o.substring(l,o.length):""}else a.r="display"===e&&"none"===o?Jx:Qx;return rx.test(o)&&(a.e=0),this._pt=a,a},rk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},aG=function(n){var e=n.split(" "),t=e[0],o=e[1]||"50%";return("top"===t||"bottom"===t||"left"===o||"right"===o)&&(n=t,t=o,o=n),e[0]=rk[t]||t,e[1]=rk[o]||o,e.join(" ")},lG=function(n,e){if(e.tween&&e.tween._time===e.tween._dur){var a,l,u,t=e.t,s=e.u,r=t._gsap;if("all"===s||!0===s)t.style.cssText="",l=1;else for(u=(s=s.split(",")).length;--u>-1;)os[a=s[u]]&&(l=1,a="transformOrigin"===a?rs:Qt),au(t,a);l&&(au(t,Qt),r&&(r.svg&&t.removeAttribute("transform"),uu(t,1),r.uncache=1))}},Kh={clearProps:function(n,e,t,o,s){if("isFromStart"!==s.data){var r=n._pt=new Dn(n._pt,e,t,0,0,lG);return r.u=o,r.pr=-10,r.tween=s,n._props.push(t),1}}},lu=[1,0,0,1,0,0],ak={},lk=function(n){return"matrix(1, 0, 0, 1, 0, 0)"===n||"none"===n||!n},uk=function(n){var e=Mo(n,Qt);return lk(e)?lu:e.substr(7).match(sx).map(kt)},bm=function(n,e){var r,a,l,u,t=n._gsap||js(n),o=n.style,s=uk(n);return t.svg&&n.getAttribute("transform")?"1,0,0,1,0,0"===(s=[(l=n.transform.baseVal.consolidate().matrix).a,l.b,l.c,l.d,l.e,l.f]).join(",")?lu:s:(s===lu&&!n.offsetParent&&n!==xa&&!t.svg&&(l=o.display,o.display="block",(!(r=n.parentNode)||!n.offsetParent)&&(u=1,a=n.nextSibling,xa.appendChild(n)),s=uk(n),l?o.display=l:au(n,"display"),u&&(a?r.insertBefore(n,a):r?r.appendChild(n):xa.removeChild(n))),e&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},wm=function(n,e,t,o,s,r){var z,U,W,a=n._gsap,l=s||bm(n,!0),u=a.xOrigin||0,p=a.yOrigin||0,g=a.xOffset||0,_=a.yOffset||0,v=l[0],k=l[1],w=l[2],M=l[3],O=l[4],T=l[5],R=e.split(" "),N=parseFloat(R[0])||0,B=parseFloat(R[1])||0;t?l!==lu&&(U=v*M-k*w)&&(W=N*(-k/U)+B*(v/U)-(v*T-k*O)/U,N=N*(M/U)+B*(-w/U)+(w*T-M*O)/U,B=W):(N=(z=ik(n)).x+(~R[0].indexOf("%")?N/100*z.width:N),B=z.y+(~(R[1]||R[0]).indexOf("%")?B/100*z.height:B)),o||!1!==o&&a.smooth?(a.xOffset=g+((O=N-u)*v+(T=B-p)*w)-O,a.yOffset=_+(O*k+T*M)-T):a.xOffset=a.yOffset=0,a.xOrigin=N,a.yOrigin=B,a.smooth=!!o,a.origin=e,a.originIsAbsolute=!!t,n.style[rs]="0px 0px",r&&(as(r,a,"xOrigin",u,N),as(r,a,"yOrigin",p,B),as(r,a,"xOffset",g,a.xOffset),as(r,a,"yOffset",_,a.yOffset)),n.setAttribute("data-svg-origin",N+" "+B)},uu=function(n,e){var t=n._gsap||new Lx(n);if("x"in t&&!e&&!t.uncache)return t;var u,p,g,_,v,k,w,M,O,T,R,N,B,z,U,Q,W,de,Ue,Ke,je,We,st,Y,ie,le,Pe,dt,Yt,ln,Wt,qe,o=n.style,s=t.scaleX<0,r="px",a="deg",l=Mo(n,rs)||"0";return u=p=g=k=w=M=O=T=R=0,_=v=1,t.svg=!(!n.getCTM||!ok(n)),z=bm(n,t.svg),t.svg&&(Y=(!t.uncache||"0px 0px"===l)&&!e&&n.getAttribute("data-svg-origin"),wm(n,Y||l,!!Y||t.originIsAbsolute,!1!==t.smooth,z)),N=t.xOrigin||0,B=t.yOrigin||0,z!==lu&&(de=z[0],Ue=z[1],Ke=z[2],je=z[3],u=We=z[4],p=st=z[5],6===z.length?(_=Math.sqrt(de*de+Ue*Ue),v=Math.sqrt(je*je+Ke*Ke),k=de||Ue?Pa(Ue,de)*qs:0,(O=Ke||je?Pa(Ke,je)*qs+k:0)&&(v*=Math.abs(Math.cos(O*ka))),t.svg&&(u-=N-(N*de+B*Ke),p-=B-(N*Ue+B*je))):(ln=z[7],Pe=z[8],dt=z[9],Wt=z[11],u=z[12],p=z[13],g=z[14],w=(U=Pa(qe=z[6],Yt=z[10]))*qs,U&&(Y=We*(Q=Math.cos(-U))+Pe*(W=Math.sin(-U)),ie=st*Q+dt*W,le=qe*Q+Yt*W,Pe=We*-W+Pe*Q,dt=st*-W+dt*Q,Yt=qe*-W+Yt*Q,Wt=ln*-W+Wt*Q,We=Y,st=ie,qe=le),M=(U=Pa(-Ke,Yt))*qs,U&&(Q=Math.cos(-U),Wt=je*(W=Math.sin(-U))+Wt*Q,de=Y=de*Q-Pe*W,Ue=ie=Ue*Q-dt*W,Ke=le=Ke*Q-Yt*W),k=(U=Pa(Ue,de))*qs,U&&(Y=de*(Q=Math.cos(U))+Ue*(W=Math.sin(U)),ie=We*Q+st*W,Ue=Ue*Q-de*W,st=st*Q-We*W,de=Y,We=ie),w&&Math.abs(w)+Math.abs(k)>359.9&&(w=k=0,M=180-M),_=kt(Math.sqrt(de*de+Ue*Ue+Ke*Ke)),v=kt(Math.sqrt(st*st+qe*qe)),U=Pa(We,st),O=Math.abs(U)>2e-4?U*qs:0,R=Wt?1/(Wt<0?-Wt:Wt):0),t.svg&&(Y=n.getAttribute("transform"),t.forceCSS=n.setAttribute("transform","")||!lk(Mo(n,Qt)),Y&&n.setAttribute("transform",Y))),Math.abs(O)>90&&Math.abs(O)<270&&(s?(_*=-1,O+=k<=0?180:-180,k+=k<=0?180:-180):(v*=-1,O+=O<=0?180:-180)),e=e||t.uncache,t.x=u-((t.xPercent=u&&(!e&&t.xPercent||(Math.round(n.offsetWidth/2)===Math.round(-u)?-50:0)))?n.offsetWidth*t.xPercent/100:0)+r,t.y=p-((t.yPercent=p&&(!e&&t.yPercent||(Math.round(n.offsetHeight/2)===Math.round(-p)?-50:0)))?n.offsetHeight*t.yPercent/100:0)+r,t.z=g+r,t.scaleX=kt(_),t.scaleY=kt(v),t.rotation=kt(k)+a,t.rotationX=kt(w)+a,t.rotationY=kt(M)+a,t.skewX=O+a,t.skewY=T+a,t.transformPerspective=R+r,(t.zOrigin=parseFloat(l.split(" ")[2])||0)&&(o[rs]=Qh(l)),t.xOffset=t.yOffset=0,t.force3D=jn.force3D,t.renderTransform=t.svg?cG:ek?ck:uG,t.uncache=0,t},Qh=function(n){return(n=n.split(" "))[0]+" "+n[1]},xm=function(n,e,t){var o=rn(e);return kt(parseFloat(e)+parseFloat(ls(n,"x",t+"px",o)))+o},uG=function(n,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,ck(n,e)},Xs="0deg",cu="0px",Ks=") ",ck=function(n,e){var t=e||this,o=t.xPercent,s=t.yPercent,r=t.x,a=t.y,l=t.z,u=t.rotation,p=t.rotationY,g=t.rotationX,_=t.skewX,v=t.skewY,k=t.scaleX,w=t.scaleY,M=t.transformPerspective,O=t.force3D,T=t.target,R=t.zOrigin,N="",B="auto"===O&&n&&1!==n||!0===O;if(R&&(g!==Xs||p!==Xs)){var W,z=parseFloat(p)*ka,U=Math.sin(z),Q=Math.cos(z);z=parseFloat(g)*ka,W=Math.cos(z),r=xm(T,r,U*W*-R),a=xm(T,a,-Math.sin(z)*-R),l=xm(T,l,Q*W*-R+R)}M!==cu&&(N+="perspective("+M+Ks),(o||s)&&(N+="translate("+o+"%, "+s+"%) "),(B||r!==cu||a!==cu||l!==cu)&&(N+=l!==cu||B?"translate3d("+r+", "+a+", "+l+") ":"translate("+r+", "+a+Ks),u!==Xs&&(N+="rotate("+u+Ks),p!==Xs&&(N+="rotateY("+p+Ks),g!==Xs&&(N+="rotateX("+g+Ks),(_!==Xs||v!==Xs)&&(N+="skew("+_+", "+v+Ks),(1!==k||1!==w)&&(N+="scale("+k+", "+w+Ks),T.style[Qt]=N||"translate(0, 0)"},cG=function(n,e){var B,z,U,Q,W,t=e||this,o=t.xPercent,s=t.yPercent,r=t.x,a=t.y,l=t.rotation,u=t.skewX,p=t.skewY,g=t.scaleX,_=t.scaleY,v=t.target,k=t.xOrigin,w=t.yOrigin,M=t.xOffset,O=t.yOffset,T=t.forceCSS,R=parseFloat(r),N=parseFloat(a);l=parseFloat(l),u=parseFloat(u),(p=parseFloat(p))&&(u+=p=parseFloat(p),l+=p),l||u?(l*=ka,u*=ka,B=Math.cos(l)*g,z=Math.sin(l)*g,U=Math.sin(l-u)*-_,Q=Math.cos(l-u)*_,u&&(p*=ka,W=Math.tan(u-p),U*=W=Math.sqrt(1+W*W),Q*=W,p&&(W=Math.tan(p),B*=W=Math.sqrt(1+W*W),z*=W)),B=kt(B),z=kt(z),U=kt(U),Q=kt(Q)):(B=g,Q=_,z=U=0),(R&&!~(r+"").indexOf("px")||N&&!~(a+"").indexOf("px"))&&(R=ls(v,"x",r,"px"),N=ls(v,"y",a,"px")),(k||w||M||O)&&(R=kt(R+k-(k*B+w*U)+M),N=kt(N+w-(k*z+w*Q)+O)),(o||s)&&(W=v.getBBox(),R=kt(R+o/100*W.width),N=kt(N+s/100*W.height)),v.setAttribute("transform",W="matrix("+B+","+z+","+U+","+Q+","+R+","+N+")"),T&&(v.style[Qt]=W)},hG=function(n,e,t,o,s){var g,_,r=360,a=Ht(s),u=parseFloat(s)*(a&&~s.indexOf("rad")?qs:1)-o,p=o+u+"deg";return a&&("short"===(g=s.split("_")[1])&&(u%=r)!=u%180&&(u+=u<0?r:-r),"cw"===g&&u<0?u=(u+r*Zx)%r-~~(u/r)*r:"ccw"===g&&u>0&&(u=(u-r*Zx)%r-~~(u/r)*r)),n._pt=_=new Dn(n._pt,e,t,o,u,Kz),_.e=p,_.u="deg",n._props.push(t),_},hk=function(n,e){for(var t in e)n[t]=e[t];return n},dG=function(n,e,t){var a,l,u,p,g,_,k,o=hk({},t._gsap),r=t.style;for(l in o.svg?(u=t.getAttribute("transform"),t.setAttribute("transform",""),r[Qt]=e,a=uu(t,1),au(t,Qt),t.setAttribute("transform",u)):(u=getComputedStyle(t)[Qt],r[Qt]=e,a=uu(t,1),r[Qt]=u),os)(u=o[l])!==(p=a[l])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(l)<0&&(g=rn(u)!==(k=rn(p))?ls(t,l,u,k):parseFloat(u),_=parseFloat(p),n._pt=new Dn(n._pt,a,l,g,_-g,Kx),n._pt.u=k||0,n._props.push(l));hk(a,o)};Sn("padding,margin,Width,Radius",function(i,n){var e="Top",t="Right",o="Bottom",s="Left",r=(n<3?[e,t,o,s]:[e+s,e+t,o+t,o+s]).map(function(a){return n<2?i+a:"border"+a+i});Kh[n>1?"border"+i:i]=function(a,l,u,p,g){var _,v;if(arguments.length<4)return _=r.map(function(k){return Zs(a,k,u)}),5===(v=_.join(" ")).split(_[0]).length?_[0]:v;_=(p+"").split(" "),v={},r.forEach(function(k,w){return v[k]=_[w]=_[w]||_[(w-1)/2|0]}),a.init(l,v,g)}});var dk={name:"css",register:ym,targetTest:function(n){return n.style&&n.nodeType},init:function(n,e,t,o,s){var u,p,g,_,v,k,w,M,O,T,R,N,B,z,U,r=this._props,a=n.style,l=t.vars.startAt;for(w in _m||ym(),e)if("autoRound"!==w&&(p=e[w],!Un[w]||!zx(w,e,t,o,n,s)))if(k=Kh[w],"function"==(v=typeof p)&&(v=typeof(p=p.call(t,o,n,s))),"string"===v&&~p.indexOf("random(")&&(p=tu(p)),k)k(this,n,w,p,t)&&(U=1);else if("--"===w.substr(0,2))u=(getComputedStyle(n).getPropertyValue(w)+"").trim(),p+="",ts.lastIndex=0,ts.test(u)||(M=rn(u),O=rn(p)),O?M!==O&&(u=ls(n,w,u,O)+O):M&&(p+=M),this.add(a,"setProperty",u,p,o,s,0,0,w),r.push(w);else if("undefined"!==v){if(l&&w in l?(u="function"==typeof l[w]?l[w].call(t,o,n,s):l[w],Ht(u)&&~u.indexOf("random(")&&(u=tu(u)),rn(u+"")||(u+=jn.units[w]||rn(Zs(n,w))||""),"="===(u+"").charAt(1)&&(u=Zs(n,w))):u=Zs(n,w),_=parseFloat(u),(T="string"===v&&"="===p.charAt(1)&&p.substr(0,2))&&(p=p.substr(2)),g=parseFloat(p),w in ss&&("autoAlpha"===w&&(1===_&&"hidden"===Zs(n,"visibility")&&g&&(_=0),as(this,a,"visibility",_?"inherit":"hidden",g?"inherit":"hidden",!g)),"scale"!==w&&"transform"!==w&&~(w=ss[w]).indexOf(",")&&(w=w.split(",")[0])),R=w in os)if(N||((B=n._gsap).renderTransform&&!e.parseTransform||uu(n,e.parseTransform),z=!1!==e.smoothOrigin&&B.smooth,(N=this._pt=new Dn(this._pt,a,Qt,0,1,B.renderTransform,B,0,-1)).dep=1),"scale"===w)this._pt=new Dn(this._pt,B,"scaleY",B.scaleY,(T?va(B.scaleY,T+g):g)-B.scaleY||0),r.push("scaleY",w),w+="X";else{if("transformOrigin"===w){p=aG(p),B.svg?wm(n,p,0,z,0,this):((O=parseFloat(p.split(" ")[2])||0)!==B.zOrigin&&as(this,B,"zOrigin",B.zOrigin,O),as(this,a,w,Qh(u),Qh(p)));continue}if("svgOrigin"===w){wm(n,p,1,z,0,this);continue}if(w in ak){hG(this,B,w,_,T?va(_,T+p):p);continue}if("smoothOrigin"===w){as(this,B,"smooth",B.smooth,p);continue}if("force3D"===w){B[w]=p;continue}if("transform"===w){dG(this,p,n);continue}}else w in a||(w=Sa(w)||w);if(R||(g||0===g)&&(_||0===_)&&!Xz.test(p)&&w in a)g||(g=0),(M=(u+"").substr((_+"").length))!==(O=rn(p)||(w in jn.units?jn.units[w]:M))&&(_=ls(n,w,u,O)),this._pt=new Dn(this._pt,R?B:a,w,_,(T?va(_,T+g):g)-_,R||"px"!==O&&"zIndex"!==w||!1===e.autoRound?Kx:Jz),this._pt.u=O||0,M!==O&&"%"!==O&&(this._pt.b=u,this._pt.r=Qz);else if(w in a)rG.call(this,n,w,u,T?T+p:p);else{if(!(w in n)){K0(w,p);continue}this.add(n,w,u||n[w],T?T+p:p,o,s)}r.push(w)}U&&Yx(this)},get:Zs,aliases:ss,getSetter:function(n,e,t){var o=ss[e];return o&&o.indexOf(",")<0&&(e=o),e in os&&e!==rs&&(n._gsap.x||Zs(n,"x"))?t&&qx===t?"scale"===e?iG:nG:(qx=t||{})&&("scale"===e?oG:sG):n.style&&!Y0(n.style[e])?eG:~e.indexOf("-")?tG:fm(n,e)},core:{_removeProperty:au,_getMatrix:bm}};Ei.utils.checkPrefix=Sa,function(i,n,e,t){var o=Sn(i+","+n+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(s){os[s]=1});Sn(n,function(s){jn.units[s]="deg",ak[s]=1}),ss[o[13]]=i+","+n,Sn("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(s){var r=s.split(":");ss[r[1]]=o[r[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Sn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){jn.units[i]="px"}),Ei.registerPlugin(dk);var pk=Ei.registerPlugin(dk)||Ei;const pG=["svg"],fG=["group"];function gG(i,n){1&i&&(yi(),h(0,"svg",2,3),h(2,"g",4,5),m(4,"path",6),d(),d())}function mG(i,n){1&i&&(yi(),h(0,"svg",7,3),h(2,"g",8,5),m(4,"path",9),d(),d())}let _G=(()=>{class i{constructor(e,t,o){this.host=e,this.randomColorService=t,this.locationService=o}generatePoints(){this.tl.clear(),this.group.innerHTML="";let e=0;this.paths.forEach(t=>{const o=t.getTotalLength();for(let s=0;s<o;s+=3){const r=Math.random()*o,a=t.getPointAtLength(r),l=document.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("cx",a.x+60*(Math.random()-.5)),l.setAttribute("cy",a.y+60*(Math.random()-.5)),l.setAttribute("stroke","none"),l.setAttribute("r",""+(4*Math.random()+1)),this.group.appendChild(l),this.tl.to(l,{autoRound:!1,fill:this.randomColorService.get(),cx:a.x,cy:a.y,duration:"random(1, 3)",delay:5e-4*(e+r),ease:"power2.out"},0)}e+=o})}ngOnInit(){}ngAfterViewInit(){this.paths=this.svg.nativeElement.querySelectorAll("path"),this.group=this.gr.nativeElement,this.tl=pk.timeline({}),this.generatePoints()}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(n2),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-empty-giftlist"]],viewQuery:function(e,t){if(1&e&&(Xe(pG,5,q),Xe(fG,5,q)),2&e){let o;Ve(o=Le())&&(t.svg=o.first),Ve(o=Le())&&(t.gr=o.first)}},decls:2,vars:2,consts:[["width","431.64","height","139.202","viewBox","0 0 431.64 139.202","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","654.001","height","144.002","viewBox","0 0 654.001 144.002","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","431.64","height","139.202","viewBox","0 0 431.64 139.202","xmlns","http://www.w3.org/2000/svg"],["svg",""],["id","svgGroup","stroke-linecap","round","fill-rule","evenodd","font-size","9pt","stroke","#333333","stroke-width","0.2mm","fill","#33333300",2,"stroke","#333333","stroke-width","0.2mm","fill","#33333300"],["group",""],["d","M 107.4 139.202 L 84.8 139.202 Q 84.078 139.202 84.008 138.388 A 2.155 2.155 0 0 1 84 138.202 L 84.4 0.802 Q 84.4 0.167 84.904 0.036 A 1.179 1.179 0 0 1 85.2 0.002 L 109.6 0.002 A 1.538 1.538 0 0 1 110.605 0.38 A 2.472 2.472 0 0 1 111 0.802 L 129.2 27.202 L 147.4 0.802 A 2.472 2.472 0 0 1 147.795 0.38 A 1.538 1.538 0 0 1 148.8 0.002 L 173.4 0.002 Q 174.035 0.002 174.166 0.506 A 1.179 1.179 0 0 1 174.2 0.802 L 174.6 138.202 Q 174.6 139.111 173.938 139.194 A 1.121 1.121 0 0 1 173.8 139.202 L 151.2 139.202 Q 150.478 139.202 150.408 138.388 A 2.155 2.155 0 0 1 150.4 138.202 L 150.2 36.202 L 129.2 66.602 L 108.4 36.202 L 108.2 138.202 Q 108.2 139.111 107.538 139.194 A 1.121 1.121 0 0 1 107.4 139.202 Z M 65.4 139.202 L 0.8 139.202 Q 0.078 139.202 0.008 138.388 A 2.155 2.155 0 0 1 0 138.202 L 0.2 0.802 Q 0.2 0.167 0.704 0.036 A 1.179 1.179 0 0 1 1 0.002 L 65.2 0.002 Q 65.922 0.002 65.992 0.816 A 2.155 2.155 0 0 1 66 1.002 L 66 23.402 Q 66 24.037 65.496 24.168 A 1.179 1.179 0 0 1 65.2 24.202 L 24.2 24.202 L 24.2 55.402 L 65.2 55.402 Q 65.835 55.402 65.966 55.906 A 1.179 1.179 0 0 1 66 56.202 L 66.2 78.802 Q 66.2 79.437 65.696 79.568 A 1.179 1.179 0 0 1 65.4 79.602 L 24.2 79.602 L 24.2 114.602 L 65.4 114.602 Q 66.122 114.602 66.192 115.416 A 2.155 2.155 0 0 1 66.2 115.602 L 66.2 138.402 Q 66.2 139.037 65.696 139.168 A 1.179 1.179 0 0 1 65.4 139.202 Z M 404 139.202 L 381 139.202 A 0.63 0.63 0 0 1 380.724 139.145 Q 380.4 138.989 380.4 138.402 L 380.6 81.602 L 353.8 0.802 Q 353.614 0.058 354.293 0.006 A 1.402 1.402 0 0 1 354.4 0.002 L 376.6 0.002 Q 377.574 0.002 377.789 0.76 A 1.364 1.364 0 0 1 377.8 0.802 L 392.6 54.602 L 407.6 0.802 A 1.313 1.313 0 0 1 407.749 0.433 Q 408.013 0.002 408.6 0.002 L 431 0.002 A 1.16 1.16 0 0 1 431.242 0.025 Q 431.746 0.133 431.612 0.752 A 1.652 1.652 0 0 1 431.6 0.802 L 404.6 80.802 L 404.8 138.402 Q 404.8 139.037 404.296 139.168 A 1.179 1.179 0 0 1 404 139.202 Z M 325 139.202 L 302.4 139.202 Q 301.678 139.202 301.608 138.388 A 2.155 2.155 0 0 1 301.6 138.202 L 301.6 24.202 L 275.6 24.202 Q 274.806 24.202 274.643 23.572 A 1.473 1.473 0 0 1 274.6 23.202 L 274.8 0.802 Q 274.8 0.167 275.304 0.036 A 1.179 1.179 0 0 1 275.6 0.002 L 351.6 0.002 Q 352.51 0.002 352.592 0.664 A 1.121 1.121 0 0 1 352.6 0.802 L 352.6 23.202 Q 352.6 24.111 351.938 24.194 A 1.121 1.121 0 0 1 351.8 24.202 L 325.6 24.202 L 325.8 138.202 Q 325.8 139.111 325.138 139.194 A 1.121 1.121 0 0 1 325 139.202 Z M 214.8 139.202 L 192.4 139.202 Q 191.606 139.202 191.443 138.572 A 1.473 1.473 0 0 1 191.4 138.202 L 191.8 0.802 Q 191.8 0.167 192.304 0.036 A 1.179 1.179 0 0 1 192.6 0.002 L 231 0.002 A 48.763 48.763 0 0 1 243.474 1.512 A 34.788 34.788 0 0 1 260.1 11.202 A 37.378 37.378 0 0 1 269.418 28.835 A 55.641 55.641 0 0 1 270.8 41.602 A 60.613 60.613 0 0 1 269.65 53.69 A 45.241 45.241 0 0 1 265.2 66.202 A 45.21 45.21 0 0 1 258.058 76.141 A 38.468 38.468 0 0 1 250.6 82.202 Q 241.6 87.802 231 87.802 L 215.8 87.802 L 215.8 138.202 Q 215.8 138.995 215.17 139.159 A 1.473 1.473 0 0 1 214.8 139.202 Z M 215.8 24.002 L 215.8 63.602 L 231 63.602 A 12.6 12.6 0 0 0 239.483 60.312 A 19.376 19.376 0 0 0 242.1 57.502 A 21.695 21.695 0 0 0 245.948 49.276 Q 246.693 46.212 246.787 42.635 A 39.66 39.66 0 0 0 246.8 41.602 A 23.722 23.722 0 0 0 246.133 35.831 A 17.291 17.291 0 0 0 242.6 28.802 A 13.724 13.724 0 0 0 233.449 23.95 A 19.672 19.672 0 0 0 231 23.802 L 215.8 24.002 Z","vector-effect","non-scaling-stroke"],["width","654.001","height","144.002","viewBox","0 0 654.001 144.002","xmlns","http://www.w3.org/2000/svg"],["id","svgGroup","stroke-linecap","round","fill-rule","evenodd","font-size","9pt","stroke","#333333","stroke-width","0.25mm","fill","#33333300",2,"stroke","#333333","stroke-width","0.25mm","fill","#33333300"],["d","M 122 2.001 L 122 142.001 L 86 142.001 L 86 30.001 L 36 30.001 L 36 142.001 L 0 142.001 L 0 2.001 L 122 2.001 Z M 388 113.001 L 388 140.001 A 1269.422 1269.422 0 0 1 359.134 142.278 Q 346.214 143.14 334.93 143.57 A 551.294 551.294 0 0 1 314 144.001 A 66.273 66.273 0 0 1 303.538 143.232 Q 298.054 142.354 293.706 140.47 A 27.114 27.114 0 0 1 285.2 134.801 A 28.032 28.032 0 0 1 278.753 124.332 Q 277.161 119.933 276.49 114.493 A 69.439 69.439 0 0 1 276 106.001 L 276 42.001 Q 276 21.001 285.5 11.501 A 28.3 28.3 0 0 1 295.562 5.176 Q 303.859 2.001 316 2.001 L 388 2.001 L 388 30.001 L 324 30.001 Q 314.478 30.001 312.512 37.557 A 17.679 17.679 0 0 0 312 42.001 L 312 106.001 A 12.66 12.66 0 0 0 312.364 109.123 A 8.875 8.875 0 0 0 314.7 113.301 A 9.11 9.11 0 0 0 320.573 115.959 A 12.246 12.246 0 0 0 321.6 116.001 Q 325.8 116.001 330.8 115.901 A 594.385 594.385 0 0 0 338.525 115.695 A 667.047 667.047 0 0 0 341.2 115.601 Q 346.6 115.401 352.1 115.201 Q 357.6 115.001 366.3 114.401 A 1888.095 1888.095 0 0 1 370.919 114.089 Q 378.014 113.617 387.374 113.04 A 5192.703 5192.703 0 0 1 388 113.001 Z M 159 142.001 L 159 115.001 L 177 115.001 Q 182.8 115.001 185 110.401 Q 186 108.401 186 106.101 A 9.033 9.033 0 0 0 185.692 103.703 A 7.666 7.666 0 0 0 185 102.001 L 130 2.001 L 170 2.001 L 206 73.001 L 236 2.001 L 276 2.001 L 225 112.001 A 84.906 84.906 0 0 1 219.607 122.324 Q 214.478 130.604 208.2 135.601 Q 197.4 144.001 179.6 144.001 A 109.031 109.031 0 0 1 162.298 142.577 A 122.955 122.955 0 0 1 159 142.001 Z M 472 30.001 L 472 142.001 L 436 142.001 L 436 30.001 L 394 30.001 L 394 2.001 L 514 2.001 L 514 30.001 L 472 30.001 Z M 654 40.001 L 654 104.001 Q 654 125.001 644.5 134.501 A 28.3 28.3 0 0 1 634.438 140.826 Q 626.141 144.001 614 144.001 L 564 144.001 Q 543 144.001 533.5 134.501 A 28.3 28.3 0 0 1 527.175 124.439 Q 524 116.142 524 104.001 L 524 40.001 Q 524 19.001 533.5 9.501 A 28.3 28.3 0 0 1 543.562 3.176 Q 551.859 0.001 564 0.001 L 614 0.001 Q 635 0.001 644.5 9.501 A 28.3 28.3 0 0 1 650.825 19.564 Q 654 27.861 654 40.001 Z M 618 104.001 L 618 40.001 Q 618 30.479 610.444 28.513 A 17.679 17.679 0 0 0 606 28.001 L 572 28.001 Q 562.478 28.001 560.512 35.557 A 17.679 17.679 0 0 0 560 40.001 L 560 104.001 Q 560 113.523 567.556 115.49 A 17.679 17.679 0 0 0 572 116.001 L 606 116.001 Q 615.522 116.001 617.488 108.445 A 17.679 17.679 0 0 0 618 104.001 Z","vector-effect","non-scaling-stroke"]],template:function(e,t){1&e&&(S(0,gG,5,0,"svg",0),S(1,mG,5,0,"svg",1)),2&e&&(f("ngIf","us"===t.locationService.location().country.code),c(1),f("ngIf","ru"===t.locationService.location().country.code))},directives:[Re],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{opacity:0}"]}),i})();const vG=["displayRef"],yG=["*"];let fk=(()=>{class i{constructor(){this.close=new L}onClick(e){this.displayRef.nativeElement.contains(e.target)||this.close.emit()}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=X({type:i,selectors:[["app-desktop-dialog"]],viewQuery:function(e,t){if(1&e&&Xe(vG,5),2&e){let o;Ve(o=Le())&&(t.displayRef=o.first)}},hostBindings:function(e,t){1&e&&C("click",function(s){return t.onClick(s)})},outputs:{close:"close"},ngContentSelectors:yG,decls:5,vars:2,consts:[[1,"background"],[1,"display"],["displayRef",""],[1,"close",3,"click"]],template:function(e,t){1&e&&(xi(),m(0,"div",0),h(1,"div",1,2),h(3,"div",3),C("click",function(){return t.close.emit()}),d(),Jn(4),d()),2&e&&(f("@opacity",void 0),c(1),f("@slideTop",void 0))},styles:["[_nghost-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000}[_nghost-%COMP%] > .background[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;background-color:#0006}[_nghost-%COMP%] > .display[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;width:100%;max-width:600px;max-height:min(100%,800px);background-color:#fff;border-radius:15px;overflow-y:auto;z-index:1}[_nghost-%COMP%] > .display[_ngcontent-%COMP%] > .close[_ngcontent-%COMP%]{margin:10px;position:fixed;align-self:flex-end;width:30px;height:30px;cursor:pointer;background-image:url(cross.0bf1b6052953de20.svg);background-position:center;background-size:contain;background-repeat:no-repeat;opacity:.7;transition:all ease .2s}[_nghost-%COMP%] > .display[_ngcontent-%COMP%] > .close[_ngcontent-%COMP%]:hover{opacity:1}"],data:{animation:[he("opacity",[K(":enter",[F({opacity:0}),$("0.2s ease",F({opacity:1}))]),K(":leave",[$("0.2s ease",F({opacity:0}))])]),he("slideTop",[K(":enter",[F({opacity:0,transform:"translateY(-40px)"}),$("0.2s ease",F({opacity:1,transform:"translateY(0px)"}))]),K(":leave",[$("0.2s ease",F({opacity:0,transform:"translateY(-40px)"}))])])]}}),i})();const CG=[["#ffffff",[.5286993634259258,.487574462890625],[.519810474537037,.487574462890625],[.5542635543258102,.5119378080822172],[.568044750072338,.5241193208240328],[.5783806694878473,.5241193208240328],[.585271312572338,.5363008335658482],[.5887165889033564,.548482666015625],[.5956072319878473,.572845691499256],[.5990525083188657,.5850275239490328],[.6024978298611111,.5972090366908482],[.6024978298611111,.6093905494326637],[.6059431061921297,.6337538946242559],[.609388427734375,.6459354073660715],[.609388427734375,.6581172398158482],[.609388427734375,.6702987525576637],[.609388427734375,.6824802652994791],[.609388427734375,.7068436104910715],[.609388427734375,.7190251232328869],[.609388427734375,.7433884684244791],[.609388427734375,.7677518136160715],[.6059431061921297,.7799333263578869],[.6024978298611111,.8042966715494791],[.5956072319878473,.8164781842912947],[.5887165889033564,.8408415294828869],[.5818259910300926,.8530230422247024],[.5749353931568287,.8773863874162946],[.5645994737413195,.8895679001581102],[.5508182327835648,.9017494128999256],[.5439276349103009,.913930925641741],[.5335917154947917,.9261127580915178],[.5301463939525463,.9261127580915178],[.5267011176215278,.9261127580915178],[.5232557960792824,.9261127580915178],[.5163651982060186,.9261127580915178],[.5129198766637731,.913930925641741],[.5094745551215277,.913930925641741],[.5060292787905093,.8895679001581102],[.5025839572482639,.8895679001581102],[.5025839572482639,.8773863874162946],[.5025839572482639,.8652045549665178],[.5025839572482639,.8530230422247024],[.5025839572482639,.8408415294828869],[.5060292787905093,.8286596970331102],[.5129198766637731,.8042966715494791],[.5267011176215278,.7799333263578869],[.5370370370370371,.7555699811662947],[.5542635543258102,.7312069556826637],[.5714900716145833,.7068436104910715],[.5921619104456018,.6946620977492559],[.6128337492766204,.6581172398158482],[.6335055881076389,.6337538946242559],[.6472867838541667,.6093905494326637],[.6645133463541667,.5850275239490328]],["#ffffff",[.6492850748697916,.6581172398158482],[.6403961859809028,.6581172398158482],[.6679586226851851,.5972090366908482],[.6714039442274305,.5972090366908482],[.6782945421006944,.5972090366908482],[.6782945421006944,.6093905494326637],[.6782945421006944,.6215723818824405],[.6782945421006944,.6702987525576637],[.6817398636429398,.6946620977492559],[.6817398636429398,.7068436104910715],[.6817398636429398,.7190251232328869],[.6817398636429398,.7312069556826637],[.6851851399739584,.7433884684244791],[.6920757830584491,.7433884684244791],[.7024117024739583,.7433884684244791],[.7058570240162036,.7312069556826637],[.7127475766782407,.7312069556826637],[.7196382197627315,.7190251232328869],[.72308349609375,.7068436104910715],[.7265288628472222,.6946620977492559],[.7299741391782407,.6824802652994791],[.7334194155092593,.6824802652994791],[.7368647822627314,.6824802652994791],[.74031005859375,.6702987525576637],[.7437553349247685,.6702987525576637],[.7472007016782407,.6581172398158482],[.7506459780092593,.6581172398158482],[.7540912543402778,.6581172398158482],[.75753662109375,.6581172398158482],[.7609818974247685,.6702987525576637],[.7609818974247685,.6824802652994791],[.7609818974247685,.6946620977492559],[.7644271737557871,.7068436104910715],[.7644271737557871,.7190251232328869],[.7678724500868056,.7190251232328869],[.7713178168402778,.7190251232328869],[.7747630931712963,.7068436104910715],[.7782083695023149,.7068436104910715],[.781653736255787,.7068436104910715]],["#ffffff",[.8491127748842592,.4266665794735863],[.8402238859953703,.4266665794735863],[.8229974139178241,.5363008335658482],[.8161067708333334,.572845691499256],[.8057708514178241,.6337538946242559],[.7919896556712963,.6946620977492559],[.7850990125868056,.7433884684244791],[.7747630931712963,.8042966715494791],[.7678724500868056,.8408415294828869],[.7644271737557871,.8652045549665178],[.7644271737557871,.8895679001581102],[.7644271737557871,.9017494128999256],[.7609818974247685,.913930925641741]],["#ffffff",[.8284409360532407,.4388480922154018],[.8195520471643518,.4388480922154018],[.8367786096643518,.572845691499256],[.8436692527488426,.6215723818824405],[.8540051721643519,.6946620977492559],[.8608957248263889,.7555699811662947],[.8712316442418981,.8042966715494791],[.8781222873263889,.8530230422247024],[.8815675636574074,.8895679001581102],[.8850129304108796,.913930925641741],[.8884582067418981,.938294270833333]],["#ffffff",[.6665115921585648,.8652045549665178],[.657622703269676,.8652045549665178],[.6886304615162037,.8286596970331102],[.6989663809317129,.8164781842912947],[.7093023003472222,.8042966715494791],[.7161929434317129,.7921148390997024],[.72308349609375,.7921148390997024],[.7265288628472222,.7921148390997024],[.7299741391782407,.7921148390997024],[.7368647822627314,.7921148390997024],[.7472007016782407,.7921148390997024],[.75753662109375,.7921148390997024],[.7678724500868056,.7921148390997024],[.7919896556712963,.7921148390997024],[.8092161277488426,.7677518136160715],[.8298879665798611,.7555699811662947],[.8540051721643519,.7068436104910715],[.8746770109953703,.6702987525576637],[.8953487594039352,.645935407366071]]],bG=[["#000000",[.5286993634259258,.487574462890625],[.519810474537037,.487574462890625],[.5542635543258102,.5119378080822172],[.568044750072338,.5241193208240328],[.5783806694878473,.5241193208240328],[.585271312572338,.5363008335658482],[.5887165889033564,.548482666015625],[.5956072319878473,.572845691499256],[.5990525083188657,.5850275239490328],[.6024978298611111,.5972090366908482],[.6024978298611111,.6093905494326637],[.6059431061921297,.6337538946242559],[.609388427734375,.6459354073660715],[.609388427734375,.6581172398158482],[.609388427734375,.6702987525576637],[.609388427734375,.6824802652994791],[.609388427734375,.7068436104910715],[.609388427734375,.7190251232328869],[.609388427734375,.7433884684244791],[.609388427734375,.7677518136160715],[.6059431061921297,.7799333263578869],[.6024978298611111,.8042966715494791],[.5956072319878473,.8164781842912947],[.5887165889033564,.8408415294828869],[.5818259910300926,.8530230422247024],[.5749353931568287,.8773863874162946],[.5645994737413195,.8895679001581102],[.5508182327835648,.9017494128999256],[.5439276349103009,.913930925641741],[.5335917154947917,.9261127580915178],[.5301463939525463,.9261127580915178],[.5267011176215278,.9261127580915178],[.5232557960792824,.9261127580915178],[.5163651982060186,.9261127580915178],[.5129198766637731,.913930925641741],[.5094745551215277,.913930925641741],[.5060292787905093,.8895679001581102],[.5025839572482639,.8895679001581102],[.5025839572482639,.8773863874162946],[.5025839572482639,.8652045549665178],[.5025839572482639,.8530230422247024],[.5025839572482639,.8408415294828869],[.5060292787905093,.8286596970331102],[.5129198766637731,.8042966715494791],[.5267011176215278,.7799333263578869],[.5370370370370371,.7555699811662947],[.5542635543258102,.7312069556826637],[.5714900716145833,.7068436104910715],[.5921619104456018,.6946620977492559],[.6128337492766204,.6581172398158482],[.6335055881076389,.6337538946242559],[.6472867838541667,.6093905494326637],[.6645133463541667,.5850275239490328]],["#000000",[.6492850748697916,.6581172398158482],[.6403961859809028,.6581172398158482],[.6679586226851851,.5972090366908482],[.6714039442274305,.5972090366908482],[.6782945421006944,.5972090366908482],[.6782945421006944,.6093905494326637],[.6782945421006944,.6215723818824405],[.6782945421006944,.6702987525576637],[.6817398636429398,.6946620977492559],[.6817398636429398,.7068436104910715],[.6817398636429398,.7190251232328869],[.6817398636429398,.7312069556826637],[.6851851399739584,.7433884684244791],[.6920757830584491,.7433884684244791],[.7024117024739583,.7433884684244791],[.7058570240162036,.7312069556826637],[.7127475766782407,.7312069556826637],[.7196382197627315,.7190251232328869],[.72308349609375,.7068436104910715],[.7265288628472222,.6946620977492559],[.7299741391782407,.6824802652994791],[.7334194155092593,.6824802652994791],[.7368647822627314,.6824802652994791],[.74031005859375,.6702987525576637],[.7437553349247685,.6702987525576637],[.7472007016782407,.6581172398158482],[.7506459780092593,.6581172398158482],[.7540912543402778,.6581172398158482],[.75753662109375,.6581172398158482],[.7609818974247685,.6702987525576637],[.7609818974247685,.6824802652994791],[.7609818974247685,.6946620977492559],[.7644271737557871,.7068436104910715],[.7644271737557871,.7190251232328869],[.7678724500868056,.7190251232328869],[.7713178168402778,.7190251232328869],[.7747630931712963,.7068436104910715],[.7782083695023149,.7068436104910715],[.781653736255787,.7068436104910715]],["#000000",[.8491127748842592,.4266665794735863],[.8402238859953703,.4266665794735863],[.8229974139178241,.5363008335658482],[.8161067708333334,.572845691499256],[.8057708514178241,.6337538946242559],[.7919896556712963,.6946620977492559],[.7850990125868056,.7433884684244791],[.7747630931712963,.8042966715494791],[.7678724500868056,.8408415294828869],[.7644271737557871,.8652045549665178],[.7644271737557871,.8895679001581102],[.7644271737557871,.9017494128999256],[.7609818974247685,.913930925641741]],["#000000",[.8284409360532407,.4388480922154018],[.8195520471643518,.4388480922154018],[.8367786096643518,.572845691499256],[.8436692527488426,.6215723818824405],[.8540051721643519,.6946620977492559],[.8608957248263889,.7555699811662947],[.8712316442418981,.8042966715494791],[.8781222873263889,.8530230422247024],[.8815675636574074,.8895679001581102],[.8850129304108796,.913930925641741],[.8884582067418981,.938294270833333]],["#000000",[.6665115921585648,.8652045549665178],[.657622703269676,.8652045549665178],[.6886304615162037,.8286596970331102],[.6989663809317129,.8164781842912947],[.7093023003472222,.8042966715494791],[.7161929434317129,.7921148390997024],[.72308349609375,.7921148390997024],[.7265288628472222,.7921148390997024],[.7299741391782407,.7921148390997024],[.7368647822627314,.7921148390997024],[.7472007016782407,.7921148390997024],[.75753662109375,.7921148390997024],[.7678724500868056,.7921148390997024],[.7919896556712963,.7921148390997024],[.8092161277488426,.7677518136160715],[.8298879665798611,.7555699811662947],[.8540051721643519,.7068436104910715],[.8746770109953703,.6702987525576637],[.8953487594039352,.645935407366071]]];function wG(i,n){if(1&i&&m(0,"app-greeting-card",8),2&i){const e=y();f("size",297/420*290)("front",e.locationService.translate("../../assets/greetingcard/front/8.png","../../assets/greetingcard/front/21.png"))("back","../../assets/greetingcard/back/5.jpg")("text",e.locationService.translate("May you be gifted with life\u2019s biggest joys and never-ending bliss. After all, you yourself are a gift to earth, so you deserve the best. Happy birthday.","\u0416\u0435\u043b\u0430\u044e \u0441\u0447\u0430\u0441\u0442\u044c\u044f, \u0440\u0430\u0434\u043e\u0441\u0442\u0438, \u043b\u044e\u0431\u0432\u0438,\n\u0415\u0449\u0435 \u043c\u0435\u0447\u0442\u044b \u0437\u0430\u0432\u0435\u0442\u043d\u043e\u0439 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u044c\u044f,\n\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u044f \u043a\u0440\u0435\u043f\u043a\u043e\u0433\u043e, \u0443\u0434\u0430\u0447 \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u043e \u0432\u0441\u0435\u043c\n\u0418 \u0434\u043e\u0431\u0440\u044b\u0445 \u0441\u043b\u043e\u0432 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u044c\u044f!"))("color","#ffffff")("sign",e.exampleSignGreeting)}}function xG(i,n){1&i&&m(0,"app-game",9),2&i&&f("size",135/190*290)}function kG(i,n){1&i&&m(0,"app-speaker",9),2&i&&(b("animation-name","rotPlus180"),f("size",270))}function PG(i,n){1&i&&m(0,"app-tablet",9),2&i&&f("size",290)}function SG(i,n){if(1&i&&m(0,"app-photo",10),2&i){const e=y();b("position","unset"),f("size",217.5)("sign",e.exampleSignPhoto)}}function MG(i,n){if(1&i&&(h(0,"div",11),h(1,"div",12),x(2),d(),h(3,"div",13),x(4),d(),d()),2&i){const e=y();f("@fadeScaleInfo",void 0),c(2),D(e.title),c(2),D(e.description)}}function DG(i,n){if(1&i){const e=H();h(0,"app-desktop-button",14),C("click",function(){return E(e),y().how.emit()}),d()}if(2&i){const e=y();f("@fadeScaleButton1",void 0)("text",e.locationService.translate("how it works","\u0447\u0442\u043e \u044d\u0442\u043e"))("icon","assets/question-mark.svg")("background","#ffffff")("color","#333333")}}function EG(i,n){if(1&i){const e=H();h(0,"app-desktop-button",14),C("click",function(){return E(e),y().add.emit()}),d()}if(2&i){const e=y();f("@fadeScaleButton2",void 0)("text",e.locationService.translate("add","\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))("icon","assets/plus.svg")("background","#ffffff")("color","#333333")}}let TG=(()=>{class i{constructor(e){this.locationService=e,this.pointer=!1,this.add=new L,this.how=new L,this.type="",this.descr=!1,this.exampleSignGreeting=CG,this.exampleSignPhoto=bG}get title(){return"greetingcard"===this.type?this.locationService.translate("Greeting card","\u041e\u0442\u043a\u0440\u044b\u0442\u043a\u0430"):"game"===this.type?this.locationService.translate("Game","\u0412\u0438\u0434\u0435\u043e\u0438\u0433\u0440\u0430"):"speaker"===this.type?this.locationService.translate("Audio","\u041a\u043e\u043b\u043e\u043d\u043a\u0430"):"tablet"===this.type?this.locationService.translate("Video","\u041f\u043b\u0430\u043d\u0448\u0435\u0442"):"photo"===this.type?this.locationService.translate("Photo","\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f"):""}get description(){return"greetingcard"===this.type?this.locationService.translate("Congratulate with a quatrain and sign with your own hand","\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u043d\u043e\u0439 \u0444\u043e\u0440\u043c\u0435 \u0438 \u043f\u043e\u0434\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0440\u0443\u043a\u043e\u0439"):"game"===this.type?this.locationService.translate("Buy a game redemption code and give it as a gift","\u041a\u0443\u043f\u0438\u0442\u0435 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0434\u043b\u044f \u0438\u0433\u0440\u044b \u0438 \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u0435 \u0438\u0433\u0440\u0443"):"speaker"===this.type?this.locationService.translate("Record your voice","\u0417\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0433\u043e\u043b\u043e\u0441 \u0441 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438"):"tablet"===this.type?this.locationService.translate("Record your video","\u0417\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043d\u0430 \u0432\u0435\u0431\u043a\u0430\u043c\u0435\u0440\u0443 \u0441 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438"):"photo"===this.type?this.locationService.translate("Take a photo","\u0421\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e \u0438 \u043f\u043e\u0434\u043f\u0438\u0448\u0438\u0442\u0435 \u0435\u0451 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0440\u0443\u043a\u043e\u0439"):""}ngOnInit(){}ngOnChanges(){this.pointer=!this.descr}}return i.\u0275fac=function(e){return new(e||i)(P(De))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-add-gift-list-option"]],hostVars:2,hostBindings:function(e,t){2&e&&V("pointer",t.pointer)},inputs:{type:"type",descr:"descr"},outputs:{add:"add",how:"how"},features:[re],decls:10,vars:8,consts:[[1,"icon"],[3,"size","front","back","text","color","sign",4,"ngIf"],[3,"size",4,"ngIf"],[3,"size","animationName",4,"ngIf"],[3,"size","sign","position",4,"ngIf"],["class","info",4,"ngIf"],[1,"buttons"],["class","button",3,"text","icon","background","color","click",4,"ngIf"],[3,"size","front","back","text","color","sign"],[3,"size"],[3,"size","sign"],[1,"info"],[1,"title"],[1,"descr"],[1,"button",3,"text","icon","background","color","click"]],template:function(e,t){1&e&&(h(0,"div",0),S(1,wG,1,6,"app-greeting-card",1),S(2,xG,1,1,"app-game",2),S(3,kG,1,3,"app-speaker",3),S(4,PG,1,1,"app-tablet",2),S(5,SG,1,4,"app-photo",4),d(),S(6,MG,5,3,"div",5),h(7,"div",6),S(8,DG,1,5,"app-desktop-button",7),S(9,EG,1,5,"app-desktop-button",7),d()),2&e&&(c(1),f("ngIf","greetingcard"===t.type),c(1),f("ngIf","game"===t.type),c(1),f("ngIf","speaker"===t.type),c(1),f("ngIf","tablet"===t.type),c(1),f("ngIf","photo"===t.type),c(1),f("ngIf",t.descr),c(2),f("ngIf",t.descr),c(1),f("ngIf",t.descr))},directives:[Re,$i,Xo,bo,wo,Yi,ai],styles:["[_nghost-%COMP%]{width:300px;height:500px;margin:0;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;border-radius:10px;transition:all ease .3s}[_nghost-%COMP%] > .icon[_ngcontent-%COMP%]{transform:translateY(-90px);position:absolute;flex-shrink:0;width:300px;height:300px;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .icon[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{animation-name:rot;animation-duration:3s;animation-timing-function:linear;animation-iteration-count:infinite}[_nghost-%COMP%] > .info[_ngcontent-%COMP%]{transform:translateY(110px);position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .info[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{margin:10px;font-size:18px;color:#333;text-align:center}[_nghost-%COMP%] > .info[_ngcontent-%COMP%] > .descr[_ngcontent-%COMP%]{margin:0 10px 10px;font-size:14px;color:#333;text-align:center}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{margin:0 10px;position:absolute}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:first-child{transform:translate(-70px) translateY(220px)}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:last-child{transform:translate(70px) translateY(220px)}@keyframes rot{0%{transform:rotateY(0)}to{transform:rotateY(360deg)}}@keyframes rotPlus180{0%{transform:rotateY(-180deg)}to{transform:rotateY(180deg)}}.pointer[_nghost-%COMP%]{cursor:pointer}"],data:{animation:[he("fadeScaleInfo",[K(":enter",[F({transform:"translateY(110px) scale(0.2)",opacity:"0"}),$("300ms ease",F({transform:"translateY(110px) scale(1)",opacity:"1"}))]),K(":leave",[$("300ms ease",F({transform:"translateY(110px) scale(0.2)",opacity:"0"}))])]),he("fadeScaleButton1",[K(":enter",[F({transform:"translateX(-70px) translateY(220px) scale(0.2)",opacity:"0"}),$("300ms ease",F({transform:"translateX(-70px) translateY(220px) scale(1)",opacity:"1"}))]),K(":leave",[$("300ms ease",F({transform:"translateX(-70px) translateY(220px) scale(0.2)",opacity:"0"}))])]),he("fadeScaleButton2",[K(":enter",[F({transform:"translateX(70px) translateY(220px) scale(0.2)",opacity:"0"}),$("300ms ease",F({transform:"translateX(70px) translateY(220px) scale(1)",opacity:"1"}))]),K(":leave",[$("300ms ease",F({transform:"translateX(70px) translateY(220px) scale(0.2)",opacity:"0"}))])])]}}),i})();function OG(i,n){1&i&&m(0,"img",15)}function IG(i,n){1&i&&m(0,"img",16)}function AG(i,n){1&i&&m(0,"img",17)}function RG(i,n){1&i&&m(0,"img",18)}function FG(i,n){1&i&&m(0,"img",19)}function NG(i,n){1&i&&m(0,"img",20)}function BG(i,n){if(1&i){const e=H();h(0,"app-desktop-dialog",4),C("close",function(){return E(e),y().closeHowItWorks("greetingcard")}),h(1,"div",5),h(2,"div",6),x(3),d(),h(4,"div",7),x(5),h(6,"b"),x(7),d(),x(8,"."),d(),h(9,"div",6),x(10),d(),h(11,"div",7),x(12),d(),S(13,OG,1,0,"img",8),S(14,IG,1,0,"img",9),h(15,"div",6),x(16),d(),h(17,"div",7),x(18),d(),h(19,"div",10),x(20),m(21,"br"),x(22),m(23,"br"),x(24),m(25,"br"),x(26),m(27,"br"),d(),h(28,"div",7),x(29),d(),S(30,AG,1,0,"img",11),S(31,RG,1,0,"img",12),h(32,"div",6),x(33),d(),h(34,"div",7),x(35),d(),S(36,FG,1,0,"img",13),S(37,NG,1,0,"img",14),h(38,"div",7),x(39),d(),d(),d()}if(2&i){const e=y();c(3),D(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),se("",e.locationService.translate("This is an greeting card that we used to gift on various occasions. The cover for which you choose yourself. On the reverse side, write your wishes in poetic form. And most importantly -","\u042d\u0442\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u044b \u043f\u0440\u0438\u0432\u044b\u043a\u043b\u0438 \u0434\u0430\u0440\u0438\u0442\u044c \u043f\u043e \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c \u043f\u043e\u0432\u043e\u0434\u0430\u043c: \u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f, \u0441\u0432\u0430\u0434\u044c\u0431\u0430, 8 \u043c\u0430\u0440\u0442\u0430 \u0438 \u0442.\u0434. \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u044e \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0443. \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0443\u044e \u043e\u0431\u043b\u043e\u0436\u043a\u0443, \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043b\u043e\u0432\u0430 \u043f\u043e\u0436\u0435\u043b\u0430\u043d\u0438\u044f \u0432 \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u043d\u043e\u0439 \u0444\u043e\u0440\u043c\u0435 \u0438 \u0447\u0442\u043e \u0441\u0430\u043c\u043e\u0435 \u0434\u0443\u0448\u0435\u0432\u043d\u043e\u0435,")," "),c(2),D(e.locationService.translate("you can sign it with YOUR OWN HAND","\u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c \u0435\u0451 \u0421\u041e\u0411\u0421\u0422\u0412\u0415\u041d\u041d\u041e\u0419 \u0420\u0423\u041a\u041e\u0419")),c(3),D(e.locationService.translate("Setting the cover","\u0412\u044b\u0431\u043e\u0440 \u043e\u0431\u043b\u043e\u0436\u043a\u0438")),c(2),D(e.locationService.translate("Imagine the situation you want to give a gift to your girlfriend, and you want to add a greeting card with a love poem to the gift box, let's first choose a cover. For example this one:","\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044e: \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0432\u0430\u0448\u0435\u0439 \u0434\u0435\u0432\u0443\u0448\u043a\u0435 \u0438 \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u0447\u043d\u0443\u044e \u043a\u043e\u0440\u043e\u0431\u043a\u0443 \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0443. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u044b\u0431\u0435\u0440\u0435\u043c \u043e\u0431\u043b\u043e\u0436\u043a\u0443, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u044f \u0432\u044b\u0431\u0440\u0430\u043b \u0442\u0430\u043a\u0443\u044e:")),c(1),f("ngIf","us"===e.locationService.location().country.code),c(1),f("ngIf","ru"===e.locationService.location().country.code),c(2),D(e.locationService.translate("Let's write a poem","\u041d\u0430\u043f\u0438\u0448\u0435\u043c \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435")),c(2),D(e.locationService.translate("We also need some kind of poem that we will write on the back side, for example, I get it from the internet, not bad, right?","\u0422\u0430\u043a\u0436\u0435 \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043a\u0430\u043a\u043e\u0435-\u043d\u0438\u0431\u0443\u0434\u044c \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0442\u0430\u043a\u043e\u0435 \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435 (\u044f \u0443\u043a\u0440\u0430\u043b \u0443 \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430 \u0421\u0435\u0440\u0433\u0435\u0435\u0432\u0438\u0447\u0430):")),c(2),se(" ",e.locationService.translate("Amazing and beautiful,","\u041f\u0440\u0435\u0434 \u043d\u0435\u0439 \u0437\u0430\u0434\u0443\u043c\u0447\u0438\u0432\u043e \u0441\u0442\u043e\u044e,"),""),c(2),se(" ",e.locationService.translate("not a flower or a tree.","\u0421\u0432\u0435\u0441\u0442\u0438 \u043e\u0447\u0435\u0439 \u0441 \u043d\u0435\u0435 \u043d\u0435\u0442 \u0441\u0438\u043b\u044b;"),""),c(2),se(" ",e.locationService.translate("Much prettier than that,","\u0418 \u0433\u043e\u0432\u043e\u0440\u044e \u0435\u0439: \u043a\u0430\u043a \u0432\u044b \u043c\u0438\u043b\u044b!"),""),c(2),se(" ",e.locationService.translate("and only I can see.","\u0418 \u043c\u044b\u0441\u043b\u044e: \u043a\u0430\u043a \u0442\u0435\u0431\u044f \u043b\u044e\u0431\u043b\u044e!"),""),c(3),D(e.locationService.translate("What does it look like:","\u0412\u043e\u0442 \u043a\u0430\u043a \u044d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442:")),c(1),f("ngIf","us"===e.locationService.location().country.code),c(1),f("ngIf","ru"===e.locationService.location().country.code),c(2),D(e.locationService.translate("The most magic","\u0421\u0430\u043c\u043e\u0435 \u0432\u043e\u043b\u0448\u0435\u0431\u0441\u0442\u0432\u043e")),c(2),D(e.locationService.translate("For a congratulation to be truly sincere, it must be signed, otherwise it looks like it was written by a robot, you can pass the captcha, right?","\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u044b\u043b\u0438 \u043f\u043e-\u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u043c\u0443 \u0438\u0441\u043a\u0440\u0435\u043d\u043d\u0438\u043c\u0438 \u043d\u0443\u0436\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0443 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0440\u0443\u043a\u043e\u0439. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u044f \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043b \u0441\u0435\u0440\u0434\u0435\u0447\u043a\u0438 \u0438 \u0447\u0451\u0440\u0442\u043e\u0447\u043a\u0438, \u044d\u0442\u043e\u0433\u043e \u0432\u043f\u043e\u043b\u043d\u0435 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e.")),c(1),f("ngIf","us"===e.locationService.location().country.code),c(1),f("ngIf","ru"===e.locationService.location().country.code),c(2),D(e.locationService.translate("Wow this looks really great, the recipient is sure to be delighted.","\u0412\u0410\u0423!!! \u042d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043f\u043e\u0442\u0440\u044f\u0441\u0430\u044e\u0449\u0435, \u043c\u043d\u0435 \u043a\u0430\u0436\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u0442\u043e\u0447\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0434."))}}function VG(i,n){1&i&&m(0,"img",31)}function LG(i,n){1&i&&m(0,"img",32)}function zG(i,n){1&i&&m(0,"img",33)}function GG(i,n){1&i&&m(0,"img",34)}function jG(i,n){1&i&&m(0,"img",35)}function HG(i,n){1&i&&m(0,"img",36)}function UG(i,n){if(1&i){const e=H();h(0,"app-desktop-dialog",4),C("close",function(){return E(e),y().closeHowItWorks("game")}),h(1,"div",5),h(2,"div",6),x(3),d(),h(4,"div",7),x(5),d(),h(6,"div",6),x(7),d(),h(8,"div",21),x(9),d(),h(10,"div",7),x(11),d(),m(12,"img",22),h(13,"div",7),x(14),d(),h(15,"div",7),x(16),d(),S(17,VG,1,0,"img",23),S(18,LG,1,0,"img",24),h(19,"div",6),x(20),d(),h(21,"div",7),x(22),d(),S(23,zG,1,0,"img",25),S(24,GG,1,0,"img",26),h(25,"div",7),x(26),d(),h(27,"div",27),S(28,jG,1,0,"img",28),S(29,HG,1,0,"img",29),m(30,"img",30),d(),h(31,"div",7),x(32),d(),d(),d()}if(2&i){const e=y();c(3),D(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),D(e.locationService.translate("This is a video game box. If the recipient loves games, you can gift a video game redeem key, which he/she can enter and get a video game.","\u042d\u0442\u043e \u043a\u043e\u0440\u043e\u0431\u043a\u0430 \u0441 \u0432\u0438\u0434\u0435\u043e\u0438\u0433\u0440\u043e\u0439. \u0415\u0441\u043b\u0438 \u0447\u0435\u043b\u043e\u0432\u0435\u043a, \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a, \u043b\u044e\u0431\u0438\u0442 \u0438\u0433\u0440\u0430\u0442\u044c \u0432 \u0438\u0433\u0440\u044b, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0435\u043c\u0443/\u0435\u0439 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0438\u0433\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u043d/\u043e\u043d\u0430 \u0441\u043c\u043e\u0436\u0435\u0442 \u0432\u0432\u0435\u0441\u0442\u0438 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u0433\u0440\u0443.")),c(2),D(e.locationService.translate("Redeem key","\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447")),c(2),D(e.locationService.translate("!!! IMPORTANT !!! To gift a game, you need a redeem key. You must buy a card. On the back side, erase the area where you can find the key and enter it on our site so that we transfer it to your recipient.","!!! \u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415 !!! \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0438\u0433\u0440\u0443, \u0432\u0430\u043c \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0432 \u043b\u044e\u0431\u043e\u043c \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 DNS, \u041c\u0432\u0438\u0434\u0435\u043e \u0438 \u0442. \u0434.), \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0441\u0442\u0435\u0440\u0435\u0442\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u044b\u0439 \u0441\u043b\u043e\u0439 \u0438 \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0435\u0442 \u0438 \u0432\u0432\u0451\u0434\u0435\u0442 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e. \u0412\u0432\u043e\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447 \u0438\u043c\u0435\u043d\u043d\u043e \u043d\u0430 \u044d\u0442\u043e\u043c \u0441\u0430\u0439\u0442\u0435, \u043d\u0438\u0433\u0434\u0435 \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0439\u0442\u0435 \u0438\u0433\u0440\u0443.")),c(2),D(e.locationService.translate("This is what redeem key looks like:","\u041f\u0440\u0438\u043c\u0435\u0440\u043d\u043e \u0442\u0430\u043a \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0441 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u043e\u043d\u043d\u044b\u043c \u043a\u043b\u044e\u0447\u043e\u043c \u0434\u043b\u044f \u0438\u0433\u0440\u044b:")),c(3),D(e.locationService.translate("If you bought a game for playstation or xbox or nintendo switch, we will tell the recipient how to activate the game. In other cases, we will ask you to write instructions on how to activate the game. The instructions are almost always written on the back of the card.","\u0415\u0441\u043b\u0438 \u0432\u044b \u043a\u0443\u043f\u0438\u0442\u0435 \u0438\u0433\u0440\u0443 \u0434\u043b\u044f playstation, xbox \u0438\u043b\u0438 nintendo switch, \u0442\u043e \u043c\u044b \u0441\u0430\u043c\u0438 \u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0435\u043c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044e \u043a\u0430\u043a \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0433\u0440\u0443. \u0412 \u0434\u0440\u0443\u0433\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043c\u044b \u043f\u043e\u043f\u0440\u043e\u0441\u0438\u043c \u0432\u0430\u0441 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e \u043f\u043e \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u043a\u043b\u044e\u0447\u0430, \u043f\u043e\u0447\u0442\u0438 \u0432\u0441\u0435\u0433\u0434\u0430 \u043e\u043d\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0430 \u043d\u0430 \u0437\u0430\u0434\u043d\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0438 \u0441\u043e\u0441\u0442\u043e\u0438\u0442 \u0438\u0437 3-5 \u0448\u0430\u0433\u043e\u0432.")),c(2),D(e.locationService.translate("Let's say i bought the game 'little nightmares' for playstation 5. I entered the redeem key:","\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c \u044f \u043a\u0443\u043f\u0438\u043b \u043a\u043b\u044e\u0447 \u043a \u0438\u0433\u0440\u0435 'little nightmares'. \u0418 \u0441\u0440\u0430\u0437\u0443 \u0432\u0432\u043e\u0436\u0443 \u043a\u043e\u0434:")),c(1),f("ngIf","us"===e.locationService.location().country.code),c(1),f("ngIf","ru"===e.locationService.location().country.code),c(2),D(e.locationService.translate("Set cover","\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c \u043e\u0431\u043b\u043e\u0436\u043a\u0443")),c(2),D(e.locationService.translate("Now i need to set cover. I google 'little nightmares cover' and download the picture.","\u0414\u0430\u043b\u0435\u0435 \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u0430 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0430\u044f \u043e\u0431\u043b\u043e\u0436\u043a\u0430. \u0412 \u0433\u0443\u0433\u043b \u043f\u043e\u0438\u0441\u043a\u0435 \u0432\u0432\u043e\u0436\u0443 'little nightmares \u043e\u0431\u043b\u043e\u0436\u043a\u0430' \u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u044e \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443.")),c(1),f("ngIf","us"===e.locationService.location().country.code),c(1),f("ngIf","ru"===e.locationService.location().country.code),c(2),D(e.locationService.translate("Now just install it. Here's what we got:","\u0422\u0435\u043f\u0435\u0440\u044c \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043e\u0431\u043b\u043e\u0436\u043a\u0443. \u0412\u043e\u0442 \u0447\u0442\u043e \u0443 \u043c\u0435\u043d\u044f \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c:")),c(2),f("ngIf","us"===e.locationService.location().country.code),c(1),f("ngIf","ru"===e.locationService.location().country.code),c(3),D(e.locationService.translate("That's all, you can gift the game.","\u041d\u0430 \u044d\u0442\u043e\u043c \u0432\u0441\u0451, \u0442\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0438\u0433\u0440\u0443."))}}function $G(i,n){1&i&&m(0,"img",39)}function YG(i,n){1&i&&m(0,"img",40)}function WG(i,n){if(1&i){const e=H();h(0,"app-desktop-dialog",4),C("close",function(){return E(e),y().closeHowItWorks("speaker")}),h(1,"div",5),h(2,"div",6),x(3),d(),h(4,"div",7),x(5),d(),h(6,"div",21),x(7),d(),h(8,"div",6),x(9),d(),h(10,"div",7),x(11),d(),S(12,$G,1,0,"img",37),S(13,YG,1,0,"img",38),d(),d()}if(2&i){const e=y();c(3),D(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),D(e.locationService.translate("This is a speaker where you can record your own greeting voice (any other sound can also be recorded up to 50 seconds).","\u042d\u0442\u043e \u043a\u043e\u043b\u043e\u043d\u043a\u0430. \u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043d\u0435\u0451 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0433\u043e\u043b\u043e\u0441 \u0441 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438 \u0438\u043b\u0438 \u0436\u0435 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0437\u0432\u0443\u043a. (\u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u0437\u0430\u043f\u0438\u0441\u0438 50 \u0441\u0435\u043a.)")),c(2),D(e.locationService.translate("For this gift you will need a microphone. If you use a phone or laptop, it is already built into your device.","\u0414\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0434\u0430\u0440\u043a\u0430, \u0443 \u0432\u0430\u0441 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043d\u043e\u0443\u0442\u0431\u0443\u043a \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d/\u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u0442\u043e \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u043e\u043d \u0432\u0441\u0442\u0440\u043e\u0435\u043d.")),c(2),D(e.locationService.translate("Sound recording","\u0417\u0430\u043f\u0438\u0441\u044c \u0437\u0432\u0443\u043a\u0430")),c(2),D(e.locationService.translate("All you need is to record the sound you want to send to the recipient. This is what the settings panel for sound recording looks like:","\u0412\u0441\u0435 \u0447\u0442\u043e \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e, \u044d\u0442\u043e \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0437\u0432\u0443\u043a, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044e. \u0412\u043e\u0442 \u043a\u0430\u043a \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043f\u0430\u043d\u0435\u043b\u044c \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0438 \u0433\u043e\u043b\u043e\u0441\u0430:")),c(1),f("ngIf","us"===e.locationService.location().country.code),c(1),f("ngIf","ru"===e.locationService.location().country.code)}}function qG(i,n){if(1&i){const e=H();h(0,"app-desktop-dialog",4),C("close",function(){return E(e),y().closeHowItWorks("tablet")}),h(1,"div",5),h(2,"div",6),x(3),d(),h(4,"div",7),x(5),d(),h(6,"div",21),x(7),d(),m(8,"img",41),d(),d()}if(2&i){const e=y();c(3),D(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),D(e.locationService.translate("Here you can record video with congratulations. All this will be designed as a tablet on which the recipient can watch your self made video (maximum duration up to 30 seconds).","\u042d\u0442\u043e \u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e\u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435. (\u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 30 \u0441\u0435\u043a.)")),c(2),D(e.locationService.translate("For this gift you will need a microphone and webcam. If you use a phone or laptop, it is already built into your device.","\u0414\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0434\u0430\u0440\u043a\u0430 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u044b \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d \u0438 \u0432\u0435\u0431\u043a\u0430\u043c\u0435\u0440\u0430. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043d\u043e\u0443\u0442\u0431\u0443\u043a \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d/\u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u0442\u043e \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u043e\u043d\u0438 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u044b."))}}function ZG(i,n){if(1&i){const e=H();h(0,"app-desktop-dialog",4),C("close",function(){return E(e),y().closeHowItWorks("photo")}),h(1,"div",5),h(2,"div",6),x(3),d(),h(4,"div",7),x(5),h(6,"b"),x(7),d(),x(8,"."),d(),h(9,"div",21),x(10),d(),h(11,"div",6),x(12),d(),h(13,"div",7),x(14),d(),m(15,"img",42),h(16,"div",6),x(17),d(),h(18,"div",7),x(19),d(),m(20,"img",43),h(21,"div",7),x(22),d(),d(),d()}if(2&i){const e=y();c(3),D(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),se("",e.locationService.translate("This is a photo taken by you. And most importantly, on the back side, ","\u042d\u0442\u043e \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f, \u043d\u0430 \u0437\u0430\u0434\u043d\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435")," "),c(2),D(e.locationService.translate("you can sign it with YOUR OWN HAND","\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u0421\u041e\u0411\u0422\u0412\u0415\u041d\u041d\u041e\u0419 \u0420\u0423\u041a\u041e\u0419")),c(3),D(e.locationService.translate("For this gift you will need a webcam. If you use a phone or laptop, it is already built into your device.","\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u0434\u0430\u0440\u043a\u0430 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u0430 \u0432\u0435\u0431 \u043a\u0430\u043c\u0435\u0440\u0430. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043d\u043e\u0443\u0442\u0431\u0443\u043a \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d/\u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u0442\u043e \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u043e\u043d\u0430 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u0430.")),c(2),D(e.locationService.translate("Take a photo","\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f")),c(2),D(e.locationService.translate("Imagine that you want to give your boyfriend a gift and put your photo there. First, let's take a photo, you can make it on this web-site. (Attention! this photo is just an example). Here's what we got:","\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0432\u0430\u0448\u0435\u043c\u0443 \u043f\u0430\u0440\u043d\u044e \u0438 \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u043b\u043e\u0436\u0438\u0442\u044c \u0442\u0443\u0434\u0430 \u0441\u0432\u043e\u044e \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0444\u043e\u0442\u043e. (\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u042d\u0442\u043e \u043d\u0435 \u043c\u043e\u0451 \u0444\u043e\u0442\u043e \u044f \u0435\u0433\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u0437\u044f\u043b \u0441 pixabay.com):")),c(3),D(e.locationService.translate("Sign with all your heart","\u0420\u0430\u0441\u043f\u0438\u0448\u0435\u043c\u0441\u044f \u043e\u0442 \u0432\u0441\u0435\u0433\u043e \u0441\u0435\u0440\u0434\u0446\u0430")),c(2),D(e.locationService.translate("Now to make the photo really worthwhile, let's sign it on the back side with our own hand. Here's what it looks like:","\u0422\u0435\u043f\u0435\u0440\u044c \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u044d\u0442\u043e \u0444\u043e\u0442\u043e \u0441\u0442\u043e\u044f\u0449\u0438\u043c. \u0420\u0430\u0441\u043f\u0438\u0448\u0435\u043c\u0441\u044f \u043d\u0430 \u0437\u0430\u0434\u043d\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435. \u0412\u043e\u0442 \u0447\u0442\u043e \u0443 \u043c\u0435\u043d\u044f \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c:")),c(3),D(e.locationService.translate("Wow this looks very attractive the recipient will definitely be pleased.","\u0412\u0430\u0443! \u042d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043e\u0447\u0435\u043d\u044c \u043f\u0440\u0438\u0432\u043b\u0435\u043a\u0430\u0442\u0435\u043b\u044c\u043d\u043e! \u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0432\u043e\u043b\u0435\u043d."))}}function XG(i,n){if(1&i){const e=H();h(0,"app-desktop-add-gift-list-option",44),C("add",function(){const s=E(e).$implicit;return y().close.emit(s.type)})("how",function(){const s=E(e).$implicit;return y().showHowItWorks(s.type)})("click",function(){const o=E(e),s=o.$implicit,r=o.index;return y().scrollTo(!s.descr,r)}),d()}if(2&i){const e=n.$implicit;b("transform","translateY("+e.position+"px) scale("+e.scale+")")("opacity",e.opacity),f("type",e.type)("descr",e.descr)}}let KG=(()=>{class i{constructor(e){this.locationService=e,this.backgroundColor="#00000066",this.margin=400,this.scroll=0,this.dialogs={greetingcard:{visible:!1},game:{visible:!1},speaker:{visible:!1},tablet:{visible:!1},photo:{visible:!1}},this.gifts=[{type:"greetingcard",position:0,opacity:0,scale:1,descr:!1},{type:"game",position:0,opacity:0,scale:1,descr:!1},{type:"speaker",position:0,opacity:0,scale:1,descr:!1},{type:"tablet",position:0,opacity:0,scale:1,descr:!1},{type:"photo",position:0,opacity:0,scale:1,descr:!1}],this.close=new L}setPositions(e){this.scroll-=e/2,this.scroll>this.gifts.length*this.margin&&(this.scroll-=this.gifts.length*this.margin),this.scroll<0&&(this.scroll+=this.gifts.length*this.margin);for(let t=0;t<this.gifts.length;t++)this.gifts[t].position=this.scroll+t*this.margin,this.gifts[t].position-this.margin/2>window.innerHeight/2&&(this.gifts[t].position=this.scroll-(this.gifts.length-t)*this.margin),Math.abs(this.gifts[t].position)<=100?(this.gifts[t].descr=!0,this.gifts[t].opacity=1,this.gifts[t].scale=1):(this.gifts[t].descr=!1,this.gifts[t].opacity=1-Math.abs(this.gifts[t].position)/(window.innerHeight/2),this.gifts[t].scale=1-Math.abs(this.gifts[t].position)/(window.innerHeight/2))}scrollTo(e,t){!e||(this.scroll=-t*this.margin,this.setPositions(0))}showHowItWorks(e){this.backgroundColor="#00000000",this.dialogs[e].visible=!0}closeHowItWorks(e){this.backgroundColor="#00000066",this.dialogs[e].visible=!1}ngOnInit(){this.setPositions(0)}}return i.\u0275fac=function(e){return new(e||i)(P(De))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-add-gift"]],hostVars:2,hostBindings:function(e,t){2&e&&b("background-color",t.backgroundColor)},outputs:{close:"close"},decls:8,vars:6,consts:[[3,"close",4,"ngIf"],[1,"content",3,"wheel"],[1,"button-cancel",3,"click"],[3,"type","descr","transform","opacity","add","how","click",4,"ngFor","ngForOf"],[3,"close"],[1,"dialog"],[1,"dialog-title"],[1,"dialog-text"],["width","40%","class","dialog-img","src","assets/greetingcard/front/12.png",4,"ngIf"],["width","40%","class","dialog-img","src","assets/greetingcard/front/26.png",4,"ngIf"],[1,"dialog-quote"],["width","40%","class","dialog-img","src","assets/greetingcard/example1.png",4,"ngIf"],["width","40%","class","dialog-img","src","assets/greetingcard/example3.png",4,"ngIf"],["width","40%","class","dialog-img","src","assets/greetingcard/example2.png",4,"ngIf"],["width","40%","class","dialog-img","src","assets/greetingcard/example4.png",4,"ngIf"],["width","40%","src","assets/greetingcard/front/12.png",1,"dialog-img"],["width","40%","src","assets/greetingcard/front/26.png",1,"dialog-img"],["width","40%","src","assets/greetingcard/example1.png",1,"dialog-img"],["width","40%","src","assets/greetingcard/example3.png",1,"dialog-img"],["width","40%","src","assets/greetingcard/example2.png",1,"dialog-img"],["width","40%","src","assets/greetingcard/example4.png",1,"dialog-img"],[1,"dialog-warning"],["width","60%","src","assets/game/example1.png",1,"dialog-img"],["width","90%","class","dialog-img","src","assets/game/example5.png",4,"ngIf"],["width","90%","class","dialog-img","src","assets/game/example7.png",4,"ngIf"],["width","90%","class","dialog-img","src","assets/game/example2.png",4,"ngIf"],["width","90%","class","dialog-img","src","assets/game/example6.png",4,"ngIf"],[1,"dialog-row"],["width","40%","class","dialog-img","src","assets/game/example3.png",4,"ngIf"],["width","40%","class","dialog-img","src","assets/game/example8.png",4,"ngIf"],["width","40%","src","assets/game/example4.png",1,"dialog-img"],["width","90%","src","assets/game/example5.png",1,"dialog-img"],["width","90%","src","assets/game/example7.png",1,"dialog-img"],["width","90%","src","assets/game/example2.png",1,"dialog-img"],["width","90%","src","assets/game/example6.png",1,"dialog-img"],["width","40%","src","assets/game/example3.png",1,"dialog-img"],["width","40%","src","assets/game/example8.png",1,"dialog-img"],["width","80%","class","dialog-img","src","assets/speaker/example1.png",4,"ngIf"],["width","80%","class","dialog-img","src","assets/speaker/example2.png",4,"ngIf"],["width","80%","src","assets/speaker/example1.png",1,"dialog-img"],["width","80%","src","assets/speaker/example2.png",1,"dialog-img"],["width","80%","src","assets/tablet/example1.png",1,"dialog-img"],["width","60%","src","assets/photo/example1.png",1,"dialog-img"],["width","60%","src","assets/photo/example2.png",1,"dialog-img"],[3,"type","descr","add","how","click"]],template:function(e,t){1&e&&(S(0,BG,40,21,"app-desktop-dialog",0),S(1,UG,33,17,"app-desktop-dialog",0),S(2,WG,14,7,"app-desktop-dialog",0),S(3,qG,9,3,"app-desktop-dialog",0),S(4,ZG,23,9,"app-desktop-dialog",0),h(5,"div",1),C("wheel",function(s){return t.setPositions(s.deltaY)}),h(6,"div",2),C("click",function(){return t.close.emit("")}),d(),S(7,XG,1,6,"app-desktop-add-gift-list-option",3),d()),2&e&&(f("ngIf",t.dialogs.greetingcard.visible),c(1),f("ngIf",t.dialogs.game.visible),c(1),f("ngIf",t.dialogs.speaker.visible),c(1),f("ngIf",t.dialogs.tablet.visible),c(1),f("ngIf",t.dialogs.photo.visible),c(3),f("ngForOf",t.gifts))},directives:[Re,gt,fk,TG],styles:["[_nghost-%COMP%]{left:0px;top:0px;width:100%;height:100%;position:fixed;background-color:#0006;display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-start;z-index:10;transition:background-color ease .2s}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:600px;width:100%;height:100%;overflow:hidden;background-color:#fff;transform:translate(0)}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > app-desktop-add-gift-list-option[_ngcontent-%COMP%]{position:absolute;transition:all ease .2s}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > .button-cancel[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:10px;right:10px;align-self:flex-end;background-image:url(cross.0bf1b6052953de20.svg);background-position:center;background-size:contain;background-repeat:no-repeat;cursor:pointer;opacity:.5;transition:all ease .3s}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > .button-cancel[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-shrink:0}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]{padding:40px 0;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{text-align:center;font-size:26px;font-weight:bold;color:#333;margin:50px 50px 10px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-text[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#333;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-quote[_ngcontent-%COMP%]{text-align:center;font-style:italic;color:#999;font-size:16px;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-img[_ngcontent-%COMP%]{margin:10px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-warning[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#f44336;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around}"]}),i})();const QG=["moveGift"];function JG(i,n){if(1&i){const e=H();h(0,"app-desktop-edit-gift",6),C("close",function(){return E(e),y().closeEditGift()})("change",function(){return E(e),y().changeEditGift()}),d()}if(2&i){const e=y();f("gift",e.activeGift)("initialRect",e.initialRectViewGift)}}function ej(i,n){1&i&&(h(0,"div",7),m(1,"app-desktop-empty-giftlist"),d()),2&i&&f("@fade",void 0)}function tj(i,n){if(1&i){const e=H();h(0,"app-desktop-gift-list-option",10),C("startMove",function(o){return E(e),y(2).moveGiftStart(o)})("edit",function(o){return E(e),y(2).showEditGift(o)})("delete",function(o){return E(e),y(2).deleteGift(o)}),d()}if(2&i){const e=n.$implicit,t=y(2);f("gift",e)("showMove",t.gifts.length>1)("sublimeStartRotate",t.sublimeStartRotate)("sublimeStopRotate",t.sublimeStopRotate)}}function nj(i,n){if(1&i&&(h(0,"div",8),S(1,tj,1,4,"app-desktop-gift-list-option",9),d()),2&i){const e=y();f("@fade",void 0),c(1),f("ngForOf",e.gifts)}}function ij(i,n){if(1&i){const e=H();h(0,"div",11),h(1,"app-desktop-button",12),C("click",function(){return E(e),y().screens.addGift="open"}),d(),h(2,"app-desktop-button",13),C("click",function(){return E(e),y().onClickNextStage()}),d(),d()}if(2&i){const e=y();c(1),f("text",e.locationService.translate("add","\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))("icon","assets/plus.svg")("background","#ffffff")("color","#333333"),c(1),f("text",e.locationService.translate("next stage","\u0441\u043b\u0435\u0434. \u044d\u0442\u0430\u043f"))("icon","../../assets/checkmark.svg")("background","#ffffff")("color","#333333")("disabled",0===e.gifts.length)}}function oj(i,n){if(1&i){const e=H();h(0,"app-desktop-add-gift",14),C("close",function(o){return E(e),y().closeAddGift(o)}),d()}2&i&&f("@fadeAdd",void 0)}let sj=(()=>{class i{constructor(e,t,o,s,r){this.locationService=e,this.asyncService=t,this.cfr=o,this.host=s,this.route=r,this.changeGlobalStage=new L,this.gifts=[],this.activeGift=null,this.screens={listGifts:"open",addGift:"close"},this.moveGift={isMoving:!1,delta:0,container:null,gift:null,index:0,scrolling:!1,intervalScroll:setInterval(()=>{},9999)},this.initialRectViewGift=null,this.sublimeStartRotate=!1,this.sublimeStopRotate=!1,this.subs=[],this.showSelectLanguage=!1}onMousemove(e){if(this.moveGift.isMoving){const t=e.clientY;this.moveGift.container.location.nativeElement.style.top=t-this.moveGift.delta+"px";let s=[];this.optionsGifts.forEach(a=>{a.host.nativeElement.style.removeProperty("border-top"),a.host.nativeElement.style.removeProperty("border-bottom"),s.push(a.host.nativeElement.getBoundingClientRect())});let r=0;if(t<=s[0].y+s[0].height/2)r=-1;else if(t>=s[s.length-1].y+s[s.length-1].height/2)r=s.length-1;else for(let a=0;a<s.length;a++)if(t>=s[a].y+s[a].height/2&&t<=s[a+1].y+s[a+1].height/2){r=a;break}-1===r?this.optionsGifts.first.host.nativeElement.style.borderTop="2px solid #333":this.optionsGifts.get(-1===r?0:r).host.nativeElement.style.borderBottom="2px solid #333",this.moveGift.index=r,t<=.1*window.innerHeight&&!this.moveGift.scrolling?this.startScrolling("up"):t>=.9*window.innerHeight&&!this.moveGift.scrolling?this.startScrolling("down"):t>.1*window.innerHeight&&t<.9*window.innerHeight&&this.stopScrolling()}}onMouseup(){this.moveGift.isMoving&&(document.body.style.userSelect="auto",this.stopScrolling(),this.moveGift.container.location.nativeElement.style.display="none",this.optionsGifts.forEach(t=>{t.host.nativeElement.style.removeProperty("border-top"),t.host.nativeElement.style.removeProperty("border-bottom")}),this.moveGift.isMoving=!1,this.gifts.splice(-1===this.moveGift.index?0:this.moveGift.index+1,0,this.moveGift.gift),setTimeout(()=>{this.sublimeStartRotate=!this.sublimeStartRotate},200))}onClickNextStage(){this.changeGlobalStage.emit(2)}startScrolling(e="down"){this.moveGift.scrolling||(this.stopScrolling(),this.moveGift.intervalScroll=setInterval(()=>{"down"===e?this.host.nativeElement.scrollTo(0,this.host.nativeElement.scrollTop+10):"up"===e&&this.host.nativeElement.scrollTo(0,this.host.nativeElement.scrollTop-10)}))}showEditGift(e){var t=this;return I(function*(){return t.sublimeStopRotate=!t.sublimeStopRotate,yield t.asyncService.delay(200),t.initialRectViewGift=e.rect,t.activeGift=e.gift,new Promise(o=>o())})()}closeEditGift(){this.initialRectViewGift=null,this.activeGift=null,this.sublimeStartRotate=!this.sublimeStartRotate}changeEditGift(){this.saveUpdate()}deleteGift(e){this.gifts=this.gifts.filter(t=>t.id!==e.id),this.saveUpdate()}stopScrolling(){this.moveGift.scrolling=!1,clearInterval(this.moveGift.intervalScroll)}closeAllScreens(){Object.keys(this.screens).forEach(e=>{this.screens[e]="close"})}getGiftId(){let e=0;return this.gifts.forEach(t=>{t.id>e&&(e=t.id)}),e+1}getGift(e){this.gifts.forEach(t=>{if(t.id===e)return t})}removeGift(e){for(let t=0;t<this.gifts.length;t++)if(this.gifts[t].id===e)return void this.gifts.splice(t,1)}closeAddGift(e){if(this.screens.addGift="close",""===e)return new Promise(o=>o());let t={};return t.id=this.getGiftId(),"greetingcard"===e?(t.title=this.locationService.translate("Greeting card","\u041e\u0442\u043a\u0440\u044b\u0442\u043a\u0430"),t.front=this.locationService.translate("../../assets/greetingcard/front/1.png","../../assets/greetingcard/front/21.png"),t.back="../../assets/greetingcard/back/5.jpg",t.text=this.locationService.translate("May you be gifted with life\u2019s\nbiggest joys and never-ending bliss.\nAfter all, you yourself are a gift to earth, so you deserve the best.\nHappy birthday.","\u0416\u0435\u043b\u0430\u044e \u0441\u0447\u0430\u0441\u0442\u044c\u044f, \u0440\u0430\u0434\u043e\u0441\u0442\u0438, \u043b\u044e\u0431\u0432\u0438,\n\u0415\u0449\u0435 \u043c\u0435\u0447\u0442\u044b \u0437\u0430\u0432\u0435\u0442\u043d\u043e\u0439 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u044c\u044f,\n\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u044f \u043a\u0440\u0435\u043f\u043a\u043e\u0433\u043e, \u0443\u0434\u0430\u0447 \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u043e \u0432\u0441\u0435\u043c\n\u0418 \u0434\u043e\u0431\u0440\u044b\u0445 \u0441\u043b\u043e\u0432 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u044c\u044f!"),t.sign=[],t.color="#ffffff"):"game"===e?(t.title=this.locationService.translate("Game","\u0418\u0433\u0440\u0430"),t.color="#003791",t.front="../../assets/game/example.jpg",t.inside="../../assets/game/game.png",t.side="../../assets/game/gameleft.png",t.code="WERB-NBHP-DXCV-ZZKL-UIFM",t.platform="ps",t.open=!1):"speaker"===e?(t.title=this.locationService.translate("Audio","\u0410\u0443\u0434\u0438\u043e\u0437\u0430\u043f\u0438\u0441\u044c"),t.grill="../../assets/speaker/grill/0.png",t.color="#ff5722",t.value=[]):"tablet"===e?(t.title=this.locationService.translate("Audio","\u0412\u0438\u0434\u0435\u043e\u0437\u0430\u043f\u0438\u0441\u044c"),t.color="#c0c0c0",t.value=""):"photo"===e&&(t.title=this.locationService.translate("Photo","\u0424\u043e\u0442\u043e"),t.photo="../../assets/photo/example.jpg",t.sign=[]),t.type=e,this.gifts.push(t),this.gifts.length>0&&setTimeout(()=>{this.sublimeStartRotate=!this.sublimeStartRotate},300),this.saveUpdate(),new Promise(o=>o())}moveGiftStart(e){this.sublimeStopRotate=!this.sublimeStopRotate,document.body.style.userSelect="none";const t=this.cfr.resolveComponentFactory(Xl);this.moveGift.container=this.moveGiftContainerTemplate.createComponent(t),this.moveGift.container.instance.gift=e.gift,this.moveGift.gift=e.gift;const o=this.moveGift.container.location.nativeElement;o.style.width=e.rect.width+"px",o.style.height=e.rect.height+"px",o.style.position="fixed",o.style.left=e.rect.x-10+"px",o.style.top=e.rect.y+"px",o.style.zIndex="10",o.style.backgroundColor="#ffffff",o.style.boxShadow="0px 0px 5px #ddd",o.style.cursor="grabbing",o.style.opacity="0.5",this.moveGift.isMoving=!0,this.moveGift.delta=e.event.clientY-e.rect.y,this.removeGift(e.gift.id)}blobToBase64(e){return e instanceof Blob?new Promise(t=>{const o=new FileReader;o.onloadend=()=>t(o.result),o.readAsDataURL(e)}):new Promise(t=>t(""))}saveUpdate(){var e=this;return I(function*(){const t=[...e.gifts];for(let o=0;o<t.length;o++){let s=t[o];if("speaker"!==s.type)if("tablet"!==s.type)t[o]=Object.assign({},s);else{const r=yield e.blobToBase64(s.value[0]);t[o]=Object.assign(Object.assign({},s),{value:r})}else{const r=yield e.blobToBase64(s.value[0]);t[o]=Object.assign(Object.assign({},s),{value:r})}}return window.localStorage.setItem("gifts",JSON.stringify(t)),new Promise(o=>o())})()}convertURIToBinary(e){let t=";base64,",o=e.indexOf(t)+t.length,s=e.substring(o),r=window.atob(s),a=r.length,l=new Uint8Array(new ArrayBuffer(a));for(let u=0;u<a;u++)l[u]=r.charCodeAt(u);return l}refreshAudioInGifts(e){var t=this;return I(function*(){for(let o=0;o<e.length;o++){let s=e[o];if("speaker"!==s.type)e[o]=Object.assign({},s);else{const r=yield t.convertURIToBinary(s.value);let a=new Blob([r],{type:"audio/webm"});e[o]=Object.assign(Object.assign({},s),{value:[a]})}}return new Promise(o=>o(e))})()}refreshVideoInGifts(e){var t=this;return I(function*(){for(let o=0;o<e.length;o++){let s=e[o];if("tablet"!==s.type)e[o]=Object.assign({},s);else{const r=yield t.convertURIToBinary(s.value);let a=new Blob([r],{type:"video/webm"});e[o]=Object.assign(Object.assign({},s),{value:[a],urlVideo:URL.createObjectURL(a)})}}return new Promise(o=>o(e))})()}setGifts(){var e=this;return I(function*(){let t=JSON.parse(window.localStorage.getItem("gifts")||"[]");return t=yield e.refreshAudioInGifts(t),t=yield e.refreshVideoInGifts(t),e.gifts=t,new Promise(o=>o())})()}ngOnInit(){this.setGifts().then(()=>{this.gifts.length&&setTimeout(()=>{this.sublimeStartRotate=!this.sublimeStartRotate},1e3)}),this.subs.push(this.route.queryParams.subscribe(e=>{const t=e.l;this.showSelectLanguage="us"!==t&&"ru"!==t}))}ngOnDestroy(){this.subs.forEach(e=>{e.unsubscribe()})}}return i.\u0275fac=function(e){return new(e||i)(P(De),P(ve),P(zo),P(q),P(go))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-page-create-stage1"]],viewQuery:function(e,t){if(1&e&&(Xe(QG,5,Bt),Xe(Xl,5)),2&e){let o;Ve(o=Le())&&(t.moveGiftContainerTemplate=o.first),Ve(o=Le())&&(t.optionsGifts=o)}},hostBindings:function(e,t){1&e&&C("mousemove",function(s){return t.onMousemove(s)},!1,be)("mouseup",function(){return t.onMouseup()},!1,be)},outputs:{changeGlobalStage:"changeGlobalStage"},decls:7,vars:5,consts:[[3,"gift","initialRect","close","change",4,"ngIf"],["moveGift",""],["class","skelet-empty",4,"ngIf"],["class","skelet-giftlist",4,"ngIf"],["class","buttons-gift-list",4,"ngIf"],[3,"close",4,"ngIf"],[3,"gift","initialRect","close","change"],[1,"skelet-empty"],[1,"skelet-giftlist"],[3,"gift","showMove","sublimeStartRotate","sublimeStopRotate","startMove","edit","delete",4,"ngFor","ngForOf"],[3,"gift","showMove","sublimeStartRotate","sublimeStopRotate","startMove","edit","delete"],[1,"buttons-gift-list"],[3,"text","icon","background","color","click"],[3,"text","icon","background","color","disabled","click"],[3,"close"]],template:function(e,t){1&e&&(S(0,JG,1,2,"app-desktop-edit-gift",0),m(1,"template",null,1),S(3,ej,2,1,"div",2),S(4,nj,2,2,"div",3),S(5,ij,3,9,"div",4),S(6,oj,1,1,"app-desktop-add-gift",5)),2&e&&(f("ngIf",null!==t.activeGift),c(3),f("ngIf","open"===t.screens.listGifts&&0===t.gifts.length),c(1),f("ngIf","open"===t.screens.listGifts&&0!==t.gifts.length),c(1),f("ngIf","open"===t.screens.listGifts&&null===t.activeGift),c(1),f("ngIf","open"===t.screens.addGift))},directives:[Re,iz,_G,gt,Xl,ai,KG],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;width:100%;height:100%;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex-shrink:0}[_nghost-%COMP%] > .skelet-empty[_ngcontent-%COMP%]{margin:auto 0;max-width:800px;width:100%;max-height:50%;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .skelet-giftlist[_ngcontent-%COMP%]{margin:auto 0;max-width:800px;width:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;flex-wrap:wrap}[_nghost-%COMP%] > .buttons-gift-list[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;border-radius:10px;box-shadow:0 0 5px #0003;background-color:#fff;display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%] > .buttons-gift-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px 10px 10px 0}[_nghost-%COMP%] > .buttons-gift-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin-left:10px}"],data:{animation:[he("fade",[K(":enter",[F({display:"none",opacity:0}),$("0ms 320ms ease",F({display:"flex",opacity:0})),$("300ms ease",F({display:"flex",opacity:1}))]),K(":leave",[$("300ms ease",F({opacity:0}))])]),he("fadeAdd",[K(":enter",[Ug([F({"background-color":"#00000000"}),kn(".content",F({transform:"translateX(min(100%, 600px))"}))]),Ug([$("300ms ease",F({"background-color":"#00000066"})),kn(".content",$("300ms ease",F({transform:"translateX(0px)"})))])]),K(":leave",[Ug([$("300ms ease",F({"background-color":"#00000000"})),kn(".content",$("300ms ease",F({transform:"translateX(min(100%, 600px))"})))])])]),he("fadeOption",[K(":enter",[F({transform:"translateY(300px)",opacity:"0","max-height":"0px"}),$("1000ms ease",F({transform:"translateY(0px)",opacity:"1","max-height":"500px"}))])])]}}),i})();function rj(i,n){if(1&i&&(h(0,"div",3),m(1,"div",4),h(2,"div",5),x(3),d(),d()),2&i){const e=y();c(3),D(e.locationService.translate("back","\u043d\u0430\u0437\u0430\u0434"))}}const aj=["*"];let lj=(()=>{class i{constructor(e,t,o){this.host=e,this.asyncService=t,this.locationService=o,this.touch=null,this.show=null,this.backable=!0,this.close=new L,this.translateX=0,this.canTranstlate=!1,this.animate=!1,this.touchRefresh=null,this.velocity=0,this.timeoutVelocity=setTimeout(()=>{},0),this.stat="hide"}processTouch(){!this.touch||("move"===this.touch.action&&"start"===this.touch.prev.action&&Math.abs(this.touch.x-this.touch.prev.x)>Math.abs(this.touch.y-this.touch.prev.y)&&this.touch.x-this.touch.prev.x>0&&this.backable&&(this.canTranstlate=!0),"move"===this.touch.action&&this.canTranstlate?(this.touch.prev&&(this.velocity=this.touch.x-this.touch.prev.x),clearTimeout(this.timeoutVelocity),this.timeoutVelocity=setTimeout(()=>{this.velocity=0},100),this.translateX=this.touch.x-this.touch.start.x,this.translateX<0&&(this.translateX=0),this.translateX>window.innerWidth&&(this.translateX=window.innerWidth)):this.touchRefresh=this.touch,"end"===this.touch.action&&this.canTranstlate&&(this.canTranstlate=!1,this.velocity>0?this.smoothClose():this.velocity<0?this.smoothShow():0==this.velocity&&(this.touch.x-this.touch.start.x>window.innerWidth/2?this.smoothClose():this.smoothShow())))}smoothShow(){var e=this;return I(function*(){return e.stat="show",e.animate=!0,e.host.nativeElement.style.display="block",yield e.asyncService.delay(10),e.translateX=0,yield e.asyncService.delay(200),e.animate=!1,new Promise(t=>t())})()}smoothClose(){var e=this;return I(function*(){return e.stat="hide",e.animate=!0,yield e.asyncService.delay(10),e.translateX=window.innerWidth,yield e.asyncService.delay(200),e.host.nativeElement.style.display="none",e.animate=!1,e.close.emit(),new Promise(t=>t())})()}ngOnInit(){this.translateX=window.innerWidth}ngOnChanges(e){e.show&&e.show.previousValue!==e.show.currentValue&&(e.show.currentValue&&"hide"===this.stat?this.smoothShow():!e.show.currentValue&&"show"===this.stat&&this.smoothClose()),e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch()}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(ve),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-touch-screen-static"]],inputs:{touch:"touch",show:"show",backable:"backable"},outputs:{close:"close"},features:[re],ngContentSelectors:aj,decls:4,vars:6,consts:[[1,"refresh",3,"touch"],[1,"content"],["class","back",4,"ngIf"],[1,"back"],[1,"ico"],[1,"text"]],template:function(e,t){1&e&&(xi(),m(0,"app-touch-refresh",0),h(1,"div",1),S(2,rj,4,1,"div",2),Jn(3),d()),2&e&&(f("touch",t.touchRefresh),c(1),b("transition",t.animate?"all ease 0.2s":"none")("transform","translateX("+t.translateX+"px)"),c(1),f("ngIf",t.backable))},directives:[Eh,Re],styles:["[_nghost-%COMP%]{position:absolute;top:0px;left:0px;width:100%;height:100%;display:none}[_nghost-%COMP%] > .refresh[_ngcontent-%COMP%]{z-index:10}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:0}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > .back[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;z-index:2}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > .back[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:10px 0 10px 10px;width:20px;height:20px;background-image:url(arrow-back.be5ad6ef0f2a3d7b.svg)}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > .back[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:10px;font-size:12px;color:#999}"]}),i})();function uj(i,n){if(1&i&&(h(0,"div",7),x(1),d()),2&i){const e=y();c(1),D(e.title)}}const cj=["*"];let hj=(()=>{class i{constructor(e,t,o){this.host=e,this.asyncService=t,this.locationService=o,this.touch=null,this.show=null,this.title="",this.close=new L,this.transform="translateX(100%)",this.animate="none",this.touchRefresh=null,this.scroll=0,this.velocity=0,this.timeoutVelocity=setTimeout(()=>{},0),this.canScroll=!1,this.doScrollBack=!1,this.stat="hide"}setSize(){const e=this.host.nativeElement,t=e.getBoundingClientRect();let o=e.querySelectorAll(".content > *");for(let s of o)s.style.width=`${t.width}px`,s.style.height=`${t.height}px`,s.style.display="flex",s.style.flexDirection="column",s.style.alignItems="center",s.style.justifyContent="center";this.doScrollByPosition(0,!1)}doScrollByPosition(e,t){var o=this;return I(function*(){const s=o.host.nativeElement,r=s.getBoundingClientRect(),a=s.querySelector(".content > *:first-child");return t?(a.style.transition="margin-top ease 0.3s",yield o.asyncService.delay(10),a.style.marginTop=-e*r.height+"px",yield o.asyncService.delay(300),a.style.removeProperty("transition")):a.style.marginTop=-e*r.height+"px",o.scroll=-e*r.height,new Promise(l=>l())})()}doScrollByTouch(e){if(null!==e&&"move"===e.action&&"start"===e.prev.action&&(Math.abs(e.x-e.prev.x)>Math.abs(e.y-e.prev.y)?(this.canScroll=!1,this.doScrollBack=e.x-e.prev.x>0):(this.canScroll=!0,this.doScrollBack=!1)),null!==e&&"move"===e.action&&!this.canScroll&&this.doScrollBack){this.touch.prev&&(this.velocity=this.touch.x-this.touch.prev.x),clearTimeout(this.timeoutVelocity),this.timeoutVelocity=setTimeout(()=>{this.velocity=0},100);let t=this.touch.x-this.touch.start.x;t<0&&(t=0),t>window.innerWidth&&(t=window.innerWidth),this.transform=`translateX(${t}px)`}if(null!==e&&"move"===e.action&&this.canScroll){const t=this.host.nativeElement,o=t.getBoundingClientRect(),s=e.y-e.start.y;this.velocity=e.y-e.prev.y,this.timeoutVelocity=setTimeout(()=>{this.velocity=0},100);const r=t.querySelectorAll(".content > *").length;let a=this.scroll+s;a>0&&(a=0),a<o.height*(r-1)*-1&&(a=o.height*(r-1)*-1),this.scroll+s>0&&(this.touchRefresh=e),this.host.nativeElement.querySelector(".content > *:first-child").style.marginTop=`${a}px`}if(null!==e&&"end"===e.action&&this.canScroll){const t=this.host.nativeElement,o=t.getBoundingClientRect();if(this.scroll+=e.y-e.start.y,0===this.velocity){let r=0;r=-this.scroll%o.height>o.height/2?Math.floor(-this.scroll/o.height):Math.floor(-this.scroll/o.height)-1,r++;const a=t.querySelectorAll(".content > *").length;r<0&&(r=0),r>a-1&&(r=a-1),this.doScrollByPosition(r,!0)}else{let r=0;this.velocity<0?r=Math.floor(-this.scroll/o.height):this.velocity>0&&(r=Math.floor(-this.scroll/o.height)-1),r++;const a=t.querySelectorAll(".content > *").length;r<0&&(r=0),r>a-1&&(r=a-1),this.doScrollByPosition(r,!0)}this.touchRefresh=e}null!==e&&"end"===e.action&&this.doScrollBack&&(this.doScrollBack=!1,this.velocity>0?this.smoothClose():this.velocity<0?this.smoothShow():0==this.velocity&&(this.touch.x-this.touch.start.x>window.innerWidth/2?this.smoothClose():this.smoothShow()))}smoothShow(){var e=this;return I(function*(){return e.stat="show",e.animate="ease 0.2s",e.host.nativeElement.style.display="block",yield e.asyncService.delay(10),e.setSize(),yield e.asyncService.delay(10),e.transform="translateX(0px)",yield e.asyncService.delay(200),e.animate="none",new Promise(t=>t())})()}smoothClose(){var e=this;return I(function*(){return e.stat="hide",e.animate="ease 0.2s",yield e.asyncService.delay(10),e.transform=`translateX(${window.innerWidth}px)`,yield e.asyncService.delay(200),e.host.nativeElement.style.display="none",e.animate="none",e.close.emit(),new Promise(t=>t())})()}ngOnInit(){}ngOnDestroy(){var e=this;return I(function*(){return yield e.smoothClose(),yield e.asyncService.delay(3e3),new Promise(t=>t())})()}ngAfterViewInit(){}ngOnChanges(e){e.show&&e.show.previousValue!==e.show.currentValue&&(e.show.currentValue&&"hide"===this.stat?this.smoothShow():!e.show.currentValue&&"show"===this.stat&&this.smoothClose()),e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.doScrollByTouch(e.touch.currentValue)}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(ve),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-touch-scroll-fragments-refresh"]],hostVars:4,hostBindings:function(e,t){2&e&&b("transform",t.transform)("transition",t.animate)},inputs:{touch:"touch",show:"show",title:"title"},outputs:{close:"close"},features:[re],ngContentSelectors:cj,decls:10,vars:4,consts:[[1,"refresh",3,"touch"],[1,"back"],[1,"ico"],[1,"text"],["class","title",4,"ngIf"],[1,"content"],[1,"hint"],[1,"title"]],template:function(e,t){1&e&&(xi(),m(0,"app-touch-refresh",0),h(1,"div",1),m(2,"div",2),h(3,"div",3),x(4),d(),d(),S(5,uj,2,1,"div",4),h(6,"div",5),Jn(7),d(),h(8,"div",6),x(9),d()),2&e&&(f("touch",t.touchRefresh),c(4),D(t.locationService.translate("back","\u043d\u0430\u0437\u0430\u0434")),c(1),f("ngIf",""!==t.title),c(4),D(t.locationService.translate("swipe up/down","\u0441\u0432\u0430\u0439\u043f \u0432\u0432\u0435\u0440\u0445/\u0432\u043d\u0438\u0437")))},directives:[Eh,Re],styles:["[_nghost-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden;display:none}[_nghost-%COMP%] > .refresh[_ngcontent-%COMP%]{z-index:10}[_nghost-%COMP%] > .title[_ngcontent-%COMP%]{position:absolute;top:100px;left:50%;transform:translate(-50%);text-align:center;max-width:100%;font-size:18px}[_nghost-%COMP%] > .back[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;z-index:2}[_nghost-%COMP%] > .back[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:10px 0 10px 10px;width:20px;height:20px;background-image:url(arrow-back.be5ad6ef0f2a3d7b.svg)}[_nghost-%COMP%] > .back[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:10px;font-size:12px;color:#999}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{position:absolute;bottom:10px;font-size:12px;width:100%;color:#999;text-align:center;display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none}"]}),i})();function dj(i,n){if(1&i&&m(0,"div",1),2&i){const e=n.$implicit,t=y();b("transform","translateX("+e.x+"px) translateY("+e.y+"px) translateZ("+e.z+"px)")("width",e.width,"px")("height",e.height,"px")("background-image","url("+t.typesObject[e.type].src+")")}}let pj=(()=>{class i{constructor(e,t){this.host=e,this.asyncService=t,this.value=0,this.show=!1,this.stat="hide",this.objects=[],this.typesObject={money1:{name:"money1",originWidth:340,ratio:340/246,src:"../../assets/pack-of-money/money1.png"},money2:{name:"money2",originWidth:357,ratio:357/276,src:"../../assets/pack-of-money/money2.png"},money3:{name:"money3",originWidth:495,ratio:495/142,src:"../../assets/pack-of-money/money3.png"},tape1:{name:"tape1",originWidth:167,ratio:167/151,src:"../../assets/pack-of-money/tape1.png"},tape2:{name:"tape2",originWidth:212,ratio:212/162,src:"../../assets/pack-of-money/tape2.png"},tape3:{name:"tape3",originWidth:123,ratio:123/189,src:"../../assets/pack-of-money/tape3.png"}}}addObject(e,t=this.typesObject[e].originWidth,o=0,s=0,r=0){this.objects.push({type:e,width:t,height:t/this.typesObject[e].ratio,x:o,y:s,z:r})}getCount(){let e=0;return this.value>0&&this.value<10?e=1:this.value>=10&&this.value<50?e=2:this.value>=50&&this.value<100?e=3:this.value>=100&&this.value<700?e=Math.floor(this.value/100)+3:this.value>=700&&(e=Math.floor(this.value/1e3)+10),e>15&&(e=15),e>=5&&e<10&&e++,e>=10&&e<15&&(e+=2),15===e&&(e+=3),e}getInfo(e){const t=window.innerWidth,o=window.innerHeight;return 0===e?{name:"money1",w:.4*t,x:-.2*t,y:.1*o}:1===e?{name:"money1",w:.4*t,x:-.21*t,y:.09*o}:2===e?{name:"money1",w:.4*t,x:-.2*t,y:.08*o}:3===e?{name:"money1",w:.4*t,x:-.19*t,y:.07*o}:4===e?{name:"money1",w:.4*t,x:-.2*t,y:.06*o}:5===e?{name:"tape1",w:.25*t,x:-.19*t,y:.063*o}:6===e?{name:"money2",w:.38*t,x:.2*t,y:.1*o}:7===e?{name:"money2",w:.38*t,x:.21*t,y:.09*o}:8===e?{name:"money2",w:.38*t,x:.2*t,y:.08*o}:9===e?{name:"money2",w:.38*t,x:.19*t,y:.07*o}:10===e?{name:"money2",w:.38*t,x:.2*t,y:.06*o}:11===e?{name:"tape2",w:.25*t,x:.15*t,y:.05*o}:12===e?{name:"money3",w:.55*t,x:0*t,y:.07*o}:13===e?{name:"money3",w:.55*t,x:.01*t,y:.06*o}:14===e?{name:"money3",w:.55*t,x:0*t,y:.05*o}:15===e?{name:"money3",w:.55*t,x:-.01*t,y:.04*o}:16===e?{name:"money3",w:.55*t,x:0*t,y:.03*o}:17===e?{name:"tape3",w:.16*t,x:-0*t,y:.05*o}:{name:"money1",w:.4*t,x:-.2*t,y:.1*o}}refreshMoney(){var e=this;return I(function*(){const t=e.getCount();if(t>e.objects.length)for(let o=e.objects.length;o<t;o++){const s=e.getInfo(o);e.addObject(s.name,s.w,s.x,s.y,o)}else if(t<e.objects.length)for(let o=e.objects.length-1;o>t;o--)e.objects.splice(o,1);return e.objects.map(e.objects.length<=6?o=>o.x=0:(o,s)=>s<6?o.x=e.getInfo(s).x:null),new Promise(o=>o())})()}smoothShow(){var e=this;return I(function*(){return e.stat="show",e.host.nativeElement.style.transition="all ease 0.2s",e.host.nativeElement.style.display="flex",yield e.asyncService.delay(10),e.host.nativeElement.style.transform="translateY(0px)",e.host.nativeElement.style.opacity="1",yield e.asyncService.delay(200),e.host.nativeElement.style.removeProperty("transition"),new Promise(t=>t())})()}smoothClose(){var e=this;return I(function*(){return e.stat="hide",e.host.nativeElement.style.transition="all ease 0.2s",yield e.asyncService.delay(10),e.host.nativeElement.style.transform="translateY(-100%)",e.host.nativeElement.style.opacity="0",yield e.asyncService.delay(200),e.host.nativeElement.style.display="none",e.host.nativeElement.style.removeProperty("transition"),new Promise(t=>t())})()}ngOnInit(){}ngOnChanges(e){e.show&&e.show.previousValue!==e.show.currentValue&&(e.show.currentValue&&"hide"===this.stat?this.smoothShow():!e.show.currentValue&&"show"===this.stat&&this.smoothClose()),e.value&&e.value.previousValue!==e.value.currentValue&&this.refreshMoney()}ngAfterViewInit(){}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(ve))},i.\u0275cmp=X({type:i,selectors:[["app-touch-money-pack"]],inputs:{value:"value",show:"show"},features:[re],decls:1,vars:1,consts:[["class","object",3,"transform","width","height","background-image",4,"ngFor","ngForOf"],[1,"object"]],template:function(e,t){1&e&&S(0,dj,1,8,"div",0),2&e&&f("ngForOf",t.objects)},directives:[gt],styles:["[_nghost-%COMP%]{flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;top:0px;left:0px;transform-style:preserve-3d;display:none;transform:translateY(-100%);opacity:0}[_nghost-%COMP%] > .object[_ngcontent-%COMP%]{position:absolute;background-position:center;background-size:contain;background-repeat:no-repeat;flex-shrink:0;transition:all ease .2s;animation-name:showTop;animation-duration:.2s;animation-timing-function:ease;animation-iteration-count:1}@keyframes showTop{0%{opacity:0;margin-top:-50px}to{opacity:1;margin-top:0}}"]}),i})(),fj=(()=>{class i{constructor(){}rgbToHex(e,t,o){return e=Math.round(e),t=Math.round(t),o=Math.round(o),"#"+(1==e.toString(16).length?"0"+e.toString(16):e.toString(16))+(1==t.toString(16).length?"0"+t.toString(16):t.toString(16))+(1==o.toString(16).length?"0"+o.toString(16):o.toString(16))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function gj(i,n){if(1&i&&(h(0,"div",6),m(1,"div",7),h(2,"div",8),x(3),d(),d()),2&i){const e=y(2).index,t=y();V("number-first",0===e),c(3),D(t.options[e])}}function mj(i,n){if(1&i&&(Se(0),h(1,"div",3),S(2,gj,4,3,"div",4),m(3,"div",5),h(4,"div",6),m(5,"div",7),h(6,"div",8),x(7),d(),d(),d(),h(8,"div",9),x(9),d(),Me()),2&i){const e=y().index,t=y();c(2),f("ngIf",0===e),c(1),b("background-color",t.getColor(e)),V("round-top",0===e),c(4),D(t.options[e+1]),c(1),b("background-color",e===t.active?t.getColor(e)+"33":"unset"),c(1),se(" ",t.options[e]===t.options[e+1]?t.options[e]+" "+t.currencyName:t.options[e]+" "+t.currencyName+" < ... < "+t.options[e+1]+" "+t.currencyName,"")}}function _j(i,n){if(1&i&&(h(0,"div",6),m(1,"div",7),h(2,"div",8),x(3),d(),d()),2&i){const e=y(2).index,t=y();V("number-first",0===e),c(3),D(t.options[e])}}function vj(i,n){if(1&i&&(Se(0),h(1,"div",3),S(2,_j,4,3,"div",4),m(3,"div",5),d(),h(4,"div",9),x(5),d(),Me()),2&i){const e=y().index,t=y();c(2),f("ngIf",0===e),c(1),b("background-color",t.getColor(e)),V("round-top",0===e)("round-bottom",!0),c(1),b("background-color",e===t.active?t.getColor(e)+"33":"unset"),c(1),se("+ ",t.currencyName+t.currencyName+t.currencyName,"")}}function yj(i,n){if(1&i){const e=H();h(0,"div",1),C("click",function(){const s=E(e).index;return y().onChange.emit(s)}),S(1,mj,10,9,"ng-container",2),S(2,vj,6,10,"ng-container",2),d()}if(2&i){const e=n.index,t=y();c(1),f("ngIf",e<t.options.length-1),c(1),f("ngIf",e===t.options.length-1)}}let Cj=(()=>{class i{constructor(e,t,o){this.host=e,this.converColorService=t,this.locationService=o,this.options=[],this.currencyName="$",this.touch=null,this.active=0,this.complete=new L,this.onChange=new L,this.timestampEnd=0}processTouch(){!this.touch||"end"===this.touch.action&&(this.touch.timestamp-this.timestampEnd<=300&&this.complete.emit(),this.timestampEnd=this.touch.timestamp||0)}getColor(e){return this.converColorService.rgbToHex(255*e/this.options.length,255-255*e/this.options.length,255-255*e/this.options.length)}ngOnInit(){this.rectHost=this.host.nativeElement.getBoundingClientRect()}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch()}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(fj),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-touch-slide-money"]],inputs:{options:"options",currencyName:"currencyName",touch:"touch",active:"active"},outputs:{complete:"complete",onChange:"onChange"},features:[re],decls:1,vars:1,consts:[["class","option",3,"click",4,"ngFor","ngForOf"],[1,"option",3,"click"],[4,"ngIf"],[1,"left"],["class","number",3,"number-first",4,"ngIf"],[1,"line"],[1,"number"],[1,"tick"],[1,"text"],[1,"title"]],template:function(e,t){1&e&&S(0,yj,3,2,"div",0),2&e&&f("ngForOf",t.options)},directives:[gt,Re],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;user-select:none}[_nghost-%COMP%] > .option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%] > .number[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;align-self:flex-end;transform:translate(5px) translateY(50%)}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%] > .number[_ngcontent-%COMP%] > .tick[_ngcontent-%COMP%]{margin-right:10px;width:2px;height:1px;background:#00000033}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%] > .number[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:10px;color:#333}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%] > .number.number-first[_ngcontent-%COMP%]{align-self:flex-start;transform:translate(5px) translateY(-50%)}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%] > .line[_ngcontent-%COMP%]{width:10px;height:50px;background-color:#0003}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%] > .line.round-top[_ngcontent-%COMP%]{border-radius:5px 5px 0 0}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%] > .line.round-bottom[_ngcontent-%COMP%]{border-radius:0 0 5px 5px}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{padding:5px 20px;border-radius:10px;margin-left:20px;flex:1;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;text-align:center;color:#333;font-size:14px;align-self:stretch}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{position:fixed;padding:10px;top:50px;left:50%;transform:translate(-50%);background-color:#fff3;backdrop-filter:blur(5px);border-radius:5px;font-size:10px;color:#333;text-align:center}"]}),i})();const bj=["moneyRef"];function wj(i,n){if(1&i){const e=H();Se(0),h(1,"div",19),C("click",function(){return E(e),y().chooseCurrency("dollar")}),m(2,"div",20),h(3,"div",21),x(4,"$ dollar"),d(),d(),h(5,"div",19),C("click",function(){return E(e),y().chooseCurrency("euro")}),m(6,"div",22),h(7,"div",21),x(8,"\u20ac euro"),d(),d(),h(9,"div",19),C("click",function(){return E(e),y().chooseCurrency("ruble")}),m(10,"div",23),h(11,"div",21),x(12,"\u20bd ruble"),d(),d(),h(13,"div",19),C("click",function(){return E(e),y().chooseCurrency("yen")}),m(14,"div",24),h(15,"div",21),x(16,"\xa5 yen"),d(),d(),h(17,"div",19),C("click",function(){return E(e),y().chooseCurrency("pound")}),m(18,"div",25),h(19,"div",21),x(20,"\xa3 pound"),d(),d(),h(21,"div",19),C("click",function(){return E(e),y().chooseCurrency("other")}),m(22,"div",26),h(23,"div",21),x(24,"other currency"),d(),d(),Me()}}function xj(i,n){if(1&i){const e=H();Se(0),h(1,"div",19),C("click",function(){return E(e),y().chooseCurrency("ruble")}),m(2,"div",23),h(3,"div",21),x(4,"\u20bd \u0440\u0443\u0431\u043b\u044c"),d(),d(),h(5,"div",19),C("click",function(){return E(e),y().chooseCurrency("dollar")}),m(6,"div",20),h(7,"div",21),x(8,"$ \u0434\u043e\u043b\u043b\u0430\u0440"),d(),d(),h(9,"div",19),C("click",function(){return E(e),y().chooseCurrency("euro")}),m(10,"div",22),h(11,"div",21),x(12,"\u20ac \u0435\u0432\u0440\u043e"),d(),d(),h(13,"div",19),C("click",function(){return E(e),y().chooseCurrency("yen")}),m(14,"div",24),h(15,"div",21),x(16,"\xa5 \u0439\u0435\u043d\u0430"),d(),d(),h(17,"div",19),C("click",function(){return E(e),y().chooseCurrency("pound")}),m(18,"div",25),h(19,"div",21),x(20,"\xa3 \u0444\u0443\u043d\u0442 \u0441\u0442\u0435\u0440\u043b\u0438\u043d\u0433\u043e\u0432"),d(),d(),h(21,"div",19),C("click",function(){return E(e),y().chooseCurrency("other")}),m(22,"div",26),h(23,"div",21),x(24,"other currency"),d(),d(),Me()}}function kj(i,n){if(1&i){const e=H();Se(0),h(1,"div",19),C("click",function(){return E(e),y().chooseCurrency("dollar")}),m(2,"div",20),h(3,"div",21),x(4,"$ dollar"),d(),d(),h(5,"div",19),C("click",function(){return E(e),y().chooseCurrency("euro")}),m(6,"div",22),h(7,"div",21),x(8,"\u20ac euro"),d(),d(),h(9,"div",19),C("click",function(){return E(e),y().chooseCurrency("ruble")}),m(10,"div",23),h(11,"div",21),x(12,"\u20bd ruble"),d(),d(),h(13,"div",19),C("click",function(){return E(e),y().chooseCurrency("yen")}),m(14,"div",24),h(15,"div",21),x(16,"\xa5 yen"),d(),d(),h(17,"div",19),C("click",function(){return E(e),y().chooseCurrency("pound")}),m(18,"div",25),h(19,"div",21),x(20,"\xa3 pound"),d(),d(),h(21,"div",19),C("click",function(){return E(e),y().chooseCurrency("other")}),m(22,"div",26),h(23,"div",21),x(24,"other currency"),d(),d(),Me()}}function Pj(i,n){if(1&i&&(h(0,"div"),x(1),d()),2&i){const e=n.$implicit,t=y();Vo("stage2-coin stage2-coin_"+e.type),b("margin-left",e.x+"px")("margin-top",e.y+"px")("animation-duration",e.speed+"s"),c(1),D(t.coinContent(e.type))}}let Sj=(()=>{class i{constructor(e,t,o){this.touchService=e,this.locationService=t,this.changeDetectorRef=o,this.subs=[],this.changeGlobalStage=new L,this.call={},this.touches={showPrice:null,hintNo:null,hintYes:null,hint:null,currency:null,currencyName:null,currencyRate:null,currencyValue:null,currencySlide:null},this.stats={showPrice:"close",hintNo:"close",hintYes:"close",hint:"close",currency:"close",currencyName:"close",currencyRate:"close",currencyValue:"close",currencySlide:"close"},this.disableds={showPrice:!0,hintNo:!0,hintYes:!0,hint:!0,currency:!0,currencyName:!0,currencyRate:!0,currencyValue:!0,currencySlide:!0},this.wasChoosen={showPrice:!1,hintNo:!1,hintYes:!1,currency:!1},this.howShowPrice="notAtAll",this.firstChoose="no",this.otherCurrency=!1,this.activeCoin=0,this.typesCoin=["dollar","euro","ruble","yen","pound"],this.coins=[],this.intervalCoins=setTimeout(()=>{},0),this.doscrolltocenter=!1,this.currency={id:"",name:"",rate:1,sign:"",value:0,active:0,options:[]}}onTouchend(){"open"===this.stats.hint&&this.disableds.hint&&(this.disableds.hint=!1)}onTouchcancel(){"open"===this.stats.hint&&this.disableds.hint&&(this.disableds.hint=!1)}processTouch(e){Object.entries(this.disableds).forEach(([t,o])=>{o||(this.touches[t]=e)})}onCloseScreen(e){this.disableds[e]=!0,this.stats[e]="close","showPrice"!==e||this.wasChoosen.showPrice?"hintNo"===e&&!this.wasChoosen.hintNo||"hintYes"===e&&!this.wasChoosen.hintYes?this.showScreen("showPrice"):"currency"!==e||this.wasChoosen.currency?"currencyValue"!==e||this.wasChoosen.currencyValue?"currencyName"!==e||this.wasChoosen.currencyName?"currencyRate"!==e||this.wasChoosen.currencyRate?"currencySlide"===e&&!this.wasChoosen.currencySlide&&("hint"!==this.howShowPrice||this.otherCurrency?"hint"===this.howShowPrice&&this.otherCurrency&&this.showScreen("currencyRate"):this.showScreen("currency")):("exact"===this.howShowPrice||"hint"===this.howShowPrice)&&this.showScreen("currencyName"):(("exact"===this.howShowPrice||"hint"===this.howShowPrice)&&this.showScreen("currency"),this.otherCurrency=!1):"exact"!==this.howShowPrice||this.otherCurrency?"exact"===this.howShowPrice&&this.otherCurrency&&this.showScreen("currencyRate"):this.showScreen("currency"):"yes"===this.firstChoose?this.showScreen("hintYes"):"no"===this.firstChoose&&this.showScreen("hintNo"):this.changeGlobalStage.emit(1),this.wasChoosen[e]=!1,this.changeDetectorRef.detectChanges()}showScreen(e){this.disableds[e]=!1,this.stats[e]="open","currencySlide"===e&&setTimeout(()=>{this.doscrolltocenter=!this.doscrolltocenter},0)}chooseCurrency(e){this.wasChoosen.currency=!0,this.stats.currency="close","other"===e?(this.otherCurrency=!0,this.showScreen("currencyName")):(this.currency.id=e,this.currency.name=this.currencyName(e),this.currency.sign=this.coinContent(e),this.currency.rate=this.currencyRate(e),this.currency.options=this.currencyOption(e),"hint"===this.howShowPrice?this.showScreen("currencySlide"):"exact"===this.howShowPrice&&this.showScreen("currencyValue")),this.saveUpdate()}currencyOption(e){return"dollar"===e||"euro"===e?[0,0,10,50,100,500,1e3,1e4,1e5]:"ruble"===e?[0,0,1e3,5e3,1e4,5e4,1e5,1e6,1e7]:"yen"===e?[0,0,1500,7500,15e3,75e3,15e4,15e5,15e6]:"pound"===e?[0,0,10,50,100,500,1e3,1e4,1e5]:[0*this.currency.rate,0*this.currency.rate,10*this.currency.rate,50*this.currency.rate,100*this.currency.rate,500*this.currency.rate,1e3*this.currency.rate,1e4*this.currency.rate,1e5*this.currency.rate]}currencyName(e){if("ru"===this.locationService.location().country.code){if("dollar"===e)return"\u0434\u043e\u043b\u043b\u0430\u0440";if("euro"===e)return"\u0435\u0432\u0440\u043e";if("ruble"===e)return"\u0440\u0443\u0431\u043b\u044c";if("yen"===e)return"\u0439\u0435\u043d\u0430";if("pound"===e)return"\u0444\u0443\u043d\u0442 \u0441\u0442\u0435\u0440\u043b\u0438\u043d\u0433\u043e\u0432"}return e}currencyRate(e){return"dollar"===e||"euro"===e?1:"ruble"===e?61:"yen"===e?147:"pound"===e?.88:1}coinContent(e){return"dollar"===e?"$":"euro"===e?"\u20ac":"ruble"===e?"\u20bd":"yen"===e?"\xa5":"pound"===e?"\xa3":"$"}resultShowPrice(e){this.wasChoosen.showPrice=!0,this.stats.showPrice="close",e?(this.showScreen("hintYes"),this.firstChoose="yes"):(this.showScreen("hintNo"),this.firstChoose="no"),this.saveUpdate()}resultHintNo(e){this.wasChoosen.hintNo=!0,this.stats.hintNo="close",e?(this.howShowPrice="hint",this.showScreen("currency")):(this.howShowPrice="notAtAll",this.goToNextStage()),this.saveUpdate()}resultHintYes(e){this.wasChoosen.hintYes=!0,this.stats.hintYes="close",e?(this.howShowPrice="hint",this.showScreen("currency"),this.call.refreshCurrecy=!this.call.refreshCurrecy):(this.howShowPrice="exact",this.showScreen("currency"),this.call.refreshCurrecy=!this.call.refreshCurrecy),this.saveUpdate()}formatLabelMoneyHint(e){return 0===e?"< 10":1===e?"10 < ... < 100":2===e?"100 < ... < 1k":3===e?"1k < ... < 10k":4===e?"10k < ... < 100k":5===e?"100k <":"price < 10$"}onSaveCurrencyName(e){this.wasChoosen.currencyName=!0,this.stats.currencyName="close",this.currency.name=e,this.currency.sign=e.slice(0,1),("exact"===this.howShowPrice||"hint"===this.howShowPrice)&&this.showScreen("currencyRate"),this.saveUpdate()}onSaveCurrencyRate(e){this.wasChoosen.currencyRate=!0,this.stats.currencyRate="close";let t=parseFloat(e);t||(t=1),this.currency.rate=Math.round(100*t)/100,this.currency.options=[0*this.currency.rate,0*this.currency.rate,10*this.currency.rate,50*this.currency.rate,100*this.currency.rate,500*this.currency.rate,1e3*this.currency.rate,1e4*this.currency.rate,1e5*this.currency.rate],"hint"===this.howShowPrice?this.showScreen("currencySlide"):"exact"===this.howShowPrice&&this.showScreen("currencyValue"),this.saveUpdate()}onSaveCurrencyValue(e){this.wasChoosen.currencyValue=!0,this.stats.currencyValue="close";let t=parseFloat(e);t||(t=1),this.currency.value=Math.round(100*t)/100,this.goToNextStage(),this.saveUpdate()}onSaveCurrencySlide(){this.wasChoosen.currencySlide=!0,this.stats.currencySlide="close",this.goToNextStage(),this.saveUpdate()}isDefaultSign(e){return"dollar"===e||"euro"===e||"ruble"===e||"yen"===e||"pound"===e}saveUpdate(){let e=this.howShowPrice;"notAtAll"===e&&(e="no"),"exact"===e&&(e="yes");const t="no"!==e?this.otherCurrency?this.currency.name:this.currency.id:null,o=this.isDefaultSign(t)?null:this.currency.rate;let s=null;if("yes"===e)s=this.currency.value;else if("hint"===e){const a=this.currency.active,l=this.currencyOption(t);s=[l[a],void 0!==l[a+1]?l[a+1]:"infinity"]}window.localStorage.setItem("cost",JSON.stringify({type:e,currency:t,rate:o,price:s}))}onInputCurrencyValue(e){this.currency.value=e}goToNextStage(){this.changeGlobalStage.emit(3)}ngOnInit(){this.subs.push(this.touchService.stream$.subscribe(o=>{this.processTouch(o)})),clearInterval(this.intervalCoins),this.intervalCoins=setInterval(()=>{let o=this.typesCoin[Math.random()*this.typesCoin.length|0];this.coins.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,type:o,speed:10*Math.random()+1}),this.coins.slice(-1*Math.floor(10))},200),setTimeout(()=>{this.showScreen("showPrice")},100)}ngOnDestroy(){this.subs.forEach(e=>{e.unsubscribe()})}}return i.\u0275fac=function(e){return new(e||i)(P(Zo),P(De),P(ei))},i.\u0275cmp=X({type:i,selectors:[["app-touch-page-create-stage2"]],viewQuery:function(e,t){if(1&e&&Xe(bj,5),2&e){let o;Ve(o=Le())&&(t.moneyRef=o.first)}},hostBindings:function(e,t){1&e&&C("touchend",function(){return t.onTouchend()},!1,be)("touchcancel",function(){return t.onTouchcancel()},!1,be)},outputs:{changeGlobalStage:"changeGlobalStage"},decls:49,vars:67,consts:[[3,"show","touch","close"],[1,"stage2-question"],[1,"stage2-answers"],["matRipple","","matRippleColor","#f4433611",1,"stage2-answer",3,"click"],[1,"stage2-answer__text"],["matRipple","","matRippleColor","#4caf5011",1,"stage2-answer",3,"click"],[1,"stage2-answers","stage2-answers_hint"],[3,"show","touch","title","close"],[4,"ngIf"],[1,"stage2-rename",3,"useAnimate","show","value","enterable","max","min","title","save"],[1,"stage2-rename",3,"useAnimate","show","value","enterable","onlyNumbers","max","min","title","save"],[3,"show","value"],[1,"stage2-rename",3,"useAnimate","show","value","enterable","onlyNumbers","max","min","title","save","onInput"],[1,"hint"],[1,"stage2-screen",3,"show","touch","refreshable","doscrolltocenter","close"],[1,"slide-money",3,"active","options","currencyName","touch","onChange","complete"],[1,"stage2-money"],["moneyRef",""],[3,"class","margin-left","margin-top","animation-duration",4,"ngFor","ngForOf"],["matRipple","","matRippleColor","#00000011",3,"click"],[1,"currency-img","currency-img_dollar"],[1,"currency-text"],[1,"currency-img","currency-img_euro"],[1,"currency-img","currency-img_ruble"],[1,"currency-img","currency-img_yen"],[1,"currency-img","currency-img_pound"],[1,"currency-img","currency-img_other"]],template:function(e,t){1&e&&(h(0,"app-touch-screen-static",0),C("close",function(){return t.onCloseScreen("showPrice")}),h(1,"div",1),x(2),d(),h(3,"div",2),h(4,"div",3),C("click",function(){return t.resultShowPrice(!1)}),h(5,"div",4),x(6),d(),d(),h(7,"div",5),C("click",function(){return t.resultShowPrice(!0)}),h(8,"div",4),x(9),d(),d(),d(),d(),h(10,"app-touch-screen-static",0),C("close",function(){return t.onCloseScreen("hintNo")}),h(11,"div",1),x(12),d(),h(13,"div",6),h(14,"div",3),C("click",function(){return t.resultHintNo(!1)}),h(15,"div",4),x(16),d(),d(),h(17,"div",5),C("click",function(){return t.resultHintNo(!0)}),h(18,"div",4),x(19),d(),d(),d(),d(),h(20,"app-touch-screen-static",0),C("close",function(){return t.onCloseScreen("hintYes")}),h(21,"div",1),x(22),d(),h(23,"div",6),h(24,"div",3),C("click",function(){return t.resultHintYes(!1)}),h(25,"div",4),x(26),d(),d(),h(27,"div",5),C("click",function(){return t.resultHintYes(!0)}),h(28,"div",4),x(29),d(),d(),d(),d(),h(30,"app-touch-scroll-fragments-refresh",7),C("close",function(){return t.onCloseScreen("currency")}),S(31,wj,25,0,"ng-container",8),S(32,xj,25,0,"ng-container",8),S(33,kj,25,0,"ng-container",8),d(),h(34,"app-touch-screen-static",0),C("close",function(){return t.onCloseScreen("currencyName")}),h(35,"app-touch-rename",9),C("save",function(s){return t.onSaveCurrencyName(s)}),d(),d(),h(36,"app-touch-screen-static",0),C("close",function(){return t.onCloseScreen("currencyRate")}),h(37,"app-touch-rename",10),C("save",function(s){return t.onSaveCurrencyRate(s)}),d(),d(),h(38,"div"),m(39,"app-touch-money-pack",11),d(),h(40,"app-touch-screen-static",0),C("close",function(){return t.onCloseScreen("currencyValue")}),h(41,"app-touch-rename",12),C("save",function(s){return t.onSaveCurrencyValue(s)})("onInput",function(s){return t.onInputCurrencyValue(s)}),d(),d(),h(42,"div",13),x(43),d(),h(44,"app-touch-screen",14),C("close",function(){return t.onCloseScreen("currencySlide")}),h(45,"app-touch-slide-money",15),C("onChange",function(s){return t.currency.active=s,t.currency.value=t.currency.options[s],t.saveUpdate()})("complete",function(){return t.onSaveCurrencySlide()}),d(),d(),h(46,"div",16,17),S(48,Pj,2,9,"div",18),d()),2&e&&(f("@slideShow",void 0)("show","open"===t.stats.showPrice)("touch",t.touches.showPrice),c(2),D(t.locationService.translate("Specify the value of the gift?","\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043a\u0430?")),c(4),D(t.locationService.translate("NO","\u041d\u0415\u0422")),c(3),D(t.locationService.translate("YES","\u0414\u0410")),c(1),f("show","open"===t.stats.hintNo)("touch",t.touches.hintNo),c(2),D(t.locationService.translate("You can hint at the value of a gift without giving the exact price","\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043c\u0435\u043a\u043d\u0443\u0442\u044c \u043d\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043a\u0430, \u043d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044f \u0442\u043e\u0447\u043d\u0443\u044e \u0446\u0435\u043d\u0443")),c(4),D(t.locationService.translate("Don't list the price at all","\u041d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0446\u0435\u043d\u0443 \u0441\u043e\u0432\u0441\u0435\u043c")),c(3),D(t.locationService.translate("Hint at the price","\u041d\u0430\u043c\u0435\u043a\u043d\u0443\u0442\u044c")),c(1),f("show","open"===t.stats.hintYes)("touch",t.touches.hintYes),c(2),D(t.locationService.translate("You can hint at the value of a gift without giving the exact price","\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043c\u0435\u043a\u043d\u0443\u0442\u044c \u043d\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043a\u0430, \u043d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044f \u0442\u043e\u0447\u043d\u0443\u044e \u0446\u0435\u043d\u0443")),c(4),D(t.locationService.translate("Specify the exact price","\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u043e\u0447\u043d\u0443\u044e \u0446\u0435\u043d\u0443")),c(3),D(t.locationService.translate("Hint at the price","\u041d\u0430\u043c\u0435\u043a\u043d\u0443\u0442\u044c")),c(1),f("show","open"===t.stats.currency)("touch",t.touches.currency)("title",t.locationService.translate("select currency","\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443")),c(1),f("ngIf","us"===t.locationService.location().country.code),c(1),f("ngIf","ru"===t.locationService.location().country.code),c(1),f("ngIf","us"!==t.locationService.location().country.code&&"ru"!==t.locationService.location().country.code),c(1),f("show","open"===t.stats.currencyName)("touch",t.touches.currencyName),c(1),f("useAnimate",!1)("show","open"===t.stats.currencyName)("value",t.currency.name)("enterable",!1)("max",20)("min",1)("title",t.locationService.translate("enter currency name","\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043b\u044e\u0442\u044b")),c(1),f("show","open"===t.stats.currencyRate)("touch",t.touches.currencyRate),c(1),f("useAnimate",!1)("show","open"===t.stats.currencyRate)("value",t.currency.rate)("enterable",!1)("onlyNumbers",!0)("max",10)("min",1)("title",t.locationService.translate("rate ","\u043a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442\u044b ")+" 1 $ = ??? "+t.currency.name),c(1),b("opacity","open"===t.stats.currencySlide?"0.5":"1"),c(1),f("show","open"===t.stats.currencyValue||"open"===t.stats.currencySlide)("value",t.currency.value/t.currency.rate),c(1),f("show","open"===t.stats.currencyValue)("touch",t.touches.currencyValue),c(1),f("useAnimate",!1)("show","open"===t.stats.currencyValue)("value",t.currency.value)("enterable",!1)("onlyNumbers",!0)("max",20)("min",1)("title",t.locationService.translate("Total value of your gifts. Currency: "+t.currency.name,"\u0421\u0443\u043c\u043c\u0430\u0440\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u0430\u0448\u0438\u0445 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432 \u0432 \u0432\u0430\u043b\u044e\u0442\u0435: "+t.currency.name)),c(1),b("display","open"===t.stats.currencySlide?"flex":"none"),c(1),se(" ",t.locationService.translate("doble tap to continue","\u0434\u0432\u0430 \u0440\u0430\u0437\u0430 \u043d\u0430\u0436\u043c\u0438 - \u0434\u0430\u043b\u044c\u0448\u0435 \u043f\u0440\u043e\u0439\u0434\u0438"),"\n"),c(1),f("show","open"===t.stats.currencySlide)("touch",t.touches.currencySlide)("refreshable",!0)("doscrolltocenter",t.doscrolltocenter),c(1),f("active",t.currency.active)("options",t.currency.options)("currencyName",t.currency.sign)("touch",t.touches.currencySlide),c(3),f("ngForOf",t.coins))},directives:[lj,Gn,hj,Re,T0,pj,Hl,Cj,gt],styles:["[_nghost-%COMP%]{position:absolute;left:0px;top:0px;width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{position:fixed;padding:10px;top:50px;left:50%;transform:translate(-50%);background-color:#fff3;backdrop-filter:blur(2px);border-radius:5px;font-size:10px;color:#333;text-align:center;z-index:10}[_nghost-%COMP%]   .slide-money[_ngcontent-%COMP%]{margin:50px 0;width:80%;align-self:center}[_nghost-%COMP%]   .stage2-screen[_ngcontent-%COMP%] {background-color:unset;box-shadow:none}[_nghost-%COMP%]   .stage2-screen[_ngcontent-%COMP%]  app-touch-refresh{margin-top:-41px;z-index:10}[_nghost-%COMP%]   .stage2-screen[_ngcontent-%COMP%] >.back{background-color:unset;border:none}[_nghost-%COMP%]   .stage2-rename[_ngcontent-%COMP%] {background-color:unset;bottom:0px;height:calc(100% - 40px)}[_nghost-%COMP%]   .stage2-rename[_ngcontent-%COMP%]  .title, [_nghost-%COMP%]   .stage2-rename[_ngcontent-%COMP%]  .maxlength, [_nghost-%COMP%]   .stage2-rename[_ngcontent-%COMP%]  .hint{background-color:#fff3;backdrop-filter:blur(2px);width:100%}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0px;left:0px;overflow:hidden;z-index:-1}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;border-radius:100px;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:12px;text-align:center;border:2px dashed #ffffff;box-shadow:2px 2px 5px #0006;opacity:0;background-color:#000;animation-name:coin;animation-duration:2s;animation-timing-function:linear;animation-iteration-count:1}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_dollar[_ngcontent-%COMP%]{background-color:#4caf50}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_euro[_ngcontent-%COMP%]{background-color:#2196f3}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_ruble[_ngcontent-%COMP%]{background-color:#ff9800}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_yen[_ngcontent-%COMP%]{background-color:#e91e63}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_pound[_ngcontent-%COMP%]{background-color:#795548}[_nghost-%COMP%] > .screen-show-price[_ngcontent-%COMP%] {box-shadow:none}[_nghost-%COMP%] > .screen-show-price[_ngcontent-%COMP%] >.back{border-bottom:1px solid #dddddd00}[_nghost-%COMP%]   .stage2-question[_ngcontent-%COMP%]{margin:0 50px;position:absolute;align-self:center;text-align:center;transform:translateY(-50px);user-select:none;color:#333;font-size:16px}[_nghost-%COMP%]   .stage2-answers[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row;align-items:stretch;justify-content:center}[_nghost-%COMP%]   .stage2-answers[_ngcontent-%COMP%] > .stage2-answer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:50%}[_nghost-%COMP%]   .stage2-answers[_ngcontent-%COMP%] > .stage2-answer[_ngcontent-%COMP%] > .stage2-answer__text[_ngcontent-%COMP%]{user-select:none;font-size:18px;color:#333;font-weight:bold;text-align:center}[_nghost-%COMP%]   .stage2-answers[_ngcontent-%COMP%] > .stage2-answer[_ngcontent-%COMP%]:first-child > .stage2-answer__text[_ngcontent-%COMP%]{transform:translate(20px) translateY(150px);color:#f44336}[_nghost-%COMP%]   .stage2-answers[_ngcontent-%COMP%] > .stage2-answer[_ngcontent-%COMP%]:last-child > .stage2-answer__text[_ngcontent-%COMP%]{transform:translate(-20px) translateY(150px);color:#4caf50}[_nghost-%COMP%]   .stage2-answers.stage2-answers_hint[_ngcontent-%COMP%] > .stage2-answer[_ngcontent-%COMP%]:first-child > .stage2-answer__text[_ngcontent-%COMP%]{transform:translate(0) translateY(130px);color:#f44336;width:90%}[_nghost-%COMP%]   .stage2-answers.stage2-answers_hint[_ngcontent-%COMP%] > .stage2-answer[_ngcontent-%COMP%]:last-child > .stage2-answer__text[_ngcontent-%COMP%]{transform:translate(0) translateY(130px);color:#4caf50;width:90%}[_nghost-%COMP%]   .stage2-slider-money[_ngcontent-%COMP%] {position:absolute;transform:translateY(100px);width:80%}[_nghost-%COMP%]   .stage2-slider-money[_ngcontent-%COMP%]  .mat-slider-track-wrapper .mat-slider-track-background{background-color:#ddd}[_nghost-%COMP%]   .stage2-slider-money[_ngcontent-%COMP%]  .mat-slider-track-wrapper .mat-slider-track-fill{background-color:#8bc34a}[_nghost-%COMP%]   .stage2-slider-money[_ngcontent-%COMP%]  .mat-slider-thumb{transform:scale(1);background-color:#8bc34a}[_nghost-%COMP%]   .stage2-slider-money[_ngcontent-%COMP%]  .mat-slider-thumb-label{width:90px;padding:10px;height:20px;background-color:#8bc34a;transform:scale(1);border-radius:5px;right:-50px;top:-60px}[_nghost-%COMP%]   .stage2-slider-money[_ngcontent-%COMP%]  .mat-slider-thumb-label>.mat-slider-thumb-label-text{transform:none;text-align:center;font-size:12px;opacity:1}[_nghost-%COMP%]   .stage2-slider-money.cdk-focused[_ngcontent-%COMP%]  .mat-slider-thumb{transform:scale(1)!important;background-color:#8bc34a}[_nghost-%COMP%]   .stage2-slider-money.cdk-focused[_ngcontent-%COMP%]  .mat-slider-thumb-label{width:90px;padding:10px;height:20px;background-color:#8bc34a;transform:scale(1);border-radius:5px;right:-60px}[_nghost-%COMP%]   .stage2-slider-money.cdk-focused[_ngcontent-%COMP%]  .mat-slider-thumb-label>.mat-slider-thumb-label-text{transform:none;text-align:center;font-size:12px;opacity:1}[_nghost-%COMP%]   .stage2-slider-money.cdk-focused.mat-slider-thumb-label-showing[_ngcontent-%COMP%]   .mat-slider-thumb[_ngcontent-%COMP%]  .mat-slider-thumb{transform:scale(1)}[_nghost-%COMP%]   .currency-img[_ngcontent-%COMP%]{margin:20px 0;width:90%;height:100px;background-position:center;background-repeat:no-repeat;background-size:contain}[_nghost-%COMP%]   .currency-text[_ngcontent-%COMP%]{font-size:18px;color:#333}[_nghost-%COMP%]   .currency-img_dollar[_ngcontent-%COMP%]{background-image:url(dollar.d8b786ed9cb30ce8.png)}[_nghost-%COMP%]   .currency-img_euro[_ngcontent-%COMP%]{background-image:url(euro.87af82d5941c687a.png)}[_nghost-%COMP%]   .currency-img_ruble[_ngcontent-%COMP%]{background-image:url(ruble.8700ba954cdad293.png)}[_nghost-%COMP%]   .currency-img_yen[_ngcontent-%COMP%]{background-image:url(yen.8363d4598249425f.png)}[_nghost-%COMP%]   .currency-img_pound[_ngcontent-%COMP%]{background-image:url(pound.b2c1b8f68ff34e8c.png)}[_nghost-%COMP%]   .currency-img_other[_ngcontent-%COMP%]{background-image:url(other.0440e8f5ac3b054f.png)}@keyframes coin{0%{transform:translateY(0) scale(.1);opacity:0}5%{transform:translateY(5px) scale(1);opacity:.2}50%{transform:translateY(50px) scale(1);opacity:.2}95%{transform:translateY(95px) scale(1);opacity:.2}to{transform:translateY(100px) scale(.1);opacity:0}}"],data:{animation:[he("slideShow",[K(":enter",[kn(".stage2-question",[F({transform:"translateY(-2000px)"})]),kn(".stage2-answers",[F({transform:"translateY(-2000px)"})]),kn(".stage2-question",[$("2s ease",F({transform:"translateY(-50px)"}))]),kn(".stage2-answers",[$("2s ease",F({transform:"translateY(0px) "}))])])])]}}),i})(),gk=(()=>{class i{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(P(ro),P(q))},i.\u0275dir=ae({type:i}),i})(),Qs=(()=>{class i extends gk{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=function(i){return To(()=>{const n=i.prototype.constructor,e=n[eo]||qd(n),t=Object.prototype;let o=Object.getPrototypeOf(i.prototype).constructor;for(;o&&o!==t;){const s=o[eo]||qd(o);if(s&&s!==e)return s;o=Object.getPrototypeOf(o)}return s=>new s})}(i)))(t||i)}}(),i.\u0275dir=ae({type:i,features:[tt]}),i})();const vn=new oe("NgValueAccessor"),Ej={provide:vn,useExisting:He(()=>us),multi:!0},Oj=new oe("CompositionEventMode");let us=(()=>{class i extends gk{constructor(e,t,o){super(e,t),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=Gi()?Gi().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(P(ro),P(q),P(Oj,8))},i.\u0275dir=ae({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&C("input",function(s){return t._handleInput(s.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(s){return t._compositionEnd(s.target.value)})},features:[Ge([Ej]),tt]}),i})();const an=new oe("NgValidators"),hs=new oe("NgAsyncValidators");function Sk(i){return null!=i}function Mk(i){const n=rl(i)?Gt(i):i;return af(n),n}function Dk(i){let n={};return i.forEach(e=>{n=null!=e?te(te({},n),e):n}),0===Object.keys(n).length?null:n}function Ek(i,n){return n.map(e=>e(i))}function Tk(i){return i.map(n=>function(i){return!i.validate}(n)?n:e=>n.validate(e))}function km(i){return null!=i?function(i){if(!i)return null;const n=i.filter(Sk);return 0==n.length?null:function(e){return Dk(Ek(e,n))}}(Tk(i)):null}function Pm(i){return null!=i?function(i){if(!i)return null;const n=i.filter(Sk);return 0==n.length?null:function(e){return function(...i){const n=m_(i),{args:e,keys:t}=FC(i),o=new Ze(s=>{const{length:r}=e;if(!r)return void s.complete();const a=new Array(r);let l=r,u=r;for(let p=0;p<r;p++){let g=!1;En(e[p]).subscribe(new pt(s,_=>{g||(g=!0,u--),a[p]=_},()=>l--,void 0,()=>{(!l||!g)&&(u||s.next(t?NC(t,a):a),s.complete())}))}});return n?o.pipe(pg(n)):o}(Ek(e,n).map(Mk)).pipe(Ee(Dk))}}(Tk(i)):null}function Ak(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function Rk(i){return i._rawValidators}function Fk(i){return i._rawAsyncValidators}function Sm(i){return i?Array.isArray(i)?i:[i]:[]}function Jh(i,n){return Array.isArray(i)?i.includes(n):i===n}function Nk(i,n){const e=Sm(n);return Sm(i).forEach(o=>{Jh(e,o)||e.push(o)}),e}function Bk(i,n){return Sm(n).filter(e=>!Jh(i,e))}class ds extends class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=km(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Pm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Js=(()=>{class i extends class{constructor(n){this._cd=n}is(n){var e,t,o;return"submitted"===n?!!(null==(e=this._cd)?void 0:e.submitted):!!(null==(o=null==(t=this._cd)?void 0:t.control)?void 0:o[n])}}{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(P(ds,2))},i.\u0275dir=ae({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&V("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[tt]}),i})();function du(i,n){(function(i,n){const e=Rk(i);null!==n.validator?i.setValidators(Ak(e,n.validator)):"function"==typeof e&&i.setValidators([e]);const t=Fk(i);null!==n.asyncValidator?i.setAsyncValidators(Ak(t,n.asyncValidator)):"function"==typeof t&&i.setAsyncValidators([t]);const o=()=>i.updateValueAndValidity();id(n._rawValidators,o),id(n._rawAsyncValidators,o)})(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&zk(i,n)})}(i,n),function(i,n){const e=(t,o)=>{n.valueAccessor.writeValue(t),o&&n.viewToModelUpdate(t)};i.registerOnChange(e),n._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&zk(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const e=t=>{n.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(e),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,n)}function nd(i,n,e=!0){const t=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(t),n.valueAccessor.registerOnTouched(t)),function(i,n){let e=!1;if(null!==i){if(null!==n.validator){const o=Rk(i);if(Array.isArray(o)&&o.length>0){const s=o.filter(r=>r!==n.validator);s.length!==o.length&&(e=!0,i.setValidators(s))}}if(null!==n.asyncValidator){const o=Fk(i);if(Array.isArray(o)&&o.length>0){const s=o.filter(r=>r!==n.asyncValidator);s.length!==o.length&&(e=!0,i.setAsyncValidators(s))}}}const t=()=>{};id(n._rawValidators,t),id(n._rawAsyncValidators,t)}(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function id(i,n){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function zk(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function sd(i,n){const e=i.indexOf(n);e>-1&&i.splice(e,1)}const pu="VALID",rd="INVALID",Ma="PENDING",fu="DISABLED";function Im(i){return(Rm(i)?i.validators:i)||null}function Hk(i){return Array.isArray(i)?km(i):i||null}function Am(i,n){return(Rm(n)?n.asyncValidators:i)||null}function Uk(i){return Array.isArray(i)?Pm(i):i||null}function Rm(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Fm{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=Hk(this._rawValidators),this._composedAsyncValidatorFn=Uk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===pu}get invalid(){return this.status===rd}get pending(){return this.status==Ma}get disabled(){return this.status===fu}get enabled(){return this.status!==fu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=Hk(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=Uk(n)}addValidators(n){this.setValidators(Nk(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Nk(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Bk(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Bk(n,this._rawAsyncValidators))}hasValidator(n){return Jh(this._rawValidators,n)}hasAsyncValidator(n){return Jh(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Ma,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=fu,this.errors=null,this._forEachChild(t=>{t.disable(qt(te({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(qt(te({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=pu,this._forEachChild(t=>{t.enable(qt(te({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(qt(te({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pu||this.status===Ma)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fu:pu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Ma,this._hasOwnPendingAsyncValidator=!0;const e=Mk(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function(i,n,e){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let t=i;return n.forEach(o=>{t=t instanceof Nm?t.controls.hasOwnProperty(o)?t.controls[o]:null:t instanceof Yj&&t.at(o)||null}),t}(this,n)}getError(n,e){const t=e?this.get(e):this;return t&&t.errors?t.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new L,this.statusChanges=new L}_calculateStatus(){return this._allControlsDisabled()?fu:this.errors?rd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ma)?Ma:this._anyControlsHaveStatus(rd)?rd:pu}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Rm(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Cn extends Fm{constructor(n=null,e,t){super(Im(e),Am(t,e)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=null,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){sd(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){sd(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class Nm extends Fm{constructor(n,e,t){super(Im(e),Am(t,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,t={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(t=>{this._throwIfControlMissing(t),this.controls[t].setValue(n[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(t=>{this.controls[t]&&this.controls[t].patchValue(n[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((t,o)=>{t.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,t)=>(n[t]=e instanceof Cn?e.value:e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const t=this.controls[e];t&&n(t,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const t=this.controls[e];if(this.contains(e)&&n(t))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,t)=>((e.enabled||this.disabled)&&(n[t]=e.value),n))}_reduceChildren(n,e){let t=n;return this._forEachChild((o,s)=>{t=e(t,o,s)}),t}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((e,t)=>{if(void 0===n[t])throw new Error(`Must supply a value for form control with name: '${t}'.`)})}}class Yj extends Fm{constructor(n,e,t){super(Im(e),Am(t,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,t={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){this._checkAllValuesPresent(n),n.forEach((t,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((t,o)=>{this.at(o)&&this.at(o).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((t,o)=>{t.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n instanceof Cn?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((e,t)=>{n(e,t)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((e,t)=>{if(void 0===n[t])throw new Error(`Must supply a value for form control at index: ${t}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}let Xk=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=St({type:i}),i.\u0275inj=bt({}),i})();const Vm=new oe("NgModelWithFormControlWarning"),tH={provide:ds,useExisting:He(()=>ps)};let ps=(()=>{class i extends ds{constructor(e,t,o,s){super(),this._ngModelWarningConfig=s,this.update=new L,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=function(i,n){if(!n)return null;let e,t,o;return Array.isArray(n),n.forEach(s=>{s.constructor===us?e=s:function(i){return Object.getPrototypeOf(i.constructor)===Qs}(s)?t=s:o=s}),o||t||e||null}(0,o)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const t=e.form.previousValue;t&&nd(t,this,!1),du(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}(function(i,n){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)})(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&nd(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return i._ngModelWarningSentOnce=!1,i.\u0275fac=function(e){return new(e||i)(P(an,10),P(hs,10),P(vn,10),P(Vm,8))},i.\u0275dir=ae({type:i,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ge([tH]),tt,re]}),i})(),dP=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=St({type:i}),i.\u0275inj=bt({imports:[[Xk]]}),i})(),CH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=St({type:i}),i.\u0275inj=bt({imports:[dP]}),i})(),bH=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Vm,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=St({type:i}),i.\u0275inj=bt({imports:[dP]}),i})();function wH(i,n){if(1&i){const e=H();h(0,"div",1),C("click",function(){const s=E(e).$implicit;return y().setOptions(s.value)}),m(1,"div",2),h(2,"div",3),x(3),d(),d()}if(2&i){const e=n.$implicit,t=y();V("option_checked",e.value===t.value),c(1),V("checkmark_checked",e.value===t.value),c(1),V("title_checked",e.value===t.value),c(1),D(e.title)}}let xH=(()=>{class i{constructor(){this.options=[],this.value=""}setOptions(e){this.changeFunc(e),this.value=e}writeValue(e){this.value=e}registerOnChange(e){this.changeFunc=e}registerOnTouched(e){this.touchFunc=e}setDisabledState(e){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=X({type:i,selectors:[["app-desktop-radio"]],inputs:{options:"options"},features:[Ge([{provide:vn,useExisting:He(()=>i),multi:!0}])],decls:1,vars:1,consts:[["class","option",3,"option_checked","click",4,"ngFor","ngForOf"],[1,"option",3,"click"],[1,"checkmark"],[1,"title"]],template:function(e,t){1&e&&S(0,wH,4,7,"div",0),2&e&&f("ngForOf",t.options)},directives:[gt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;text-align:center;justify-content:flex-start;user-select:none}[_nghost-%COMP%]   .option[_ngcontent-%COMP%]{margin-left:10px;padding:10px;display:flex;flex-direction:row;text-align:center;justify-content:flex-start;cursor:pointer;border-bottom:1px dashed #00000000;transition:all ease .2s}[_nghost-%COMP%]   .option_checked[_ngcontent-%COMP%]{cursor:default}[_nghost-%COMP%]   .option[_ngcontent-%COMP%]:first-child{margin-left:0}[_nghost-%COMP%]   .option[_ngcontent-%COMP%]:hover{opacity:.5}[_nghost-%COMP%]   .option_checked[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%]   .checkmark[_ngcontent-%COMP%]{margin-right:10px;width:15px;height:15px;border-radius:100%;outline-width:2px;outline-color:#333;outline-offset:2px;outline-style:solid;background-color:#e91e6300;transition:all ease .2s}[_nghost-%COMP%]   .checkmark_checked[_ngcontent-%COMP%]{outline-color:#e91e63;background-color:#e91e63}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px;color:#333;transition:all ease .2s}[_nghost-%COMP%]   .title_checked[_ngcontent-%COMP%]{color:#e91e63}"]}),i})();const kH=["listOptionsRef"];function PH(i,n){if(1&i){const e=H();h(0,"div",6),C("click",function(){const s=E(e).$implicit;return y().setOptions(s.value)}),x(1),d()}if(2&i){const e=n.$implicit;V("option_hide",!y().show),c(1),se(" ",e.title," ")}}let SH=(()=>{class i{constructor(e,t,o){this.asyncService=e,this.host=t,this.locationService=o,this.options=[],this.isNull=!0,this.withoutNumber=!1,this.show=!1,this.subs=[],this.control=new Cn(""),this.value="",this.filteredOptions=[]}onClick(e){let t=e.target,o=!1;for(;t&&"BODY"!==t.tagName;)"APP-DESKTOP-SELECT"===t.tagName&&(o=!0),t=t.parentNode;o||(this.show=!1)}onResize(){this.setListWidth()}setOptions(e){var t;this.control.setValue((null===(t=this.options.find(o=>o.value===e))||void 0===t?void 0:t.title)||e),this.show=!1}writeValue(e){this.control.setValue(e)}registerOnChange(e){this.changeFunc=e}registerOnTouched(e){this.touchFunc=e}setDisabledState(e){}setListWidth(){const e=this.host.nativeElement.getBoundingClientRect();this.listOptionsRef.nativeElement.style.width=e.width-2+"px"}filterOptions(){let e=this.control.value;this.filteredOptions=this.options.filter(o=>new RegExp(`^.*${e}.*$`,"g").test(o.title))}ngOnInit(){this.filteredOptions=this.options}ngAfterViewInit(){this.setListWidth(),this.subs.push(this.control.valueChanges.subscribe(e=>{this.withoutNumber&&(e=e.replace(/[0-9]/g,"")),this.control.setValue(e,{emitEvent:!1}),this.filterOptions();let t=this.options.find(o=>o.title===e);this.changeFunc(t?t.value:e)}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(P(ve),P(q),P(De))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-select"]],viewQuery:function(e,t){if(1&e&&Xe(kH,5,q),2&e){let o;Ve(o=Le())&&(t.listOptionsRef=o.first)}},hostBindings:function(e,t){1&e&&C("click",function(s){return t.onClick(s)},!1,be)("resize",function(){return t.onResize()},!1,be)},inputs:{options:"options",isNull:"isNull",withoutNumber:"withoutNumber"},features:[Ge([{provide:vn,useExisting:He(()=>i),multi:!0}])],decls:6,vars:11,consts:[[1,"option-active"],["type","text",1,"input-active",3,"formControl","click","input"],[1,"icon","icon_arrow",3,"click"],[1,"list-options"],["listOptionsRef",""],["class","option",3,"option_hide","click",4,"ngFor","ngForOf"],[1,"option",3,"click"]],template:function(e,t){1&e&&(h(0,"div",0),h(1,"input",1),C("click",function(){return t.show=!0})("input",function(){return t.show=!0}),d(),h(2,"div",2),C("click",function(){return t.show=!t.show}),d(),d(),h(3,"div",3,4),S(5,PH,2,3,"div",5),d()),2&e&&(V("option-active_hide",!t.show),c(1),V("input-active_hide",!t.show),f("formControl",t.control),$e("placeholder",t.locationService.translate("choose","\u0432\u044b\u0431\u0440\u0430\u0442\u044c")),c(1),V("icon_hide",!t.show),c(1),V("list-options_hide",!t.show),c(2),f("ngForOf",t.filteredOptions))},directives:[us,Js,ps,gt],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start}[_nghost-%COMP%]   .option-active[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;border:1px solid #00000033;border-bottom:1px solid #99999900;border-radius:15px 15px 0 0;background-color:#fff;transition:all ease .2s}[_nghost-%COMP%]   .option-active_hide[_ngcontent-%COMP%]{border-radius:15px;border-bottom:1px solid #00000033}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{margin:0 10px 0 0;width:15px;height:15px;background-color:#fff;background-image:url(arrow-up.0f196ae64df83d91.svg);background-position:center;background-size:contain;background-repeat:no-repeat;border-radius:15px 0 0 15px;transform:rotate(0);transition:all ease .2s}[_nghost-%COMP%]   .icon_hide[_ngcontent-%COMP%]{transform:rotate(180deg)}[_nghost-%COMP%]   .input-active[_ngcontent-%COMP%]{margin:0;padding:10px;border:none;outline:none;font-size:14px;border-radius:15px 0 0 15px;background-color:#fff;font-family:"Comfortaa",cursive}[_nghost-%COMP%]   .list-options[_ngcontent-%COMP%]{position:absolute;background-color:#fff;border:15px;transform:translateY(calc(37px + -0%)) scaleY(1);border:1px solid #00000033;border-top:0px solid #00000033;border-radius:0;max-height:200px;overflow-y:auto;z-index:10;transition:all ease .2s}[_nghost-%COMP%]   .list-options_hide[_ngcontent-%COMP%]{transform:translateY(calc(37px - 50%)) scaleY(0)}[_nghost-%COMP%]   .option[_ngcontent-%COMP%]{padding:10px;cursor:pointer;color:#333;font-size:14px;transition:all ease .2s}[_nghost-%COMP%]   .option[_ngcontent-%COMP%]:hover{background-color:#0002}']}),i})(),MH=(()=>{class i{constructor(e,t){this.asyncService=e,this.host=t,this.postfix="",this.subs=[],this.control=new Cn(""),this.value=""}writeValue(e){this.control.setValue(`${e}`)}registerOnChange(e){this.changeFunc=e}registerOnTouched(e){this.touchFunc=e}setDisabledState(e){}onKeydownInput(e){if("ArrowLeft"===e.code||"ArrowRight"===e.code)return;let t="";for(let s=0;s<this.postfix.length;s++)t+=`\\${this.postfix[s]}`;let o=new RegExp(`${t}`,"g");e.target.value=e.target.value.replace(o,"").replace(/ /g,"").replace(/\,/g,".")}ngOnInit(){}ngAfterViewInit(){this.subs.push(this.control.valueChanges.subscribe(e=>{let t=parseFloat(e),o=t.toString(),r=(t.toLocaleString(),/\./g.test(e)),a=o.split(".")[0],l=o.split(".")[1],u=a,p="";for(let v=0;u.length>0;v++)p=u.slice(-3)+" "+p,u=u.slice(0,-3);p=p.trim();let g="";if(l){let v=l;g="";for(let k=0;v.length>0;k++)g=v.slice(-3)+" "+g,v=v.slice(0,-3);g=g.trim()}parseFloat(p)||(p="0"),g=parseFloat(g)?g:"";let _=`${p.trim()}${r?" . ":""}${g} ${this.postfix}`;this.control.setValue(_,{emitEvent:!1}),this.changeFunc(parseFloat(_.replace(/ /g,"").replace(/\,/g,".")))}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(P(ve),P(q))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-input-number"]],inputs:{postfix:"postfix"},features:[Ge([{provide:vn,useExisting:He(()=>i),multi:!0}])],decls:1,vars:1,consts:[["type","text",1,"input",3,"formControl","keydown"]],template:function(e,t){1&e&&(h(0,"input",0),C("keydown",function(s){return t.onKeydownInput(s)}),d()),2&e&&f("formControl",t.control)},directives:[us,Js,ps],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start}[_nghost-%COMP%]   .input[_ngcontent-%COMP%]{padding:10px;font-size:14px;color:#333;font-family:"Comfortaa",cursive;border:1px solid #00000033;border-radius:15px;outline:none}']}),i})(),DH=(()=>{class i{constructor(e){this.locationService=e}easyAppearence(e){return e<100?`${e}`:e>=1e3&&e<1e6?`${Math.round(e/1e3)} ${this.locationService.translate("k","\u043a")}`:e>=1e6&&e<1e9?`${Math.round(e/1e6)} ${this.locationService.translate("m","\u043c")}`:e>=1e9?`${Math.round(e/1e9)} ${this.locationService.translate("b","\u043c\u043c")}`:`${e}`}}return i.\u0275fac=function(e){return new(e||i)(j(De))},i.\u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function EH(i,n){1&i&&m(0,"div",10)}let TH=(()=>{class i{constructor(e,t){this.host=e,this.numberService=t,this.options=[0,1e3],this.sign="$",this.position=0,this.textCursor="",this.cursor={active:!1}}writeValue(e){this.position=e}registerOnChange(e){this.changeFunc=e}registerOnTouched(e){this.touchFunc=e}setDisabledState(e){}onMouseDownCursor(e){this.cursor.active=!0}onMouseMove(e){if(!this.cursor.active)return;let[t,o]=[e.clientX,e.clientY];const s=this.host.nativeElement.getBoundingClientRect();let r=Math.floor((t-s.x)/(s.width/(this.options.length-1)));r>this.options.length-2&&(r=this.options.length-2),r<0&&(r=0),this.setPostions(r)}onMouseUp(e){this.cursor.active=!1}setPostions(e){const t=this.host.nativeElement.getBoundingClientRect();this.position=t.width/(this.options.length-1)*e+t.width/(this.options.length-1)/2,this.textCursor=`${this.numberService.easyAppearence(this.options[e])} ${this.sign} < ... < ${this.numberService.easyAppearence(this.options[e+1])} ${this.sign}`,0===e&&this.options[e]===this.options[e+1]&&0===this.options[e]&&(this.textCursor=`${this.numberService.easyAppearence(this.options[e])} ${this.sign}`),e===this.options.length-2&&this.options[e]===this.options[e+1]&&this.options[e]>0&&(this.textCursor=`${this.numberService.easyAppearence(this.options[e])} ${this.sign} < ...`),this.changeFunc(e)}ngOnInit(){setTimeout(()=>{this.setPostions(0)},0)}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(DH))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-slide-money"]],hostBindings:function(e,t){1&e&&C("mousemove",function(s){return t.onMouseMove(s)},!1,be)("mouseup",function(s){return t.onMouseUp(s)},!1,be)},inputs:{options:"options",sign:"sign"},features:[Ge([{provide:vn,useExisting:He(()=>i),multi:!0}])],decls:13,vars:6,consts:[[1,"wrap-cursor"],[1,"cursor",3,"mousedown"],[1,"cursor__text"],[1,"square"],[1,"ticks"],["class","tick",4,"ngFor","ngForOf"],[1,"line-back"],[1,"wrap-minmax"],[1,"wrap-minmax__text","wrap-minmax__text_left"],[1,"wrap-minmax__text","wrap-minmax__text_right"],[1,"tick"]],template:function(e,t){1&e&&(h(0,"div",0),h(1,"div",1),C("mousedown",function(s){return t.onMouseDownCursor(s)}),h(2,"div",2),x(3),d(),m(4,"div",3),d(),d(),h(5,"div",4),S(6,EH,1,0,"div",5),d(),m(7,"div",6),h(8,"div",7),h(9,"div",8),x(10),d(),h(11,"div",9),x(12),d(),d()),2&e&&(c(1),b("transform","translateX(calc("+t.position+"px - 50%))"),c(2),D(t.textCursor),c(3),f("ngForOf",t.options),c(4),D(t.numberService.easyAppearence(t.options[0])),c(2),D(t.numberService.easyAppearence(t.options[t.options.length-1])))},directives:[gt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:center}[_nghost-%COMP%]   .wrap-cursor[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;margin-bottom:10px}[_nghost-%COMP%]   .cursor[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#fff;border-radius:15px;padding:10px;border:1px dashed #e91e63;color:#e91e63;user-select:none;cursor:grab;transition:transform ease .1s}[_nghost-%COMP%]   .cursor__text[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]   .square[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;background-color:#fff;transform:translateY(18px) rotate(45deg);border-right:1px dashed #e91e63;border-bottom:1px dashed #e91e63}[_nghost-%COMP%]   .ticks[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .tick[_ngcontent-%COMP%]{width:1px;height:10px;background-color:#333}[_nghost-%COMP%]   .line-back[_ngcontent-%COMP%]{transform:translateY(0);background-color:#333;height:1px}[_nghost-%COMP%]   .wrap-minmax[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .wrap-minmax__text[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]   .wrap-minmax__text_left[_ngcontent-%COMP%]{transform:translate(-50%)}[_nghost-%COMP%]   .wrap-minmax__text_right[_ngcontent-%COMP%]{transform:translate(50%)}"]}),i})();function OH(i,n){if(1&i&&(h(0,"div"),x(1),d()),2&i){const e=n.$implicit,t=y();Vo("stage2-coin stage2-coin_"+e.type),b("margin-left",e.x+"px")("margin-top",e.y+"px")("animation-duration",e.speed+"s"),c(1),D(t.coinContent(e.type))}}const IH=function(i){return{title:i,value:"yes"}},AH=function(i){return{title:i,value:"no"}},RH=function(i){return{title:i,value:"hint"}},FH=function(i,n,e){return[i,n,e]},NH=function(i){return{title:i,value:"dollar"}},BH=function(i){return{title:i,value:"euro"}},VH=function(i){return{title:i,value:"ruble"}},LH=function(i){return{title:i,value:"yen"}},zH=function(i){return{title:i,value:"pound"}},GH=function(i,n,e,t,o){return[i,n,e,t,o]};let jH=(()=>{class i{constructor(e){this.locationService=e,this.stageAnimation="",this.changeGlobalStage=new L,this.subs=[],this.firstControl=new Cn("no"),this.secondControl=new Cn(""),this.thirdControl=new Cn(0),this.fourthControl=new Cn(0),this.fifthControl=new Cn(0),this.box={},this.activeCoin=0,this.typesCoin=["dollar","euro","ruble","yen","pound"],this.coins=[],this.intervalCoins=setTimeout(()=>{},0)}initCoins(){clearInterval(this.intervalCoins),this.intervalCoins=setInterval(()=>{let o=this.typesCoin[Math.random()*this.typesCoin.length|0];this.coins.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,type:o,speed:10*Math.random()+1}),this.coins.slice(-1*Math.floor(10))},200)}coinContent(e){return"dollar"===e?"$":"euro"===e?"\u20ac":"ruble"===e?"\u20bd":"yen"===e?"\xa5":"pound"===e?"\xa3":"$"}getValuePostfix(e){return"dollar"===e?"$":"euro"===e?"\u20ac":"ruble"===e?"\u20bd":"yen"===e?"\xa5":"pound"===e?"\xa3":e.slice(0,1)}currencyOption(e,t){return"dollar"===e||"euro"===e?[0,0,10,50,100,500,1e3,1e4,1e5,1e5]:"ruble"===e?[0,0,1e3,5e3,1e4,5e4,1e5,1e6,1e7,1e7]:"yen"===e?[0,0,1500,7500,15e3,75e3,15e4,15e5,15e6,15e6]:"pound"===e?[0,0,10,50,100,500,1e3,1e4,1e5,1e5]:[0*t,0*t,10*t,50*t,100*t,500*t,1e3*t,1e4*t,1e5*t,1e5*t]}isDefaultSign(e){return"dollar"===e||"euro"===e||"ruble"===e||"yen"===e||"pound"===e}toBackStage(){this.changeGlobalStage.emit(1)}toNextStage(){this.changeGlobalStage.emit(3)}saveUpdate(){const e=this.firstControl.value,t="no"!==e?this.secondControl.value:null,o=this.isDefaultSign(t)?null:this.thirdControl.value;let s=null;if("yes"===e)s=this.fourthControl.value;else if("hint"===e){const a=this.fifthControl.value,l=this.currencyOption(t,o||1);s=[l[a],l[a+1]===l[a]&&0!==l[a+1]?"infinity":l[a+1]]}const r={type:e,currency:t,rate:o,price:s};console.log(r),window.localStorage.setItem("cost",JSON.stringify(r))}ngOnInit(){this.initCoins(),this.subs.push(this.firstControl.valueChanges.subscribe(e=>{this.saveUpdate()})),this.subs.push(this.secondControl.valueChanges.subscribe(e=>{this.thirdControl.setValue(0),this.saveUpdate()})),this.subs.push(this.thirdControl.valueChanges.subscribe(e=>{this.saveUpdate()})),this.subs.push(this.fourthControl.valueChanges.subscribe(e=>{this.saveUpdate()})),this.subs.push(this.fifthControl.valueChanges.subscribe(e=>{this.saveUpdate()}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(P(De))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-page-create-stage2"]],hostVars:1,hostBindings:function(e,t){2&e&&Lo("@stageAnimation",t.stageAnimation)},outputs:{changeGlobalStage:"changeGlobalStage"},decls:26,vars:54,consts:[[1,"content"],[1,"text","margin"],[1,"margin",3,"formControl","options"],[1,"expand"],[1,"margin","input",3,"withoutNumber","formControl","options"],[1,"margin","input",3,"formControl","postfix"],[1,"margin","slide-money",3,"formControl","options","sign"],[1,"row","align-self_end"],["background","#ffffff","color","#333333",1,"button-next-stage",3,"text","click"],["background","#e91e63","color","#ffffff",1,"button-next-stage",3,"text","click"],[1,"stage2-money"],["moneyRef",""],[3,"class","margin-left","margin-top","animation-duration",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(h(0,"div",0),h(1,"div",1),x(2),d(),m(3,"app-desktop-radio",2),h(4,"div",3),h(5,"div",1),x(6),d(),m(7,"app-desktop-select",4),d(),h(8,"div",3),h(9,"div",1),x(10),d(),m(11,"app-desktop-input-number",5),d(),h(12,"div",3),h(13,"div",1),x(14),d(),m(15,"app-desktop-input-number",5),d(),h(16,"div",3),h(17,"div",1),x(18),d(),m(19,"app-desktop-slide-money",6),d(),h(20,"div",7),h(21,"app-desktop-button",8),C("click",function(){return t.toBackStage()}),d(),h(22,"app-desktop-button",9),C("click",function(){return t.toNextStage()}),d(),d(),d(),h(23,"div",10,11),S(25,OH,2,9,"div",12),d()),2&e&&(c(2),se(" ",t.locationService.translate("Specify the value of the gift?","\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043a\u0430?")," "),c(1),f("formControl",t.firstControl)("options",nt(34,FH,Xt(28,IH,t.locationService.translate("yes","\u0434\u0430")),Xt(30,AH,t.locationService.translate("not","\u043d\u0435\u0442")),Xt(32,RH,t.locationService.translate("hint","\u043d\u0430\u043c\u0435\u043a\u043d\u0443\u0442\u044c")))),c(1),V("expand_hidden","no"===t.firstControl.value),c(2),se(" ",t.locationService.translate("Which currency?","\u0412 \u043a\u0430\u043a\u043e\u0439 \u0432\u0430\u043b\u044e\u0442\u0435?")," "),c(1),f("withoutNumber",!0)("formControl",t.secondControl)("options",function(i,n,e,t,o,s,r,a){const l=dn()+i,u=G(),p=Qn(u,l,e,t,o,s);return nn(u,l+4,r)||p?Bi(u,l+5,a?n.call(a,e,t,o,s,r):n(e,t,o,s,r)):sl(u,l+5)}(48,GH,Xt(38,NH,t.locationService.translate("dollar","\u0434\u043e\u043b\u043b\u0430\u0440")),Xt(40,BH,t.locationService.translate("euro","\u0435\u0432\u0440\u043e")),Xt(42,VH,t.locationService.translate("ruble","\u0440\u0443\u0431\u043b\u044c")),Xt(44,LH,t.locationService.translate("yen","\u0439\u0435\u043d\u0430")),Xt(46,zH,t.locationService.translate("pound","\u0444\u0443\u043d\u0442 \u0441\u0442\u0435\u0440\u043b\u0438\u043d\u0433\u043e\u0432")))),c(1),V("expand_hidden","no"===t.firstControl.value||""===t.secondControl.value||t.isDefaultSign(t.secondControl.value)),c(2),se(" ",t.locationService.translate("Rate? 1 $ = ??? "+t.getValuePostfix(t.secondControl.value),"\u041a\u0443\u0440\u0441? 1 $ = ??? "+t.getValuePostfix(t.secondControl.value))," "),c(1),f("formControl",t.thirdControl)("postfix",t.getValuePostfix(t.secondControl.value)),c(1),V("expand_hidden","no"===t.firstControl.value||"hint"===t.firstControl.value||""===t.secondControl.value||0===t.thirdControl.value&&!t.isDefaultSign(t.secondControl.value)),c(2),se(" ",t.locationService.translate("What is the price?","\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u043e\u0438\u0442?")," "),c(1),f("formControl",t.fourthControl)("postfix",t.getValuePostfix(t.secondControl.value)),c(1),V("expand_hidden","no"===t.firstControl.value||"yes"===t.firstControl.value||""===t.secondControl.value||0===t.thirdControl.value&&!t.isDefaultSign(t.secondControl.value)),c(2),se(" ",t.locationService.translate("What is the price?","\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u043e\u0438\u0442?")," "),c(1),f("formControl",t.fifthControl)("options",t.currencyOption(t.secondControl.value,t.thirdControl.value))("sign",t.getValuePostfix(t.secondControl.value)),c(2),f("text",t.locationService.translate("back to gifts","\u043d\u0430\u0437\u0430\u0434 \u043a \u043f\u043e\u0434\u0430\u0440\u043a\u0430\u043c")),c(1),f("text",t.locationService.translate("next","\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u044d\u0442\u0430\u043f")),c(3),f("ngForOf",t.coins))},directives:[xH,Js,ps,SH,MH,TH,ai,gt],styles:["[_nghost-%COMP%]{position:absolute;left:0px;top:0px;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .margin[_ngcontent-%COMP%]{margin:10px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{min-width:500px;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;border-radius:15px;background-color:#fff3;backdrop-filter:blur(2px)}[_nghost-%COMP%]   .button-next-stage[_ngcontent-%COMP%]{margin:10px;align-self:flex-end}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0px;left:0px;overflow:hidden;z-index:-1}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;border-radius:100px;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:12px;text-align:center;border:2px dashed #ffffff;box-shadow:2px 2px 5px #0006;opacity:0;background-color:#000;animation-name:coin;animation-duration:2s;animation-timing-function:linear;animation-iteration-count:1}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_dollar[_ngcontent-%COMP%]{background-color:#4caf50}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_euro[_ngcontent-%COMP%]{background-color:#2196f3}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_ruble[_ngcontent-%COMP%]{background-color:#ff9800}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_yen[_ngcontent-%COMP%]{background-color:#e91e63}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_pound[_ngcontent-%COMP%]{background-color:#795548}[_nghost-%COMP%]   .slide-money[_ngcontent-%COMP%]{margin:10px 50px 10px 10px;width:400px}[_nghost-%COMP%]   .input[_ngcontent-%COMP%]{width:200px}[_nghost-%COMP%]   .expand[_ngcontent-%COMP%]{max-height:300px;overflow:hidden;transition:all ease .2s}[_nghost-%COMP%]   .expand_hidden[_ngcontent-%COMP%]{max-height:0px}[_nghost-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .align-self_end[_ngcontent-%COMP%]{align-self:flex-end}@keyframes coin{0%{transform:translateY(0) scale(.1);opacity:0}5%{transform:translateY(5px) scale(1);opacity:1}50%{transform:translateY(50px) scale(1);opacity:1}95%{transform:translateY(95px) scale(1);opacity:1}to{transform:translateY(100px) scale(.1);opacity:0}}"],data:{animation:[he("stageAnimation",[K(":enter",[F({transform:"translateY(100vw)"}),$("0.2s ease",F({transform:"translateY(0vw)"}))]),K(":leave",[F({transform:"translateY(0vw)"}),$("0.2s ease",F({transform:"translateY(100vw)"}))])])]}}),i})(),HH=(()=>{class i{constructor(e,t){this.host=e,this.asyncService=t,this.disable=!1,this.options=[],this.contextClose=new L,this.contextOpen=new L,this.elementWrap=null,this.elementContent=null,this.msToOpen=200,this.touch={down:!1,wasMove:!1,timeout:setTimeout(()=>{},0),coord:{x:0,y:0}},this.settings={width:200,height:237}}onTouchstart(e){this.touchStart(e)}onTouchmove(e){this.touchMove(e)}onTouchend(e){this.touchEnd(e)}onTouchcancel(e){this.touchEnd(e)}touchStart(e){this.disable||e.preventDefault(),this.touch.down=!0;let[t,o]=[e.touches[0].clientX,e.touches[0].clientY];this.touch.coord.x=t,this.touch.coord.y=o,this.touch.timeout=setTimeout(()=>{this.disable||this.showContext()},this.msToOpen)}touchMove(e){!this.touch.down||(this.touch.wasMove=!0,clearTimeout(this.touch.timeout))}touchEnd(e){this.touch.down=!1,this.touch.wasMove=!1,clearTimeout(this.touch.timeout)}showContext(){var e=this;return I(function*(){e.contextOpen.emit();const o=e.host.nativeElement.getBoundingClientRect(),s=document.createElement("div");s.style.position="absolute",s.style.width=`${o.width}px`,s.style.height=`${o.height}px`,s.style.left=`${o.x}px`,s.style.top=`${o.y}px`,s.style.backgroundColor="#ffffff11",s.style.backdropFilter="blur(10px)",s.style.zIndex="100",s.style.opacity="0",s.style.transition="all ease 0.2s",s.onclick=()=>{e.contextClose.emit(""),e.hideContext()};let r={x:e.touch.coord.x-e.settings.width/2,y:e.touch.coord.y-e.settings.height/2};r.x<0&&(r.x=0),r.x+e.settings.width>window.innerWidth&&(r.x=window.innerWidth-e.settings.width),r.y<0&&(r.y=0),r.y+e.settings.height>window.innerHeight&&(r.y=window.innerHeight-e.settings.height);const a=document.createElement("div");a.setAttribute("class","no-scroll"),a.style.position="absolute",a.style.display="flex",a.style.flexDirection="column",a.style.alignItems="stretch",a.style.justifyContent="flex-start",a.style.overflowY="auto",a.style.width=`${e.settings.width}px`,a.style.maxHeight=`${e.settings.height}px`,a.style.left=`${r.x}px`,a.style.top=`${r.y}px`,a.style.backgroundColor="#ffffff",a.style.borderRadius="10px",a.style.boxShadow="0px 0px 5px #00000099",a.style.zIndex="101",a.style.opacity="0",a.style.transform="scale(0.01)",a.style.transition="all ease 0.2s",e.options.forEach(l=>{const u=document.createElement("div");if(l.hr)u.style.margin="10px",u.style.color="#333333",u.style.fontSize="14px",u.style.height="1px",u.style.flexShrink="0",u.style.backgroundColor="#00000033",a.append(u);else{let p=document.createElement("div"),g=document.createElement("div");u.style.display="flex",u.style.flexDirection="row",u.style.alignItems="center",u.style.justifyContent="flex-start",u.style.padding="20px",u.style.color="#333333",u.style.fontSize="14px",p.style.width="20px",p.style.height="20px",p.style.marginRight="10px",p.style.backgroundImage=`url(${l.icon})`,p.style.backgroundPosition="center",p.style.backgroundSize="contain",p.style.backgroundRepeat="no-repeat",g.innerHTML=l.title,u.append(p),u.append(g),a.append(u),u.onclick=()=>{e.contextClose.emit(l.value),e.hideContext()}}}),e.elementWrap=s,e.elementContent=a,document.body.append(s),document.body.append(a),yield e.asyncService.delay(10),a.style.transform="scale(1)",a.style.opacity="1",s.style.opacity="1"})()}hideContext(){var e=this;return I(function*(){e.elementWrap.style.opacity="0",e.elementContent.style.opacity="0",e.elementContent.style.scale="0.01",yield e.asyncService.delay(200),e.elementWrap.remove(),e.elementContent.remove()})()}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(ve))},i.\u0275dir=ae({type:i,selectors:[["","appTouchContext",""]],hostBindings:function(e,t){1&e&&C("touchstart",function(s){return t.onTouchstart(s)})("touchmove",function(s){return t.onTouchmove(s)})("touchend",function(s){return t.onTouchend(s)})("touchcancel",function(s){return t.onTouchcancel(s)})},inputs:{disable:["contextDisable","disable"],options:["contextOptions","options"]},outputs:{contextClose:"contextClose",contextOpen:"contextOpen"}}),i})();const UH=["colorDrawRef"];function $H(i,n){if(1&i&&m(0,"app-greeting-card",37),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),V("gift_hidden",t.hiddenGifts.get(e.id)),f("size",t.getSizeGift(e))("front",e.front)("back",e.back)("text",e.text)("color",e.color)("sign",e.sign)}}function YH(i,n){if(1&i&&m(0,"app-game",38),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),V("gift_hidden",t.hiddenGifts.get(e.id)),f("hidden",t.hiddenGifts.get(e.id))("size",t.getSizeGift(e))("color",e.color)("front",e.front)("inside",e.inside)("side",e.side)("code",e.code)}}function WH(i,n){if(1&i&&m(0,"app-speaker",39),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(0deg) rotateZ(90deg)")("animation-name","rotPlus180"),V("gift_hidden",t.hiddenGifts.get(e.id)),f("size",t.getSizeGift(e))("grill",e.grill)("color",e.color)}}function qH(i,n){if(1&i&&m(0,"app-tablet",40),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),V("gift_hidden",t.hiddenGifts.get(e.id)),f("size",t.getSizeGift(e))("color",e.color)}}function ZH(i,n){if(1&i&&m(0,"app-photo",41),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),V("gift_hidden",t.hiddenGifts.get(e.id)),f("size",t.getSizeGift(e))("photo",e.photo)("sign",e.sign)}}function XH(i,n){if(1&i&&(Se(0),S(1,$H,1,10,"app-greeting-card",32),S(2,YH,1,11,"app-game",33),S(3,WH,1,9,"app-speaker",34),S(4,qH,1,6,"app-tablet",35),S(5,ZH,1,7,"app-photo",36),Me()),2&i){const e=n.ngIf;c(1),f("ngIf","greetingcard"===e.type),c(1),f("ngIf","game"===e.type),c(1),f("ngIf","speaker"===e.type),c(1),f("ngIf","tablet"===e.type),c(1),f("ngIf","photo"===e.type)}}function KH(i,n){if(1&i&&(Se(0),S(1,XH,6,5,"ng-container",26),Me()),2&i){const e=n.$implicit,t=y();c(1),f("ngIf",t.getGiftById(e))}}function QH(i,n){if(1&i){const e=H();h(0,"div",42),C("contextOpen",function(){return E(e),y().onOpenContext()})("contextClose",function(o){return E(e),y().onCloseContext(o)}),m(1,"input",43,44),h(3,"app-touch-draw-svg",45),C("save",function(o){return E(e),y().saveDrawInside(o)}),d(),d()}if(2&i){const e=y();f("contextOptions",e.contextOptions),c(1),f("formControl",e.colorDrawControl),c(2),b("transform","translateX("+e.draw.coord.x+"px) translateY("+e.draw.coord.y+"px)"),f("touch",e.touches.draw)("width",e.draw.size.w)("height",e.draw.size.h)("tool",e.toolDraw)("color",e.colorDrawControl.value)("ban",e.draw.ban)("sublimesave",e.sublimeSaveDrawInside)}}function JH(i,n){if(1&i&&(h(0,"div",9),h(1,"div",10),m(2,"div",11),h(3,"div",12),x(4),d(),d(),h(5,"div",13),m(6,"div",14),h(7,"div",15),x(8),d(),d(),d()),2&i){const e=y();c(2),b("background-image","url("+e.getIconTool()+")"),c(2),D(e.getNameTool()),c(4),D(e.locationService.translate("hold","\u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435"))}}function eU(i,n){if(1&i&&(h(0,"div",46),h(1,"div",47),m(2,"div",48),d(),h(3,"div",49),h(4,"div",50),x(5),d(),d(),d()),2&i){const e=y();c(2),b("height",e.wrap.scale/3*100,"%"),c(3),se("",e.math.round(100*e.wrap.scale)," %")}}function tU(i,n){1&i&&m(0,"div",54)}function nU(i,n){if(1&i&&(h(0,"app-touch-giftslist-option",52),S(1,tU,1,0,"div",53),x(2),vc(3,"textMore"),d()),2&i){const e=y().$implicit;f("gift",e)("refresh",!1),$e("giftid",e.id),c(2),se(" ",yc(3,4,e.title,20)," ")}}function iU(i,n){if(1&i&&(Se(0),S(1,nU,4,7,"app-touch-giftslist-option",51),Me()),2&i){const e=n.$implicit,t=y();c(1),f("ngIf",!t.isGiftInBox(e))}}function oU(i,n){if(1&i&&(h(0,"div",55),m(1,"div",56),h(2,"div",57),x(3),d(),d()),2&i){const e=y();c(3),D(e.locationService.translate("next stage","\u0434\u0430\u043b\u0435\u0435"))}}function sU(i,n){1&i&&m(0,"div",60)}function rU(i,n){if(1&i&&(h(0,"div",58),S(1,sU,1,0,"div",59),d()),2&i){const e=y();b("background-image","url("+e.dragGift.img+")")("left",e.dragGift.position.x,"px")("top",e.dragGift.position.y,"px")("width",e.dragGift.size.w,"px")("height",e.dragGift.size.h,"px"),V("drag-gift_animated",e.dragGift.animated),c(1),f("ngIf",!e.dragGift.allowed)}}function aU(i,n){1&i&&m(0,"div",67)}const pP=function(){return[]};function lU(i,n){if(1&i&&(h(0,"div",65),S(1,aU,1,0,"div",66),d()),2&i){const e=y(3);c(1),f("ngForOf",lo(1,pP).constructor(e.grid.w))}}function uU(i,n){if(1&i&&(h(0,"div",62),h(1,"div",63),S(2,lU,2,2,"div",64),d(),d()),2&i){const e=y().ngIf,t=y();c(1),b("left",e.x,"px")("top",e.y,"px")("width",e.w,"px")("height",e.h,"px"),c(1),f("ngForOf",lo(9,pP).constructor(t.grid.h))}}function cU(i,n){if(1&i&&(Se(0),S(1,uU,3,10,"div",61),Me()),2&i){const e=y();c(1),f("ngIf",e.dragGift.img)}}function hU(i,n){if(1&i){const e=H();h(0,"div",68),h(1,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().inputUploadImageTrim()}),d(),h(2,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/1.jpg")}),d(),h(3,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/2.jpg")}),d(),h(4,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/3.jpg")}),d(),h(5,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/4.jpg")}),d(),h(6,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/5.jpg")}),d(),h(7,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/6.jpg")}),d(),h(8,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/7.jpg")}),d(),h(9,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/8.jpg")}),d(),h(10,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/9.jpg")}),d(),h(11,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/10.jpg")}),d(),h(12,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/11.jpg")}),d(),h(13,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/12.jpg")}),d(),h(14,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/13.jpg")}),d(),h(15,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/14.jpg")}),d(),h(16,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/15.jpg")}),d(),h(17,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/16.jpg")}),d(),h(18,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/17.jpg")}),d(),h(19,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/18.jpg")}),d(),h(20,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/19.jpg")}),d(),h(21,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/package/20.jpg")}),d(),d()}2&i&&(c(1),f("value","../../assets/upload.svg"),c(1),f("value","../../assets/box/package/1.jpg"),c(1),f("value","../../assets/box/package/2.jpg"),c(1),f("value","../../assets/box/package/3.jpg"),c(1),f("value","../../assets/box/package/4.jpg"),c(1),f("value","../../assets/box/package/5.jpg"),c(1),f("value","../../assets/box/package/6.jpg"),c(1),f("value","../../assets/box/package/7.jpg"),c(1),f("value","../../assets/box/package/8.jpg"),c(1),f("value","../../assets/box/package/9.jpg"),c(1),f("value","../../assets/box/package/10.jpg"),c(1),f("value","../../assets/box/package/11.jpg"),c(1),f("value","../../assets/box/package/12.jpg"),c(1),f("value","../../assets/box/package/13.jpg"),c(1),f("value","../../assets/box/package/14.jpg"),c(1),f("value","../../assets/box/package/15.jpg"),c(1),f("value","../../assets/box/package/16.jpg"),c(1),f("value","../../assets/box/package/17.jpg"),c(1),f("value","../../assets/box/package/18.jpg"),c(1),f("value","../../assets/box/package/19.jpg"),c(1),f("value","../../assets/box/package/20.jpg"))}function dU(i,n){if(1&i){const e=H();h(0,"div",68),h(1,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().inputUploadImageTrim()}),d(),h(2,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/1.jpg")}),d(),h(3,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/2.jpg")}),d(),h(4,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/3.jpg")}),d(),h(5,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/4.jpg")}),d(),h(6,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/5.jpg")}),d(),h(7,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/6.jpg")}),d(),h(8,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/7.jpg")}),d(),h(9,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/8.jpg")}),d(),h(10,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/9.jpg")}),d(),h(11,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/10.jpg")}),d(),h(12,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/11.jpg")}),d(),h(13,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/12.jpg")}),d(),h(14,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/13.jpg")}),d(),h(15,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/14.jpg")}),d(),h(16,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/15.jpg")}),d(),h(17,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/16.jpg")}),d(),h(18,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/17.jpg")}),d(),h(19,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/18.jpg")}),d(),h(20,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/19.jpg")}),d(),h(21,"app-touch-option-trimlist",69),C("click",function(){return E(e),y().setImageTrim("../../assets/box/tape/20.jpg")}),d(),d()}2&i&&(c(1),f("value","../../assets/upload.svg"),c(1),f("value","../../assets/box/tape/1.jpg"),c(1),f("value","../../assets/box/tape/2.jpg"),c(1),f("value","../../assets/box/tape/3.jpg"),c(1),f("value","../../assets/box/tape/4.jpg"),c(1),f("value","../../assets/box/tape/5.jpg"),c(1),f("value","../../assets/box/tape/6.jpg"),c(1),f("value","../../assets/box/tape/7.jpg"),c(1),f("value","../../assets/box/tape/8.jpg"),c(1),f("value","../../assets/box/tape/9.jpg"),c(1),f("value","../../assets/box/tape/10.jpg"),c(1),f("value","../../assets/box/tape/11.jpg"),c(1),f("value","../../assets/box/tape/12.jpg"),c(1),f("value","../../assets/box/tape/13.jpg"),c(1),f("value","../../assets/box/tape/14.jpg"),c(1),f("value","../../assets/box/tape/15.jpg"),c(1),f("value","../../assets/box/tape/16.jpg"),c(1),f("value","../../assets/box/tape/17.jpg"),c(1),f("value","../../assets/box/tape/18.jpg"),c(1),f("value","../../assets/box/tape/19.jpg"),c(1),f("value","../../assets/box/tape/20.jpg"))}function pU(i,n){if(1&i&&(Se(0),h(1,"div",55),m(2,"div",56),h(3,"div",57),x(4),d(),d(),h(5,"div",22),m(6,"div",23),h(7,"div",24),x(8),d(),d(),Me()),2&i){const e=y();c(4),D(e.locationService.translate("next stage","\u0434\u0430\u043b\u0435\u0435")),c(4),D(e.locationService.translate("back to gifts","\u043d\u0430\u0437\u0430\u0434 \u043a \u043f\u043e\u0434\u0430\u0440\u043a\u0430\u043c"))}}function fU(i,n){if(1&i&&(Se(0),h(1,"div",55),m(2,"div",70),h(3,"div",57),x(4),d(),d(),h(5,"div",22),m(6,"div",23),h(7,"div",24),x(8),d(),d(),Me()),2&i){const e=y();c(4),D(e.locationService.translate("complete","\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c")),c(4),D(e.locationService.translate("back to packaging","\u043d\u0430\u0437\u0430\u0434 \u043a \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0435"))}}let gU=(()=>{class i{constructor(e,t,o,s,r,a,l,u,p,g){this.touchService=e,this.asyncService=t,this.locationService=o,this.linerSvgService=s,this.snapshotGiftService=r,this.host=a,this.readFileService=l,this.changeDetectorRef=u,this.router=p,this.confirmService=g,this.changeGlobalStage=new L,this.math=Math,this.subs=[],this.draw={size:{w:0,h:0},coord:{x:0,y:0},ban:[]},this.grid={w:2,h:2},this.box={animate:!1,packed:!1,wrapped:!1,tapped:!1,package:"../../assets/box/package/4.jpg",tape:"../../assets/box/tape/1.jpg",coord:{x:0,y:0,z:0},rotate:{x:0,y:0,z:0},size:{w:110,h:130,d:120},scale:1,shiftRotate:{x:0,y:0}},this.cellInfoForBack={},this.colorDrawControl=new Cn("#000000"),this.toolDraw="pen",this.colorDraw="#000000",this.tool="pen",this.wrap={x:0,y:0,scale:1,disable:!1,animated:!1},this.initialWrap={x:0,y:0,scale:1},this.dragGift={timeout:setTimeout(()=>{},0),img:null,position:{x:0,y:0},size:{w:0,h:0},animated:!1,id:null,waiting:!1,allowed:!1},this.confirm={value:"",type:""},this.menu=[],this.menusublimeshow=!1,this.valerror="",this.timeoutError=setTimeout(()=>{},0),this.showLoupeHint=!1,this.contextOptions=[{icon:"../../assets/checkmark.svg",title:this.locationService.translate("next stage","\u0441\u043b\u0435\u0434. \u044d\u0442\u0430\u043f"),value:"next"},{hr:!0},{icon:"../../assets/pen.svg",title:this.locationService.translate("pen","\u043a\u0430\u0440\u0430\u043d\u0434\u0430\u0448"),value:"pen"},{icon:"../../assets/resize.svg",title:this.locationService.translate("move","\u043e\u0431\u0437\u043e\u0440"),value:"move"},{icon:"../../assets/eraser.svg",title:this.locationService.translate("eraser","\u043b\u0430\u0441\u0442\u0438\u043a"),value:"eraser"},{icon:"../../assets/palette.svg",title:this.locationService.translate("color","\u0446\u0432\u0435\u0442"),value:"color"},{icon:"../../assets/loupe-black.svg",title:this.locationService.translate("loupe","\u043b\u0443\u043f\u0430"),value:"loupe"}],this.doscrolltocenterAddGift=!1,this.doscrolltocenterNextChoose=!1,this.sublimeSaveDrawInside=!1,this.stage=0,this.gifts=[],this.inBox=[],this.hiddenGifts=new Map,this.transition=!1,this.modetrim="usual",this.imgtrim="",this.sublimesavetrim=!1,this.hashedtrim=null,this.listtrim="",this.ratiotrim=1,this.touches={draw:null,mainGifts:null,screenadd:null,dragGift:null,mainPackage:null,screentrim:null,screenlisttrim:null,menu:null,chooseNext:null,mainTape:null},this.disableds={draw:!0,mainGifts:!0,screenadd:!0,dragGift:!0,mainPackage:!0,screentrim:!0,screenlisttrim:!0,menu:!0,chooseNext:!0,mainTape:!0},this.stats={mainGifts:"close",screenadd:"close",dragGift:"close",mainPackage:"close",screentrim:"close",screenlisttrim:"close",menu:"close",chooseNext:"close",mainTape:"close"}}onClick(){}setPosition2NoAnimate(){this.showScreen("mainGifts"),this.wrap.animated=!1,this.box.animate=!1,this.wrap.scale=this.getScaleBoxToFitScreen(),this.wrap.x=0,this.wrap.y=0,this.box.rotate.x=-90,this.box.rotate.y=90,this.box.rotate.z=0,this.box.coord.x=0,this.box.coord.y=0,this.box.coord.z=0,this.box.packed=!1,this.box.wrapped=!1,this.box.tapped=!1,this.transition=!1}setPosition3NoAnimate(){this.showScreen("mainPackage"),this.wrap.animated=!1,this.box.animate=!1,this.wrap.scale=this.getScaleBoxToFitScreen(),this.wrap.x=0,this.wrap.y=0,this.wrap.x=0,this.wrap.y=0,this.wrap.scale=1,this.box.rotate.x=-15,this.box.rotate.y=110,this.box.rotate.z=0,this.box.coord.x=0,this.box.coord.y=0,this.box.coord.z=0,this.box.packed=!0,this.box.wrapped=!0,this.box.tapped=!1,this.transition=!1}setPosition1(){var e=this;return I(function*(){return e.transition=!0,e.box.animate=!1,yield e.asyncService.delay(10),e.box.animate=!0,yield e.asyncService.delay(10),e.box.rotate.x=-90,e.box.rotate.y=90,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=e.box.size.w/2,e.box.coord.z=0,e.setDrawSizeAndCoord(),yield e.asyncService.delay(300),e.transition=!1,new Promise(o=>o())})()}setPosition2(){var e=this;return I(function*(){return e.transition=!0,e.showScreen("mainGifts"),e.wrap.x=0,e.wrap.y=0,e.wrap.scale=1,e.box.animate=!1,yield e.asyncService.delay(10),e.box.animate=!0,yield e.asyncService.delay(10),e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,yield e.asyncService.delay(1e3),e.wrap.animated=!0,yield e.asyncService.delay(10),e.wrap.scale=e.getScaleBoxToFitScreen(),e.box.rotate.x=-90,e.box.rotate.y=90,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,yield e.asyncService.delay(300),e.wrap.animated=!1,e.transition=!1,new Promise(o=>o())})()}setPositionFrom3To2(){var e=this;return I(function*(){return e.transition=!0,e.showScreen("mainGifts"),e.box.animate=!0,e.wrap.animated=!0,yield e.asyncService.delay(10),e.box.wrapped=!1,yield e.asyncService.delay(6e3),e.box.packed=!1,yield e.asyncService.delay(1e3),e.wrap.scale=e.getScaleBoxToFitScreen(),e.box.rotate.x=-90,e.box.rotate.y=90,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,yield e.asyncService.delay(300),e.wrap.animated=!1,e.transition=!1,new Promise(t=>t())})()}setPosition3(){var e=this;return I(function*(){return e.transition=!0,e.showScreen("mainPackage"),e.box.animate=!0,e.wrap.animated=!0,yield e.asyncService.delay(10),e.wrap.x=0,e.wrap.y=0,e.wrap.scale=1,e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,yield e.asyncService.delay(1e3),e.box.packed=!0,yield e.asyncService.delay(1e3),e.box.wrapped=!0,yield e.asyncService.delay(6e3),e.box.rotate.y=200,yield e.asyncService.delay(300),e.wrap.animated=!1,e.box.animate=!1,e.transition=!1,new Promise(t=>t())})()}setPositionFrom4To3(){var e=this;return I(function*(){e.transition=!0,e.showScreen("mainPackage"),e.box.animate=!0,e.wrap.animated=!0,yield e.asyncService.delay(10),e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.box.tapped=!1,yield e.asyncService.delay(6e3),e.wrap.animated=!1,e.transition=!1})()}setPosition4(){var e=this;return I(function*(){return e.transition=!0,e.showScreen("mainTape"),e.wrap.x=0,e.wrap.y=0,e.wrap.scale=1,e.box.animate=!1,yield e.asyncService.delay(10),e.box.animate=!0,yield e.asyncService.delay(10),e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,yield e.asyncService.delay(300),e.box.tapped=!0,yield e.asyncService.delay(6e3),e.wrap.animated=!1,e.box.animate=!1,e.transition=!1,new Promise(t=>t())})()}isGiftInBox(e){return!!this.inBox.find(t=>t===e.id)}getEscalateDOM(e,t){let o=e;for(;"BODY"!==o.tagName;){if(o.classList.contains(t))return o;o=o.parentNode}return null}getGiftById(e){return this.gifts.find(t=>t.id===e)||null}showAddGiftMenu(){var e=this;return I(function*(){return e.onCloseScreen("mainGifts"),e.showScreen("screenadd"),new Promise(t=>t())})()}getScaleBoxToFitScreen(){let e=1,t_ratio=this.box.size.d/this.box.size.w,o_w=window.innerWidth,o_h=window.innerHeight,o_ratio=window.innerWidth/window.innerHeight;return t_ratio>=o_ratio?e=o_w/this.box.size.d:t_ratio<=o_ratio&&(e=o_h/this.box.size.w),e}getSizeGift(e){let t=.9;return"greetingcard"===e.type?this.box.size.w/this.grid.h*(297/420)*t:"game"===e.type?this.box.size.w/this.grid.h*(135/190)*t:"speaker"===e.type||"tablet"===e.type?this.box.size.d/this.grid.w*t:"photo"===e.type?this.box.size.w/this.grid.h*.75*t:0}getDepthGift(e){const t=this.getSizeGift(e);return"greetingcard"===e.type?t/297:"game"===e.type?t/9:"speaker"===e.type?t/(299/136):"tablet"===e.type?t/(247/6):"photo"===e.type?t/480:1}getZPositionGift(e){let t=this.getDepthGift(e)/2+2;for(let o=0;this.inBox[o]!==e.id&&o<this.inBox.length;o++){const s=this.getGiftById(this.inBox[o]);e.cell.x===s.cell.x&&e.cell.y===s.cell.y&&(t+=this.getDepthGift(s))}return t}idBannedGiftsInCell(e,t){for(let o=0;o<this.inBox.length;o++){const s=this.getGiftById(this.inBox[o]);if(s.cell.x===e&&s.cell.y===t&&"speaker"===s.type)return s.id}return!1}getTopGiftFromCell(e,t){let o=null;for(let s=0;s<this.inBox.length;s++){const r=this.getGiftById(this.inBox[s]);r.cell.x===e&&r.cell.y===t&&(o=r)}return o}setDrawSizeAndCoord(){this.draw.size.w=this.box.size.d+2*this.box.size.h,this.draw.size.h=2*this.box.size.w+2*this.box.size.h,this.draw.ban=[[0,0,this.box.size.h/this.draw.size.w,(this.box.size.w+this.box.size.h)/this.draw.size.h],[(this.box.size.d+this.box.size.h)/this.draw.size.w,0,1,(this.box.size.w+this.box.size.h)/this.draw.size.h],[0,(this.box.size.h+2*this.box.size.w)/this.draw.size.h,this.box.size.h/this.draw.size.w,1],[(this.box.size.d+this.box.size.h)/this.draw.size.w,(this.box.size.h+2*this.box.size.w)/this.draw.size.h,1,1]]}processTouch(e){var t,o,s,r;if(Object.entries(this.disableds).forEach(([a,l])=>{l||(this.touches[a]=e)}),!this.transition)if(0===this.stage)"end"===e.action&&!e.drag&&(this.setPosition2(),this.stage=2);else if(1===this.stage)if("loupe"!==this.tool||"start"!==e.action||this.wrap.disable)if("move"!==this.tool||"start"!==e.action||this.wrap.disable)if("loupe"!==this.tool||"move"!==e.action||this.wrap.disable)if("move"!==this.tool||"move"!==e.action||this.wrap.disable)"end"===e.action&&(this.showLoupeHint=!1);else{let a=this.draw.size.w*this.wrap.scale-(this.draw.size.w*this.wrap.scale-window.innerWidth)/2-20,l=this.draw.size.h*this.wrap.scale-(this.draw.size.h*this.wrap.scale-window.innerHeight)/2-20,u=e.x-e.start.x,p=e.y-e.start.y;this.initialWrap.x+u<-a&&(u=-a-this.initialWrap.x),this.initialWrap.x+u>a&&(u=a-this.initialWrap.x),this.initialWrap.y+p<-l&&(p=-l-this.initialWrap.y),this.initialWrap.y+p>l&&(p=l-this.initialWrap.y),this.wrap.x=this.initialWrap.x+u,this.wrap.y=this.initialWrap.y+p}else{this.showLoupeHint||(this.showLoupeHint=!0);let l=.5,u=3,p=.01*-(e.y-e.start.y);this.initialWrap.scale+p<l&&(p=l-this.initialWrap.scale),this.initialWrap.scale+p>u&&(p=u-this.initialWrap.scale),Math.abs(this.initialWrap.scale+p-1)<=.1&&(p=1-this.initialWrap.scale),p=Math.round(10*p)/10,this.wrap.scale=this.initialWrap.scale+p}else this.initialWrap.x=this.wrap.x,this.initialWrap.y=this.wrap.y;else this.initialWrap.scale=this.wrap.scale;else if(2===this.stage){if("open"===this.stats.mainGifts){if("start"===e.action){let a=this.cellBoxDragging(e.x,e.y),l=this.getTopGiftFromCell(a.x,a.y);l&&(clearTimeout(this.dragGift.timeout),this.dragGift.timeout=setTimeout(()=>{this.snapshotGiftService.get(l).then(u=>{this.dragGift.animated=!1,this.dragGift.waiting=!0,this.hiddenGifts.set(l.id,!0),this.dragGift.id=l.id,this.dragGift.img=u,this.dragGift.size.w=a.sizeCell.w,this.dragGift.size.h=a.sizeCell.h,this.dragGift.position.x=a.rectAllowed.x+a.x*a.sizeCell.w+a.sizeCell.w/2,this.dragGift.position.y=a.rectAllowed.y+a.y*a.sizeCell.h+a.sizeCell.h/2,this.onCloseScreen("mainGifts"),this.showScreen("dragGift"),this.setStartPositionDragGift(e.x,e.y)})},300))}"move"===e.action&&clearTimeout(this.dragGift.timeout),"end"===e.action&&clearTimeout(this.dragGift.timeout),"end"===e.action&&!e.drag&&this.showAddGiftMenu()}else if("open"===this.stats.screenadd){if("start"===e.action){clearTimeout(this.dragGift.timeout);const a=this.getEscalateDOM(e.target,"giftlist-option");a&&(this.dragGift.timeout=setTimeout(()=>{const u=a.querySelector(".ico").getBoundingClientRect(),p=parseInt(a.getAttribute("giftid")),g=this.gifts.find(_=>_.id===p);this.snapshotGiftService.get(g).then(_=>{this.dragGift.id=p,this.dragGift.img=_,this.dragGift.size.w=u.width,this.dragGift.size.h=u.height,this.dragGift.position.x=u.x+this.dragGift.size.w/2,this.dragGift.position.y=u.y+this.dragGift.size.h/2,this.dragGift.waiting=!0,this.onCloseScreen("screenadd"),this.showScreen("dragGift"),this.setStartPositionDragGift(e.x,e.y)})},300))}if("move"===e.action&&clearTimeout(this.dragGift.timeout),"end"===e.action&&clearTimeout(this.dragGift.timeout),"end"===e.action&&!1===e.drag){const a=this.getEscalateDOM(e.target,"button-back"),l=this.getEscalateDOM(e.target,"button-forward");a?this.changeGlobalStage.emit(2):l&&(this.onCloseScreen("screenadd"),this.setPosition3(),this.stage++)}}else if("open"===this.stats.dragGift)if("move"===e.action){let a=this.cellBoxDragging(e.x,e.y);this.cellInfoForBack=a,console.log(this.cellInfoForBack),this.dragGift.allowed=a.allowed,a.allowed?(this.dragGift.animated=!0,this.dragGift.position.x=a.rectAllowed.x+a.x*a.sizeCell.w+a.sizeCell.w/2,this.dragGift.position.y=a.rectAllowed.y+a.y*a.sizeCell.h+a.sizeCell.h/2):(this.dragGift.animated=!1,this.dragGift.position.x=e.x,this.dragGift.position.y=e.y)}else if("end"===e.action){{this.dragGift.waiting=!1;const a=this.cellBoxDragging(e.x,e.y);if(this.dragGift.allowed=a.allowed,this.inBox=this.inBox.filter(l=>l!==this.dragGift.id),a.allowed){const l=this.getGiftById(this.dragGift.id);l.pos={x:0,y:0},l.pos.x=-this.box.size.d/2+(.5+a.x)*(this.box.size.d/this.grid.w),l.pos.y=-this.box.size.w/2+(.5+a.y)*(this.box.size.w/this.grid.h),l.cell={x:a.x,y:a.y},l.pos.z=this.getZPositionGift(l),this.inBox.push(this.dragGift.id)}}this.dragGift.id=null,this.dragGift.img=null,this.dragGift.position={x:0,y:0},this.dragGift.size={w:0,h:0},this.dragGift.animated=!1,this.onCloseScreen("dragGift"),this.showScreen("mainGifts"),this.hiddenGifts.clear(),this.saveUpdate()}}else if(3===this.stage){if("open"===this.stats.mainPackage&&"close"===this.stats.screentrim&&"close"===this.stats.screenlisttrim){if("start"===e.action&&(clearTimeout(this.dragGift.timeout),this.dragGift.timeout=setTimeout(()=>{this.onCloseScreen("mainPackage"),this.showScreen("chooseNext"),setTimeout(()=>{this.doscrolltocenterNextChoose=!this.doscrolltocenterNextChoose},0)},300)),"move"===e.action){clearTimeout(this.dragGift.timeout);let a=e.x-((null===(t=e.start)||void 0===t?void 0:t.x)||0),l=e.y-((null===(o=e.start)||void 0===o?void 0:o.y)||0);this.box.shiftRotate.x=-l,this.box.shiftRotate.y=a}"end"===e.action&&(clearTimeout(this.dragGift.timeout),this.box.rotate.x=(this.box.rotate.x+this.box.shiftRotate.x)%360,this.box.rotate.y=(this.box.rotate.y+this.box.shiftRotate.y)%360,this.box.shiftRotate.x=0,this.box.shiftRotate.y=0),"end"===e.action&&!e.drag&&"close"===this.stats.chooseNext&&(this.onCloseScreen("mainPackage"),this.showScreen("screentrim"),this.imgtrim=this.box.package,this.ratiotrim=1,this.listtrim="wrapbox",this.disableds.menu=!1,this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/image.svg",value:"chgimage"}])}else if("open"===this.stats.chooseNext&&"end"===e.action&&!1===e.drag){const a=this.getEscalateDOM(e.target,"button-back"),l=this.getEscalateDOM(e.target,"button-forward");a?(this.onCloseScreen("chooseNext"),this.setPositionFrom3To2(),this.stage--):l&&(this.onCloseScreen("chooseNext"),this.setPosition4(),this.stage++)}}else if(4===this.stage)if("open"===this.stats.mainTape&&"close"===this.stats.screentrim&&"close"===this.stats.screenlisttrim&&""===this.confirm.value){if("start"===e.action&&(clearTimeout(this.dragGift.timeout),this.dragGift.timeout=setTimeout(()=>{this.onCloseScreen("mainTape"),this.showScreen("chooseNext"),setTimeout(()=>{this.doscrolltocenterNextChoose=!this.doscrolltocenterNextChoose},0)},300)),"move"===e.action){clearTimeout(this.dragGift.timeout);let a=e.x-((null===(s=e.start)||void 0===s?void 0:s.x)||0),l=e.y-((null===(r=e.start)||void 0===r?void 0:r.y)||0);this.box.shiftRotate.x=-l,this.box.shiftRotate.y=a}"end"===e.action&&(clearTimeout(this.dragGift.timeout),this.box.rotate.x=(this.box.rotate.x+this.box.shiftRotate.x)%360,this.box.rotate.y=(this.box.rotate.y+this.box.shiftRotate.y)%360,this.box.shiftRotate.x=0,this.box.shiftRotate.y=0),"end"===e.action&&!e.drag&&"close"===this.stats.chooseNext&&(this.onCloseScreen("mainTape"),this.showScreen("screentrim"),this.imgtrim=this.box.tape,this.ratiotrim=1,this.listtrim="tapebox",this.disableds.menu=!1,this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/image.svg",value:"chgimage"}])}else if("open"===this.stats.chooseNext&&"end"===e.action&&!1===e.drag){const a=this.getEscalateDOM(e.target,"button-back"),l=this.getEscalateDOM(e.target,"button-forward");a?(this.onCloseScreen("chooseNext"),this.setPositionFrom4To3(),this.stage--):l&&(this.onCloseScreen("chooseNext"),this.changeGlobalStage.emit(4))}}showConfirm(e,t){this.confirm.value=t,this.confirm.type=e}resultConfirm(e){this.confirm.value="",this.confirm.type=""}closescreentrimlist(){this.onCloseScreen("screenlisttrim"),this.showScreen("screentrim")}closeScreenChooseNext(){this.onCloseScreen("chooseNext"),3===this.stage?this.showScreen("mainPackage"):4===this.stage&&this.showScreen("mainTape")}onCloseScreenScreenAdd(){this.onCloseScreen("screenadd"),"close"===this.stats.dragGift&&this.showScreen("mainGifts")}closescreentrim(){this.onCloseScreen("screentrim"),3===this.stage?this.showScreen("mainPackage"):4===this.stage&&this.showScreen("mainTape"),this.menu=[],this.disableds.menu=!0,"close"===this.stats.screenlisttrim&&(this.listtrim="")}closetrim(){this.menusublimeshow=!this.menusublimeshow,this.changeDetectorRef.detectChanges()}setImageTrim(e){this.onCloseScreen("screenlisttrim"),this.showScreen("screentrim"),this.savetrim(e)}savetrim(e){this.imgtrim=e,this.disableds.menu=!1,this.modetrim="usual","wrapbox"===this.listtrim?this.box.package=e:"tapebox"===this.listtrim&&(this.box.tape=e),this.saveUpdate()}actionmenu(e){this.stats.menu=e,"open"===e?"open"===this.stats.screentrim&&"trim"===this.modetrim&&(this.disableds.menu=!1,this.disableds.screentrim=!0):"close"===e&&"open"===this.stats.screentrim&&"trim"===this.modetrim&&(this.disableds.menu=!0,this.disableds.screentrim=!1)}menuwaschoosen(e){"back"===e?this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change image","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),ico:"../../assets/image.svg",value:"chgimage"}]:"trim"===e?(this.disableds.menu=!0,this.modetrim="trim",this.menu=[{title:this.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"},{title:this.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"}]):"save"===e?"open"===this.stats.screentrim&&(null!==this.hashedtrim&&(this.hashedtrim=null),this.sublimesavetrim=!this.sublimesavetrim,this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change image","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),ico:"../../assets/image.svg",value:"chgimage"}]):"cancel"===e?"open"===this.stats.screentrim&&(null!==this.hashedtrim&&(this.imgtrim=this.hashedtrim,this.hashedtrim=null),this.disableds.menu=!1,this.modetrim="usual",this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change image","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),ico:"../../assets/image.svg",value:"chgimage"}]):"chgimage"===e&&"open"===this.stats.screentrim&&(this.onCloseScreen("screentrim"),this.showScreen("screenlisttrim"),this.menu=[])}inputUploadImageTrim(){this.host.nativeElement.querySelector("#inputuploadtrim").click()}tryuploadimage(e){var t=this;return I(function*(){const o=e.target.files[0];let s=[],r={};return o.size/1048576>3&&s.push("should be less than 3 MB"),"image/png"!==o.type&&"image/jpeg"!==o.type&&"image/webp"!==o.type&&"image/x-icon"!==o.type&&"image/gif"!==o.type&&s.push("should be type of png, jpeg, webp, gif, icon"),s[0]||(r=yield t.readFileService.getImageFromFile(o),(r.naturalWidth>1920||r.naturalHeight>1080)&&s.push("should be less than 1920x1080")),s[0]?(t.showerror(s.join("; ")),e.target.value=null):t.uploadImageTrim(r.src),new Promise(a=>a())})()}showerror(e){var t=this;return I(function*(){return clearTimeout(t.timeoutError),t.valerror="",yield t.asyncService.delay(250),t.valerror=e,t.timeoutError=setTimeout(()=>{t.valerror=""},5e3),new Promise(o=>o())})()}uploadImageTrim(e){var t=this;return I(function*(){return t.hashedtrim=t.imgtrim,t.imgtrim=e,t.onCloseScreen("screenlisttrim"),t.showScreen("screentrim"),yield t.asyncService.delay(300),t.disableds.menu=!0,t.modetrim="trim",t.menu=[{title:t.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"},{title:t.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"}],new Promise(o=>o())})()}cellBoxDragging(e,t){let o=!1,[s,r]=[0,0],a={w:this.box.size.d*this.wrap.scale,h:this.box.size.w*this.wrap.scale,ratio:0};a.ratio=a.w/a.h;let l={w:window.innerWidth,h:window.innerHeight,ratio:0};l.ratio=l.w/l.h;let u={w:a.w/this.grid.w,h:a.h/this.grid.h},p={w:a.w,h:a.h,x:0,y:0};if(a.ratio>=l.ratio?(p.x=0,p.y=(l.h-a.h)/2):a.ratio<l.ratio&&(p.x=(l.w-a.w)/2,p.y=0),s=Math.floor((e-p.x)/u.w),r=Math.floor((t-p.y)/u.h),e>=p.x&&e<=p.x+p.w&&t>=p.y&&t<=p.y+p.h){const g=this.idBannedGiftsInCell(s,r);(!1===g||g===this.dragGift.id)&&(o=!0)}return s<0&&(s=0),s>this.grid.w-1&&(s=this.grid.w-1),r<0&&(r=0),r>this.grid.h-1&&(r=this.grid.h-1),{x:s,y:r,allowed:o,sizeCell:u,rectAllowed:p}}setStartPositionDragGift(e,t){var o=this;return I(function*(){o.dragGift.animated=!0,yield o.asyncService.delay(0);let r=o.cellBoxDragging(e,t);return o.dragGift.allowed=r.allowed,r.allowed?(o.dragGift.animated=!0,o.dragGift.position.x=r.rectAllowed.x+r.x*r.sizeCell.w+r.sizeCell.w/2,o.dragGift.position.y=r.rectAllowed.y+r.y*r.sizeCell.h+r.sizeCell.h/2):(o.dragGift.animated=!1,o.dragGift.position.x=e,o.dragGift.position.y=t),o.dragGift.size.w=.9*r.sizeCell.w,o.dragGift.size.h=.9*r.sizeCell.h,yield o.asyncService.delay(300),o.dragGift.waiting=!1,new Promise(a=>a())})()}onOpenContext(){this.disableds.draw=!0,this.wrap.disable=!0}onCloseContext(e){this.wrap.disable=!1,"pen"===e?(this.disableds.draw=!1,this.toolDraw="pen",this.tool="pen"):"eraser"===e?(this.disableds.draw=!1,this.toolDraw="eraser",this.tool="eraser"):"color"===e?(this.colorDrawRef.nativeElement.click(),this.disableds.draw=!1):"move"===e?(this.disableds.draw=!0,this.tool="move"):"loupe"===e?(this.disableds.draw=!0,this.tool="loupe"):"next"===e&&(this.sublimeSaveDrawInside=!this.sublimeSaveDrawInside)}getNameTool(){return"pen"===this.tool?this.locationService.translate("pen","\u043a\u0430\u0440\u0430\u043d\u0434\u0430\u0448"):"move"===this.tool?this.locationService.translate("move","\u043e\u0431\u0437\u043e\u0440"):"eraser"===this.tool?this.locationService.translate("eraser","\u043b\u0430\u0441\u0442\u0438\u043a"):"loupe"===this.tool?this.locationService.translate("loupe","\u043b\u0443\u043f\u0430"):""}getIconTool(){return"pen"===this.tool?"../../assets/pen.svg":"move"===this.tool?"../../assets/resize.svg":"eraser"===this.tool?"../../assets/eraser.svg":"loupe"===this.tool?"../../assets/loupe-black.svg":""}saveDrawInside(e){let t=this.linerSvgService.getSvg(this.draw.size.w,this.draw.size.h,e),o=(new XMLSerializer).serializeToString(t),s=unescape(encodeURIComponent(o)),a=`data:image/svg+xml;base64,${btoa(s)}`,l=new Image;l.src=a;let u=document.createElement("canvas"),p=u.getContext("2d");u.width=this.draw.size.w,u.height=this.draw.size.h,l.onload=()=>{p.save(),p.translate(this.draw.size.w/2,this.draw.size.h/2),p.rotate(90*Math.PI/180),p.drawImage(l,-this.draw.size.w/2,-this.draw.size.h/2),p.restore();let g=u.toDataURL("image/png");this.box.inside=g,this.setPosition2(),this.stage++}}onCloseScreen(e){this.disableds[e]=!0,this.stats[e]="close"}showScreen(e){this.disableds[e]=!1,this.stats[e]="open","screenadd"===e?setTimeout(()=>{this.doscrolltocenterAddGift=!this.doscrolltocenterAddGift},0):"chooseWrap"===e&&(this.listtrim="wrapbox")}setBoxSizeAndGrid(){const e=this.gifts.length;e<4?(this.grid={w:1,h:1},this.box.size.w=150,this.box.size.d=150):e>=4&&e<6?(this.grid={w:2,h:2},this.box.size.w=300,this.box.size.d=300):e>=6&&e<9?(this.grid={w:3,h:2},this.box.size.w=300,this.box.size.d=450):e>=9&&(this.grid={w:3,h:3},this.box.size.w=450,this.box.size.d=450);let t=0;this.gifts.forEach(o=>{t+=this.getDepthGift(o)}),t+=40,t=Math.ceil(t),this.box.size.h=t}saveUpdate(){window.localStorage.setItem("box",JSON.stringify({package:this.box.package,tape:this.box.tape,grid:{w:this.grid.w,h:this.grid.h},size:{w:this.box.size.w,h:this.box.size.h,d:this.box.size.d},inBox:this.inBox})),window.localStorage.setItem("gifts",JSON.stringify(this.gifts))}ngOnInit(){this.subs.push(this.touchService.stream$.subscribe(e=>{this.processTouch(e)})),this.gifts=JSON.parse(window.localStorage.getItem("gifts")||"[]"),this.setBoxSizeAndGrid()}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(P(Zo),P(ve),P(De),P(ha),P(Ih),P(q),P(Co),P(ei),P(ct),P(ga))},i.\u0275cmp=X({type:i,selectors:[["app-touch-page-create-stage3"]],viewQuery:function(e,t){if(1&e&&Xe(UH,5,q),2&e){let o;Ve(o=Le())&&(t.colorDrawRef=o.first)}},hostBindings:function(e,t){1&e&&C("click",function(s){return t.onClick(s)},!1,be)},outputs:{changeGlobalStage:"changeGlobalStage"},decls:73,vars:100,consts:[[3,"value"],[3,"value","result"],[3,"touch","options","sublimeshow","action","choose"],[1,"wrap"],[1,"box",3,"packed","animate","wrapped","tapped","w","h","d","inside","package","tape"],[4,"ngFor","ngForOf"],["appTouchContext","","class","wrap-draw",3,"contextOptions","contextOpen","contextClose",4,"ngIf"],[1,"waiting"],["class","top-menu",4,"ngIf"],[1,"top-menu"],[1,"tool"],[1,"tool__icon"],[1,"tool__text"],[1,"menu"],[1,"menu__icon"],[1,"menu__text"],[1,"hint"],[1,"hint__text"],[1,"tool__icon","tool__icon_image"],["class","loupe",4,"ngIf"],[3,"touch","show","doscrolltocenter","refreshable","close"],["matRipple","","matRippleColor","#00000011","class","button-forward",4,"ngIf"],["matRipple","","matRippleColor","#00000011",1,"button-back"],[1,"button-back__icon"],[1,"button-back__text"],["class","drag-gift",3,"drag-gift_animated","background-image","left","top","width","height",4,"ngIf"],[4,"ngIf"],[3,"touch","show","scrollable","backable","close"],[3,"touch","ratio","img","mode","sublimesave","closetrim","save"],["type","file","id","inputuploadtrim","accept","image/png, image/jpeg, image/webp, image/x-icon, image/gif",2,"display","none",3,"change"],["class","listimages",4,"ngIf"],[3,"touch","show","doscrolltocenter","scrollable","backable","close"],["class","gift",3,"gift_hidden","transform","size","front","back","text","color","sign",4,"ngIf"],["class","gift",3,"hidden","gift_hidden","transform","size","color","front","inside","side","code",4,"ngIf"],["class","gift",3,"gift_hidden","transform","size","grill","color","animationName",4,"ngIf"],["class","gift",3,"gift_hidden","transform","size","color",4,"ngIf"],["class","gift",3,"gift_hidden","transform","size","photo","sign",4,"ngIf"],[1,"gift",3,"size","front","back","text","color","sign"],[1,"gift",3,"hidden","size","color","front","inside","side","code"],[1,"gift",3,"size","grill","color"],[1,"gift",3,"size","color"],[1,"gift",3,"size","photo","sign"],["appTouchContext","",1,"wrap-draw",3,"contextOptions","contextOpen","contextClose"],["type","color",2,"display","none",3,"formControl"],["colorDrawRef",""],[1,"draw",3,"touch","width","height","tool","color","ban","sublimesave","save"],[1,"loupe"],[1,"loupe__bar"],[1,"loupe__progress"],[1,"loupe__right"],[1,"loupe__percentage"],["class","giftlist-option",3,"gift","refresh",4,"ngIf"],[1,"giftlist-option",3,"gift","refresh"],["class","placeholder-list-gift",4,"cdkDragPlaceholder"],[1,"placeholder-list-gift"],["matRipple","","matRippleColor","#00000011",1,"button-forward"],[1,"button-forward__icon"],[1,"button-forward__text"],[1,"drag-gift"],["class","drag-gift__not-allowed",4,"ngIf"],[1,"drag-gift__not-allowed"],["class","back-drag-gift",4,"ngIf"],[1,"back-drag-gift"],[1,"back-drag-gift__window"],["class","grid__row",4,"ngFor","ngForOf"],[1,"grid__row"],["class","grid__option",4,"ngFor","ngForOf"],[1,"grid__option"],[1,"listimages"],[3,"value","click"],[1,"button-forward__icon","button-forward__icon_complete"]],template:function(e,t){1&e&&(m(0,"app-touch-error",0),h(1,"app-touch-confirm",1),C("result",function(s){return t.resultConfirm(s)}),d(),h(2,"app-touch-menu",2),C("action",function(s){return t.actionmenu(s)})("choose",function(s){return t.menuwaschoosen(s)}),d(),h(3,"div",3),h(4,"app-box",4),S(5,KH,2,1,"ng-container",5),d(),S(6,QH,4,11,"div",6),d(),h(7,"div",7),x(8),d(),S(9,JH,9,4,"div",8),h(10,"div",9),h(11,"div",10),m(12,"div",11),m(13,"div",12),d(),h(14,"div",13),m(15,"div",14),h(16,"div",15),x(17),d(),d(),d(),h(18,"div",16),h(19,"div",17),x(20),d(),d(),h(21,"div",16),h(22,"div",17),x(23),d(),d(),h(24,"div",16),h(25,"div",17),x(26),d(),d(),h(27,"div",16),h(28,"div",17),x(29),d(),d(),h(30,"div",9),h(31,"div",10),m(32,"div",11),h(33,"div",12),x(34),d(),d(),h(35,"div",10),m(36,"div",18),h(37,"div",12),x(38),d(),d(),d(),h(39,"div",16),h(40,"div",17),x(41),d(),d(),h(42,"div",9),h(43,"div",10),m(44,"div",11),h(45,"div",12),x(46),d(),d(),h(47,"div",10),m(48,"div",18),h(49,"div",12),x(50),d(),d(),d(),h(51,"div",16),h(52,"div",17),x(53),d(),d(),S(54,eU,6,3,"div",19),h(55,"app-touch-screen",20),C("close",function(){return t.onCloseScreenScreenAdd()}),S(56,iU,2,1,"ng-container",5),S(57,oU,4,1,"div",21),h(58,"div",22),m(59,"div",23),h(60,"div",24),x(61),d(),d(),d(),S(62,rU,2,13,"div",25),S(63,cU,2,1,"ng-container",26),h(64,"app-touch-screen",27),C("close",function(){return t.closescreentrim()}),h(65,"app-touch-trim",28),C("closetrim",function(){return t.closetrim()})("save",function(s){return t.savetrim(s)}),d(),d(),h(66,"input",29),C("change",function(s){return t.tryuploadimage(s)}),d(),h(67,"app-touch-screen",27),C("close",function(){return t.closescreentrimlist()}),S(68,hU,22,21,"div",30),S(69,dU,22,21,"div",30),d(),h(70,"app-touch-screen",31),C("close",function(){return t.closeScreenChooseNext()}),S(71,pU,9,2,"ng-container",26),S(72,fU,9,2,"ng-container",26),d()),2&e&&(f("value",t.valerror),c(1),f("value",t.confirm.value),c(1),f("touch",t.touches.menu)("options",t.menu)("sublimeshow",t.menusublimeshow),c(1),b("transform","translateX("+t.wrap.x+"px) translateY("+t.wrap.y+"px) scale("+t.wrap.scale+")"),V("wrap_animated",t.wrap.animated),c(1),b("transform","translateX("+t.box.coord.x+"px) translateY("+t.box.coord.y+"px) translateZ("+t.box.coord.z+"px) rotateX("+(t.box.rotate.x+t.box.shiftRotate.x)+"deg) rotateY("+(t.box.rotate.y+t.box.shiftRotate.y)+"deg) rotateZ("+t.box.rotate.z+"deg) scale("+t.box.scale+")"),f("packed",t.box.packed)("animate",t.box.animate)("wrapped",t.box.wrapped)("tapped",t.box.tapped)("w",t.box.size.w)("h",t.box.size.h)("d",t.box.size.d)("inside",t.box.inside)("package",t.box.package)("tape",t.box.tape),c(1),f("ngForOf",t.inBox),c(1),f("ngIf",1===t.stage),c(1),V("waiting_hidden",!1===t.transition),c(1),D(t.locationService.translate("wait","\u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435")),c(1),f("ngIf",!1===t.transition&&1===t.stage),c(1),V("top-menu_hidden",!0===t.transition||2!==t.stage),c(7),D(t.locationService.translate("tap","\u043d\u0430\u0436\u0430\u0442\u044c")),c(1),V("hint_hidden",0!==t.stage),f("@hintTextAnimation",void 0),c(2),D(t.locationService.translate("click to continue","\u043d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")),c(1),V("hint_center",0===t.stage)("hint_hidden",2!==t.stage&&0!==t.stage||"open"===t.stats.screenadd||t.inBox.length===t.gifts.length||t.dragGift.img),f("@previewTextAnimation",void 0),c(2),D(t.locationService.translate("put all the gifts in a box","\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u0434\u0430\u0440\u043a\u0438 \u0432 \u043a\u043e\u0440\u043e\u0431\u043a\u0443")),c(1),V("hint_hidden",2!==t.stage||"close"===t.stats.screenadd||t.inBox.length===t.gifts.length),c(2),D(t.locationService.translate("press and hold on the gift","\u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0438 \u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435")),c(1),V("hint_hidden",2!==t.stage||"open"===t.stats.screenadd||t.inBox.length<t.gifts.length||t.dragGift.img),c(2),D(t.locationService.translate("go to the next step in the menu","\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u0435 \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u044d\u0442\u0430\u043f \u0432 \u043c\u0435\u043d\u044e")),c(1),V("top-menu_hidden",!0===t.transition||3!==t.stage),c(2),b("background-image","url(/assets/menu.svg)"),c(2),D(t.locationService.translate("hold","\u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c")),c(2),b("background-image","url(/assets/image.svg)"),c(2),D(t.locationService.translate("tap","\u043d\u0430\u0436\u0430\u0442\u044c")),c(1),V("hint_hidden",3!==t.stage||"open"===t.stats.screentrim||"open"===t.stats.screenlisttrim||"open"===t.stats.chooseNext),c(2),D(t.locationService.translate("select packaging","\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0443")),c(1),V("top-menu_hidden",!0===t.transition||4!==t.stage),c(2),b("background-image","url(/assets/menu.svg)"),c(2),D(t.locationService.translate("hold","\u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c")),c(2),b("background-image","url(/assets/image.svg)"),c(2),D(t.locationService.translate("tap","\u043d\u0430\u0436\u0430\u0442\u044c")),c(1),V("hint_hidden",4!==t.stage||"open"===t.stats.screentrim||"open"===t.stats.screenlisttrim||"open"===t.stats.chooseNext),c(2),D(t.locationService.translate("select tape","\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043b\u0435\u043d\u0442\u0443")),c(1),f("ngIf",t.showLoupeHint),c(1),f("touch",t.touches.screenadd)("show","open"==t.stats.screenadd)("doscrolltocenter",t.doscrolltocenterAddGift)("refreshable",!0),c(1),f("ngForOf",t.gifts),c(1),f("ngIf",t.inBox.length===t.gifts.length),c(4),D(t.locationService.translate("back to price","\u043d\u0430\u0437\u0430\u0434 \u043a \u0446\u0435\u043d\u0435")),c(1),f("ngIf",t.dragGift.img),c(1),f("ngIf",t.cellInfoForBack.rectAllowed),c(1),f("touch",t.touches.screentrim)("show","open"===t.stats.screentrim)("scrollable",!1)("backable","usual"===t.modetrim&&"close"===t.stats.menu),c(1),f("touch",t.touches.screentrim)("ratio",t.ratiotrim)("img",t.imgtrim)("mode",t.modetrim)("sublimesave",t.sublimesavetrim),c(2),f("touch",t.touches.screenlisttrim)("show","open"===t.stats.screenlisttrim)("scrollable",!0)("backable",!0),c(1),f("ngIf","wrapbox"===t.listtrim),c(1),f("ngIf","tapebox"===t.listtrim),c(1),f("touch",t.touches.chooseNext)("show","open"===t.stats.chooseNext)("doscrolltocenter",t.doscrolltocenterNextChoose)("scrollable",!0)("backable",!0),c(1),f("ngIf",3===t.stage),c(1),f("ngIf",4===t.stage))},directives:[Dh,pa,Oh,Rs,gt,Re,Hl,Gn,v2,$i,Xo,bo,wo,Yi,HH,us,Js,ps,O0,j0,Z2,X2],pipes:[H0],styles:["[_nghost-%COMP%]{position:absolute;left:0px;top:0px;width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .wrap_animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%]   .box[_ngcontent-%COMP%]{z-index:1;position:absolute}[_nghost-%COMP%]   .draw[_ngcontent-%COMP%]{z-index:2;position:absolute}[_nghost-%COMP%]   .wrap-draw[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;left:0px;top:0px;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{position:fixed;bottom:0px;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;backdrop-filter:blur(5px);background-color:#fff3;text-align:center;z-index:10;transition:all ease .2s}[_nghost-%COMP%]   .hint_center[_ngcontent-%COMP%]{bottom:50%;backdrop-filter:blur(0px);background-color:#fff0}[_nghost-%COMP%]   .hint_hidden[_ngcontent-%COMP%]{transform:translateY(100%)}[_nghost-%COMP%]   .hint_green[_ngcontent-%COMP%]{background-color:#333}[_nghost-%COMP%]   .hint__text[_ngcontent-%COMP%]{margin:10px;text-align:center;color:#333;font-size:14px}[_nghost-%COMP%]   .hint_green[_ngcontent-%COMP%]   .hint__text[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .hint_center[_ngcontent-%COMP%]   .hint__text[_ngcontent-%COMP%]{font-size:20px}[_nghost-%COMP%]   .top-menu[_ngcontent-%COMP%]{position:fixed;top:0px;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;backdrop-filter:blur(5px);background-color:#fff3;transform:translateY(0);transition:transform ease .2s}[_nghost-%COMP%]   .top-menu_hidden[_ngcontent-%COMP%]{transform:translateY(-100%)}[_nghost-%COMP%]   .tool[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .tool__icon[_ngcontent-%COMP%]{flex-shrink:0;margin:10px 10px 10px 20px;width:30px;height:30px;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%]   .tool__icon_image[_ngcontent-%COMP%]{background-size:70%}[_nghost-%COMP%]   .tool__text[_ngcontent-%COMP%]{margin:10px 20px 10px 0;color:#333;font-size:14px}[_nghost-%COMP%]   .menu[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .menu__icon[_ngcontent-%COMP%]{flex-shrink:0;margin:10px 10px 10px 20px;width:30px;height:30px;background-position:center;background-size:contain;background-repeat:no-repeat;background-image:url(/assets/menu.svg)}[_nghost-%COMP%]   .menu__text[_ngcontent-%COMP%]{margin:10px 20px 10px 0;color:#333;font-size:14px}[_nghost-%COMP%]   .loupe[_ngcontent-%COMP%]{position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#fff9;backdrop-filter:blur(5px);border-radius:20px}[_nghost-%COMP%]   .loupe__bar[_ngcontent-%COMP%]{margin:20px;flex-shrink:0;width:20px;height:200px;border-radius:100px;background-color:#0003;display:flex;flex-direction:column;align-items:center;justify-content:flex-end}[_nghost-%COMP%]   .loupe__progress[_ngcontent-%COMP%]{width:100%;border-radius:100px;background-color:#000}[_nghost-%COMP%]   .loupe__right[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .loupe__percentage[_ngcontent-%COMP%]{color:#333;font-size:24px;font-weight:100}[_nghost-%COMP%]   .placeholder-list-gift[_ngcontent-%COMP%]{width:100%;height:120px;opacity:0;transition:transform .25s ease}[_nghost-%COMP%]   .drag-gift[_ngcontent-%COMP%]{position:absolute;width:100px;height:100px;z-index:999;background-repeat:no-repeat;background-size:contain;background-position:center;transform:translate(-50%) translateY(-50%)}[_nghost-%COMP%]   .drag-gift__not-allowed[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#f003;border-radius:20px}[_nghost-%COMP%]   .drag-gift_animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%]   .gift_hidden[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .back-drag-gift[_ngcontent-%COMP%]{position:absolute;left:0px;height:0px;width:100vw;height:100%;background-color:#000a}[_nghost-%COMP%]   .back-drag-gift__window[_ngcontent-%COMP%]{position:absolute;backdrop-filter:brightness(2);display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;border:1px solid #ffffff66}[_nghost-%COMP%]   .grid__row[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:row;align-items:stretch;justify-content:flex-start}[_nghost-%COMP%]   .grid__option[_ngcontent-%COMP%]{flex:1;border-right:1px solid #ffffff66;border-bottom:1px solid #ffffff66}[_nghost-%COMP%]   .grid__row[_ngcontent-%COMP%]:last-child   .grid__option[_ngcontent-%COMP%]{border-bottom:1px solid #ffffff00}[_nghost-%COMP%]   .grid__option[_ngcontent-%COMP%]:last-child{border-right:1px solid #ffffff00}[_nghost-%COMP%]   .button-back[_ngcontent-%COMP%], [_nghost-%COMP%]   .button-forward[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .button-back__icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .button-forward__icon[_ngcontent-%COMP%]{margin:10px;width:100px;height:100px;background-position:center;background-repeat:no-repeat;background-size:50%;background-image:url(/assets/arrow-left3.svg)}[_nghost-%COMP%]   .button-forward__icon[_ngcontent-%COMP%]{background-image:url(/assets/arrow-right3.svg)}[_nghost-%COMP%]   .button-forward__icon_complete[_ngcontent-%COMP%]{background-image:url(/assets/checkmark.svg)}[_nghost-%COMP%]   .button-back__text[_ngcontent-%COMP%], [_nghost-%COMP%]   .button-forward__text[_ngcontent-%COMP%]{margin:10px;color:#333;font-size:18px;user-select:none}[_nghost-%COMP%]   .listimages[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around;flex-wrap:wrap}[_nghost-%COMP%]   .waiting[_ngcontent-%COMP%]{padding:20px;position:absolute;width:calc(100% - 40px);left:0px;top:0px;text-align:center;font-size:14px;color:#333;display:flex;flex-direction:column;justify-content:center;align-items:center;transform:translateY(0);z-index:1;backdrop-filter:blur(5px);background-color:#fff3;transition:transform ease .2s}[_nghost-%COMP%]   .waiting_hidden[_ngcontent-%COMP%]{transform:translateY(-100%)}"],data:{animation:[he("previewTextAnimation",[K(":enter",[F({transform:"scale(0.1)",opacity:"0"}),$("0.5s ease",F({transform:"scale(1)",opacity:"1"}))])]),he("hintTextAnimation",[K(":enter",[F({transform:"scale(0.1)",opacity:"0"}),$("0.5s 0.5s ease",F({transform:"scale(1)",opacity:"1"}))])]),he("stageAnimation",[K(":leave",[F({transform:"scale(1)",opacity:"1"}),$("0.5s 0.5s ease",F({transform:"scale(0.1)",opacity:"0"}))])])]}}),i})();const mU=["boxRef"];function _U(i,n){if(1&i&&m(0,"app-greeting-card",66),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),V("gift_hidden",t.hiddenGifts.get(e.id)),f("size",t.getSizeGift(e))("front",e.front)("back",e.back)("text",e.text)("color",e.color)("sign",e.sign)}}function vU(i,n){if(1&i&&m(0,"app-game",67),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),V("gift_hidden",t.hiddenGifts.get(e.id)),f("hidden",t.hiddenGifts.get(e.id))("size",t.getSizeGift(e))("color",e.color)("front",e.front)("inside",e.inside)("side",e.side)("code",e.code)}}function yU(i,n){if(1&i&&m(0,"app-speaker",68),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(0deg) rotateZ(90deg)")("animation-name","rotPlus180"),V("gift_hidden",t.hiddenGifts.get(e.id)),f("size",t.getSizeGift(e))("grill",e.grill)("color",e.color)}}function CU(i,n){if(1&i&&m(0,"app-tablet",69),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),V("gift_hidden",t.hiddenGifts.get(e.id)),f("size",t.getSizeGift(e))("color",e.color)}}function bU(i,n){if(1&i&&m(0,"app-photo",70),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),V("gift_hidden",t.hiddenGifts.get(e.id)),f("size",t.getSizeGift(e))("photo",e.photo)("sign",e.sign)}}function wU(i,n){if(1&i&&(Se(0),S(1,_U,1,10,"app-greeting-card",61),S(2,vU,1,11,"app-game",62),S(3,yU,1,9,"app-speaker",63),S(4,CU,1,6,"app-tablet",64),S(5,bU,1,7,"app-photo",65),Me()),2&i){const e=n.ngIf;c(1),f("ngIf","greetingcard"===e.type),c(1),f("ngIf","game"===e.type),c(1),f("ngIf","speaker"===e.type),c(1),f("ngIf","tablet"===e.type),c(1),f("ngIf","photo"===e.type)}}function xU(i,n){if(1&i&&(Se(0),S(1,wU,6,5,"ng-container",57),Me()),2&i){const e=n.$implicit,t=y();c(1),f("ngIf",t.getGiftById(e))}}function kU(i,n){if(1&i&&m(0,"app-desktop-gift-list-option",72),2&i){const e=y().$implicit;f("scaleIcon",.6)("gift",e)("showButtons",!1),$e("giftid",e.id)}}function PU(i,n){if(1&i&&(Se(0),S(1,kU,1,4,"app-desktop-gift-list-option",71),Me()),2&i){const e=n.$implicit,t=y();c(1),f("ngIf",!t.isGiftInBox(e)&&t.dragGift.id!==e.id)}}function SU(i,n){1&i&&m(0,"div",75)}function MU(i,n){if(1&i&&(h(0,"div",73),S(1,SU,1,0,"div",74),d()),2&i){const e=y();b("background-image","url("+e.dragGift.img+")")("left",e.dragGift.position.x,"px")("top",e.dragGift.position.y,"px")("width",e.dragGift.size.w,"px")("height",e.dragGift.size.h,"px"),V("drag-gift_animated",e.dragGift.animated),c(1),f("ngIf",!e.dragGift.allowed)}}function DU(i,n){1&i&&m(0,"div",82)}const fP=function(){return[]};function EU(i,n){if(1&i&&(h(0,"div",80),S(1,DU,1,0,"div",81),d()),2&i){const e=y(3);c(1),f("ngForOf",lo(1,fP).constructor(e.grid.w))}}function TU(i,n){if(1&i&&(h(0,"div",77),h(1,"div",78),S(2,EU,2,2,"div",79),d(),d()),2&i){const e=y().ngIf,t=y();c(1),b("left",e.x,"px")("top",e.y,"px")("width",e.w,"px")("height",e.h,"px"),c(1),f("ngForOf",lo(9,fP).constructor(t.grid.h))}}function OU(i,n){if(1&i&&(Se(0),S(1,TU,3,10,"div",76),Me()),2&i){const e=y();c(1),f("ngIf",e.dragGift.img)}}function IU(i,n){if(1&i){const e=H();h(0,"app-desktop-button",88),C("click",function(){return E(e),y(2).imageUpload.mode="trim"}),d()}2&i&&f("text",y(2).locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"))("icon","../../assets/scissors.svg")("background","#ffffff")("color","#333333")}function AU(i,n){if(1&i){const e=H();h(0,"app-desktop-button",88),C("click",function(){return E(e),y(2),so(107).click()}),d()}2&i&&f("text",y(2).locationService.translate("upload","\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"))("icon","../../assets/upload-mini.svg")("background","#ffffff")("color","#333333")}function RU(i,n){if(1&i){const e=H();h(0,"app-desktop-button",88),C("click",function(){E(e);const o=y(2);return o.imageUpload.sublimesave=!o.imageUpload.sublimesave}),d()}2&i&&f("text",y(2).locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))("icon","../../assets/checkmark.svg")("background","#ffffff")("color","#333333")}function FU(i,n){if(1&i){const e=H();h(0,"app-desktop-button",88),C("click",function(){return E(e),y(2).cancelTrim()}),d()}2&i&&f("text",y(2).locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"))("icon","../../assets/cross.svg")("background","#ffffff")("color","#333333")}function NU(i,n){if(1&i){const e=H();h(0,"div",83),h(1,"app-desktop-trim",84),C("save",function(o){return E(e),y().saveUploadImage(o)}),d(),h(2,"div",85),C("click",function(){return E(e),y().imageUpload.visible=!1}),d(),h(3,"div",86),S(4,IU,1,4,"app-desktop-button",87),S(5,AU,1,4,"app-desktop-button",87),S(6,RU,1,4,"app-desktop-button",87),S(7,FU,1,4,"app-desktop-button",87),d(),d()}if(2&i){const e=y();f("@verticalShow",void 0),c(1),f("img",e.imageUpload.img)("ratio",e.imageUpload.ratio)("mode",e.imageUpload.mode)("sublimesave",e.imageUpload.sublimesave),c(1),V("screen-image-upload__close_background","usual"===e.imageUpload.mode),c(2),f("ngIf","usual"===e.imageUpload.mode),c(1),f("ngIf","usual"===e.imageUpload.mode),c(1),f("ngIf","trim"===e.imageUpload.mode),c(1),f("ngIf","trim"===e.imageUpload.mode)}}let BU=(()=>{class i{constructor(e,t,o,s,r,a,l,u,p){this.asyncService=e,this.snapshotGiftService=t,this.locationService=o,this.readFileService=s,this.hostContainer=r,this.confirmService=a,this.getTargetHtmlService=l,this.router=u,this.backendService=p,this.changeGlobalStage=new L,this.gifts=[],this.subs=[],this.grid={w:2,h:2},this.inBox=[],this.hiddenGifts=new Map,this.textError="",this.timeoutError=setTimeout(()=>{},0),this.transition=!1,this.box={animate:!1,packed:!1,wrapped:!1,tapped:!1,package:"../../assets/box/package/4.jpg",tape:"../../assets/box/tape/1.jpg",coord:{x:0,y:-1e3,z:0},rotate:{x:-15,y:110,z:0},size:{w:110,h:130,d:120},scale:1,shiftRotate:{x:0,y:0}},this.wrap={x:0,y:0,scale:1,disable:!1,animated:!1},this.initialWrap={x:0,y:0,scale:1},this.dragGift={timeout:setTimeout(()=>{},0),img:null,position:{x:0,y:0},size:{w:0,h:0},animated:!1,id:null,waiting:!1,allowed:!1},this.stage=0,this.showGifts=!1,this.showWrap=!1,this.showTape=!1,this.imageUpload={visible:!1,type:"none",img:"",cancelImg:"",ratio:16/9,mode:"usual",sublimesave:!1,showList:!1},this.mouse={down:!1,start:{x:0,y:0}},this.isRotateGift=!1}onMouseDown(e){if(this.transition)return;this.mouse.down=!0;let[t,o]=[e.clientX,e.clientY];const s=e.target;if(this.mouse.start={x:t,y:o},1===this.stage){document.body.style.userSelect="none",document.body.style.cursor="grabbing",clearTimeout(this.dragGift.timeout);const r=this.getEscalateDOM(s,"gift-option"),a=this.getEscalateDOM(s,"icon");let l=this.cellBoxDragging(t,o),u=this.getTopGiftFromCell(l.x,l.y);if(r&&a){const p=a.getBoundingClientRect(),g=parseInt(r.getAttribute("giftid")),_=this.gifts.find(v=>v.id===g);this.snapshotGiftService.get(_).then(v=>{this.dragGift.id=g,this.dragGift.img=v,this.dragGift.size.w=p.width,this.dragGift.size.h=p.height,this.dragGift.position.x=p.x+this.dragGift.size.w/2,this.dragGift.position.y=p.y+this.dragGift.size.h/2,this.dragGift.waiting=!0,this.setStartPositionDragGift(t,o)})}else if(u){if(t<l.rectAllowed.x||t>l.rectAllowed.x+l.rectAllowed.w||o<l.rectAllowed.y||o>l.rectAllowed.y+l.rectAllowed.h)return;this.snapshotGiftService.get(u).then(p=>{this.dragGift.animated=!1,this.dragGift.waiting=!0,this.hiddenGifts.set(u.id,!0),this.dragGift.id=u.id,this.dragGift.img=p,this.dragGift.size.w=l.sizeCell.w,this.dragGift.size.h=l.sizeCell.h,this.dragGift.position.x=l.rectAllowed.x+l.x*l.sizeCell.w+l.sizeCell.w/2,this.dragGift.position.y=l.rectAllowed.y+l.y*l.sizeCell.h+l.sizeCell.h/2,this.setStartPositionDragGift(t,o)})}}else(2===this.stage||3===this.stage)&&this.getEscalateDOM(s,"display")&&(this.isRotateGift=!0,document.body.style.userSelect="none")}onMouseUp(e){this.mouse.down=!1;let[t,o]=[e.clientX,e.clientY];if(1===this.stage){if(document.body.style.userSelect="auto",document.body.style.cursor="auto",this.dragGift.img){this.dragGift.waiting=!1;const s=this.cellBoxDragging(t,o);if(this.dragGift.allowed=s.allowed,this.inBox=this.inBox.filter(r=>r!==this.dragGift.id),s.allowed){const r=this.getGiftById(this.dragGift.id);r.pos={x:0,y:0},r.pos.x=-this.box.size.d/2+(.5+s.x)*(this.box.size.d/this.grid.w),r.pos.y=-this.box.size.w/2+(.5+s.y)*(this.box.size.w/this.grid.h),r.cell={x:s.x,y:s.y},r.pos.z=this.getZPositionGift(r),this.inBox.push(this.dragGift.id)}this.saveUpdate(),this.dragGift.id=null,this.dragGift.img=null,this.dragGift.position={x:0,y:0},this.dragGift.size={w:0,h:0},this.dragGift.animated=!1,this.hiddenGifts.clear()}}else(2===this.stage||3===this.stage)&&(this.isRotateGift=!1,document.body.style.userSelect="auto",this.box.rotate.x=(this.box.rotate.x+this.box.shiftRotate.x)%360,this.box.rotate.y=(this.box.rotate.y+this.box.shiftRotate.y)%360,this.box.shiftRotate.x=0,this.box.shiftRotate.y=0)}onMouseMove(e){if(!this.mouse.down)return;let[t,o]=[e.clientX,e.clientY];if(1===this.stage){if(this.dragGift.img){let s=this.cellBoxDragging(t,o);this.dragGift.allowed=s.allowed,s.allowed?(this.dragGift.animated=!0,this.dragGift.position.x=s.rectAllowed.x+s.x*s.sizeCell.w+s.sizeCell.w/2,this.dragGift.position.y=s.rectAllowed.y+s.y*s.sizeCell.h+s.sizeCell.h/2):(this.dragGift.animated=!1,this.dragGift.position.x=t,this.dragGift.position.y=o)}}else if((2===this.stage||3===this.stage)&&this.isRotateGift){let s=t-(this.mouse.start.x||0);this.box.shiftRotate.x=-(o-(this.mouse.start.y||0)),this.box.shiftRotate.y=s}}setStage1(){var e=this;return I(function*(){return e.transition=!0,e.stage=1,e.wrap.animated=!0,e.box.animate=!0,yield e.asyncService.delay(10),e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,yield e.asyncService.delay(1e3),e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.box.rotate.x=-90,e.box.rotate.y=90,e.box.rotate.z=0,yield e.asyncService.delay(300),e.showGifts=!0,yield e.asyncService.delay(10),e.wrap.animated=!1,e.box.animate=!1,e.transition=!1,new Promise(t=>t())})()}setStage1From2(){var e=this;return I(function*(){return e.transition=!0,e.stage=1,e.wrap.animated=!0,e.box.animate=!0,yield e.asyncService.delay(10),e.showWrap=!1,yield e.asyncService.delay(300),e.box.wrapped=!1,yield e.asyncService.delay(5e3),e.box.packed=!1,yield e.asyncService.delay(1e3),e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.box.rotate.x=-90,e.box.rotate.y=90,e.box.rotate.z=0,yield e.asyncService.delay(300),e.showGifts=!0,yield e.asyncService.delay(300),e.wrap.animated=!1,e.box.animate=!1,e.transition=!1,new Promise(t=>t())})()}setStage2(){var e=this;return I(function*(){return e.transition=!0,e.stage=2,e.wrap.animated=!0,e.box.animate=!0,yield e.asyncService.delay(10),e.showGifts=!1,yield e.asyncService.delay(300),e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,yield e.asyncService.delay(300),e.box.packed=!0,yield e.asyncService.delay(1e3),e.box.wrapped=!0,yield e.asyncService.delay(6e3),e.showWrap=!0,yield e.asyncService.delay(300),e.wrap.animated=!1,e.box.animate=!1,e.transition=!1,new Promise(t=>t())})()}setStage2From3(){var e=this;return I(function*(){return e.transition=!0,e.stage=3,e.wrap.animated=!0,e.box.animate=!0,yield e.asyncService.delay(10),e.showTape=!1,yield e.asyncService.delay(300),e.box.tapped=!1,yield e.asyncService.delay(4e3),e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,yield e.asyncService.delay(300),e.showWrap=!0,yield e.asyncService.delay(300),e.wrap.animated=!1,e.box.animate=!1,e.transition=!1,new Promise(t=>t())})()}setStage3(){var e=this;return I(function*(){return e.transition=!0,e.stage=3,e.wrap.animated=!0,e.box.animate=!0,yield e.asyncService.delay(10),e.showWrap=!1,yield e.asyncService.delay(300),e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,yield e.asyncService.delay(300),e.box.tapped=!0,yield e.asyncService.delay(4e3),e.showTape=!0,yield e.asyncService.delay(300),e.wrap.animated=!1,e.box.animate=!1,e.transition=!1,new Promise(t=>t())})()}onClickCompleteStage(e){this.changeGlobalStage.emit(4)}setPackageBox(e){this.box.package=e,this.saveUpdate()}setTapeBox(e){this.box.tape=e,this.saveUpdate()}trySetStage2(){this.inBox.length<this.gifts.length?this.showError(this.locationService.translate("Put all the gifts in a box","\u041f\u043e\u043b\u043e\u0436\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u0434\u0430\u0440\u043a\u0438 \u0432 \u043a\u043e\u0440\u043e\u0431\u043a\u0443")):this.inBox.length===this.gifts.length&&this.setStage2()}showError(e){var t=this;return I(function*(){return clearTimeout(t.timeoutError),t.textError="",yield t.asyncService.delay(100),t.textError=e,t.timeoutError=setTimeout(()=>{t.textError=""},5e3),new Promise(o=>o())})()}isGiftInBox(e){return!!this.inBox.find(t=>t===e.id)}getTopGiftFromCell(e,t){let o=null;for(let s=0;s<this.inBox.length;s++){const r=this.getGiftById(this.inBox[s]);r.cell.x===e&&r.cell.y===t&&(o=r)}return o}setStartPositionDragGift(e,t){var o=this;return I(function*(){o.dragGift.animated=!0,yield o.asyncService.delay(0);let r=o.cellBoxDragging(e,t);return o.dragGift.allowed=r.allowed,r.allowed?(o.dragGift.position.x=r.rectAllowed.x+r.x*r.sizeCell.w+r.sizeCell.w/2,o.dragGift.position.y=r.rectAllowed.y+r.y*r.sizeCell.h+r.sizeCell.h/2):(o.dragGift.position.x=e,o.dragGift.position.y=t),o.dragGift.size.w=.9*r.sizeCell.w,o.dragGift.size.h=.9*r.sizeCell.h,yield o.asyncService.delay(300),o.dragGift.waiting=!1,o.dragGift.animated=!1,new Promise(a=>a())})()}getZPositionGift(e){let t=this.getDepthGift(e)/2+2;for(let o=0;this.inBox[o]!==e.id&&o<this.inBox.length;o++){const s=this.getGiftById(this.inBox[o]);e.cell.x===s.cell.x&&e.cell.y===s.cell.y&&(t+=this.getDepthGift(s))}return t}getGiftById(e){return this.gifts.find(t=>t.id===e)||null}idBannedGiftsInCell(e,t){for(let o=0;o<this.inBox.length;o++){const s=this.getGiftById(this.inBox[o]);if(s.cell.x===e&&s.cell.y===t&&"speaker"===s.type)return s.id}return!1}cellBoxDragging(e,t){if(!this.boxRef)return;let o=!1,[s,r]=[0,0],a={w:this.box.size.d*this.wrap.scale,h:this.box.size.w*this.wrap.scale,ratio:0};a.ratio=a.w/a.h;let l={w:window.innerWidth,h:window.innerHeight,ratio:0};l.ratio=l.w/l.h;let u={w:a.w/this.grid.w,h:a.h/this.grid.h},p={w:a.w,h:a.h,x:0,y:0},g=this.boxRef.nativeElement.getBoundingClientRect();if(p.x=g.x-a.w/2,p.y=g.y-a.h/2,s=Math.floor((e-p.x)/u.w),r=Math.floor((t-p.y)/u.h),e>=p.x&&e<=p.x+p.w&&t>=p.y&&t<=p.y+p.h){const _=this.idBannedGiftsInCell(s,r);(!1===_||_===this.dragGift.id)&&(o=!0)}return s<0&&(s=0),s>this.grid.w-1&&(s=this.grid.w-1),r<0&&(r=0),r>this.grid.h-1&&(r=this.grid.h-1),{x:s,y:r,allowed:o,sizeCell:u,rectAllowed:p}}getSizeGift(e){let t=.9;return"greetingcard"===e.type?this.box.size.w/this.grid.h*(297/420)*t:"game"===e.type?this.box.size.w/this.grid.h*(135/190)*t:"speaker"===e.type||"tablet"===e.type?this.box.size.d/this.grid.w*t:"photo"===e.type?this.box.size.w/this.grid.h*.75*t:0}getEscalateDOM(e,t){let o=e;for(;"BODY"!==o.tagName;){if(o.classList.contains(t))return o;o=o.parentNode}return null}getDepthGift(e){const t=this.getSizeGift(e);return"greetingcard"===e.type?t/297:"game"===e.type?t/9:"speaker"===e.type?t/(299/136):"tablet"===e.type?t/(247/6):"photo"===e.type?t/480:1}setBoxSizeAndGrid(){const e=this.gifts.length;e<4?(this.grid={w:1,h:1},this.box.size.w=150,this.box.size.d=150):e>=4&&e<6?(this.grid={w:2,h:2},this.box.size.w=300,this.box.size.d=300):e>=6&&e<9?(this.grid={w:3,h:2},this.box.size.w=300,this.box.size.d=450):e>=9&&(this.grid={w:3,h:3},this.box.size.w=450,this.box.size.d=450);let t=0;this.gifts.forEach(o=>{t+=this.getDepthGift(o)}),t+=40,this.box.size.h=t}inputUploadImage(e){this.saveUploadImage(e.target.files[0])}cancelTrim(){this.imageUpload.mode="usual",""!==this.imageUpload.cancelImg&&(this.imageUpload.img=this.imageUpload.cancelImg),this.imageUpload.cancelImg=""}tryuploadimage(e){var t=this;return I(function*(){const o=e.target.files[0];let s=[],r={};return o.size/1048576>3&&s.push("should be less than 3 MB"),"image/png"!==o.type&&"image/jpeg"!==o.type&&"image/webp"!==o.type&&"image/x-icon"!==o.type&&"image/gif"!==o.type&&s.push("should be type of png, jpeg, webp, gif, icon"),s[0]||(r=yield t.readFileService.getImageFromFile(o),(r.naturalWidth>1920||r.naturalHeight>1080)&&s.push("should be less than 1920x1080")),s[0]?(t.showError(s.join("; ")),e.target.value=null):(t.imageUpload.mode="trim",t.imageUpload.cancelImg=t.imageUpload.img,t.imageUpload.img=r.src),new Promise(a=>a(!0))})()}saveUploadImage(e){this.imageUpload.mode="usual","package"===this.imageUpload.type?this.box.package=e:"tape"===this.imageUpload.type&&(this.box.tape=e),this.saveUpdate(),this.imageUpload.cancelImg=""}showUploadImagePackage(){this.imageUpload.visible=!0,this.imageUpload.img=this.box.package,this.imageUpload.type="package",this.imageUpload.ratio=1,this.imageUpload.mode="usual"}showUploadImageTape(){this.imageUpload.visible=!0,this.imageUpload.img=this.box.tape,this.imageUpload.type="tape",this.imageUpload.ratio=1,this.imageUpload.mode="usual"}backToPrice(){this.changeGlobalStage.emit(2)}saveUpdate(){window.localStorage.setItem("box",JSON.stringify({package:this.box.package,tape:this.box.tape,grid:{w:this.grid.w,h:this.grid.h},size:{w:this.box.size.w,h:this.box.size.h,d:this.box.size.d},inBox:this.inBox})),window.localStorage.setItem("gifts",JSON.stringify(this.gifts))}ngOnInit(){this.setStage1(),this.gifts=JSON.parse(window.localStorage.getItem("gifts")||"[]"),this.setBoxSizeAndGrid()}}return i.\u0275fac=function(e){return new(e||i)(P(ve),P(Ih),P(De),P(Co),P(Bt),P(ga),P(li),P(ct),P(Qo))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-page-create-stage3"]],viewQuery:function(e,t){if(1&e&&Xe(mU,5,q),2&e){let o;Ve(o=Le())&&(t.boxRef=o.first)}},hostBindings:function(e,t){1&e&&C("mousedown",function(s){return t.onMouseDown(s)},!1,be)("mouseup",function(s){return t.onMouseUp(s)},!1,be)("mousemove",function(s){return t.onMouseMove(s)},!1,be)},outputs:{changeGlobalStage:"changeGlobalStage"},decls:108,vars:55,consts:[[1,"error",3,"text"],[1,"display"],[1,"wrap"],[1,"box",3,"packed","animate","wrapped","tapped","w","h","d","inside","package","tape"],["boxRef",""],[4,"ngFor","ngForOf"],[1,"gifts"],[1,"wraps"],["matRipple","","matRippleColor","#00000022",1,"list-images-option",3,"click"],[1,"list-images-option__image",2,"background-image","url(../../assets/image.svg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/1.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/2.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/3.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/4.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/5.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/6.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/7.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/8.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/9.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/10.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/11.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/12.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/13.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/14.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/15.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/16.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/17.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/18.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/19.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/20.jpg)"],["matRipple","","matRippleColor","#00000022",1,"list-images-option","list-images-option_mini",3,"click"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/1.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/2.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/3.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/4.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/5.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/6.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/7.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/8.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/9.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/10.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/11.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/12.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/13.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/14.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/15.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/16.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/17.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/18.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/19.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/20.jpg)"],[1,"button-next-stage","button-next-stage_on-display"],["icon","/assets/arrow-left3.svg",1,"button-next-stage__option",3,"text","color","background","click"],["icon","/assets/arrow-right3.svg",1,"button-next-stage__option",3,"text","color","background","disabled","click"],["icon","/assets/arrow-right3.svg",1,"button-next-stage__option",3,"text","color","background","click"],["icon","/assets/checkmark.svg",1,"button-next-stage__option",3,"text","color","background","click"],["class","drag-gift",3,"drag-gift_animated","background-image","left","top","width","height",4,"ngIf"],[4,"ngIf"],["class","screen-image-upload",4,"ngIf"],["type","file","accept","image/png, image/jpeg",2,"display","none",3,"input"],["inputUploadImage",""],["class","gift",3,"gift_hidden","transform","size","front","back","text","color","sign",4,"ngIf"],["class","gift",3,"hidden","gift_hidden","transform","size","color","front","inside","side","code",4,"ngIf"],["class","gift",3,"gift_hidden","transform","size","grill","color","animationName",4,"ngIf"],["class","gift",3,"gift_hidden","transform","size","color",4,"ngIf"],["class","gift",3,"gift_hidden","transform","size","photo","sign",4,"ngIf"],[1,"gift",3,"size","front","back","text","color","sign"],[1,"gift",3,"hidden","size","color","front","inside","side","code"],[1,"gift",3,"size","grill","color"],[1,"gift",3,"size","color"],[1,"gift",3,"size","photo","sign"],["class","gift-option",3,"scaleIcon","gift","showButtons",4,"ngIf"],[1,"gift-option",3,"scaleIcon","gift","showButtons"],[1,"drag-gift"],["class","drag-gift__not-allowed",4,"ngIf"],[1,"drag-gift__not-allowed"],["class","back-drag-gift",4,"ngIf"],[1,"back-drag-gift"],[1,"back-drag-gift__window"],["class","grid__row",4,"ngFor","ngForOf"],[1,"grid__row"],["class","grid__option",4,"ngFor","ngForOf"],[1,"grid__option"],[1,"screen-image-upload"],[3,"img","ratio","mode","sublimesave","save"],[1,"screen-image-upload__close",3,"click"],[1,"screen-image-upload__menu"],[3,"text","icon","background","color","click",4,"ngIf"],[3,"text","icon","background","color","click"]],template:function(e,t){if(1&e&&(m(0,"app-desktop-error",0),h(1,"div",1),h(2,"div",2),h(3,"app-box",3,4),S(5,xU,2,1,"ng-container",5),d(),d(),d(),h(6,"div",6),S(7,PU,2,1,"ng-container",5),d(),h(8,"div",7),h(9,"div",8),C("click",function(){return t.showUploadImagePackage()}),m(10,"div",9),d(),h(11,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/1.jpg")}),m(12,"div",10),d(),h(13,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/2.jpg")}),m(14,"div",11),d(),h(15,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/3.jpg")}),m(16,"div",12),d(),h(17,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/4.jpg")}),m(18,"div",13),d(),h(19,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/5.jpg")}),m(20,"div",14),d(),h(21,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/6.jpg")}),m(22,"div",15),d(),h(23,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/7.jpg")}),m(24,"div",16),d(),h(25,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/8.jpg")}),m(26,"div",17),d(),h(27,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/9.jpg")}),m(28,"div",18),d(),h(29,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/10.jpg")}),m(30,"div",19),d(),h(31,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/11.jpg")}),m(32,"div",20),d(),h(33,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/12.jpg")}),m(34,"div",21),d(),h(35,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/13.jpg")}),m(36,"div",22),d(),h(37,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/14.jpg")}),m(38,"div",23),d(),h(39,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/15.jpg")}),m(40,"div",24),d(),h(41,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/16.jpg")}),m(42,"div",25),d(),h(43,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/17.jpg")}),m(44,"div",26),d(),h(45,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/18.jpg")}),m(46,"div",27),d(),h(47,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/19.jpg")}),m(48,"div",28),d(),h(49,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/20.jpg")}),m(50,"div",29),d(),d(),h(51,"div",7),h(52,"div",30),C("click",function(){return t.showUploadImageTape()}),m(53,"div",9),d(),h(54,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/1.jpg")}),m(55,"div",31),d(),h(56,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/2.jpg")}),m(57,"div",32),d(),h(58,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/3.jpg")}),m(59,"div",33),d(),h(60,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/4.jpg")}),m(61,"div",34),d(),h(62,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/5.jpg")}),m(63,"div",35),d(),h(64,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/6.jpg")}),m(65,"div",36),d(),h(66,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/7.jpg")}),m(67,"div",37),d(),h(68,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/8.jpg")}),m(69,"div",38),d(),h(70,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/9.jpg")}),m(71,"div",39),d(),h(72,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/10.jpg")}),m(73,"div",40),d(),h(74,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/11.jpg")}),m(75,"div",41),d(),h(76,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/12.jpg")}),m(77,"div",42),d(),h(78,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/13.jpg")}),m(79,"div",43),d(),h(80,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/14.jpg")}),m(81,"div",44),d(),h(82,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/15.jpg")}),m(83,"div",45),d(),h(84,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/16.jpg")}),m(85,"div",46),d(),h(86,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/17.jpg")}),m(87,"div",47),d(),h(88,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/18.jpg")}),m(89,"div",48),d(),h(90,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/19.jpg")}),m(91,"div",49),d(),h(92,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/20.jpg")}),m(93,"div",50),d(),d(),h(94,"div",51),h(95,"app-desktop-button",52),C("click",function(){return t.backToPrice()}),d(),h(96,"app-desktop-button",53),C("click",function(){return t.trySetStage2()}),d(),d(),h(97,"div",51),h(98,"app-desktop-button",52),C("click",function(){return t.setStage1From2()}),d(),h(99,"app-desktop-button",54),C("click",function(){return t.setStage3()}),d(),d(),h(100,"div",51),h(101,"app-desktop-button",52),C("click",function(){return t.setStage2From3()}),d(),h(102,"app-desktop-button",55),C("click",function(s){return t.onClickCompleteStage(s)}),d(),d(),S(103,MU,2,13,"div",56),S(104,OU,2,1,"ng-container",57),S(105,NU,8,11,"div",58),h(106,"input",59,60),C("input",function(s){return t.tryuploadimage(s)}),d()),2&e){let o;f("text",t.textError),c(1),V("display_shifted",t.showGifts||t.showWrap||t.showTape),c(1),b("transform","translateX("+t.wrap.x+"px) translateY("+t.wrap.y+"px) scale("+t.wrap.scale+")"),V("wrap_animated",t.wrap.animated),c(1),b("transform","translateX("+t.box.coord.x+"px) translateY("+t.box.coord.y+"px) translateZ("+t.box.coord.z+"px) rotateX("+(t.box.rotate.x+t.box.shiftRotate.x)+"deg) rotateY("+(t.box.rotate.y+t.box.shiftRotate.y)+"deg) rotateZ("+t.box.rotate.z+"deg) scale("+t.box.scale+")"),f("packed",t.box.packed)("animate",t.box.animate)("wrapped",t.box.wrapped)("tapped",t.box.tapped)("w",t.box.size.w)("h",t.box.size.h)("d",t.box.size.d)("inside",t.box.inside)("package",t.box.package)("tape",t.box.tape),c(2),f("ngForOf",t.inBox),c(1),V("gifts_hidden",!t.showGifts),c(1),f("ngForOf",t.gifts),c(1),V("wraps_hidden",!t.showWrap),c(43),V("wraps_hidden",!t.showTape),c(43),V("button-next-stage_hidden",!t.showGifts),c(1),f("text",t.locationService.translate("back to price","\u043d\u0430\u0437\u0430\u0434 \u043a \u0446\u0435\u043d\u0435"))("color","#333333")("background","#ffffff"),c(1),f("text",t.locationService.translate("to pack","\u0443\u043f\u0430\u043a\u043e\u0432\u0430\u0442\u044c"))("color","#333333")("background","#ffffff")("disabled",t.inBox.length<t.gifts.length),c(1),V("button-next-stage_hidden",!t.showWrap),c(1),f("text",t.locationService.translate("back to gifts","\u043d\u0430\u0437\u0430\u0434 \u043a \u043f\u043e\u0434\u0430\u0440\u043a\u0430\u043c"))("color","#333333")("background","#ffffff"),c(1),f("text",t.locationService.translate("tie a gift","\u0437\u0430\u0432\u044f\u0437\u0430\u0442\u044c \u043b\u0435\u043d\u0442\u043e\u0439"))("color","#333333")("background","#ffffff"),c(1),V("button-next-stage_hidden",!t.showTape),c(1),f("text",t.locationService.translate("back to package","\u043d\u0430\u0437\u0430\u0434 \u043a \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438"))("color","#333333")("background","#ffffff"),c(1),f("text",t.locationService.translate("complete","\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c"))("color","#333333")("background","#ffffff"),c(1),f("ngIf",t.dragGift.img),c(1),f("ngIf",null==(o=t.cellBoxDragging(0,0))?null:o.rectAllowed),c(1),f("ngIf",t.imageUpload.visible)}},directives:[Gs,Rs,gt,Gn,ai,Re,$i,Xo,bo,wo,Yi,Xl,ex],styles:["[_nghost-%COMP%]   .display[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all ease .2s}[_nghost-%COMP%]   .display_shifted[_ngcontent-%COMP%]{width:calc(100% - min(500px,40%))}[_nghost-%COMP%]   .gifts[_ngcontent-%COMP%], [_nghost-%COMP%]   .wraps[_ngcontent-%COMP%]{position:fixed;top:0px;right:0px;width:min(500px,40%);height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;background-color:#fff;border:1px solid #00000033;transform:translate(0);overflow-y:auto;transition:all ease .2s}[_nghost-%COMP%]   .wraps[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:center;flex-wrap:wrap}[_nghost-%COMP%]   .gifts_hidden[_ngcontent-%COMP%], [_nghost-%COMP%]   .wraps_hidden[_ngcontent-%COMP%]{transform:translate(100%)}[_nghost-%COMP%]   .gift-option[_ngcontent-%COMP%] {user-select:none}[_nghost-%COMP%]   .gift-option[_ngcontent-%COMP%]  .icon{border-radius:15px;border:1px solid #00000000;cursor:grab;transition:border ease .2s}[_nghost-%COMP%]   .gift-option[_ngcontent-%COMP%]  .icon:hover{border:1px solid #00000033}[_nghost-%COMP%]   .drag-gift[_ngcontent-%COMP%]{position:absolute;width:100px;height:100px;z-index:999;background-repeat:no-repeat;background-size:contain;background-position:center;transform:translate(-50%) translateY(-50%)}[_nghost-%COMP%]   .drag-gift__not-allowed[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#f003;border-radius:20px}[_nghost-%COMP%]   .drag-gift_animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%]   .gift[_ngcontent-%COMP%]{cursor:grab}[_nghost-%COMP%]   .gift_hidden[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .back-drag-gift[_ngcontent-%COMP%]{position:absolute;left:0px;height:0px;width:100vw;height:100vh;background-color:#000a;z-index:10}[_nghost-%COMP%]   .back-drag-gift__window[_ngcontent-%COMP%]{position:absolute;backdrop-filter:brightness(2);display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;border:1px solid #ffffff66}[_nghost-%COMP%]   .grid__row[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:row;align-items:stretch;justify-content:flex-start}[_nghost-%COMP%]   .grid__option[_ngcontent-%COMP%]{flex:1;border-right:1px solid #ffffff66;border-bottom:1px solid #ffffff66}[_nghost-%COMP%]   .grid__row[_ngcontent-%COMP%]:last-child   .grid__option[_ngcontent-%COMP%]{border-bottom:1px solid #ffffff00}[_nghost-%COMP%]   .grid__option[_ngcontent-%COMP%]:last-child{border-right:1px solid #ffffff00}[_nghost-%COMP%]   .button-next-stage[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;position:fixed;right:calc(min(500px,40%)/2);bottom:50%;margin:0;transform:translate(50%) translateY(50%);z-index:10;transition:all ease .2s}[_nghost-%COMP%]   .button-next-stage__option[_ngcontent-%COMP%]:first-child{margin-right:20px}[_nghost-%COMP%]   .button-next-stage_on-display[_ngcontent-%COMP%]{right:calc(min(500px,40%)/2 + 50%);bottom:20px;transform:translate(50%)}[_nghost-%COMP%]   .button-next-stage_disabled[_ngcontent-%COMP%]{position:fixed;right:0px;left:auto;bottom:0px;margin:20px;transform:translate(0) translateY(0);z-index:10}[_nghost-%COMP%]   .button-next-stage_hidden[_ngcontent-%COMP%]{right:-50%;left:auto;bottom:20px}[_nghost-%COMP%]   .list-images-option[_ngcontent-%COMP%]{margin:30px;width:150px;height:150px;border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0}[_nghost-%COMP%]   .list-images-option__image[_ngcontent-%COMP%]{width:60px;height:60px;background-position:center;background-repeat:no-repeat;background-size:contain}[_nghost-%COMP%]   .list-images-option_mini[_ngcontent-%COMP%] > .list-images-option__image[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:10}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__close[_ngcontent-%COMP%]{position:fixed;top:0px;right:0px;margin:20px;width:40px;height:40px;z-index:15;cursor:pointer;border-radius:100px;background-image:url(cross_white.3cfbf2db249143ad.svg);background-position:center;background-size:70%;background-repeat:no-repeat}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__close_background[_ngcontent-%COMP%]{background-color:#0006}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;border-radius:10px;box-shadow:0 0 5px #0003;background-color:#fff;display:flex;flex-direction:row;align-items:center;justify-content:center;z-index:15}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px 10px 10px 0}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin-left:10px}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%] > .input-color-sign-greetingcard[_ngcontent-%COMP%]{margin:0;width:0px;height:0px;border:none;outline:none;transform:translate(-90px)}[_nghost-%COMP%]   .error[_ngcontent-%COMP%]{z-index:20}"],data:{animation:[he("verticalShow",[K(":enter",[F({transform:"translateY(-100%)"}),$("200ms",F({transform:"translateY(0%)"}))]),K(":leave",[$("200ms",F({transform:"translateY(-100%)"}))])]),he("popup",[Yo("open",F({display:"flex",transform:"translateX(70px) translateY(-60px)",opacity:"1"})),Yo("close",F({transform:"translateX(70px) translateY(-80px)",opacity:"0",display:"none"})),K("open <=> close",$("0.2s ease"))]),he("stageAnimation",[K(":leave",[F({opacity:"1"}),$("2s ease",F({opacity:"0"}))])])]}}),i})();function VU(i,n){if(1&i&&(Se(0),h(1,"div",11),m(2,"div",12),h(3,"div",13),x(4),d(),d(),h(5,"div",14),m(6,"div",15),h(7,"div",16),x(8),d(),d(),Me()),2&i){const e=y();c(4),D(e.locationService.translate("complete","\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c")),c(4),D(e.locationService.translate("back to gifts","\u043d\u0430\u0437\u0430\u0434 \u043a \u043f\u043e\u0434\u0430\u0440\u043a\u0430\u043c"))}}let LU=(()=>{class i{constructor(e,t,o,s,r,a,l,u){this.touchService=e,this.asyncService=t,this.locationService=o,this.host=s,this.changeDetectorRef=r,this.router=a,this.confirmService=l,this.backendService=u,this.changeGlobalStage=new L,this.subs=[],this.valerror="",this.timeoutError=setTimeout(()=>{},0),this.linkBox="",this.box={animate:!1,packed:!1,wrapped:!1,tapped:!1,package:"../../assets/box/package/4.jpg",tape:"../../assets/box/tape/1.jpg",coord:{x:0,y:-1e3,z:0},rotate:{x:-15,y:110,z:0},size:{w:110,h:130,d:120},scale:1,shiftRotate:{x:0,y:0}},this.stage=0,this.searchImage={w:390,h:68},this.baseUrl="tebe.app",this.exampleUrl=this.locationService.translate("for-my-beloved-daughter-alice","\u043c\u0430\u0448\u0430-\u043b\u043e\u0432\u0438-\u043f\u043e\u0434\u0430\u0440\u043e\u043a"),this.touches={linkPreview:null,link:null,chooseNext:null},this.disableds={linkPreview:!0,link:!0,chooseNext:!0},this.stats={linkPreview:"close",link:"close",chooseNext:"close"},this.confirm={value:"",type:""},this.doscrolltocenterNextChoose=!1,this.cost={},this.gifts=[],this.renameMax=40,this.renameMin=7,this.renameWhat="",this.renameValue=`${this.baseUrl}/${this.randomString(8)}`}onResize(){this.setSizeSearchImage()}showError(e){var t=this;return I(function*(){return clearTimeout(t.timeoutError),t.valerror="",yield t.asyncService.delay(250),t.valerror=e,t.timeoutError=setTimeout(()=>{t.valerror=""},5e3),new Promise(o=>o())})()}setStage1(){this.stage=1,this.showScreen("linkPreview")}setStage2(){this.stage=2,this.closeScreen("linkPreview"),this.closeScreen("chooseNext"),this.showScreen("link")}setStage3(){this.stage=3,this.closeScreen("link"),this.showScreen("chooseNext")}setSizeSearchImage(){this.searchImage.w=window.innerWidth-40,this.searchImage.h=this.searchImage.w/(390/68)}closeScreen(e){this.disableds[e]=!0,this.stats[e]="close"}showScreen(e){this.disableds[e]=!1,this.stats[e]="open"}ruleLink(e){var t=this;return I(function*(){let o=!0;if(e.length<7)o=t.locationService.translate("minimum 7 characters, if you want less, it's paid. You can write to my tg: t.me/gaiusdedeo","\u043c\u0438\u043d\u0438\u043c\u0443\u043c 7 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432, \u0445\u043e\u0442\u0438\u0442\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 - \u044d\u0442\u043e \u043f\u043b\u0430\u0442\u043d\u043e. \u041c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044e \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u044b \u0432 \u0442\u0433: t.me/gaiusdedeo");else if(/^[a-z\u0430-\u044f0-9\-]*$/g.test(e)){const s=yield t.backendService.checkLinkBox(e);s.success||(o=t.locationService.translate("server error","\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430")),s.result&&(o=t.locationService.translate("occupied","\u0437\u0430\u043d\u044f\u0442\u043e"))}else o=t.locationService.translate('only lower case of latin and russian letters or numbers or symbol "-"','\u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0438\u0436\u043d\u0438\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440 \u0438\u0437 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0445 \u0438 \u0440\u0443\u0441\u0441\u043a\u0438\u0445 \u0431\u0443\u043a\u0432 \u0438\u043b\u0438 \u0446\u0438\u0444\u0440 \u0438\u043b\u0438 \u0441\u0438\u043c\u0432\u043e\u043b "-"');return new Promise(s=>s(o))})()}showConfirm(e,t){this.confirm.value=t,this.confirm.type=e}resultConfirm(e){"agree"===e&&"createBox"===this.confirm.type?this.createBox():"reject"===e&&"createBox"===this.confirm.type&&this.showScreen("chooseNext"),this.confirm.value="",this.confirm.type=""}randomString(e){let t="";const o="abcdefghijklmnopqrstuvwxyz";for(let s=0;s<e;s++)t+=o.charAt(Math.floor(Math.random()*o.length));return t}closeScreenChooseNext(){3===this.stage&&!this.confirm.value&&this.setStage2()}screenLinkWasSaved(e){console.log(e),this.linkBox=e,this.box.link=this.linkBox,this.setStage3(),this.doscrolltocenterNextChoose=!this.doscrolltocenterNextChoose}getEscalateDOM(e,t){let o=e;for(;"BODY"!==o.tagName;){if(o.classList.contains(t))return o;o=o.parentNode}return null}createBox(){const e=Object.assign(Object.assign({},this.box),{costPrice:this.cost.price,costType:this.cost.type,costRate:this.cost.rate,costCurrency:this.cost.currency});this.backendService.createBox(e,this.gifts).then(t=>{if(!t.success)return;const o=t.result.id;this.backendService.code=t.result.code,this.router.navigateByUrl(`/i/${o}`)})}processTouch(e){if(Object.entries(this.disableds).forEach(([t,o])=>{o||(this.touches[t]=e)}),"end"===e.action&&!1===e.drag&&1===this.stage)this.setStage2();else if(3===this.stage&&"open"===this.stats.chooseNext&&"end"===e.action&&!1===e.drag){const t=this.getEscalateDOM(e.target,"button-back"),o=this.getEscalateDOM(e.target,"button-forward");t?this.changeGlobalStage.emit(3):o&&(this.closeScreen("chooseNext"),setTimeout(()=>{this.showConfirm("createBox",this.locationService.translate("If you complete it, you will never be able to edit the gift again, you will have to delete it and create it again. Sure?","\u0415\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0435, \u0432\u044b \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a, \u043f\u0440\u0438\u0434\u0451\u0442\u0441\u044f \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0438 \u0437\u0430\u043d\u043e\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c. \u0423\u0432\u0435\u0440\u0435\u043d\u044b?"))},10))}}ngOnInit(){this.cost=JSON.parse(window.localStorage.getItem("cost")||"{}"),this.gifts=JSON.parse(window.localStorage.getItem("gifts")||"[]"),this.box=Object.assign(Object.assign({},this.box),JSON.parse(window.localStorage.getItem("box")||"{}")),this.setSizeSearchImage(),this.setStage1(),this.subs.push(this.touchService.stream$.subscribe(e=>{this.processTouch(e)}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(P(Zo),P(ve),P(De),P(q),P(ei),P(ct),P(ga),P(Qo))},i.\u0275cmp=X({type:i,selectors:[["app-touch-page-create-stage4"]],hostBindings:function(e,t){1&e&&C("resize",function(){return t.onResize()},!1,be)},outputs:{changeGlobalStage:"changeGlobalStage"},decls:14,vars:30,consts:[[1,"error",3,"value"],[3,"value","result"],[1,"preview"],[1,"search"],[1,"search__url"],[1,"search__base"],[1,"search__path"],[1,"preview__description"],[3,"show","value","enterable","max","min","prefix","fontSizePrecentage","lengthWithPrefix","rule","save"],[3,"touch","show","doscrolltocenter","scrollable","backable","close"],[4,"ngIf"],["matRipple","","matRippleColor","#00000011",1,"button-forward"],[1,"button-forward__icon","button-forward__icon_complete"],[1,"button-forward__text"],["matRipple","","matRippleColor","#00000011",1,"button-back"],[1,"button-back__icon"],[1,"button-back__text"]],template:function(e,t){1&e&&(m(0,"app-touch-error",0),h(1,"app-touch-confirm",1),C("result",function(s){return t.resultConfirm(s)}),d(),h(2,"div",2),h(3,"div",3),h(4,"div",4),h(5,"span",5),x(6),d(),h(7,"span",6),x(8),d(),d(),d(),h(9,"div",7),x(10),d(),d(),h(11,"app-touch-rename",8),C("save",function(s){return t.screenLinkWasSaved(s)}),d(),h(12,"app-touch-screen",9),C("close",function(){return t.closeScreenChooseNext()}),S(13,VU,9,2,"ng-container",10),d()),2&e&&(f("value",t.valerror),c(1),f("value",t.confirm.value),c(1),V("preview_left",t.stage>1)("preview_center",1===t.stage)("preview_right",t.stage<1),c(1),b("width",t.searchImage.w,"px")("height",t.searchImage.h,"px"),c(3),D(t.baseUrl+"/"),c(2),D(t.exampleUrl),c(2),D(t.locationService.translate("come up with an original link that you will send","\u043f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435")),c(1),f("show","open"===t.stats.link)("value",t.renameValue)("enterable",!1)("max",t.renameMax)("min",t.renameMin)("prefix",t.baseUrl+"/")("fontSizePrecentage",100)("lengthWithPrefix",!1)("rule",t.ruleLink),c(1),f("touch",t.touches.chooseNext)("show","open"===t.stats.chooseNext)("doscrolltocenter",t.doscrolltocenterNextChoose)("scrollable",!0)("backable",!0),c(1),f("ngIf",3===t.stage))},directives:[Dh,pa,T0,Hl,Re,Gn],styles:["[_nghost-%COMP%]{position:fixed;left:0px;top:0px;width:100%;height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:center}[_nghost-%COMP%]   .error[_ngcontent-%COMP%] {align-self:center;background-color:#fff;color:#333;box-shadow:0 0 5px #0003}[_nghost-%COMP%]   .input-path[_ngcontent-%COMP%]{padding:20px;font-size:20px;color:#333}[_nghost-%COMP%]   .preview[_ngcontent-%COMP%]{width:100%;position:absolute;margin:0;display:flex;flex-direction:column;align-items:stretch;justify-content:center;transform:translate(100%);transition:all ease .2s}[_nghost-%COMP%]   .preview_center[_ngcontent-%COMP%]{transform:translate(0)}[_nghost-%COMP%]   .preview_left[_ngcontent-%COMP%]{transform:translate(-100%)}[_nghost-%COMP%]   .preview_right[_ngcontent-%COMP%]{transform:translate(100%)}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]{margin:20px 20px 100px;background-image:url(/assets/search-google.png);background-position:top center;background-repeat:no-repeat;background-size:100%;overflow:hidden;border-radius:15px 15px 0 0}[_nghost-%COMP%]   .search__url[_ngcontent-%COMP%]{margin-left:30%;margin-top:11.6%;font-size:3vw;white-space:nowrap}[_nghost-%COMP%]   .search__base[_ngcontent-%COMP%]{color:#999;user-select:none}[_nghost-%COMP%]   .search__path[_ngcontent-%COMP%]{color:#333;font-weight:700}[_nghost-%COMP%]   .preview__description[_ngcontent-%COMP%]{margin:20px;text-align:center;font-size:18px;user-select:none}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{position:fixed;left:0px;bottom:0px;width:100%;z-index:10;display:flex;flex-direction:column;align-items:center;justify-content:center;transform:translateY(0);transition:all ease .2s}[_nghost-%COMP%]   .hint_hidden[_ngcontent-%COMP%]{transform:translateY(100%)}[_nghost-%COMP%]   .hint__text[_ngcontent-%COMP%]{margin:10px;font-size:14px;color:#333;text-align:center}[_nghost-%COMP%]   .button-back[_ngcontent-%COMP%], [_nghost-%COMP%]   .button-forward[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .button-back__icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .button-forward__icon[_ngcontent-%COMP%]{margin:10px;width:100px;height:100px;background-position:center;background-repeat:no-repeat;background-size:50%;background-image:url(/assets/arrow-left3.svg)}[_nghost-%COMP%]   .button-forward__icon[_ngcontent-%COMP%]{background-image:url(/assets/arrow-right3.svg)}[_nghost-%COMP%]   .button-forward__icon_complete[_ngcontent-%COMP%]{background-image:url(/assets/checkmark.svg)}[_nghost-%COMP%]   .button-back__text[_ngcontent-%COMP%], [_nghost-%COMP%]   .button-forward__text[_ngcontent-%COMP%]{margin:10px;color:#333;font-size:18px;user-select:none}"]}),i})();function gP(i,n=F0){return Ct((e,t)=>{let o=null,s=null,r=null;const a=()=>{if(o){o.unsubscribe(),o=null;const u=s;s=null,t.next(u)}};function l(){const u=r+i,p=n.now();if(p<u)return o=this.schedule(void 0,u-p),void t.add(o);a()}e.subscribe(new pt(t,u=>{s=u,r=n.now(),o||(o=n.schedule(l,i),t.add(o))},()=>{a(),t.complete()},void 0,()=>{s=o=null}))})}const zU=["completeRef"];function GU(i,n){1&i&&(h(0,"a",13),x(1,"@gaiusdedeo"),d())}let jU=(()=>{class i{constructor(e,t,o,s,r,a,l){this.locationService=e,this.asyncService=t,this.router=o,this.backendService=s,this.confirmService=r,this.getTargetHtmlService=a,this.hostContainer=l,this.changeGlobalStage=new L,this.stage=0,this.gifts=[],this.box={animate:!1,packed:!1,wrapped:!1,tapped:!1,package:"../../assets/box/package/4.jpg",tape:"../../assets/box/tape/1.jpg",coord:{x:0,y:-1e3,z:0},rotate:{x:-15,y:110,z:0},size:{w:110,h:130,d:120},scale:1,shiftRotate:{x:0,y:0}},this.cost={},this.baseUrl="tebe.app",this.exampleUrl=this.locationService.translate("for-my-beloved-daughter-alice","\u043c\u0430\u0448\u0430-\u043b\u043e\u0432\u0438-\u043f\u043e\u0434\u0430\u0440\u043e\u043a"),this.searchImage={w:390,h:68},this.linkControl=new Cn(""),this.textError="",this.timeoutError=setTimeout(()=>{},0),this.showMyContantErrorLink=!1,this.general={id:null,link:null,code:null,exp:new Date(Date.now()+3456e5)}}onResize(){this.setSizeSearchImage()}createBox(){var e=this;return I(function*(){const t=Object.assign(Object.assign({},e.box),{costPrice:e.cost.price,costType:e.cost.type,costRate:e.cost.rate,costCurrency:e.cost.currency});return e.backendService.createBox(t,e.gifts).then(o=>{if(!o.success)return;const s=o.result.id;e.backendService.code=o.result.code,window.localStorage.removeItem("box"),window.localStorage.removeItem("gifts"),window.localStorage.removeItem("cost"),e.router.navigateByUrl(`/i/${s}`)}),new Promise(o=>o())})()}onClickCreateBox(e){var t=this;return I(function*(){if(null!==t.linkControl.errors)return new Promise(s=>s());const o=t.getTargetHtmlService.get(e.target,"preview__button");return t.confirmService.show(t.hostContainer,o,t.locationService.translate("If you complete it, you will never be able to edit the gift again, you will have to delete it and create it again. Sure?","\u0415\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0435, \u0432\u044b \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a, \u043f\u0440\u0438\u0434\u0451\u0442\u0441\u044f \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0438 \u0437\u0430\u043d\u043e\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c. \u0423\u0432\u0435\u0440\u0435\u043d\u044b?"),s=>{s&&t.createBox(),t.confirmService.hide()}),new Promise(s=>s())})()}showError(e){var t=this;return I(function*(){return clearTimeout(t.timeoutError),t.textError="",yield t.asyncService.delay(100),t.textError=e,t.timeoutError=setTimeout(()=>{t.textError=""},5e3),new Promise(o=>o())})()}setStage(e){this.stage=e}setSizeSearchImage(){this.searchImage.w=window.innerWidth-40,this.searchImage.w>560&&(this.searchImage.w=560),this.searchImage.h=this.searchImage.w/(390/68)}validLink(e){return e.length<7?this.locationService.translate("minimum length 7 characters","\u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 7 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):/^[a-z\u0430-\u044f0-9\-]*$/g.test(e)?(this.general.link=this.linkControl.value,!0):this.locationService.translate('only lower case of latin and russian letters or numbers or symbol "-"','\u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0438\u0436\u043d\u0438\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440 \u0438\u0437 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0445 \u0438 \u0440\u0443\u0441\u0441\u043a\u0438\u0445 \u0431\u0443\u043a\u0432 \u0438\u043b\u0438 \u0446\u0438\u0444\u0440 \u0438\u043b\u0438 \u0441\u0438\u043c\u0432\u043e\u043b "-"')}ngAfterViewInit(){this.setStage(1)}ngOnInit(){this.cost=JSON.parse(window.localStorage.getItem("cost")||"{}"),this.gifts=JSON.parse(window.localStorage.getItem("gifts")||"[]"),this.box=Object.assign(Object.assign({},this.box),JSON.parse(window.localStorage.getItem("box")||"{}")),this.linkControl.valueChanges.pipe(Ee(e=>(this.showMyContantErrorLink=!1,this.linkControl.setErrors({type:"loading",text:""}),e)),gP(300)).subscribe(e=>{e.length<7?(this.showMyContantErrorLink=!0,this.linkControl.setErrors({type:"validate",text:this.locationService.translate("minimum 7 characters, if you want less, it's paid. You can write to me: ","\u043c\u0438\u043d\u0438\u043c\u0443\u043c 7 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432, \u0445\u043e\u0442\u0438\u0442\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 - \u044d\u0442\u043e \u043f\u043b\u0430\u0442\u043d\u043e. \u041c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044e \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u044b: ")})):/^[a-z\u0430-\u044f0-9\-]*$/g.test(e)?this.backendService.checkLinkBox(e).then(t=>{!t.success||(t.result?this.linkControl.setErrors({type:"occupied",text:this.locationService.translate("occupied","\u0437\u0430\u043d\u044f\u0442\u043e")}):(this.linkControl.setErrors(null),this.box.link=this.linkControl.value))}):this.linkControl.setErrors({type:"validate",text:this.locationService.translate('only lower case of latin and russian letters or numbers or symbol "-"','\u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0438\u0436\u043d\u0438\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440 \u0438\u0437 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0445 \u0438 \u0440\u0443\u0441\u0441\u043a\u0438\u0445 \u0431\u0443\u043a\u0432 \u0438\u043b\u0438 \u0446\u0438\u0444\u0440 \u0438\u043b\u0438 \u0441\u0438\u043c\u0432\u043e\u043b "-"')})}),this.linkControl.setValue(""),this.setSizeSearchImage()}}return i.\u0275fac=function(e){return new(e||i)(P(De),P(ve),P(ct),P(Qo),P(ga),P(li),P(Bt))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-page-create-stage4"]],viewQuery:function(e,t){if(1&e&&Xe(zU,5,q),2&e){let o;Ve(o=Le())&&(t.completeRef=o.first)}},hostBindings:function(e,t){1&e&&C("resize",function(){return t.onResize()},!1,be)},outputs:{changeGlobalStage:"changeGlobalStage"},decls:17,vars:23,consts:[[1,"error",3,"text"],[1,"preview"],[1,"preview__description"],[1,"search"],[1,"search__url"],[1,"search__base"],["type","text",1,"search__input",3,"formControl"],[1,"row","preview__row"],[1,"preview__error"],["class","preview__link","href","https://t.me/gaiusdedeo","target","_blank",4,"ngIf"],[1,"preview__button",3,"text","background","color","click"],[1,"preview__button",3,"text","background","color","disabled","click"],["completeRef",""],["href","https://t.me/gaiusdedeo","target","_blank",1,"preview__link"]],template:function(e,t){1&e&&(m(0,"app-desktop-error",0),h(1,"div",1),h(2,"div",2),x(3),d(),h(4,"div",3),h(5,"div",4),h(6,"span",5),x(7),d(),m(8,"input",6),d(),d(),h(9,"div",7),h(10,"div",8),x(11),S(12,GU,2,0,"a",9),d(),d(),h(13,"div",7),h(14,"app-desktop-button",10),C("click",function(){return t.changeGlobalStage.emit(3)}),d(),h(15,"app-desktop-button",11,12),C("click",function(s){return t.onClickCreateBox(s)}),d(),d(),d()),2&e&&(f("text",t.textError),c(1),V("preview_top",t.stage>1)("preview_bottom",0===t.stage),c(2),D(t.locationService.translate("come up with an original link that you will send","\u043f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435")),c(1),b("width",t.searchImage.w,"px")("height",t.searchImage.h,"px"),c(3),D(t.baseUrl+"/"),c(1),V("search__input_incorrect",null!==t.linkControl.errors),f("formControl",t.linkControl),c(3),se(" ",null!==t.linkControl.errors?t.linkControl.errors.text:""," "),c(1),f("ngIf",t.showMyContantErrorLink),c(2),f("text",t.locationService.translate("back to box","\u043d\u0430\u0437\u0430\u0434 \u043a \u043a\u043e\u0440\u043e\u0431\u043a\u0435"))("background","#ffffff00")("color","#333333"),c(1),f("text",t.locationService.translate("complete","\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c"))("background","#4caf50")("color","#ffffff")("disabled",null!==t.linkControl.errors))},directives:[Gs,us,Js,ps,Re,ai],styles:['[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .preview[_ngcontent-%COMP%]{position:absolute;width:100%;max-width:600px;margin:0;display:flex;flex-direction:column;align-items:stretch;justify-content:center;transition:all ease .2s}[_nghost-%COMP%]   .preview_top[_ngcontent-%COMP%]{transform:translateY(-100vh)}[_nghost-%COMP%]   .preview_bottom[_ngcontent-%COMP%]{transform:translateY(100vh)}[_nghost-%COMP%]   .preview__description[_ngcontent-%COMP%]{margin:20px;text-align:center;font-size:18px}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]{margin:20px;background-image:url(/assets/search-google.png);background-position:top center;background-repeat:no-repeat;background-size:100%;overflow:hidden;border-radius:15px 15px 0 0}[_nghost-%COMP%]   .search__url[_ngcontent-%COMP%]{margin-left:30%;margin-top:10.4%;font-size:min(20px,3vw);white-space:nowrap}[_nghost-%COMP%]   .search__base[_ngcontent-%COMP%]{color:#999}[_nghost-%COMP%]   .search__path[_ngcontent-%COMP%]{color:#333;font-weight:700}[_nghost-%COMP%]   .search__input[_ngcontent-%COMP%]{border:0px solid #00000033;padding:6px 0;background-color:unset;color:#333;font-size:min(20px,3vw);outline:none;font-family:"Comfortaa",cursive;width:73.3%;background-color:#f000;outline:2px solid #f4433600;transition:all ease .2s}[_nghost-%COMP%]   .search__input_incorrect[_ngcontent-%COMP%]{outline:2px solid #f4433699}[_nghost-%COMP%]   .search__input_incorrect[_ngcontent-%COMP%]:focus{outline:2px solid #f4433600;background-color:#f000}[_nghost-%COMP%]   .search__input[_ngcontent-%COMP%]::placeholder{color:#999}[_nghost-%COMP%]   .search__input[_ngcontent-%COMP%]::-ms-input-placeholder{color:#999}[_nghost-%COMP%]   .preview__error[_ngcontent-%COMP%]{margin:0 20px;height:14px;color:#f44336;font-size:12px;text-align:right}[_nghost-%COMP%]   .preview__link[_ngcontent-%COMP%]{color:#03a9f4;text-decoration:none}[_nghost-%COMP%]   .preview__button[_ngcontent-%COMP%]{flex-shrink:0;align-self:flex-end;margin:20px}[_nghost-%COMP%]   .preview__row[_ngcontent-%COMP%]{align-self:flex-end;margin:20px 0}[_nghost-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}']}),i})();function HU(i,n){if(1&i){const e=H();h(0,"app-touch-page-create-stage1",1),C("changeGlobalStage",function(o){return E(e),y().changeStage(o)}),d()}}function UU(i,n){if(1&i){const e=H();h(0,"app-desktop-page-create-stage1",1),C("changeGlobalStage",function(o){return E(e),y().changeStage(o)}),d()}}function $U(i,n){if(1&i){const e=H();h(0,"app-touch-page-create-stage2",1),C("changeGlobalStage",function(o){return E(e),y().changeStage(o)}),d()}}function YU(i,n){if(1&i){const e=H();h(0,"app-desktop-page-create-stage2",1),C("changeGlobalStage",function(o){return E(e),y().changeStage(o)}),d()}}function WU(i,n){if(1&i){const e=H();h(0,"app-touch-page-create-stage3",1),C("changeGlobalStage",function(o){return E(e),y().changeStage(o)}),d()}}function qU(i,n){if(1&i){const e=H();h(0,"app-desktop-page-create-stage3",1),C("changeGlobalStage",function(o){return E(e),y().changeStage(o)}),d()}}function ZU(i,n){if(1&i){const e=H();h(0,"app-touch-page-create-stage4",1),C("changeGlobalStage",function(o){return E(e),y().changeStage(o)}),d()}}function XU(i,n){if(1&i){const e=H();h(0,"app-desktop-page-create-stage4",1),C("changeGlobalStage",function(o){return E(e),y().changeStage(o)}),d()}}let KU=(()=>{class i{constructor(e){this.isTouch=e,this.stage=1,this.typeScreen="none"}setTypeScreen(){this.typeScreen=this.isTouch.get()?"touch":"desktop"}changeStage(e){this.stage=e}ngOnInit(){this.setTypeScreen()}}return i.\u0275fac=function(e){return new(e||i)(P(Fl))},i.\u0275cmp=X({type:i,selectors:[["app-page-create"]],decls:8,vars:8,consts:[[3,"changeGlobalStage",4,"ngIf"],[3,"changeGlobalStage"]],template:function(e,t){1&e&&(S(0,HU,1,0,"app-touch-page-create-stage1",0),S(1,UU,1,0,"app-desktop-page-create-stage1",0),S(2,$U,1,0,"app-touch-page-create-stage2",0),S(3,YU,1,0,"app-desktop-page-create-stage2",0),S(4,WU,1,0,"app-touch-page-create-stage3",0),S(5,qU,1,0,"app-desktop-page-create-stage3",0),S(6,ZU,1,0,"app-touch-page-create-stage4",0),S(7,XU,1,0,"app-desktop-page-create-stage4",0)),2&e&&(f("ngIf","touch"===t.typeScreen&&1===t.stage),c(1),f("ngIf","desktop"===t.typeScreen&&1===t.stage),c(1),f("ngIf","touch"===t.typeScreen&&2===t.stage),c(1),f("ngIf","desktop"===t.typeScreen&&2===t.stage),c(1),f("ngIf","touch"===t.typeScreen&&3===t.stage),c(1),f("ngIf","desktop"===t.typeScreen&&3===t.stage),c(1),f("ngIf","touch"===t.typeScreen&&4===t.stage),c(1),f("ngIf","desktop"===t.typeScreen&&4===t.stage))},directives:[Re,zV,sj,Sj,jH,gU,BU,LU,jU],styles:[""]}),i})();const QU=["chatRef"];function JU(i,n){if(1&i&&(Se(0),h(1,"div",19),h(2,"span",20),x(3),d(),d(),h(4,"div",21),x(5),d(),Me()),2&i){const e=y();c(3),D(e.general.code),c(2),D(e.locationService.translate("send the code to the recipient immediately or save it somewhere, you won\u2019t see it again","\u043e\u0442\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u043a\u043e\u0434 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044e \u0441\u0440\u0430\u0437\u0443 \u0438\u043b\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u0433\u0434\u0435-\u0442\u043e, \u0431\u043e\u043b\u044c\u0448\u0435 \u0432\u044b \u0435\u0433\u043e \u043d\u0435 \u0443\u0432\u0438\u0434\u0438\u0442\u0435"))}}let e$=(()=>{class i{constructor(e,t,o,s,r){this.touchService=e,this.locationService=t,this.asyncService=o,this.router=s,this.backendService=r,this.subs=[],this.stage=0,this.box={size:{w:300,h:100,d:300}},this.menu=[],this.baseUrl="tebe.app",this.exampleUrl=this.locationService.translate("for-my-beloved-daughter-alice","\u043c\u0430\u0448\u0430-\u043b\u043e\u0432\u0438-\u043f\u043e\u0434\u0430\u0440\u043e\u043a"),this.general={id:null,link:null,code:null,exp:new Date(Date.now()+3456e5)},this.copyAnimationName="",this.searchImage={w:390,h:68},this.chat={animate:!1,margin:-1e3},this.flagDbl=!1,this.timeoutDbl=setTimeout(()=>{},0),this.valerror="",this.timeoutError=setTimeout(()=>{},0),this.touches={linkPreview:null,link:null,chat:null,main:null},this.disableds={linkPreview:!0,link:!0,chat:!0,main:!0},this.stats={linkPreview:"close",link:"close",chat:"close",main:"close"},this.renameMax=40,this.renameMin=7,this.renameWhat="",this.renameValue=`${this.baseUrl}/${this.randomString(8)}`}onResize(){this.setSizeSearchImage()}setStage1(){this.stage=1,this.showScreen("linkPreview")}setStage2(){this.stage=2,this.closeScreen("linkPreview"),this.showScreen("link")}setStage3(){this.stage=3,this.closeScreen("link"),this.showScreen("chat"),this.chat.margin=-1e3,setTimeout(()=>{this.animateChat()},0)}setStage4(){this.stage=4,this.closeScreen("chat"),this.showScreen("main"),this.setMenuMain()}setMenuMain(){this.menu=[{title:this.locationService.translate("look inside","\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u043d\u0443\u0442\u0440\u044c"),ico:"../../assets/eye.svg",value:"review"},{title:this.locationService.translate("copy link","\u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"),ico:"../../assets/copy.svg",value:"copyLink"}],this.general.code&&this.menu.push({title:this.locationService.translate("copy code","\u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0434"),ico:"../../assets/password.svg",value:"copyCode"})}showError(e){var t=this;return I(function*(){return clearTimeout(t.timeoutError),t.valerror="",yield t.asyncService.delay(250),t.valerror=e,t.timeoutError=setTimeout(()=>{t.valerror=""},5e3),new Promise(o=>o())})()}getExpareString(){const e=this.general.exp,t=(e.getTime()-(new Date).getTime())/6048e5,o=(e.getTime()-(new Date).getTime())/864e5,s=(e.getTime()-(new Date).getTime())/36e5,r=(e.getTime()-(new Date).getTime())/6e4,a=(e.getTime()-(new Date).getTime())/1e3,l=this.locationService.translate("weeks","\u043d\u0435\u0434."),u=this.locationService.translate("days","\u0441\u0443\u0442\u043a."),p=this.locationService.translate("hours","\u0447."),g=this.locationService.translate("minutes","\u043c\u0438\u043d."),_=this.locationService.translate("seconds","\u0441\u0435\u043a.");return e.getTime()-(new Date).getTime()<0?this.locationService.translate("link is not active","\u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u0430"):t>=1?`${this.locationService.translate("the link will become inactive in ","\u0441\u0441\u044b\u043b\u043a\u0430 \u0435\u0449\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u0430 ")} ${Math.round(t)} ${l}`:o>=1?`${this.locationService.translate("the link will become inactive in ","\u0441\u0441\u044b\u043b\u043a\u0430 \u0435\u0449\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u0430 ")} ${Math.round(o)} ${u}`:s>=1?`${this.locationService.translate("the link will become inactive in ","\u0441\u0441\u044b\u043b\u043a\u0430 \u0435\u0449\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u0430 ")} ${Math.round(s)} ${p}`:r>=1?`${this.locationService.translate("the link will become inactive in ","\u0441\u0441\u044b\u043b\u043a\u0430 \u0435\u0449\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u0430 ")} ${Math.round(r)} ${g}`:`${this.locationService.translate("the link will become inactive in ","\u0441\u0441\u044b\u043b\u043a\u0430 \u0435\u0449\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u0430 ")} ${Math.round(a)} ${_}`}animateChat(){var e=this;return I(function*(){const a=[...e.chatRef.nativeElement.querySelectorAll(".chat__message")].map(u=>u.getBoundingClientRect());e.chat.animated=!1,yield e.asyncService.delay(10),e.chat.margin=-a.reduce((u,p)=>u+p.height+20,0),yield e.asyncService.delay(10),e.chat.animated=!0,yield e.asyncService.delay(10),e.chat.margin+=10;const l=e.backendService.code?a.length:a.length-1;for(let u=0;u<l;u++)e.chat.margin+=a[u].height+20,yield e.asyncService.delay(1e3);return yield e.asyncService.delay(300),new Promise(u=>u())})()}randomString(e){let t="";const o="abcdefghijklmnopqrstuvwxyz";for(let s=0;s<e;s++)t+=o.charAt(Math.floor(Math.random()*o.length));return t}setSizeSearchImage(){this.searchImage.w=window.innerWidth-40,this.searchImage.h=this.searchImage.w/(390/68)}closeScreen(e){this.disableds[e]=!0,this.stats[e]="close"}showScreen(e){this.disableds[e]=!1,this.stats[e]="open"}ruleLink(e){return!!/^[a-z\u0430-\u044f0-9\-]*$/g.test(e)||this.locationService.translate('only lower case of latin and russian letters or numbers or symbol "-"','\u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0438\u0436\u043d\u0438\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440 \u0438\u0437 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0445 \u0438 \u0440\u0443\u0441\u0441\u043a\u0438\u0445 \u0431\u0443\u043a\u0432 \u0438\u043b\u0438 \u0446\u0438\u0444\u0440 \u0438\u043b\u0438 \u0441\u0438\u043c\u0432\u043e\u043b "-"')}screenLinkWasSaved(e){this.general.link=e,this.setStage3()}actionMenu(e){}menuWasChoosen(e){"copyLink"===e?this.copyLink():"copyCode"===e?this.copyCode():"review"===e&&this.router.navigateByUrl(`/v/${this.general.link}`)}showAnimationCopy(){var e=this;return I(function*(){return e.copyAnimationName="copyAnimation",yield e.asyncService.delay(200),e.copyAnimationName="",new Promise(t=>t())})()}copyLink(){navigator.clipboard.writeText(`https://${this.baseUrl}/v/${this.general.link}`).then(()=>{this.showError(this.locationService.translate("link copied","\u0441\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430"))},e=>{})}copyCode(){navigator.clipboard.writeText(`${this.general.code}`).then(()=>{this.showError(this.locationService.translate("code copied","\u043a\u043e\u0434 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d"))},e=>{})}processTouch(e){Object.entries(this.disableds).forEach(([t,o])=>{o||(this.touches[t]=e)}),"end"===e.action&&!1===e.drag&&1===this.stage?this.setStage2():"end"===e.action&&!1===e.drag&&3===this.stage&&this.setStage4()}getBox(){const t=parseInt(this.router.url.split("?")[0].split("/")[2]);this.backendService.getBoxGeneral(t).then(o=>{!o.success||!o.result||(this.box=Object.assign(Object.assign({},this.box),{package:`${this.backendService.getLinkFromBackend(o.result.link_package)}`,tape:`${this.backendService.getLinkFromBackend(o.result.link_tape)}`}),this.setStage3(),this.general.id=t,this.general.link=o.result.link,this.general.code=this.backendService.code||"",this.general.exp=new Date(new Date(o.result.date).getTime()+6048e5))})}ngOnInit(){this.getBox(),this.subs.push(this.touchService.stream$.subscribe(e=>{this.processTouch(e)}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(P(Zo),P(De),P(ve),P(ct),P(Qo))},i.\u0275cmp=X({type:i,selectors:[["app-touch-page-box"]],viewQuery:function(e,t){if(1&e&&Xe(QU,5,q),2&e){let o;Ve(o=Le())&&(t.chatRef=o.first)}},hostBindings:function(e,t){1&e&&C("resize",function(){return t.onResize()},!1,be)},decls:31,vars:47,consts:[[1,"error",3,"value"],[3,"touch","options","action","choose"],[1,"chat"],["chatRef",""],[1,"chat__message","chat__message_me"],[1,"chat__link"],[1,"chat__message"],[1,"main"],[1,"main__title"],[4,"ngIf"],[1,"box-wrap"],[3,"animate","packed","wrapped","tapped","w","h","d","package","tape"],[1,"main__link"],[1,"main__base-url"],[1,"main__path-url"],[1,"main__link-exp"],[1,"main__link-exp-value"],[1,"hint"],[1,"hint__text"],[1,"main__code"],[1,"main__code-value"],[1,"main__code-sub"]],template:function(e,t){1&e&&(m(0,"app-touch-error",0),h(1,"app-touch-menu",1),C("action",function(s){return t.actionMenu(s)})("choose",function(s){return t.menuWasChoosen(s)}),d(),h(2,"div",2,3),h(4,"div",4),x(5),d(),h(6,"div",4),h(7,"span",5),x(8),d(),d(),h(9,"div",6),x(10),d(),h(11,"div",4),x(12),d(),d(),h(13,"div",7,3),h(15,"div",8),x(16),d(),S(17,JU,6,2,"ng-container",9),h(18,"div",10),m(19,"app-box",11),d(),h(20,"div",12),h(21,"span",13),x(22),d(),h(23,"span",14),x(24),d(),d(),h(25,"div",15),h(26,"span",16),x(27),d(),d(),d(),h(28,"div",17),h(29,"div",18),x(30),d(),d()),2&e&&(f("value",t.valerror),c(1),f("touch",t.touches.main)("options",t.menu),c(1),V("chat_left",t.stage>3)("chat_center",t.stage<=3),c(2),V("chat__message_animated",t.chat.animated),c(1),D(t.locationService.translate("here is a gift for you","\u0437\u0434\u0430\u0440\u043e\u0432\u0430, \u0434\u0435\u0440\u0436\u0438 \u043f\u043e\u0434\u0430\u0440\u043e\u043a")),c(1),V("chat__message_animated",t.chat.animated),c(2),D("https://"+t.baseUrl+"/v/"+t.general.link),c(1),V("chat__message_animated",t.chat.animated),c(1),D(t.locationService.translate("WOWOWOWOOW","\u0432\u0430\u0443 \u0432\u0430\u0443 \u0432\u0430\u0443 \u0432\u0430\u0443 \u0432\u0430\u0443 \u0432\u0430\u0443 \u0432\u0430\u0443")),c(1),b("margin-bottom",t.chat.margin,"px"),V("chat__message_animated",t.chat.animated),c(1),D(t.locationService.translate("code "+t.general.code,"\u043a\u043e\u0434 "+t.general.code)),c(1),V("main_left",t.stage>4)("main_center",4===t.stage)("main_right",t.stage<4),c(3),Li("",t.locationService.translate("gift #","\u043f\u043e\u0434\u0430\u0440\u043e\u043a #")," ",t.general.id,""),c(1),f("ngIf",t.general.code),c(2),b("transform","translateX(0px) translateY(0px) translateZ(0px) rotateX(-15deg) rotateY(110deg) rotateZ(0deg) scale(1)"),f("animate",!1)("packed",!0)("wrapped",!0)("tapped",!0)("w",t.box.size.w)("h",t.box.size.h)("d",t.box.size.d)("package",t.box.package)("tape",t.box.tape),c(3),D(t.baseUrl+"/v/"),c(2),D(t.general.link),c(3),D(t.getExpareString()),c(1),V("hint_hidden",1!==t.stage&&3!==t.stage),c(2),D(t.locationService.translate("tap to continue","\u043d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")))},directives:[Dh,Oh,Re,Rs],styles:["[_nghost-%COMP%]{position:fixed;left:0px;top:0px;width:100%;height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:center}[_nghost-%COMP%]   .error[_ngcontent-%COMP%] {align-self:center;background-color:#fff;color:#333;box-shadow:0 0 5px #0003}[_nghost-%COMP%]   .input-path[_ngcontent-%COMP%]{padding:20px;font-size:20px;color:#333}[_nghost-%COMP%]   .preview[_ngcontent-%COMP%]{width:100%;position:absolute;margin:0;display:flex;flex-direction:column;align-items:stretch;justify-content:center;transform:translate(100%);transition:all ease .2s}[_nghost-%COMP%]   .preview_center[_ngcontent-%COMP%]{transform:translate(0)}[_nghost-%COMP%]   .preview_left[_ngcontent-%COMP%]{transform:translate(-100%)}[_nghost-%COMP%]   .preview_right[_ngcontent-%COMP%]{transform:translate(100%)}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]{margin:20px 20px 100px;background-image:url(/assets/search-google.png);background-position:top center;background-repeat:no-repeat;background-size:100%;overflow:hidden;border-radius:15px 15px 0 0}[_nghost-%COMP%]   .search__url[_ngcontent-%COMP%]{margin-left:30%;margin-top:11.6%;font-size:3vw;white-space:nowrap}[_nghost-%COMP%]   .search__base[_ngcontent-%COMP%]{color:#999}[_nghost-%COMP%]   .search__path[_ngcontent-%COMP%]{color:#333;font-weight:700}[_nghost-%COMP%]   .preview__description[_ngcontent-%COMP%]{margin:20px;text-align:center;font-size:18px}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{position:fixed;left:0px;bottom:0px;width:100%;z-index:10;display:flex;flex-direction:column;align-items:center;justify-content:center;transform:translateY(0);transition:all ease .2s}[_nghost-%COMP%]   .hint_hidden[_ngcontent-%COMP%]{transform:translateY(100%)}[_nghost-%COMP%]   .hint__text[_ngcontent-%COMP%]{margin:10px;font-size:14px;color:#333;text-align:center}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;bottom:40px;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;transform:translate(0);overflow:hidden;transition:all ease .2s}[_nghost-%COMP%]   .chat_center[_ngcontent-%COMP%]{transform:translate(0)}[_nghost-%COMP%]   .chat_left[_ngcontent-%COMP%]{transform:translate(-100%)}[_nghost-%COMP%]   .chat_right[_ngcontent-%COMP%]{transform:translate(100%)}[_nghost-%COMP%]   .chat__message[_ngcontent-%COMP%]{margin:0 10px 20px;padding:20px;font-size:14px;color:#333;border-radius:15px;background-color:#fff;box-shadow:0 0 5px #0003}[_nghost-%COMP%]   .chat__message_animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%]   .chat__message_me[_ngcontent-%COMP%]{background-color:#effdde;align-self:flex-end}[_nghost-%COMP%]   .chat__link[_ngcontent-%COMP%]{color:#168acd}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{width:100%;margin:0;position:absolute;display:flex;flex-direction:column;align-items:stretch;justify-content:center;transform:translate(100%);transition:all ease .2s}[_nghost-%COMP%]   .main_center[_ngcontent-%COMP%]{transform:translate(0)}[_nghost-%COMP%]   .main_left[_ngcontent-%COMP%]{transform:translate(-100%)}[_nghost-%COMP%]   .main_right[_ngcontent-%COMP%]{transform:translate(100%)}[_nghost-%COMP%]   .box-wrap[_ngcontent-%COMP%]{width:200px;height:200px;align-self:center;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .main__title[_ngcontent-%COMP%]{margin:20px;font-size:18px;text-align:center;align-self:center;color:#333}[_nghost-%COMP%]   .main__link[_ngcontent-%COMP%]{margin:40px 20px 5px;align-self:center;text-align:center;font-size:14px}[_nghost-%COMP%]   .main__base-url[_ngcontent-%COMP%], [_nghost-%COMP%]   .main__query-url[_ngcontent-%COMP%]{color:#999}[_nghost-%COMP%]   .main__path-url[_ngcontent-%COMP%]{color:#333}[_nghost-%COMP%]   .main__link-exp[_ngcontent-%COMP%]{margin:40px 20px 20px;align-self:center;text-align:center;font-size:12px;color:#f44336}[_nghost-%COMP%]   .main__code[_ngcontent-%COMP%]{margin:20px 20px 5px;align-self:center;text-align:center;font-size:26px}[_nghost-%COMP%]   .main__code-title[_ngcontent-%COMP%]{color:#999}[_nghost-%COMP%]   .main__code-value[_ngcontent-%COMP%]{color:#333}[_nghost-%COMP%]   .main__code-sub[_ngcontent-%COMP%]{margin:0 20px 20px;align-self:center;text-align:center;font-size:12px;color:#f44336}[_nghost-%COMP%]   .copy[_ngcontent-%COMP%]{margin:0 10px 10px;display:flex;flex-direction:row;align-items:center;justify-content:center;animation-timing-function:linear;animation-duration:.2s;animation-iteration-count:1}[_nghost-%COMP%]   .copy__icon[_ngcontent-%COMP%]{width:20px;height:20px;margin:0 0 0 10px;background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(/assets/copy.svg)}[_nghost-%COMP%]   .copy__text[_ngcontent-%COMP%]{margin:0 10px;font-size:12px;color:#333}@keyframes copyAnimation{0%{transform:scale(1)}50%{transform:scale(.5)}to{transform:scale(1)}}"]}),i})();const t$=["chatRef"];function n$(i,n){1&i&&(h(0,"a",30),x(1,"@vgaidadei"),d())}function i$(i,n){if(1&i){const e=H();Se(0),h(1,"div",31),h(2,"span",32),x(3),d(),h(4,"div",20),C("click",function(){return E(e),y().onClickCopy(0)}),d(),d(),h(5,"div",33),x(6),d(),Me()}if(2&i){const e=y();c(3),D(e.general.code),c(1),b("animation-name",e.copies.copy1AnimateName),c(2),D(e.locationService.translate("send the code to the recipient immediately or save it somewhere, you won\u2019t see it again","\u043e\u0442\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u043a\u043e\u0434 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044e \u0441\u0440\u0430\u0437\u0443 \u0438\u043b\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u0433\u0434\u0435-\u0442\u043e, \u0431\u043e\u043b\u044c\u0448\u0435 \u0432\u044b \u0435\u0433\u043e \u043d\u0435 \u0443\u0432\u0438\u0434\u0438\u0442\u0435"))}}let o$=(()=>{class i{constructor(e,t,o,s,r){this.locationService=e,this.asyncService=t,this.changeDetectorRef=o,this.router=s,this.backendService=r,this.stage=0,this.baseUrl="tebe.app",this.exampleUrl=this.locationService.translate("for-my-beloved-daughter-alice","\u043c\u0430\u0448\u0430-\u043b\u043e\u0432\u0438-\u043f\u043e\u0434\u0430\u0440\u043e\u043a"),this.searchImage={w:390,h:68},this.linkControl=new Cn(""),this.textError="",this.timeoutError=setTimeout(()=>{},0),this.chat={animate:!1,margin:10},this.box={size:{w:300,h:100,d:300}},this.showMyContantErrorLink=!1,this.general={id:null,link:null,code:null,exp:new Date(Date.now()+3456e5)},this.copies={copy1AnimateName:"none",copy2AnimateName:"none"}}onResize(){this.setSizeSearchImage()}goToView(){this.router.navigateByUrl(`/v/${this.general.link}`)}onClickCopy(e){0===e?(this.copies.copy1AnimateName="copyAnimation",this.copyCode()):1===e&&(this.copies.copy2AnimateName="copyAnimation",this.copyLink()),setTimeout(()=>{this.copies.copy1AnimateName="none",this.copies.copy2AnimateName="none"},1e3)}copyLink(){navigator.clipboard.writeText(`https://${this.baseUrl}/v/${this.general.link}`).then(()=>{this.showError(this.locationService.translate("link copied","\u0441\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430"))},e=>{})}copyCode(){navigator.clipboard.writeText(`${this.general.code}`).then(()=>{this.showError(this.locationService.translate("code copied","\u043a\u043e\u0434 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d"))},e=>{})}showError(e){var t=this;return I(function*(){return clearTimeout(t.timeoutError),t.textError="",yield t.asyncService.delay(100),t.textError=e,t.timeoutError=setTimeout(()=>{t.textError=""},5e3),new Promise(o=>o())})()}setStage(e){this.stage=e,2===e&&this.animateChat()}setSizeSearchImage(){this.searchImage.w=window.innerWidth-40,this.searchImage.w>560&&(this.searchImage.w=560),this.searchImage.h=this.searchImage.w/(390/68)}validLink(e){return e.length<7?this.locationService.translate("minimum length 7 characters","\u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 7 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):/^[a-z\u0430-\u044f0-9\-]*$/g.test(e)?(this.general.link=this.linkControl.value,!0):this.locationService.translate('only lower case of latin and russian letters or numbers or symbol "-"','\u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0438\u0436\u043d\u0438\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440 \u0438\u0437 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0445 \u0438 \u0440\u0443\u0441\u0441\u043a\u0438\u0445 \u0431\u0443\u043a\u0432 \u0438\u043b\u0438 \u0446\u0438\u0444\u0440 \u0438\u043b\u0438 \u0441\u0438\u043c\u0432\u043e\u043b "-"')}animateChat(){var e=this;return I(function*(){const a=[...e.chatRef.nativeElement.querySelectorAll(".chat__message")].map(u=>u.getBoundingClientRect());e.chat.animated=!1,yield e.asyncService.delay(10),e.chat.margin=-a.reduce((u,p)=>u+p.height+20,0),yield e.asyncService.delay(10),e.chat.animated=!0,yield e.asyncService.delay(10),e.chat.margin+=10;const l=e.general.code?a.length:a.length-1;for(let u=0;u<l;u++)e.chat.margin+=a[u].height+20,yield e.asyncService.delay(1e3);return yield e.asyncService.delay(300),new Promise(u=>u())})()}getExpareString(){const e=this.general.exp,t=(e.getTime()-(new Date).getTime())/6048e5,o=(e.getTime()-(new Date).getTime())/864e5,s=(e.getTime()-(new Date).getTime())/36e5,r=(e.getTime()-(new Date).getTime())/6e4,a=(e.getTime()-(new Date).getTime())/1e3,l=this.locationService.translate("weeks","\u043d\u0435\u0434."),u=this.locationService.translate("days","\u0441\u0443\u0442\u043a."),p=this.locationService.translate("hours","\u0447."),g=this.locationService.translate("minutes","\u043c\u0438\u043d."),_=this.locationService.translate("seconds","\u0441\u0435\u043a.");return e.getTime()-(new Date).getTime()<0?this.locationService.translate("the gift was destroyed","\u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0443\u0434\u0430\u043b\u0451\u043d"):t>=1?`${this.locationService.translate("the gift will be deleted after ","\u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0443\u0434\u0430\u043b\u0438\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 ")} ${Math.round(t)} ${l}`:o>=1?`${this.locationService.translate("the gift will be deleted after ","\u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0443\u0434\u0430\u043b\u0438\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 ")} ${Math.round(o)} ${u}`:s>=1?`${this.locationService.translate("the gift will be deleted after ","\u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0443\u0434\u0430\u043b\u0438\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 ")} ${Math.round(s)} ${p}`:r>=1?`${this.locationService.translate("the gift will be deleted after ","\u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0443\u0434\u0430\u043b\u0438\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 ")} ${Math.round(r)} ${g}`:`${this.locationService.translate("the gift will be deleted after ","\u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0443\u0434\u0430\u043b\u0438\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 ")} ${Math.round(a)} ${_}`}getBox(){const t=parseInt(this.router.url.split("?")[0].split("/")[2]);this.backendService.getBoxGeneral(t).then(o=>{console.log(o),o.success&&o.result&&(this.box=Object.assign(Object.assign({},this.box),{package:`${this.backendService.getLinkFromBackend(o.result.link_package)}`,tape:`${this.backendService.getLinkFromBackend(o.result.link_tape)}`}),o.result.link?(this.general.id=t,this.general.link=o.result.link,this.general.code=this.backendService.code||"",this.general.exp=new Date(new Date(o.result.date).getTime()+6048e5),this.setStage(2)):this.setStage(1))})}ngAfterViewInit(){this.changeDetectorRef.detectChanges()}ngOnInit(){this.getBox(),this.linkControl.valueChanges.pipe(Ee(e=>(this.showMyContantErrorLink=!1,this.linkControl.setErrors({type:"loading",text:""}),e)),gP(300)).subscribe(e=>{e.length<7?(this.showMyContantErrorLink=!0,this.linkControl.setErrors({type:"validate",text:this.locationService.translate("minimum 7 characters, if you want less, it's paid. You can write to me: ","\u043c\u0438\u043d\u0438\u043c\u0443\u043c 7 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432, \u0445\u043e\u0442\u0438\u0442\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 - \u044d\u0442\u043e \u043f\u043b\u0430\u0442\u043d\u043e. \u041c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044e \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u044b: ")})):/^[a-z\u0430-\u044f0-9\-]*$/g.test(e)?this.backendService.checkLinkBox(e).then(t=>{!t.success||this.linkControl.setErrors(t.result?{type:"occupied",text:this.locationService.translate("occupied","\u0437\u0430\u043d\u044f\u0442\u043e")}:null)}):this.linkControl.setErrors({type:"validate",text:this.locationService.translate('only lower case of latin and russian letters or numbers or symbol "-"','\u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0438\u0436\u043d\u0438\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440 \u0438\u0437 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0445 \u0438 \u0440\u0443\u0441\u0441\u043a\u0438\u0445 \u0431\u0443\u043a\u0432 \u0438\u043b\u0438 \u0446\u0438\u0444\u0440 \u0438\u043b\u0438 \u0441\u0438\u043c\u0432\u043e\u043b "-"')})}),this.linkControl.setValue("")}}return i.\u0275fac=function(e){return new(e||i)(P(De),P(ve),P(ei),P(ct),P(Qo))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-page-box"]],viewQuery:function(e,t){if(1&e&&Xe(t$,5,q),2&e){let o;Ve(o=Le())&&(t.chatRef=o.first)}},hostBindings:function(e,t){1&e&&C("resize",function(){return t.onResize()},!1,be)},decls:43,vars:65,consts:[[1,"error",3,"text"],[1,"preview"],[1,"preview__description"],[1,"search"],[1,"search__url"],[1,"search__base"],["type","text",1,"search__input",3,"formControl"],[1,"row","preview__row"],[1,"preview__error"],["class","preview__link","href","https://t.me/gaiusdedeo","target","_blank",4,"ngIf"],[1,"preview__button",3,"text","background","color","disabled"],[1,"main"],[1,"info"],[1,"main__title"],[4,"ngIf"],[1,"box-wrap"],[3,"animate","packed","wrapped","tapped","w","h","d","package","tape"],[1,"main__link"],[1,"main__base-url"],[1,"main__path-url"],[1,"copy__icon",3,"click"],[1,"main__link-exp"],[1,"main__link-exp-value"],[1,"main__button",3,"text","icon","background","color","click"],[1,"wrap-chat"],[1,"chat"],["chatRef",""],[1,"chat__message","chat__message_me"],[1,"chat__link"],[1,"chat__message"],["href","https://t.me/gaiusdedeo","target","_blank",1,"preview__link"],[1,"main__code"],[1,"main__code-value"],[1,"main__code-sub"]],template:function(e,t){1&e&&(m(0,"app-desktop-error",0),h(1,"div",1),h(2,"div",2),x(3),d(),h(4,"div",3),h(5,"div",4),h(6,"span",5),x(7),d(),m(8,"input",6),d(),d(),h(9,"div",7),h(10,"div",8),x(11),S(12,n$,2,0,"a",9),d(),m(13,"app-desktop-button",10),d(),d(),h(14,"div",11),h(15,"div",12),h(16,"div",13),x(17),d(),S(18,i$,7,4,"ng-container",14),h(19,"div",15),m(20,"app-box",16),d(),h(21,"div",17),h(22,"span",18),x(23),d(),h(24,"span",19),x(25),d(),h(26,"div",20),C("click",function(){return t.onClickCopy(1)}),d(),d(),h(27,"div",21),h(28,"span",22),x(29),d(),d(),h(30,"app-desktop-button",23),C("click",function(){return t.goToView()}),d(),d(),h(31,"div",24),h(32,"div",25,26),h(34,"div",27),x(35),d(),h(36,"div",27),h(37,"span",28),x(38),d(),d(),h(39,"div",29),x(40),d(),h(41,"div",27),x(42),d(),d(),d(),d()),2&e&&(f("text",t.textError),c(1),V("preview_top",t.stage>1)("preview_bottom",0===t.stage),c(2),D(t.locationService.translate("come up with an original link that you will send","\u043f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435")),c(1),b("width",t.searchImage.w,"px")("height",t.searchImage.h,"px"),c(3),D(t.baseUrl+"/"),c(1),V("search__input_incorrect",null!==t.linkControl.errors),f("formControl",t.linkControl),c(3),se(" ",null!==t.linkControl.errors?t.linkControl.errors.text:""," "),c(1),f("ngIf",t.showMyContantErrorLink),c(1),f("text",t.locationService.translate("next","\u0434\u0430\u043b\u0435\u0435"))("background","#4caf50")("color","#ffffff")("disabled",null!==t.linkControl.errors),c(1),V("main_top",t.stage>2)("main_bottom",t.stage<2),c(3),Li("",t.locationService.translate("gift #","\u043f\u043e\u0434\u0430\u0440\u043e\u043a #")," ",t.general.id,""),c(1),f("ngIf",t.general.code),c(2),b("transform","translateX(0px) translateY(0px) translateZ(0px) rotateX(-15deg) rotateY(110deg) rotateZ(0deg) scale(1)"),f("animate",!1)("packed",!0)("wrapped",!0)("tapped",!0)("w",t.box.size.w)("h",t.box.size.h)("d",t.box.size.d)("package",t.box.package)("tape",t.box.tape),c(3),D(t.baseUrl+"/v/"),c(2),D(t.general.link),c(1),b("animation-name",t.copies.copy2AnimateName),c(3),D(t.getExpareString()),c(1),f("text",t.locationService.translate("preview","\u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"))("icon","/assets/eye.svg")("background","#ffffff")("color","#333333"),c(1),b("width",350,"px")("height",700,"px"),c(3),V("chat__message_animated",t.chat.animated),c(1),D(t.locationService.translate("here is a gift for you","\u0437\u0434\u0430\u0440\u043e\u0432\u0430, \u0434\u0435\u0440\u0436\u0438 \u043f\u043e\u0434\u0430\u0440\u043e\u043a")),c(1),V("chat__message_animated",t.chat.animated),c(2),D("https://"+t.baseUrl+"/v/"+t.general.link),c(1),V("chat__message_animated",t.chat.animated),c(1),D(t.locationService.translate("WOWOWOWOOW","\u0432\u0430\u0443 \u0432\u0430\u0443 \u0432\u0430\u0443 \u0432\u0430\u0443 \u0432\u0430\u0443 \u0432\u0430\u0443 \u0432\u0430\u0443")),c(1),b("margin-bottom",t.chat.margin,"px"),V("chat__message_animated",t.chat.animated),c(1),D(t.locationService.translate("code "+t.general.code,"\u043a\u043e\u0434 "+t.general.code)))},directives:[Gs,us,Js,ps,Re,ai,Rs],styles:['[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .preview[_ngcontent-%COMP%]{position:absolute;width:100%;max-width:600px;margin:0;display:flex;flex-direction:column;align-items:stretch;justify-content:center;transition:all ease .2s}[_nghost-%COMP%]   .preview_top[_ngcontent-%COMP%]{transform:translateY(-100vh)}[_nghost-%COMP%]   .preview_bottom[_ngcontent-%COMP%]{transform:translateY(100vh)}[_nghost-%COMP%]   .preview__description[_ngcontent-%COMP%]{margin:20px;text-align:center;font-size:18px}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]{margin:20px;background-image:url(/assets/search-google.png);background-position:top center;background-repeat:no-repeat;background-size:100%;overflow:hidden;border-radius:15px 15px 0 0}[_nghost-%COMP%]   .search__url[_ngcontent-%COMP%]{margin-left:30%;margin-top:10.4%;font-size:min(20px,3vw);white-space:nowrap}[_nghost-%COMP%]   .search__base[_ngcontent-%COMP%]{color:#999}[_nghost-%COMP%]   .search__path[_ngcontent-%COMP%]{color:#333;font-weight:700}[_nghost-%COMP%]   .search__input[_ngcontent-%COMP%]{border:0px solid #00000033;padding:6px 0;background-color:unset;color:#333;font-size:min(20px,3vw);outline:none;font-family:"Comfortaa",cursive;width:73.3%;background-color:#f000;outline:2px solid #f4433600;transition:all ease .2s}[_nghost-%COMP%]   .search__input_incorrect[_ngcontent-%COMP%]{outline:2px solid #f4433699}[_nghost-%COMP%]   .search__input_incorrect[_ngcontent-%COMP%]:focus{outline:2px solid #f4433600;background-color:#f000}[_nghost-%COMP%]   .search__input[_ngcontent-%COMP%]::placeholder{color:#999}[_nghost-%COMP%]   .search__input[_ngcontent-%COMP%]::-ms-input-placeholder{color:#999}[_nghost-%COMP%]   .preview__error[_ngcontent-%COMP%]{margin:0 20px;height:14px;color:#f44336;font-size:12px;text-align:right}[_nghost-%COMP%]   .preview__link[_ngcontent-%COMP%]{color:#03a9f4;text-decoration:none}[_nghost-%COMP%]   .preview__button[_ngcontent-%COMP%]{align-self:flex-end;margin:20px}[_nghost-%COMP%]   .preview__row[_ngcontent-%COMP%]{align-self:flex-end}[_nghost-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .main[_ngcontent-%COMP%]{position:absolute;width:100%;max-width:800px;margin:0;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;transition:all ease .2s}[_nghost-%COMP%]   .main_top[_ngcontent-%COMP%]{transform:translateY(-100vh)}[_nghost-%COMP%]   .main_bottom[_ngcontent-%COMP%]{transform:translateY(100vh)}[_nghost-%COMP%]   .wrap-chat[_ngcontent-%COMP%]{background-image:url(/assets/google-pixel-7.svg);background-position:center;background-repeat:no-repeat;background-size:210%;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;overflow:hidden;margin-left:50px}[_nghost-%COMP%]   .chat[_ngcontent-%COMP%]{width:90%;height:80%;margin:10% 0;bottom:40px;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;overflow:hidden;transition:all ease .2s}[_nghost-%COMP%]   .chat_center[_ngcontent-%COMP%]{transform:translate(0)}[_nghost-%COMP%]   .chat_left[_ngcontent-%COMP%]{transform:translate(-100%)}[_nghost-%COMP%]   .chat_right[_ngcontent-%COMP%]{transform:translate(100%)}[_nghost-%COMP%]   .chat__message[_ngcontent-%COMP%]{margin:0 10px 20px;padding:20px;font-size:14px;color:#333;border-radius:15px;background-color:#fff;box-shadow:0 0 5px #0003}[_nghost-%COMP%]   .chat__message_animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%]   .chat__message_me[_ngcontent-%COMP%]{background-color:#effdde;align-self:flex-end}[_nghost-%COMP%]   .chat__link[_ngcontent-%COMP%]{color:#168acd}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]{width:50%;bottom:40px;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;overflow:hidden;transition:all ease .2s}[_nghost-%COMP%]   .box-wrap[_ngcontent-%COMP%]{width:200px;height:200px;align-self:center;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .main__title[_ngcontent-%COMP%]{margin:20px;font-size:18px;text-align:center;align-self:center;color:#333}[_nghost-%COMP%]   .main__link[_ngcontent-%COMP%]{margin:40px 20px 5px;align-self:center;text-align:center;font-size:14px;display:flex;flex-direction:row;align-items:center;justify-content:flex-end}[_nghost-%COMP%]   .main__base-url[_ngcontent-%COMP%], [_nghost-%COMP%]   .main__query-url[_ngcontent-%COMP%]{color:#999}[_nghost-%COMP%]   .main__path-url[_ngcontent-%COMP%]{color:#333}[_nghost-%COMP%]   .main__link-exp[_ngcontent-%COMP%]{margin:40px 20px 20px;align-self:center;text-align:center;font-size:12px;color:#f44336}[_nghost-%COMP%]   .main__code[_ngcontent-%COMP%]{margin:20px 20px 5px;align-self:center;text-align:center;font-size:26px;display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .main__code-title[_ngcontent-%COMP%]{color:#999}[_nghost-%COMP%]   .main__code-value[_ngcontent-%COMP%]{color:#333}[_nghost-%COMP%]   .main__code-sub[_ngcontent-%COMP%]{margin:0 20px 20px;align-self:center;text-align:center;font-size:12px;color:#f44336}[_nghost-%COMP%]   .copy[_ngcontent-%COMP%]{margin:0 10px 10px;display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%]   .copy__icon[_ngcontent-%COMP%]{width:30px;height:30px;margin:0 0 0 10px;background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(/assets/copy.svg);cursor:pointer;animation-name:none;animation-timing-function:linear;animation-duration:.2s;animation-iteration-count:1;transition:all ease .2s}[_nghost-%COMP%]   .copy__text[_ngcontent-%COMP%]{margin:0 10px;font-size:12px;color:#333}[_nghost-%COMP%]   .main__button[_ngcontent-%COMP%]{align-self:center}@keyframes copyAnimation{0%{transform:scale(1)}50%{transform:scale(.5)}to{transform:scale(1)}}']}),i})();function s$(i,n){1&i&&m(0,"app-touch-page-box")}function r$(i,n){1&i&&m(0,"app-desktop-page-box")}let a$=(()=>{class i{constructor(e){this.isTouch=e,this.typeScreen="none"}setTypeScreen(){this.typeScreen=this.isTouch.get()?"touch":"desktop"}ngOnInit(){this.setTypeScreen()}}return i.\u0275fac=function(e){return new(e||i)(P(Fl))},i.\u0275cmp=X({type:i,selectors:[["app-page-box"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(S(0,s$,1,0,"app-touch-page-box",0),S(1,r$,1,0,"app-desktop-page-box",0)),2&e&&(f("ngIf","touch"===t.typeScreen),c(1),f("ngIf","desktop"===t.typeScreen))},directives:[Re,e$,o$],styles:[""]}),i})();function l$(i,n){if(1&i&&(h(0,"div",6),x(1),d()),2&i){const e=n.$implicit,t=y(2);b("width",t.letterData.size,"px")("height",t.letterData.size,"px")("font-size",.5*t.letterData.size,"px"),c(1),se(" ",e," ")}}function u$(i,n){if(1&i&&(h(0,"div",6),x(1),d()),2&i){const e=n.$implicit,t=y(2);b("width",t.letterData.size,"px")("height",t.letterData.size,"px")("font-size",.5*t.letterData.size,"px"),c(1),se(" ",e," ")}}function c$(i,n){if(1&i&&(h(0,"div",6),x(1),d()),2&i){const e=n.$implicit,t=y(2);b("width",t.letterData.size,"px")("height",t.letterData.size,"px")("font-size",.5*t.letterData.size,"px"),c(1),se(" ",e," ")}}function h$(i,n){if(1&i&&(h(0,"div",4),S(1,l$,2,7,"div",5),S(2,u$,2,7,"div",5),S(3,c$,2,7,"div",5),d()),2&i){const e=n.$implicit,t=y();b("transform","translateY("+(e.y+e.shift.y)+"px)"),V("tape-digits_animated",e.animated),c(1),f("ngForOf",t.getArrayAlphabet()),c(1),f("ngForOf",t.getArrayAlphabet()),c(1),f("ngForOf",t.getArrayAlphabet())}}let d$=(()=>{class i{constructor(e,t,o){this.host=e,this.touchService=t,this.asyncService=o,this.disabled=!1,this.toReject=new L,this.toAccept=new L,this.toInput=new L,this.input=new L,this.animationNameHost="",this.subs=[],this.opened=!1,this.alphabet="0123456789",this.letterData={size:20},this.velocityTouch=0,this.timeoutVelocityTouch=setTimeout(()=>{},0),this.activePosition=0,this.breakIntertia=!1,this.activeRect={x:0,y:0,w:0,h:0,shift:{x:0,y:0},animated:!1},this.positions=[5,3,4,9],this.letters=[{value:0,y:0,shift:{y:0},animated:!1},{value:0,y:0,shift:{y:0},animated:!1},{value:0,y:0,shift:{y:0},animated:!1},{value:0,y:0,shift:{y:0},animated:!1}],this.modeMove="horizontal",this.firstMove=!0}processTouch(e){if(!this.disabled)if("start"===e.action)this.breakIntertia=!0;else if("move"===e.action&&this.firstMove)this.firstMove=!1,Math.abs(e.y-e.prev.y)>Math.abs(e.x-e.prev.x)?this.modeMove="vertical":(this.modeMove="horizontal",this.activeRect.animated=!1);else if("move"!==e.action||this.firstMove)"end"===e.action&&!this.opened&&(this.firstMove=!0,"horizontal"===this.modeMove?(this.activeRect.x+=this.activeRect.shift.x,this.activeRect.shift.x=0,this.activeRect.animated=!0,this.activePosition=this.getClosePosition(this.activeRect.x),this.setActiveRect()):"vertical"===this.modeMove&&(this.breakIntertia=!1,this.letters[this.activePosition].y+=this.letters[this.activePosition].shift.y,this.letters[this.activePosition].shift.y=0,this.correctLetter(this.activePosition),this.inertiaLetter(this.activePosition,this.velocityTouch)));else if("horizontal"===this.modeMove){this.activeRect.shift.x=e.x-e.start.x;const t=-1.5*this.letterData.size,o=1.5*this.letterData.size;this.activeRect.x+this.activeRect.shift.x<t?this.activeRect.shift.x=t-this.activeRect.x:this.activeRect.x+this.activeRect.shift.x>o&&(this.activeRect.shift.x=o-this.activeRect.x)}else if("vertical"===this.modeMove){this.letters[this.activePosition].animated=!1,this.velocityTouch=e.prev.y-e.y,clearTimeout(this.timeoutVelocityTouch),this.timeoutVelocityTouch=setTimeout(()=>{this.velocityTouch=0},200),this.letters[this.activePosition].shift.y=e.y-e.start.y;const t=-this.letterData.size*(3*this.alphabet.length-2.5),o=-.5*this.letterData.size;this.letters[this.activePosition].y+this.letters[this.activePosition].shift.y<t?this.letters[this.activePosition].shift.y=t-this.letters[this.activePosition].y:this.letters[this.activePosition].y+this.letters[this.activePosition].shift.y>o&&(this.letters[this.activePosition].shift.y=o-this.letters[this.activePosition].y)}}inertiaLetter(e,t){var o=this;return I(function*(){let s=Math.round(t/Math.abs(t)),r=Math.abs(t);for(o.correctLetter(e);r>1&&!o.breakIntertia;)o.correctLetter(e),r*=.97,o.letters[e].y+=-s*r,yield o.asyncService.delay(10);return o.setClosestPositionVertical(e),new Promise(u=>u())})()}setClosestPositionVertical(e){let t=999999,o=0;for(let s=0;s<10;s++){let r=-this.letterData.size*(this.alphabet.length+s-.5);Math.abs(this.letters[e].y-r)<t&&(t=Math.abs(this.letters[e].y-r),o=s)}this.setPositionByValueVertical(e,o,!0)}setPositionByValueVertical(e,t,o=!1){var s=this;return I(function*(){s.correctLetter(e),yield s.asyncService.delay(10),s.letters[e].animated=o,yield s.asyncService.delay(10),s.letters[e].y=-s.letterData.size*(s.alphabet.length+t-.5),s.letters[e].value=t,yield s.asyncService.delay(300),s.letters[e].animated=!1})()}initLetter(){for(let e=0;e<this.letters.length;e++)this.setPositionByValueVertical(e,0)}checkCode(){var e=this;return I(function*(){let t="";return e.letters.forEach(o=>t+=`${o.value}`),e.input.emit(t),new Promise(o=>o())})()}correctLetter(e){this.letters[e].y>-this.letterData.size*(this.alphabet.length-1)?this.letters[e].y-=this.letterData.size*(this.alphabet.length-0):this.letters[e].y<-this.letterData.size*(2*this.alphabet.length-1)&&(this.letters[e].y+=this.letterData.size*(this.alphabet.length-0))}getClosePosition(e){let t=0;const o=-1.5*this.letterData.size,s=this.letterData.size;let r=9999999;for(let a=0;a<4;a++){let l=o+s*a;Math.abs(e-l)<r&&(t=a,r=Math.abs(e-l))}return t}getArrayAlphabet(){return this.alphabet.split("")}setSizeLetter(){const e=this.host.nativeElement.getBoundingClientRect();this.letterData.size=.35*e.height,this.setActiveRect()}setActiveRect(){const e=this.host.nativeElement.getBoundingClientRect();this.activeRect.w=this.letterData.size,this.activeRect.h=e.height,this.activeRect.x=-1.5*this.letterData.size+this.activePosition*this.letterData.size,this.activeRect.y=0}animateReject(){var e=this;return I(function*(){return e.animationNameHost="reject",yield e.asyncService.delay(300),e.animationNameHost="",new Promise(t=>t())})()}animateAccept(){var e=this;return I(function*(){return e.opened=!0,new Promise(t=>t())})()}ngOnInit(){this.initLetter(),this.subs.push(this.touchService.stream$.subscribe(e=>{this.processTouch(e)})),this.setSizeLetter(),this.subs.push(this.toReject.subscribe(()=>{this.animateReject()})),this.subs.push(this.toAccept.subscribe(()=>{this.animateAccept()})),this.subs.push(this.toInput.subscribe(()=>{this.checkCode()}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(P(q),P(Zo),P(ve))},i.\u0275cmp=X({type:i,selectors:[["app-touch-lock"]],hostVars:2,hostBindings:function(e,t){2&e&&b("animation-name",t.animationNameHost)},inputs:{disabled:"disabled",toReject:"toReject",toAccept:"toAccept",toInput:"toInput"},outputs:{input:"input"},decls:4,vars:11,consts:[[1,"hook"],[1,"content","row"],[1,"active-rect"],["class","column tape-digits",3,"tape-digits_animated","transform",4,"ngFor","ngForOf"],[1,"column","tape-digits"],["class","letter",3,"width","height","font-size",4,"ngFor","ngForOf"],[1,"letter"]],template:function(e,t){1&e&&(m(0,"div",0),h(1,"div",1),m(2,"div",2),S(3,h$,4,7,"div",3),d()),2&e&&(V("hook_opened",t.opened),c(2),b("transform","translateX("+(t.activeRect.x+t.activeRect.shift.x)+"px) translateY("+t.activeRect.y+"px)")("width",t.activeRect.w,"px")("height",t.activeRect.h,"px"),V("active-rect_animated",t.activeRect.animated),c(1),f("ngForOf",t.letters))},directives:[gt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;animation-duration:.2s;animation-timing-function:linear;animation-iteration-count:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:70%;background-color:#333;border-radius:15px;overflow:hidden;flex-shrink:0;z-index:2}[_nghost-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:center}[_nghost-%COMP%]   .column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start}[_nghost-%COMP%]   .letter[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#bbb;font-size:18px}[_nghost-%COMP%]   .active-rect[_ngcontent-%COMP%]{position:absolute;background-color:#fff3}[_nghost-%COMP%]   .active-rect_animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%]   .tape-digits_animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%]   .hook[_ngcontent-%COMP%]{width:30%;flex:1;border-top:20px solid #999999;border-left:20px solid #999999;border-right:20px solid #999999;border-radius:40px 40px 0 0;align-self:center;z-index:1;transform-origin:left bottom;transition:all ease .2s}[_nghost-%COMP%]   .hook_opened[_ngcontent-%COMP%]{transform:rotateY(0) rotate(0) translateY(-100%)}@keyframes reject{0%{transform:translate(0)}11%{transform:translate(20px)}22%{transform:translate(0)}33%{transform:translate(-20px)}44%{transform:translate(0)}55%{transform:translate(0)}66%{transform:translate(20px)}77%{transform:translate(0)}88%{transform:translate(-20px)}to{transform:translate(0)}}"]}),i})(),p$=(()=>{class i{constructor(e,t,o){this.touchService=e,this.locationService=t,this.asyncService=o,this.subs=[],this.text="",this.flagdbl=!1,this.timeoutdbl=setTimeout(()=>{},0),this.animationNameCopy="a"}processTouch(e){"end"===e.action&&!1===e.drag&&(this.flagdbl?(this.dbltap(),this.flagdbl=!1):(clearTimeout(this.timeoutdbl),this.flagdbl=!0,this.timeoutdbl=setTimeout(()=>{this.flagdbl=!1},200)))}dbltap(){var e=this;return I(function*(){return console.log("DOUBLE"),navigator.clipboard.writeText(e.text),e.animationNameCopy="copyAnimation",yield e.asyncService.delay(1e3),e.animationNameCopy="",new Promise(t=>t())})()}ngOnInit(){this.subs.push(this.touchService.stream$.subscribe(e=>{this.processTouch(e)}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(P(Zo),P(De),P(ve))},i.\u0275cmp=X({type:i,selectors:[["app-touch-text-copy"]],inputs:{text:"text"},decls:6,vars:4,consts:[[1,"text"],[1,"hint"],[1,"hint__icon"],[1,"hint__text"]],template:function(e,t){1&e&&(h(0,"div",0),x(1),d(),h(2,"div",1),m(3,"div",2),h(4,"div",3),x(5),d(),d()),2&e&&(c(1),D(t.text),c(1),b("animation-name",t.animationNameCopy),c(3),D(t.locationService.translate("double tap","\u0434\u0432\u043e\u0439\u043d\u043e\u0439 \u043a\u043b\u0438\u043a")))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{font-size:20px;text-align:center;color:#333}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;margin-top:100px;animation-duration:.2s;animation-iteration-count:2;animation-timing-function:linear}[_nghost-%COMP%]   .hint__icon[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(/assets/copy.svg);width:20px;height:20px;margin:10px}[_nghost-%COMP%]   .hint__text[_ngcontent-%COMP%]{margin:10px;font-size:14px;color:#333}@keyframes copyAnimation{0%{transform:scale(1)}25%{transform:scale(1.5)}50%{transform:scale(1)}75%{transform:scale(.5)}to{transform:scale(1)}}"]}),i})();const f$=["menuGiftsRef"];function g$(i,n){if(1&i&&(h(0,"div",35),m(1,"div",36),h(2,"div",34),x(3),d(),d()),2&i){const e=y(2);f("@mainText",void 0),c(3),D(e.locationService.translate("to archive","\u0432 \u0430\u0440\u0445\u0438\u0432"))}}function m$(i,n){if(1&i&&(h(0,"div",35),m(1,"div",37),m(2,"div",38),h(3,"div",34),x(4),d(),d()),2&i){const e=y(2);f("@mainText",void 0),c(4),D(e.locationService.translate("rotate","\u0432\u0440\u0430\u0449\u0430\u0442\u044c"))}}function _$(i,n){if(1&i&&(h(0,"div",39),x(1),d()),2&i){const e=y(2);f("@mainText",void 0),c(1),D(e.gifts.length-e.inBox.length)}}function v$(i,n){if(1&i&&(h(0,"div",28),S(1,g$,4,2,"div",29),S(2,m$,5,2,"div",29),h(3,"div",30,31),h(5,"div",32),S(6,_$,2,2,"div",33),d(),h(7,"div",34),x(8),d(),d(),d()),2&i){const e=y();V("top-menu_dark-mode",null!==e.activeGift.id),f("@menu",void 0),c(1),f("ngIf",null!==e.activeGift.id),c(1),f("ngIf",null!==e.activeGift.id),c(4),f("ngIf",e.gifts.length-e.inBox.length>0),c(2),D(e.locationService.translate("archive","\u0430\u0440\u0445\u0438\u0432"))}}function y$(i,n){if(1&i&&(h(0,"div",40),x(1),d()),2&i){const e=y();f("@mainText",void 0),c(1),se(" ",e.locationService.translate("here is the gift for you","\u0434\u043b\u044f \u0432\u0430\u0441 \u043f\u043e\u0434\u0430\u0440\u043e\u043a"),"\n")}}function C$(i,n){if(1&i&&(h(0,"div",41),x(1),d()),2&i){const e=y();f("@mainText2",void 0),c(1),se(" ",e.locationService.translate("enter a code","\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434"),"\n")}}function b$(i,n){if(1&i&&(h(0,"div",42),x(1),d()),2&i){const e=y();f("@mainText3",void 0),c(1),Li(" ",e.locationService.translate("attempts left: ","\u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043f\u044b\u0442\u043e\u043a: ")," ",e.triesCode,"\n")}}function w$(i,n){if(1&i&&(h(0,"div",43),x(1),d()),2&i){const e=y();f("@hint",void 0),c(1),se(" ",e.locationService.translate("touch to continue","\u043d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"),"\n")}}function x$(i,n){if(1&i&&(h(0,"div",43),x(1),d()),2&i){const e=y();f("@hint",void 0),c(1),se(" ",e.locationService.translate("tap to open","\u043d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043a\u0440\u044b\u0442\u044c"),"\n")}}function k$(i,n){if(1&i&&(h(0,"div",43),x(1),d()),2&i){const e=y();f("@hint",void 0),c(1),se(" ",e.locationService.translate("tap to unpack","\u043d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u0430\u0442\u044c"),"\n")}}function P$(i,n){if(1&i&&(h(0,"div",43),x(1),d()),2&i){const e=y();f("@hint",void 0),c(1),se(" ",e.locationService.translate("move all gifts to the archive","\u043f\u0435\u0440\u0435\u043b\u043e\u0436\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u0434\u0430\u0440\u043a\u0438 \u0432 \u0430\u0440\u0445\u0438\u0432"),"\n")}}function S$(i,n){if(1&i&&(h(0,"div",44),x(1),d()),2&i){const e=y();f("@hint",void 0),c(1),se(" ",e.locationService.translate("tap - open","\u043d\u0430\u0436\u0430\u0442\u044c - \u043e\u0442\u043a\u0440\u044b\u0442\u044c"),"\n")}}function M$(i,n){if(1&i){const e=H();h(0,"app-touch-lock",45),C("input",function(o){return E(e),y().onInputLock(o)}),d()}if(2&i){const e=y();f("@code",void 0)("disabled",e.disabledCode)("toReject",e.toRejectCode)("toAccept",e.toAcceptCode)("toInput",e.toInputCode)}}function D$(i,n){if(1&i&&m(0,"app-greeting-card",52),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateX("+(e.rotate.x+e.shiftRotate.x)+"deg) rotateY("+(180+e.rotate.y)+"deg) rotateZ(-90deg)"),V("gift_animated",t.activeGift.animated),f("size",t.getSizeGift(e))("front",e.front)("back",e.back)("text",e.text)("color",e.color)("sign",e.sign)("smooth",t.activeGift.animated)}}function E$(i,n){if(1&i&&m(0,"app-game",53),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateX("+(e.rotate.x+e.shiftRotate.x)+"deg) rotateY(180deg) rotateZ(-90deg)"),V("gift_animated",t.activeGift.animated),f("size",t.getSizeGift(e))("color",e.color)("front",e.front)("inside",e.inside)("side",e.side)("code",e.code)("open",e.open)("smooth",t.activeGift.animated)}}function T$(i,n){if(1&i&&m(0,"app-speaker",54),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateX("+(e.rotate.x+e.shiftRotate.x)+"deg) rotateY(0deg) rotateZ(90deg)"),V("gift_animated",t.activeGift.animated),f("size",t.getSizeGift(e))("grill",e.grill)("color",e.color)("smooth",t.activeGift.animated)}}function O$(i,n){if(1&i&&m(0,"app-tablet",55),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateX("+(e.rotate.x+e.shiftRotate.x)+"deg) rotateY(180deg) rotateZ(-90deg)"),V("gift_animated",t.activeGift.animated),f("size",t.getSizeGift(e))("color",e.color)("smooth",t.activeGift.animated)}}function I$(i,n){if(1&i&&m(0,"app-photo",56),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateX("+(e.rotate.x+e.shiftRotate.x)+"deg) rotateY(180deg) rotateZ(-90deg)"),V("gift_animated",t.activeGift.animated),f("size",t.getSizeGift(e))("photo",e.photo)("sign",e.sign)("smooth",t.activeGift.animated)}}function A$(i,n){if(1&i&&(Se(0),S(1,D$,1,11,"app-greeting-card",47),S(2,E$,1,12,"app-game",48),S(3,T$,1,8,"app-speaker",49),S(4,O$,1,7,"app-tablet",50),S(5,I$,1,8,"app-photo",51),Me()),2&i){const e=n.ngIf;c(1),f("ngIf","greetingcard"===e.type),c(1),f("ngIf","game"===e.type),c(1),f("ngIf","speaker"===e.type),c(1),f("ngIf","tablet"===e.type),c(1),f("ngIf","photo"===e.type)}}function R$(i,n){if(1&i&&(Se(0),S(1,A$,6,5,"ng-container",46),Me()),2&i){const e=n.$implicit,t=y();c(1),f("ngIf",t.getGiftById(e))}}function F$(i,n){if(1&i&&m(0,"div",57),2&i){const e=y();b("width",e.getSizeBackActive().w,"px")("height",e.getSizeBackActive().h,"px")("transform","translateZ(-"+e.box.size.h+"px)"),f("@activeBack",void 0)}}const N$=function(i){return{delay:i}},B$=function(i){return{value:"",params:i}};function V$(i,n){if(1&i){const e=H();h(0,"app-touch-giftslist-option",60),C("click",function(){const s=E(e).$implicit;return y(2).showViewGift(s)}),m(1,"div",61),x(2),vc(3,"textMore"),d()}if(2&i){const e=n.$implicit,t=n.index,o=y(2);f("@slideTopGiftBlock",Xt(9,B$,Xt(7,N$,20*t+"ms")))("gift",e)("refresh",o.refreshSnapshots),c(2),se(" ",yc(3,4,e.title,20)," ")}}function L$(i,n){if(1&i&&(h(0,"app-touch-scroll",58),S(1,V$,4,11,"app-touch-giftslist-option",59),d()),2&i){const e=y();f("touch",e.touches.archive)("refreshable",!0),c(1),f("ngForOf",e.gifts)}}function z$(i,n){if(1&i&&m(0,"app-touch-text-copy",62),2&i){const e=y();f("text",null==e.activeGiftView?null:e.activeGiftView.text.replaceAll("<br>","\n"))}}function G$(i,n){if(1&i&&(h(0,"div",63),h(1,"div",64),x(2),d(),h(3,"div",65),x(4),d(),m(5,"img",66),h(6,"div",65),x(7),d(),m(8,"img",67),h(9,"div",65),x(10),d(),m(11,"img",68),h(12,"div",65),x(13),h(14,"a",69),x(15,"https://www.playstation.com/ru-ru/support/store/redeem-ps-store-voucher-code/"),d(),d(),d()),2&i){const e=y();c(2),D(e.locationService.translate("How to activate a reedem key for playstation","\u041a\u0430\u043a \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u044e\u0447 \u0434\u043b\u044f playstation")),c(2),D(e.locationService.translate("1. Select PlayStation Store and press the triangle button to bring up the menu.","1. \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 PlayStation Store \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 \xab\u0442\u0440\u0435\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a\xbb \u0434\u043b\u044f \u0432\u044b\u0437\u043e\u0432\u0430 \u043c\u0435\u043d\u044e.")),c(3),D(e.locationService.translate("2. Select... (more) > Redeem Codes.","2. \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 ... (\u0435\u0449\u0435) > \u041f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u043e\u0432.")),c(3),D(e.locationService.translate("3. Enter the 12-digit code and select Redeem. The funds or materials will be added to your account.","3. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 12-\u0437\u043d\u0430\u0447\u043d\u044b\u0439 \u043a\u043e\u0434 \u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u041f\u043e\u0433\u0430\u0441\u0438\u0442\u044c. \u0421\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0438\u043b\u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0431\u0443\u0434\u0443\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0432\u0430\u0448\u0443 \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c.")),c(3),se(" ",e.locationService.translate("See the official website for more details: ","\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u043d\u0430 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u0441\u0430\u0439\u0442\u0435: ")," ")}}function j$(i,n){if(1&i&&(h(0,"div",63),h(1,"div",64),x(2),d(),h(3,"div",65),x(4),d(),m(5,"img",70),h(6,"div",65),x(7),d(),m(8,"img",71),h(9,"div",65),x(10),d(),m(11,"img",72),h(12,"div",65),x(13),h(14,"a",73),x(15,"https://support.xbox.com/ru-RU/help/subscriptions-billing/redeem-codes-gifting/redeem-prepaid-codes"),d(),d(),d()),2&i){const e=y();c(2),D(e.locationService.translate("How to activate a reedem key for xbox","\u041a\u0430\u043a \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u044e\u0447 \u0434\u043b\u044f xbox")),c(2),D(e.locationService.translate("1. Press the Xbox button to open the guide, then select Store.","1. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 Xbox, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0433\u0438\u0434, \u0430 \u0437\u0430\u0442\u0435\u043c \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 Store.")),c(3),D(e.locationService.translate("2. Click the View button to open the side menu, and then select Activate.","2. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0431\u043e\u043a\u043e\u0432\u043e\u0435 \u043c\u0435\u043d\u044e, \u0430 \u0437\u0430\u0442\u0435\u043c \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c.")),c(3),D(e.locationService.translate("3. Enter the 25-digit code, click Next and follow the onscreen instructions.","3. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 25-\u0437\u043d\u0430\u0447\u043d\u044b\u0439 \u043a\u043e\u0434, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0414\u0430\u043b\u0435\u0435 \u0438 \u0441\u043b\u0435\u0434\u0443\u0439\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f\u043c \u043d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435.")),c(3),se(" ",e.locationService.translate("See the official website for more details: ","\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u043d\u0430 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u0441\u0430\u0439\u0442\u0435: ")," ")}}function H$(i,n){if(1&i&&m(0,"app-touch-text-copy",62),2&i){const e=y();f("text",null==e.activeGiftView?null:e.activeGiftView.code)}}let U$=(()=>{class i{constructor(e,t,o,s,r,a,l){this.locationService=e,this.touchService=t,this.asyncService=o,this.viewContainerRef=s,this.changeDetectorRef=r,this.backendService=a,this.router=l,this.subs=[],this.code="1000",this.toRejectCode=new L,this.toAcceptCode=new L,this.toInputCode=new L,this.disabledCode=!1,this.stage=1,this.triesCode=3,this.inBox=[],this.gifts=[],this.firstMove=!0,this.modeMove="horizontal",this.velocityMove=0,this.velocityTimeout=setTimeout(()=>{},0),this.general={},this.wrap={x:0,y:0,scale:1,disable:!1,animated:!1,shift:{x:0,y:0},show:!1},this.box={animate:!1,packed:!0,wrapped:!0,tapped:!0,package:"../../assets/box/package/4.jpg",tape:"../../assets/box/tape/1.jpg",coord:{x:0,y:-1e3,z:0},rotate:{x:-15,y:-70,z:0},size:{w:110,h:130,d:120},scale:1,shiftRotate:{x:0,y:0}},this.grid={w:2,h:2},this.confirm={value:"",type:""},this.activeGift={id:null,animated:!1},this.refreshSnapshots=!1,this.sublimePoemScrollToCenter=!1,this.sublimeHowToUseScrollToCenter=!1,this.sublimeCodeGameScrollToCenter=!1,this.sublimeGeneralInfoScrollToCenter=!1,this.activeWatchVideo=!1,this.menu=[],this.menuSublimeShow=!1,this.touches={first:null,code:null,main:null,giftslist:null,screenViewGift:null,menu:null,archive:null,poem:null,howToUse:null,codeGame:null,screenListenAudio:null,screenWatchVideo:null,generalInfo:null},this.disableds={first:!0,code:!0,main:!0,giftslist:!0,screenViewGift:!0,menu:!0,archive:!0,poem:!0,howToUse:!0,codeGame:!0,screenListenAudio:!0,screenWatchVideo:!0,generalInfo:!0},this.stats={first:"close",code:"close",main:"close",giftslist:"close",screenViewGift:"close",menu:"close",archive:"close",poem:"close",howToUse:"close",codeGame:"close",screenListenAudio:"close",screenWatchVideo:"close",generalInfo:"close"},this.activeGiftView=null,this.modeViewGift="usual",this.sublimeRefreshViewGift=!1,this.buttomTextView=this.locationService.translate("additional information in the right menu","\u0434\u043e\u043f. \u0438\u043d\u0444\u0430 \u0432 \u043f\u0440\u0430\u0432\u043e\u043c \u043c\u0435\u043d\u044e"),this.flagdbl=!1,this.timeoutdbl=setTimeout(()=>{},0)}getGiftById(e){return this.gifts.find(t=>t.id===e)||null}closeScreen(e){this.disableds[e]=!0,this.stats[e]="close"}showScreen(e){this.disableds[e]=!1,this.stats[e]="open"}dropListGifts(e){let t=this.gifts[e.previousIndex];this.gifts.splice(e.previousIndex,1),this.gifts.splice(e.currentIndex,0,t)}actionMenu(e){this.stats.menu=e}menuWasChoosen(e){console.log(e),"text"===e?"greetingcard"===this.activeGiftView.type&&(this.closeScreen("screenViewGift"),this.showScreen("poem"),this.sublimePoemScrollToCenter=!this.sublimePoemScrollToCenter,this.menu=[]):"howToUse"===e?(console.log(this.activeGiftView),"game"===this.activeGiftView.type&&(this.closeScreen("screenViewGift"),this.showScreen("howToUse"),this.sublimeHowToUseScrollToCenter=!this.sublimeHowToUseScrollToCenter,this.menu=[])):"open"===e?("game"===this.activeGiftView.type&&(this.activeGiftView.open=!0),this.setMenuViewGift()):"close"===e?("game"===this.activeGiftView.type&&(this.activeGiftView.open=!1),this.setMenuViewGift()):"code"===e?"game"===this.activeGiftView.type&&(this.closeScreen("screenViewGift"),this.showScreen("codeGame"),this.sublimeCodeGameScrollToCenter=!this.sublimeCodeGameScrollToCenter,this.menu=[]):"listen"===e?"speaker"===this.activeGiftView.type&&(this.closeScreen("screenViewGift"),this.showScreen("screenListenAudio"),this.menu=[]):"watch"===e?"tablet"===this.activeGiftView.type&&(this.closeScreen("screenViewGift"),this.showScreen("screenWatchVideo"),this.menu=[],this.activeWatchVideo=!0):"generalInfo"===e&&(this.closeScreen("screenViewGift"),this.showScreen("generalInfo"),this.menu=[],this.sublimeGeneralInfoScrollToCenter=!this.sublimeGeneralInfoScrollToCenter)}getValuePostfix(e){return"dollar"===e?"$":"euro"===e?"\u20ac":"ruble"===e?"\u20bd":"yen"===e?"\xa5":"pound"===e?"\xa3":e.slice(0,1)}getPriceString(){if("yes"===this.box.cost_type)return`${this.box.cost_price} ${this.getValuePostfix(this.box.cost_currency)}`;if("no"===this.box.cost_type)return this.locationService.translate("not specified","\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e");if("hint"===this.box.cost_type){let e=this.box.cost_price[0],t=this.box.cost_price[1];return 0===t&&e===t?`0 ${this.getValuePostfix(this.box.cost_currency)}`:"infinity"===t?`${this.locationService.translate("more","\u0431\u043e\u043b\u0435\u0435")} ${e} ${this.getValuePostfix(this.box.cost_currency)}`:`${this.locationService.translate("from","\u043e\u0442")} ${e} ${this.locationService.translate("to","\u0434\u043e")} ${t} ${this.getValuePostfix(this.box.cost_currency)}`}return""}getSizeActiveGift(e){let t=.9,o=-window.innerHeight/4/this.wrap.scale-this.wrap.y/this.wrap.scale,s=-this.wrap.y/this.wrap.scale,r=e.pos.y;return"greetingcard"===e.type?window.innerWidth/this.wrap.scale*(297/420)*t*((r-o)/(s-o)/2+.5):"game"===e.type?window.innerWidth/this.wrap.scale*(135/190)*t*((r-o)/(s-o)/2+.5):"speaker"===e.type||"tablet"===e.type?window.innerWidth/this.wrap.scale*t*((r-o)/(s-o)/2+.5):"photo"===e.type?window.innerWidth/this.wrap.scale*.75*t*((r-o)/(s-o)/2+.5):0}getSizeGift(e){let t=.9;return e.id===this.activeGift.id?this.getSizeActiveGift(e):"greetingcard"===e.type?this.box.size.w/this.grid.h*(297/420)*t:"game"===e.type?this.box.size.w/this.grid.h*(135/190)*t:"speaker"===e.type||"tablet"===e.type?this.box.size.d/this.grid.w*t:"photo"===e.type?this.box.size.w/this.grid.h*.75*t:0}getDepthGift(e){const t=this.getSizeGift(e);return"greetingcard"===e.type?t/297:"game"===e.type?t/9:"speaker"===e.type?t/(299/136):"tablet"===e.type?t/(247/6):"photo"===e.type?t/480:1}setBoxSizeAndGrid(){const e=this.gifts.length;e<4?(this.grid={w:1,h:1},this.box.size.w=150,this.box.size.d=150):e>=4&&e<6?(this.grid={w:2,h:2},this.box.size.w=300,this.box.size.d=300):e>=6&&e<9?(this.grid={w:3,h:2},this.box.size.w=300,this.box.size.d=450):e>=9&&(this.grid={w:3,h:3},this.box.size.w=450,this.box.size.d=450);let t=0;this.gifts.forEach(o=>{t+=this.getDepthGift(o)}),t+=40,t=Math.ceil(t),this.box.size.h=t}setStage2(){var e=this;return I(function*(){return e.closeScreen("first"),e.showScreen("code"),e.stage=0,yield e.asyncService.delay(200),e.stage=2,new Promise(t=>t())})()}setStage3(){var e=this;return I(function*(){return e.closeScreen("code"),e.showScreen("main"),e.toAcceptCode.emit(),e.wrap.show=!0,yield e.asyncService.delay(1e3),e.stage=0,e.box.animate=!0,yield e.asyncService.delay(400),e.box.coord.y=0,yield e.asyncService.delay(300),e.stage=3,e.box.animate=!1,new Promise(t=>t())})()}setStage4NoAnimation(){var e=this;return I(function*(){return e.box.animate=!1,e.wrap.animated=!1,e.wrap.show=!0,e.box.tapped=!1,e.box.wrapped=!1,e.box.packed=!1,yield e.asyncService.delay(10),e.wrap.scale=e.getScaleBoxToFitScreen(),e.box.rotate.x=-90,e.box.rotate.y=90,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.stage=4,e.wrap.animated=!1,e.box.animate=!1,new Promise(t=>t())})()}setStage4(){var e=this;return I(function*(){return e.stage=0,e.box.animate=!0,e.wrap.animated=!0,e.box.tapped=!1,yield e.asyncService.delay(4e3),e.box.wrapped=!1,yield e.asyncService.delay(6e3),e.box.packed=!1,yield e.asyncService.delay(2e3),e.wrap.scale=e.getScaleBoxToFitScreen(),e.box.rotate.x=-90,e.box.rotate.y=90,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,yield e.asyncService.delay(300),e.stage=4,e.wrap.animated=!1,e.box.animate=!1,new Promise(t=>t())})()}setStage5NoAnimation(){var e=this;return I(function*(){return e.closeScreen("main"),e.showScreen("archive"),e.inBox=[],e.stage=0,e.box.animate=!0,e.wrap.animated=!0,e.box.y=-1e3,e.wrap.show=!1,e.stage=5,e.wrap.animated=!1,e.box.animate=!1,e.setMenuHome(),new Promise(t=>t())})()}setStage5(){var e=this;return I(function*(){return e.closeScreen("main"),e.showScreen("archive"),e.stage=0,e.box.animate=!0,e.wrap.animated=!0,yield e.asyncService.delay(10),e.box.y=-1e3,yield e.asyncService.delay(300),e.wrap.show=!1,e.stage=5,e.wrap.animated=!1,e.box.animate=!1,e.setMenuHome(),new Promise(t=>t())})()}getScaleBoxToFitScreen(){let e=1,t_ratio=this.box.size.d/this.box.size.w,o_w=window.innerWidth,o_h=window.innerHeight,o_ratio=window.innerWidth/window.innerHeight;return t_ratio>=o_ratio?e=o_w/this.box.size.d:t_ratio<=o_ratio&&(e=o_h/this.box.size.w),e}showViewGift(e){this.closeScreen("archive"),this.showScreen("screenViewGift"),this.activeGiftView=e,this.sublimeRefreshViewGift=!this.sublimeRefreshViewGift,this.setMenuViewGift(),this.buttomTextView="photo"===e.type?"":this.locationService.translate("additional information in the right menu","\u0434\u043e\u043f. \u0438\u043d\u0444\u0430 \u0432 \u043f\u0440\u0430\u0432\u043e\u043c \u043c\u0435\u043d\u044e")}closeScreenViewGift(){"open"===this.stats.poem||"open"===this.stats.howToUse||"open"===this.stats.codeGame||"open"===this.stats.screenListenAudio||"open"===this.stats.screenWatchVideo||(this.activeGiftView=null,this.closeScreen("screenViewGift"),this.showScreen("archive"),this.modeViewGift="usual",this.setMenuHome())}setMenuHome(){let e=[{title:this.locationService.translate("general info","\u043e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),ico:"../../assets/menu.svg",value:"generalInfo"}];this.menu=e}setDisableds(e){if("open"===this.stats.menu)this.disableds.screenViewGift=!0,this.disableds.menu=!1;else if("open"===this.stats.screenViewGift){if("review"===this.modeViewGift)this.disableds.screenViewGift=!1,this.disableds.menu=!0;else if("move"===e.action&&null!==e.prev&&"start"===e.prev.action){const t=[e.x-e.prev.x,e.y-e.prev.y];Math.abs(t[1])>Math.abs(t[0])?(this.disableds.screenViewGift=!1,this.disableds.menu=!0):t[0]<0?(this.disableds.screenViewGift=!0,this.disableds.menu=!1):(this.disableds.screenViewGift=!1,this.disableds.menu=!0)}}else if("open"===this.stats.archive&&"move"===e.action&&null!==e.prev&&"start"===e.prev.action){const t=[e.x-e.prev.x,e.y-e.prev.y];Math.abs(t[1])>Math.abs(t[0])?(this.disableds.archive=!1,this.disableds.menu=!0):t[0]<0?(this.disableds.archive=!0,this.disableds.menu=!1):(this.disableds.archive=!1,this.disableds.menu=!0)}}showConfirm(e,t){this.confirm.value=t,this.confirm.type=e}resultConfirm(e){"lastTry"===this.confirm.type&&(this.disabledCode=!1,"agree"===e&&this.toInputCode.emit()),this.confirm.value="",this.confirm.type=""}setMenuViewGift(){if(null===this.activeGiftView&&"close"===this.stats.screenViewGift)return;let e=[];"greetingcard"===this.activeGiftView.type?e.push({title:this.locationService.translate("text","\u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435"),ico:"../../assets/text.svg",value:"text"}):"game"===this.activeGiftView.type?(("ps"===this.activeGiftView.platform||"xbox"===this.activeGiftView.platform)&&e.push({title:this.locationService.translate("how to activate","\u043a\u0430\u043a \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),ico:"../../assets/question-mark.svg",value:"howToUse"}),e.push(this.activeGiftView.open?{title:this.locationService.translate("close","\u0437\u0430\u043a\u0440\u044b\u0442\u044c"),ico:"../../assets/open.svg",value:"close"}:{title:this.locationService.translate("open","\u043e\u0442\u043a\u0440\u044b\u0442\u044c"),ico:"../../assets/open.svg",value:"open"}),e.push({title:this.locationService.translate("redeem key","\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447"),ico:"../../assets/password.svg",value:"code"})):"speaker"===this.activeGiftView.type?this.activeGiftView.value[0]&&e.push({title:this.locationService.translate("listen","\u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0430\u0442\u044c"),ico:"../../assets/speaker.svg",value:"listen"}):"tablet"===this.activeGiftView.type&&null!==this.activeGiftView.value&&""!==this.activeGiftView.value&&e.push({title:this.locationService.translate("watch","\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"),ico:"../../assets/eye.svg",value:"watch"}),this.menu=e}onInputLock(e){var t=this;return I(function*(){t.disabledCode=!0;let o=yield t.backendService.getBox(t.general.id,e);if(o.success){const s=o.result.box,r=o.result.gifts;t.box=Object.assign(Object.assign({},t.box),{id:s.id,package:`${t.backendService.getLinkFromBackend(s.link_package)}`,tape:`${t.backendService.getLinkFromBackend(s.link_tape)}`,cost_currency:s.cost_currency,cost_price:s.cost_price,cost_rate:s.cost_rate,cost_type:s.cost_type}),t.setGifts(r),t.setStage3()}else t.toRejectCode.emit(),t.triesCode--;return t.disabledCode=!1,new Promise(s=>s())})()}getTopGiftFromCell(e,t){let o=-999999,s=null;for(let r=0;r<this.inBox.length;r++){const a=this.getGiftById(this.inBox[r]);a.cell.x===e&&a.cell.y===t&&a.pos.z>o&&(o=a.pos.z,s=a)}return s}getSizeBackActive(){return{w:3*window.innerWidth*this.wrap.scale,h:3*window.innerHeight*this.wrap.scale}}throwActiveGift(e){var t=this;return I(function*(){const r=t.menuGiftsRef.nativeElement.getBoundingClientRect();t.activeGift.animated=!0,yield t.asyncService.delay(10);let[a,l]=[r.x+r.width/2,r.y+r.height/2];return e.pos.x=(-t.wrap.x+(a-window.innerWidth/2))/t.wrap.scale,e.pos.y=(-t.wrap.y+(l-window.innerHeight/2))/t.wrap.scale-10,e.pos.z=2*t.box.size.h,yield t.asyncService.delay(300),t.inBox=t.inBox.filter(u=>u!==t.activeGift.id),t.activeGift.id=null,t.activeGift.animated=!1,0===t.inBox.length&&t.setStage5(),new Promise(u=>u())})()}setActiveGift(e){var t=this;return I(function*(){return t.activeGift.animated=!0,yield t.asyncService.delay(10),t.activeGift.id=e.id,e.pos.x=-t.wrap.x/t.wrap.scale,e.pos.y=-t.wrap.y/t.wrap.scale,e.pos.z=999*t.box.size.h,yield t.asyncService.delay(400),t.activeGift.animated=!1,new Promise(o=>o())})()}switchOpenGiftGame(e){var t=this;return I(function*(){return"game"!==e.type||(t.activeGift.animated=!0,yield t.asyncService.delay(10),e.open=!e.open,yield t.asyncService.delay(300),t.activeGift.animated=!1),new Promise(o=>o())})()}processTouch(e){if(this.setDisableds(e),Object.keys(this.touches).forEach(t=>{this.touches[t]=null}),this.disableds.archive||(this.touches.archive=e),this.disableds.screenViewGift||(this.touches.screenViewGift=e),this.disableds.menu||(this.touches.menu=e),this.disableds.poem||(this.touches.poem=e),this.disableds.howToUse||(this.touches.howToUse=e),this.disableds.codeGame||(this.touches.codeGame=e),this.disableds.screenListenAudio||(this.touches.screenListenAudio=e),this.disableds.screenWatchVideo||(this.touches.screenWatchVideo=e),this.disableds.generalInfo||(this.touches.generalInfo=e),1===this.stage)"end"===e.action&&this.setStage2();else if(2===this.stage)"end"===e.action&&!e.drag&&(1===this.triesCode?setTimeout(()=>{this.disabledCode=!0,this.showConfirm("lastTry",this.locationService.translate("Last try. Then the gift is blocked. You will have to ask the sender to unblock it.","\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u043f\u043e\u043f\u044b\u0442\u043a\u0430. \u0414\u0430\u043b\u044c\u0448\u0435 \u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442\u0441\u044f. \u041f\u0440\u0438\u0434\u0451\u0442\u0441\u044f \u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044f, \u0447\u0442\u043e\u0431\u044b \u043e\u043d \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043b."))},10):this.triesCode>1&&this.toInputCode.emit());else if(3===this.stage)"end"===e.action&&!e.drag&&this.setStage4();else if(4===this.stage){if("move"===e.action&&null===this.activeGift.id){let t=this.cellBoxDragging(e.x,e.y),o=-(window.innerWidth/2+t.rectAllowed.w/2),s=-(window.innerHeight/2+t.rectAllowed.h/2),r=window.innerWidth/2+t.rectAllowed.w/2,a=window.innerHeight/2+t.rectAllowed.h/2,l=e.x-e.start.x,u=e.y-e.start.y;this.wrap.x+l<o&&(l=o-this.wrap.x),this.wrap.y+u<s&&(u=s-this.wrap.y),this.wrap.x+l>r&&(l=r-this.wrap.x),this.wrap.y+u>a&&(u=a-this.wrap.y),this.wrap.shift.x=l,this.wrap.shift.y=u}else if("move"===e.action&&null!==this.activeGift.id){if(e.prev&&(this.velocityMove=e.y-e.prev.y,clearTimeout(this.velocityTimeout),this.velocityTimeout=setTimeout(()=>{this.velocityMove=0},200)),this.firstMove&&(this.modeMove=Math.abs(e.x-e.start.x)>=Math.abs(e.y-e.start.y)?"horizontal":"vertical"),"horizontal"===this.modeMove)this.getGiftById(this.activeGift.id).shiftRotate.x=-(e.x-e.start.x)%360;else if("vertical"===this.modeMove){const t=this.getGiftById(this.activeGift.id);let o=(e.y-e.start.y)/this.wrap.scale,s=0,r=-window.innerHeight/4/this.wrap.scale;o>s&&(o=s),o<r&&(o=r),t.pos.y=o-this.wrap.y/this.wrap.scale}}else if("end"!==e.action||e.drag||null!==this.activeGift.id)if("end"!==e.action||e.drag||null===this.activeGift.id)if("end"===e.action&&e.drag&&null!==this.activeGift.id){const t=this.getGiftById(this.activeGift.id);t.rotate.x+=t.shiftRotate.x,t.rotate.x=t.rotate.x%360,t.shiftRotate.x=0;let o=this.velocityMove,s=-window.innerHeight/4/this.wrap.scale-this.wrap.y/this.wrap.scale,a=(t.pos.y-s)/(-this.wrap.y/this.wrap.scale-s);"vertical"===this.modeMove&&(o<0||a<.5?this.throwActiveGift(t):(o>0||a>=.5)&&this.setActiveGift(t))}else"end"===e.action&&e.drag&&(this.wrap.x+=this.wrap.shift.x,this.wrap.y+=this.wrap.shift.y,this.wrap.shift.x=0,this.wrap.shift.y=0);else{const t=this.getGiftById(this.activeGift.id);"game"===t.type&&this.switchOpenGiftGame(t)}else{let t=this.cellBoxDragging(e.x,e.y);if(t.allowed){let o=this.getTopGiftFromCell(t.x,t.y);this.setActiveGift(o)}}"move"===e.action&&(this.firstMove=!1),"end"===e.action&&(this.firstMove=!0)}"end"===e.action&&!1===e.drag&&(this.flagdbl?(this.dbltap(),this.flagdbl=!1):(clearTimeout(this.timeoutdbl),this.flagdbl=!0,this.timeoutdbl=setTimeout(()=>{this.flagdbl=!1},200)))}dbltap(){"open"===this.stats.screenViewGift&&("usual"==this.modeViewGift?this.modeViewGift="review":"review"==this.modeViewGift&&(this.modeViewGift="usual"))}idBannedGiftsInCell(e,t){for(let o=0;o<this.inBox.length;o++){const s=this.getGiftById(this.inBox[o]);if(s.cell.x===e&&s.cell.y===t&&"speaker"===s.type)return s.id}return!1}closeScreenPoem(){this.closeScreen("poem"),this.showScreen("screenViewGift"),this.setMenuViewGift()}closeScreenHowToUse(){this.closeScreen("howToUse"),this.showScreen("screenViewGift"),this.setMenuViewGift()}closeScreenCodeGame(){this.closeScreen("codeGame"),this.showScreen("screenViewGift"),this.setMenuViewGift()}closeScreenListenAudio(){this.closeScreen("screenListenAudio"),this.showScreen("screenViewGift"),this.setMenuViewGift()}closeWatchVideo(){this.closeScreen("screenWatchVideo"),this.showScreen("screenViewGift"),this.setMenuViewGift(),this.activeWatchVideo=!1}closeGeneralInfo(){this.closeScreen("generalInfo"),this.showScreen("archive"),this.setMenuHome()}cellBoxDragging(e,t){let o=!1,[s,r]=[0,0],a={w:this.box.size.d*this.wrap.scale,h:this.box.size.w*this.wrap.scale,ratio:0};a.ratio=a.w/a.h;let l={w:window.innerWidth,h:window.innerHeight,ratio:0};l.ratio=l.w/l.h;let u={w:a.w/this.grid.w,h:a.h/this.grid.h},p={w:a.w,h:a.h,x:0,y:0};return a.ratio>=l.ratio?(p.x=this.wrap.x,p.y=this.wrap.y+(l.h-a.h)/2):a.ratio<l.ratio&&(p.x=this.wrap.x+(l.w-a.w)/2,p.y=this.wrap.y),s=Math.floor((e-p.x)/u.w),r=Math.floor((t-p.y)/u.h),e>=p.x&&e<=p.x+p.w&&t>=p.y&&t<=p.y+p.h&&(o=!0),s<0&&(s=0),s>this.grid.w-1&&(s=this.grid.w-1),r<0&&(r=0),r>this.grid.h-1&&(r=this.grid.h-1),{x:s,y:r,allowed:o,sizeCell:u,rectAllowed:p}}setGiftInBox(){this.inBox=this.gifts.map(e=>e.id)}convertURIToBinary(e){let t=";base64,",o=e.indexOf(t)+t.length,s=e.substring(o),r=window.atob(s),a=r.length,l=new Uint8Array(new ArrayBuffer(a));for(let u=0;u<a;u++)l[u]=r.charCodeAt(u);return l}refreshAudioInGifts(e){return I(function*(){for(let t=0;t<e.length;t++){let o=e[t];if("speaker"!==o.type)e[t]=Object.assign({},o);else{const s=yield(yield fetch(o.value)).blob();e[t]=Object.assign(Object.assign({},o),{value:[s]})}}return new Promise(t=>t(e))})()}refreshVideoInGifts(e){return I(function*(){for(let t=0;t<e.length;t++){let o=e[t];if("tablet"!==o.type)e[t]=Object.assign({},o);else{const s=yield(yield fetch(o.value)).blob();e[t]=Object.assign(Object.assign({},o),{value:[s],urlVideo:URL.createObjectURL(s)})}}return new Promise(t=>t(e))})()}getZPositionGift(e){let t=this.getDepthGift(e)/2+2;for(let o=0;this.inBox[o]!==e.id&&o<this.inBox.length;o++){const s=this.getGiftById(this.inBox[o]);e.cell.x===s.cell.x&&e.cell.y===s.cell.y&&(t+=this.getDepthGift(s))}return t}setGifts(e){var t=this;return I(function*(){return e.forEach(o=>{"greetingcard"===o.type?(o.back=t.backendService.getLinkFromBackend(o.back),o.front=t.backendService.getLinkFromBackend(o.front)):"game"===o.type?(o.front=t.backendService.getLinkFromBackend(o.front),o.inside=t.backendService.getLinkFromBackend(o.inside),o.side=t.backendService.getLinkFromBackend(o.side)):"speaker"===o.type?(o.grill=t.backendService.getLinkFromBackend(o.grill),o.value=t.backendService.getLinkFromBackend(o.value)):"tablet"===o.type?o.value=t.backendService.getLinkFromBackend(o.value):"photo"===o.type&&(o.photo=t.backendService.getLinkFromBackend(o.photo))}),e=yield t.refreshAudioInGifts(e),e=yield t.refreshVideoInGifts(e),t.gifts=e,t.setGiftInBox(),t.setBoxSizeAndGrid(),t.gifts=t.gifts.map(o=>Object.assign(Object.assign({},o),{pos:{x:-t.box.size.d/2+(.5+o.cell.x)*(t.box.size.d/t.grid.w),y:-t.box.size.w/2+(.5+o.cell.y)*(t.box.size.w/t.grid.h),z:t.getZPositionGift(o)},rotate:{x:0,y:0,z:0},shiftRotate:{x:0,y:0,z:0}})),new Promise(o=>o())})()}getBoxGeneral(){const t=decodeURI(this.router.url).split("?")[0].split("/")[2];this.backendService.getBoxGeneralByLink(t).then(o=>{!o.success||!o.result||(this.triesCode=o.result.attempts,this.general.id=o.result.id)})}ngOnInit(){this.getBoxGeneral(),this.subs.push(this.touchService.stream$.subscribe(e=>{this.processTouch(e)}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(P(De),P(Zo),P(ve),P(Bt),P(ei),P(Qo),P(ct))},i.\u0275cmp=X({type:i,selectors:[["app-touch-page-view"]],viewQuery:function(e,t){if(1&e&&Xe(f$,5,q),2&e){let o;Ve(o=Le())&&(t.menuGiftsRef=o.first)}},decls:39,vars:89,consts:[[2,"z-index","100","position","absolute",3,"value","result"],[3,"touch","options","sublimeshow","action","choose"],["class","top-menu",3,"top-menu_dark-mode",4,"ngIf"],["class","main-text",4,"ngIf"],["class","main-text-2",4,"ngIf"],["class","main-text-3 text_red",4,"ngIf"],["class","hint",4,"ngIf"],["class","hint hint_white",4,"ngIf"],["class","lock",3,"disabled","toReject","toAccept","toInput","input",4,"ngIf"],[1,"wrap"],[1,"box",3,"packed","animate","wrapped","tapped","w","h","d","inside","package","tape"],[4,"ngFor","ngForOf"],["class","back-active",3,"width","height","transform",4,"ngIf"],[3,"touch","refreshable",4,"ngIf"],[3,"touch","show","scrollable","backable","close"],[3,"touch","gift","mode","sublimerefresh","buttomText"],[3,"touch","show","doscrolltocenter","close"],[3,"text",4,"ngIf"],["class","dialog",4,"ngIf"],[3,"show","backable","scrollable"],[3,"touch","gift","value","close"],[3,"show","touch","backable","scrollable","close"],[3,"active","video"],[3,"show","touch","backable","doscrolltocenter","close"],[1,"gi-title"],[1,"gi-box"],[1,"box",3,"packed","animate","wrapped","tapped","w","h","d","package","tape"],[1,"gi-text"],[1,"top-menu"],["class","top-menu__option",4,"ngIf"],[1,"top-menu__option","margin-left_auto","animation-throw"],["menuGiftsRef",""],[1,"top-menu__icon","top-menu__icon_archive"],["class","top-menu__count",4,"ngIf"],[1,"top-menu__text"],[1,"top-menu__option"],[1,"top-menu__icon","top-menu__icon_up"],[1,"top-menu__icon","top-menu__icon_left"],[1,"top-menu__icon","top-menu__icon_right"],[1,"top-menu__count"],[1,"main-text"],[1,"main-text-2"],[1,"main-text-3","text_red"],[1,"hint"],[1,"hint","hint_white"],[1,"lock",3,"disabled","toReject","toAccept","toInput","input"],[4,"ngIf"],["class","gift",3,"gift_animated","transform","size","front","back","text","color","sign","smooth",4,"ngIf"],["class","gift",3,"gift_animated","transform","size","color","front","inside","side","code","open","smooth",4,"ngIf"],["class","gift",3,"gift_animated","transform","size","grill","color","smooth",4,"ngIf"],["class","gift",3,"gift_animated","transform","size","color","smooth",4,"ngIf"],["class","gift",3,"gift_animated","transform","size","photo","sign","smooth",4,"ngIf"],[1,"gift",3,"size","front","back","text","color","sign","smooth"],[1,"gift",3,"size","color","front","inside","side","code","open","smooth"],[1,"gift",3,"size","grill","color","smooth"],[1,"gift",3,"size","color","smooth"],[1,"gift",3,"size","photo","sign","smooth"],[1,"back-active"],[3,"touch","refreshable"],["class","gift-option-list",3,"gift","refresh","click",4,"ngFor","ngForOf"],[1,"gift-option-list",3,"gift","refresh","click"],[1,"placeholder-list-gift"],[3,"text"],[1,"dialog"],[1,"dialog-title"],[1,"dialog-text"],["width","90%","src","assets/game/how-to-use/ps1.png",1,"dialog-img"],["width","90%","src","assets/game/how-to-use/ps2.png",1,"dialog-img"],["width","90%","src","assets/game/how-to-use/ps3.png",1,"dialog-img"],["target","_blank","href","https://www.playstation.com/ru-ru/support/store/redeem-ps-store-voucher-code/",1,"dialog-link"],["width","90%","src","assets/game/how-to-use/xbox1.png",1,"dialog-img"],["width","90%","src","assets/game/how-to-use/xbox2.png",1,"dialog-img"],["width","90%","src","assets/game/how-to-use/xbox3.png",1,"dialog-img"],["target","_blank","href","https://support.xbox.com/ru-RU/help/subscriptions-billing/redeem-codes-gifting/redeem-prepaid-codes",1,"dialog-link"]],template:function(e,t){1&e&&(h(0,"app-touch-confirm",0),C("result",function(s){return t.resultConfirm(s)}),d(),h(1,"app-touch-menu",1),C("action",function(s){return t.actionMenu(s)})("choose",function(s){return t.menuWasChoosen(s)}),d(),S(2,v$,9,7,"div",2),S(3,y$,2,2,"div",3),S(4,C$,2,2,"div",4),S(5,b$,2,3,"div",5),S(6,w$,2,2,"div",6),S(7,x$,2,2,"div",6),S(8,k$,2,2,"div",6),S(9,P$,2,2,"div",6),S(10,S$,2,2,"div",7),S(11,M$,1,5,"app-touch-lock",8),h(12,"div",9),h(13,"app-box",10),S(14,R$,2,1,"ng-container",11),S(15,F$,1,7,"div",12),d(),d(),S(16,L$,2,3,"app-touch-scroll",13),h(17,"app-touch-screen",14),C("close",function(){return t.closeScreenViewGift()}),m(18,"app-touch-view-gift",15),d(),h(19,"app-touch-screen",16),C("close",function(){return t.closeScreenPoem()}),S(20,z$,1,1,"app-touch-text-copy",17),d(),h(21,"app-touch-screen",16),C("close",function(){return t.closeScreenHowToUse()}),S(22,G$,16,5,"div",18),S(23,j$,16,5,"div",18),d(),h(24,"app-touch-screen",16),C("close",function(){return t.closeScreenCodeGame()}),S(25,H$,1,1,"app-touch-text-copy",17),d(),h(26,"app-touch-screen",19),h(27,"app-touch-listen",20),C("close",function(){return t.closeScreenListenAudio()}),d(),d(),h(28,"app-touch-screen",21),C("close",function(){return t.closeWatchVideo()}),m(29,"app-touch-watch",22),d(),h(30,"app-touch-screen",23),C("close",function(){return t.closeGeneralInfo()}),h(31,"div",24),x(32),d(),h(33,"div",25),m(34,"app-box",26),d(),h(35,"div",27),x(36),d(),h(37,"div",27),x(38),d(),d()),2&e&&(f("value",t.confirm.value),c(1),f("touch",t.touches.menu)("options",t.menu)("sublimeshow",t.menuSublimeShow),c(1),f("ngIf",4===t.stage),c(1),f("ngIf",1===t.stage),c(1),f("ngIf",2===t.stage),c(1),f("ngIf",2===t.stage),c(1),f("ngIf",1===t.stage),c(1),f("ngIf",2===t.stage),c(1),f("ngIf",3===t.stage),c(1),f("ngIf",4===t.stage&&null===t.activeGift.id),c(1),f("ngIf",4===t.stage&&null!==t.activeGift.id&&"game"===t.getGiftById(t.activeGift.id).type),c(1),f("ngIf",2===t.stage),c(1),b("transform","translateX("+(t.wrap.x+t.wrap.shift.x)+"px) translateY("+(t.wrap.y+t.wrap.shift.y)+"px) scale("+t.wrap.scale+")")("display",t.wrap.show?"flex":"none"),V("wrap_animated",t.wrap.animated),c(1),b("transform","translateX("+t.box.coord.x+"px) translateY("+t.box.coord.y+"px) translateZ("+t.box.coord.z+"px) rotateX("+(t.box.rotate.x+t.box.shiftRotate.x)+"deg) rotateY("+(t.box.rotate.y+t.box.shiftRotate.y)+"deg) rotateZ("+t.box.rotate.z+"deg) scale("+t.box.scale+")"),f("packed",t.box.packed)("animate",t.box.animate)("wrapped",t.box.wrapped)("tapped",t.box.tapped)("w",t.box.size.w)("h",t.box.size.h)("d",t.box.size.d)("inside",t.box.inside)("package",t.box.package)("tape",t.box.tape),c(1),f("ngForOf",t.inBox),c(1),f("ngIf",t.activeGift.id),c(1),f("ngIf",5===t.stage),c(1),f("touch",t.touches.screenViewGift)("show","open"===t.stats.screenViewGift)("scrollable",!1)("backable","usual"===t.modeViewGift),c(1),f("touch",t.touches.screenViewGift)("gift",t.activeGiftView)("mode",t.modeViewGift)("sublimerefresh",t.sublimeRefreshViewGift)("buttomText",t.buttomTextView),c(1),f("touch",t.touches.poem)("show","open"===t.stats.poem)("doscrolltocenter",t.sublimePoemScrollToCenter),c(1),f("ngIf","open"===t.stats.poem),c(1),f("touch",t.touches.howToUse)("show","open"===t.stats.howToUse)("doscrolltocenter",t.sublimeHowToUseScrollToCenter),c(1),f("ngIf","ps"===(null==t.activeGiftView?null:t.activeGiftView.platform)),c(1),f("ngIf","xbox"===(null==t.activeGiftView?null:t.activeGiftView.platform)),c(1),f("touch",t.touches.codeGame)("show","open"===t.stats.codeGame)("doscrolltocenter",t.sublimeCodeGameScrollToCenter),c(1),f("ngIf","open"===t.stats.codeGame),c(1),f("show","open"===t.stats.screenListenAudio)("backable",!1)("scrollable",!1),c(1),f("touch",t.touches.screenListenAudio)("gift",t.activeGift)("value","speaker"===(null==t.activeGiftView?null:t.activeGiftView.type)?null==t.activeGiftView?null:t.activeGiftView.value:null),c(1),f("show","open"===t.stats.screenWatchVideo)("touch",t.touches.screenWatchVideo)("backable",!0)("scrollable",!1),c(1),f("active",t.activeWatchVideo)("video",null==t.activeGiftView?null:t.activeGiftView.urlVideo),c(1),f("show","open"===t.stats.generalInfo)("touch",t.touches.generalInfo)("backable",!0)("doscrolltocenter",t.sublimeGeneralInfoScrollToCenter),c(2),D(t.locationService.translate("general info","\u043e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f")),c(2),b("transform","translateX(0px) translateY(0px) translateZ(0px) rotateX(-15deg) rotateY(75deg) rotateZ(0deg) scale(1)"),f("packed",!0)("animate",!1)("wrapped",!0)("tapped",!0)("w",t.box.size.w)("h",t.box.size.h)("d",t.box.size.d)("package",t.box.package)("tape",t.box.tape),c(2),Li("",t.locationService.translate("gifts: ","\u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432: ")," ",t.gifts.length,""),c(2),Li("",t.locationService.translate("cost: ","\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ")," ",t.getPriceString(),""))},directives:[pa,Oh,Re,Rs,gt,Hl,o2,y2,C2,d$,$i,Xo,bo,wo,Yi,Th,j0,p$],pipes:[H0],styles:["[_nghost-%COMP%]{position:absolute;left:0px;top:0px;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .wrap_animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%]   .lock[_ngcontent-%COMP%]{width:90%;height:200px}[_nghost-%COMP%]   .main-text[_ngcontent-%COMP%]{text-align:center;font-size:22px;color:#333}[_nghost-%COMP%]   .main-text-2[_ngcontent-%COMP%]{position:fixed;top:50px;left:0px;width:calc(100% - 20px);padding:10px;text-align:center;font-size:22px;color:#333}[_nghost-%COMP%]   .main-text-3[_ngcontent-%COMP%]{position:fixed;top:70%;left:0px;width:calc(100% - 20px);padding:10px;text-align:center;font-size:14px;color:#333}[_nghost-%COMP%]   .text_red[_ngcontent-%COMP%]{color:#f44336}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:14px;padding:10px;position:fixed;left:0px;bottom:0px;width:calc(100% - 20px);text-align:center;display:flex;flex-direction:row;align-items:center;justify-content:center;z-index:1}[_nghost-%COMP%]   .hint_white[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .box[_ngcontent-%COMP%]{z-index:1;position:absolute}[_nghost-%COMP%]   .gift_animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%]   .back-active[_ngcontent-%COMP%]{position:absolute;background-color:#0009}[_nghost-%COMP%]   .top-menu[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;background-color:#fff3;backdrop-filter:blur(5px);z-index:1;transition:all ease .2s}[_nghost-%COMP%]   .top-menu__option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .top-menu__icon[_ngcontent-%COMP%]{margin:10px 0 10px 10px;width:20px;height:20px;background-size:contain;background-position:center;background-repeat:no-repeat}[_nghost-%COMP%]   .top-menu__icon_archive[_ngcontent-%COMP%]{background-image:url(/assets/archive.svg);transition:all ease .2s}[_nghost-%COMP%]   .top-menu__icon_up[_ngcontent-%COMP%]{background-image:url(/assets/arrow-up-white.svg)}[_nghost-%COMP%]   .top-menu__icon_left[_ngcontent-%COMP%]{background-image:url(/assets/arrow-left3-white.svg)}[_nghost-%COMP%]   .top-menu__icon_right[_ngcontent-%COMP%]{background-image:url(/assets/arrow-right3-white.svg)}[_nghost-%COMP%]   .top-menu__text[_ngcontent-%COMP%]{margin:10px;font-size:14px;color:#333;transition:all ease .2s}[_nghost-%COMP%]   .top-menu__count[_ngcontent-%COMP%]{background-color:#e91e63;width:15px;height:15px;position:absolute;margin-left:10px;margin-top:-5px;color:#fff;border-radius:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:10px}[_nghost-%COMP%]   .top-menu_dark-mode[_ngcontent-%COMP%]   .top-menu__icon_archive[_ngcontent-%COMP%]{background-image:url(/assets/archive-white.svg)}[_nghost-%COMP%]   .top-menu_dark-mode[_ngcontent-%COMP%]   .top-menu__text[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .margin-left_auto[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   .animation-throw[_ngcontent-%COMP%]{animation-duration:.2s;animation-iteration-count:2;animation-timing-function:linear}[_nghost-%COMP%]   .poem[_ngcontent-%COMP%]{margin:0 20px;font-size:20px;color:#333;text-align:center;align-self:center}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]{padding-bottom:40px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{text-align:center;font-size:26px;font-weight:bold;color:#333;margin:50px 50px 10px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-text[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#333;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-quote[_ngcontent-%COMP%]{text-align:center;font-style:italic;color:#999;font-size:16px;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-img[_ngcontent-%COMP%]{margin:10px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-warning[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#f44336;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around;flex-wrap:wrap}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-link[_ngcontent-%COMP%]{text-decoration:none;color:#e91e63}[_nghost-%COMP%]   .gi-box[_ngcontent-%COMP%]{width:400px;height:400px;display:flex;align-self:center;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .gi-title[_ngcontent-%COMP%]{margin:20px;text-align:center;font-size:20px;color:#333;align-self:center}[_nghost-%COMP%]   .gi-text[_ngcontent-%COMP%]{margin:20px 40px;text-align:center;font-size:14px;color:#333;align-self:center}@keyframes throwAnim{0%{transform:scale(1)}25%{transform:scale(.8)}50%{transform:scale(1)}75%{transform:scale(1.2)}0%{transform:scale(1)}}"],data:{animation:[he("hint",[K(":enter",[F({transform:"translateY(100%)"}),$("0.2s ease",F({transform:"translateY(0%)"}))]),K(":leave",[F({transform:"translateY(0%)"}),$("0.2s ease",F({transform:"translateY(100%)"}))])]),he("menu",[K(":enter",[F({transform:"translateY(-100%)"}),$("0.2s ease",F({transform:"translateY(0%)"}))]),K(":leave",[F({transform:"translateY(0%)"}),$("0.2s ease",F({transform:"translateY(-100%)"}))])]),he("mainText",[K(":enter",[F({transform:"scale(0.1)",opacity:"0"}),$("0.2s ease",F({transform:"scale(1)",opacity:"1"}))]),K(":leave",[F({transform:"scale(1)",opacity:"1"}),$("0.2s ease",F({transform:"scale(0.1)",opacity:"0"}))])]),he("mainText2",[K(":enter",[F({transform:"translateY(calc(-70px - 100%))"}),$("0.2s ease",F({transform:"translateY(0px)"}))]),K(":leave",[F({transform:"translateY(0px)"}),$("0.2s ease",F({transform:"translateY(calc(-70px - 100%))"}))])]),he("mainText3",[K(":enter",[F({transform:"translateY(calc(-70vh - 100%))"}),$("0.2s ease",F({transform:"translateY(0px)"}))]),K(":leave",[F({transform:"translateY(0px)"}),$("0.2s ease",F({transform:"translateY(calc(-70vh - 100%))"}))])]),he("code",[K(":enter",[F({transform:"translateY(-100vh)"}),$("0.4s ease",F({transform:"translateY(0vh)"}))]),K(":leave",[F({transform:"translateY(0vh)"}),$("0.4s ease",F({transform:"translateY(-100vh)"}))])]),he("activeBack",[K(":enter",[F({opacity:"0"}),$("0.2s ease",F({opacity:"1"}))]),K(":leave",[F({opacity:"1"}),$("0.2s ease",F({opacity:"0"}))])]),he("slideTopGiftBlock",[K(":enter",[F({transform:"translateY(100vh)",opacity:"0"}),$("0.5s {{delay}} ease",F({transform:"translateY(0px)",opacity:"1"}))])])]}}),i})();function $$(i,n){if(1&i&&(h(0,"div",7),x(1),d()),2&i){const e=n.index,t=y();V("display__correct",t.codeCorrect),f("@codeNumber",void 0),c(1),se(" ",t.getCodeChar(e)," ")}}function Y$(i,n){if(1&i){const e=H();h(0,"div",6),C("click",function(){const s=E(e).index,r=y().index;return y().addNumber(3*r+s+1)}),x(1),d()}if(2&i){const e=n.index,t=y().index;c(1),se(" ",3*t+e+1," ")}}const $m=function(){return[]};function W$(i,n){1&i&&(h(0,"div",8),S(1,Y$,2,1,"div",9),d()),2&i&&(c(1),f("ngForOf",lo(1,$m).constructor(3)))}let q$=(()=>{class i{constructor(e){this.asyncService=e,this.subs=[],this.codeControl=new Cn(""),this.max=4,this.codeCorrect=!1,this.disabled=!1,this.toReject=new L,this.toAccept=new L,this.toInput=new L,this.input=new L,this.animationNameHost=""}addNumber(e){this.disabled||this.codeControl.value.length<this.max&&this.codeControl.setValue(`${this.codeControl.value}${e}`)}deleteLastNumber(){this.disabled||this.codeControl.value.length>0&&this.codeControl.setValue(this.codeControl.value.slice(0,-1))}getCodeChar(e){return this.codeControl.value[e]||""}checkCode(){var e=this;return I(function*(){return e.disabled||e.input.emit(e.codeControl.value),new Promise(t=>t())})()}animateReject(){var e=this;return I(function*(){return e.disabled||(e.animationNameHost="reject",yield e.asyncService.delay(300),e.animationNameHost=""),new Promise(t=>t())})()}animateAccept(){var e=this;return I(function*(){return e.disabled||(e.codeCorrect=!0),new Promise(t=>t())})()}ok(){this.disabled||this.input.emit(this.codeControl.value)}ngOnInit(){this.subs.push(this.toReject.subscribe(()=>{this.animateReject()})),this.subs.push(this.toAccept.subscribe(()=>{this.animateAccept()})),this.subs.push(this.toInput.subscribe(()=>{this.checkCode()}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(P(ve))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-lock"]],hostVars:4,hostBindings:function(e,t){2&e&&(b("animation-name",t.animationNameHost),V("disabled",t.disabled))},inputs:{disabled:"disabled",toReject:"toReject",toAccept:"toAccept",toInput:"toInput"},outputs:{input:"input"},decls:12,vars:4,consts:[[1,"content"],[1,"display"],["class","display__number",3,"display__correct",4,"ngFor","ngForOf"],[1,"keyboard"],["class","row",4,"ngFor","ngForOf"],[1,"row","row_last"],[1,"number",3,"click"],[1,"display__number"],[1,"row"],["class","number",3,"click",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(h(0,"div",0),h(1,"div",1),S(2,$$,2,4,"div",2),d(),h(3,"div",3),S(4,W$,2,2,"div",4),h(5,"div",5),h(6,"div",6),C("click",function(){return t.ok()}),x(7," ok "),d(),h(8,"div",6),C("click",function(){return t.addNumber(0)}),x(9," 0 "),d(),h(10,"div",6),C("click",function(){return t.deleteLastNumber()}),x(11," < "),d(),d(),d(),d()),2&e&&(c(2),f("ngForOf",lo(2,$m).constructor(t.codeControl.value.length)),c(2),f("ngForOf",lo(3,$m).constructor(3)))},directives:[gt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;animation-duration:.2s;animation-timing-function:linear;animation-iteration-count:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;background-color:#333;border-radius:15px;max-width:600px;width:100%}[_nghost-%COMP%]   .display[_ngcontent-%COMP%]{height:80px;background-color:#9990;border-radius:15px;font-size:60px;color:#bbb;padding:20px 20px 0;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;transition:all ease .2s}[_nghost-%COMP%]   .display__correct[_ngcontent-%COMP%]{color:#8bc34a}[_nghost-%COMP%]   .keyboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .number[_ngcontent-%COMP%]{margin-right:20px;margin-top:20px;width:80px;height:80px;background-color:#fff3;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:15px;color:#fff;font-size:30px;cursor:pointer;user-select:none;transition:all ease .2s}[_nghost-%COMP%]   .number[_ngcontent-%COMP%]:first-child{margin-left:20px}[_nghost-%COMP%]   .row[_ngcontent-%COMP%]:last-child   .number[_ngcontent-%COMP%]{margin-bottom:20px}[_nghost-%COMP%]   .number[_ngcontent-%COMP%]:hover{background-color:#fff6}@keyframes reject{0%{transform:translate(0)}11%{transform:translate(20px)}22%{transform:translate(0)}33%{transform:translate(-20px)}44%{transform:translate(0)}55%{transform:translate(0)}66%{transform:translate(20px)}77%{transform:translate(0)}88%{transform:translate(-20px)}to{transform:translate(0)}}.disabled[_nghost-%COMP%]{filter:blur(5px)}.disabled[_nghost-%COMP%]   .number[_ngcontent-%COMP%]{cursor:default}.disabled[_nghost-%COMP%]   .number[_ngcontent-%COMP%]:hover{background-color:#fff3}"],data:{animation:[he("codeNumber",[K(":enter",[F({transform:"scale(0)",opacity:"0"}),$("0.2s ease",F({transform:"scale(1)",opacity:"1"}))]),K(":leave",[F({transform:"scale(1)",opacity:"1"}),$("0.2s ease",F({transform:"scale(0)",opacity:"0"}))])])]}}),i})();const Z$=["boxRef"],X$=["lockRef"],mP=function(i){return{delay:i}},_P=function(i){return{value:"",params:i}};function K$(i,n){if(1&i&&(h(0,"div",17),x(1),d()),2&i){const e=y();f("@mainText",Xt(4,_P,Xt(2,mP,"0ms"))),c(1),D(e.locationService.translate("here is the gift for you","\u0434\u043b\u044f \u0432\u0430\u0441 \u043f\u043e\u0434\u0430\u0440\u043e\u043a"))}}function Q$(i,n){if(1&i&&(h(0,"div",18),x(1),d()),2&i){const e=y();f("@mainText",Xt(4,_P,Xt(2,mP,"100ms"))),c(1),D(e.locationService.translate("click to continue","\u043a\u043b\u0438\u043a\u043d\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"))}}function J$(i,n){if(1&i&&(h(0,"div",26),x(1),d()),2&i){const e=y(2);c(1),se(" ",e.locationService.translate("enter a code","\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434")," ")}}function eY(i,n){if(1&i&&(h(0,"div",24),x(1),h(2,"a",27),x(3,"@gaiusdedeo"),d(),d()),2&i){const e=y(2);c(1),se(" ",e.locationService.translate("to restore the code, contact me:","\u0447\u0442\u043e\u0431\u044b \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u0434, \u0441\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441\u043e \u043c\u043d\u043e\u0439: ")," ")}}function tY(i,n){if(1&i){const e=H();h(0,"div",19),h(1,"app-desktop-lock",20,21),C("input",function(o){return E(e),y().onInputLock(o)}),d(),h(3,"div",22),S(4,J$,2,1,"div",23),h(5,"div",24),x(6),d(),S(7,eY,4,1,"div",25),d(),d()}if(2&i){const e=y();f("@topToBottom",void 0),c(1),f("disabled",e.disabledCode)("toReject",e.toRejectCode)("toAccept",e.toAcceptCode)("toInput",e.toInputCode),c(3),f("ngIf",e.triesCode>0),c(2),Li(" ",e.locationService.translate("attempts left: ","\u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043f\u044b\u0442\u043e\u043a")," ",e.triesCode,""),c(1),f("ngIf",!e.triesCode)}}function nY(i,n){if(1&i&&m(0,"app-greeting-card",34),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateX("+(e.rotate.x+e.shiftRotate.x)+"deg) rotateY("+(180+e.rotate.y)+"deg) rotateZ(-90deg)"),V("gift_animated",t.activeGift.animated),f("size",t.getSizeGift(e))("front",e.front)("back",e.back)("text",e.text)("color",e.color)("sign",e.sign)("smooth",t.activeGift.animated)}}function iY(i,n){if(1&i&&m(0,"app-game",35),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateX("+(e.rotate.x+e.shiftRotate.x)+"deg) rotateY(180deg) rotateZ(-90deg)"),V("gift_animated",t.activeGift.animated),f("size",t.getSizeGift(e))("color",e.color)("front",e.front)("inside",e.inside)("side",e.side)("code",e.code)("open",e.open)("smooth",t.activeGift.animated)}}function oY(i,n){if(1&i&&m(0,"app-speaker",36),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateX("+(e.rotate.x+e.shiftRotate.x)+"deg) rotateY(0deg) rotateZ(90deg)"),V("gift_animated",t.activeGift.animated),f("size",t.getSizeGift(e))("grill",e.grill)("color",e.color)("smooth",t.activeGift.animated)}}function sY(i,n){if(1&i&&m(0,"app-tablet",37),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateX("+(e.rotate.x+e.shiftRotate.x)+"deg) rotateY(180deg) rotateZ(-90deg)"),V("gift_animated",t.activeGift.animated),f("size",t.getSizeGift(e))("color",e.color)("smooth",t.activeGift.animated)}}function rY(i,n){if(1&i&&m(0,"app-photo",38),2&i){const e=y().ngIf,t=y(2);b("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateX("+(e.rotate.x+e.shiftRotate.x)+"deg) rotateY(180deg) rotateZ(-90deg)"),V("gift_animated",t.activeGift.animated),f("size",t.getSizeGift(e))("photo",e.photo)("sign",e.sign)("smooth",t.activeGift.animated)}}function aY(i,n){if(1&i&&(Se(0),S(1,nY,1,11,"app-greeting-card",29),S(2,iY,1,12,"app-game",30),S(3,oY,1,8,"app-speaker",31),S(4,sY,1,7,"app-tablet",32),S(5,rY,1,8,"app-photo",33),Me()),2&i){const e=n.ngIf;c(1),f("ngIf","greetingcard"===e.type),c(1),f("ngIf","game"===e.type),c(1),f("ngIf","speaker"===e.type),c(1),f("ngIf","tablet"===e.type),c(1),f("ngIf","photo"===e.type)}}function lY(i,n){if(1&i&&(Se(0),S(1,aY,6,5,"ng-container",28),Me()),2&i){const e=n.$implicit,t=y();c(1),f("ngIf",t.getGiftById(e))}}function uY(i,n){if(1&i&&m(0,"div",39),2&i){const e=y();b("width",e.getSizeBackActive().w,"px")("height",e.getSizeBackActive().h,"px")("transform","translateZ(-"+e.box.size.h+"px)"),f("@activeBack",void 0)}}function cY(i,n){if(1&i){const e=H();h(0,"div",40),C("click",function(){return E(e),y().showGeneralInfo()}),x(1),d()}if(2&i){const e=y();V("gift-option-usable_active",!e.activeGiftView),c(1),se(" ",e.locationService.translate("general info","\u043e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f")," ")}}function hY(i,n){if(1&i){const e=H();h(0,"app-desktop-gift-list-option",42),C("click",function(){E(e);const o=y().$implicit;return y().setActiveGiftView(o.id)}),d()}if(2&i){const e=y().$implicit,t=y();V("gift-option-usable",0===t.inBox.length)("gift-option-usable_active",0===t.inBox.length&&e.id===(null==t.activeGiftView?null:t.activeGiftView.id)),f("@optionGift",void 0)("scaleIcon",.6)("gift",e)("showButtons",!1),$e("giftid",e.id)}}function dY(i,n){if(1&i&&(Se(0),S(1,hY,1,9,"app-desktop-gift-list-option",41),Me()),2&i){const e=n.$implicit,t=y();c(1),f("ngIf",!t.isGiftInBox(e)&&t.dragGift.id!==e.id)}}function pY(i,n){if(1&i){const e=H();h(0,"app-desktop-button",45),C("click",function(){return E(e),y(2).openGameGift()}),d()}2&i&&f("text",y(2).locationService.translate("open/close","\u043e\u0442\u043a\u0440\u044b\u0442\u044c/\u0437\u0430\u043a\u0440\u044b\u0442\u044c"))("icon","../../assets/open-white.svg")("background","#ffffff00")("color","#ffffff")}function fY(i,n){if(1&i){const e=H();h(0,"div",43),S(1,pY,1,4,"app-desktop-button",44),h(2,"app-desktop-button",45),C("click",function(){return E(e),y().putActiveGiftToArchive()}),d(),d()}if(2&i){const e=y();f("@bottomPanel",void 0),c(1),f("ngIf","game"===e.getTypeActiveGift()),c(1),f("text",e.locationService.translate("archive","\u0432 \u0430\u0440\u0445\u0438\u0432"))("icon","../../assets/archive-white.svg")("background","#ffffff00")("color","#ffffff")}}function gY(i,n){if(1&i&&(h(0,"div",46),m(1,"div",47),h(2,"div",48),x(3),d(),d()),2&i){const e=y();f("@bottomPanel",void 0),c(3),se(" ",e.locationService.translate("rotate","\u0432\u0440\u0430\u0449\u0430\u0442\u044c")," ")}}function mY(i,n){if(1&i&&(h(0,"div",43),h(1,"div",49),x(2),d(),d()),2&i){const e=y();f("@bottomPanel",void 0),c(2),se(" ",e.locationService.translate("put all gifts in the archive","\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u0434\u0430\u0440\u043a\u0438 \u0432 \u0430\u0440\u0445\u0438\u0432")," ")}}function _Y(i,n){if(1&i&&(h(0,"div",57),m(1,"app-box",58),d()),2&i){const e=y(2);f("@optionViewGift",void 0),c(1),b("transform","translateX(0px) translateY(0px) translateZ(0px) rotateX(-15deg) rotateY(75deg) rotateZ(0deg) scale(1)"),f("packed",!0)("animate",!1)("wrapped",!0)("tapped",!0)("w",e.box.size.w)("h",e.box.size.h)("d",e.box.size.d)("package",e.box.package)("tape",e.box.tape)}}function vY(i,n){if(1&i&&(h(0,"div",59),x(1),d()),2&i){const e=y(2);f("@optionViewGift",void 0),c(1),Li(" ",e.locationService.translate("gifts: ","\u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432: ")," ",e.gifts.length," ")}}function yY(i,n){if(1&i&&(h(0,"div",59),x(1),d()),2&i){const e=y(2);f("@optionViewGift",void 0),c(1),Li(" ",e.locationService.translate("cost: ","\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ")," ",e.getPriceString()," ")}}function CY(i,n){if(1&i&&m(0,"app-greeting-card",66),2&i){const e=y(3);b("transform","rotateY("+e.rotateGift.angle+"deg)"),V("gift-animated",e.rotateGift.animate),f("size",297/420*390)("front",e.activeGiftView.front)("back",e.activeGiftView.back)("text",e.activeGiftView.text)("color",e.activeGiftView.color)("sign",e.activeGiftView.sign)}}function bY(i,n){if(1&i&&m(0,"app-game",67),2&i){const e=y(3);b("transform","rotateY("+e.rotateGift.angle+"deg)"),V("gift-animated",e.rotateGift.animate),f("size",135/190*390)("color",e.activeGiftView.color)("front",e.activeGiftView.front)("inside",e.activeGiftView.inside)("side",e.activeGiftView.side)("code",e.activeGiftView.code)("open",e.activeGiftView.open)("smooth",e.rotateGift.animate)}}function wY(i,n){if(1&i&&m(0,"app-speaker",68),2&i){const e=y(3);b("transform","rotateY("+(e.rotateGift.angle+180)+"deg)")("animation-name","rotPlus180"),V("gift-animated",e.rotateGift.animate),f("size",370)("grill",e.activeGiftView.grill)("color",e.activeGiftView.color)}}function xY(i,n){if(1&i&&m(0,"app-tablet",69),2&i){const e=y(3);b("transform","rotateY("+e.rotateGift.angle+"deg)"),V("gift-animated",e.rotateGift.animate),f("size",390)("color",e.activeGiftView.color)}}function kY(i,n){if(1&i&&m(0,"app-photo",70),2&i){const e=y(3);b("transform","rotateY("+e.rotateGift.angle+"deg)"),V("gift-animated",e.rotateGift.animate),f("size",292.5)("photo",e.activeGiftView.photo)("sign",e.activeGiftView.sign)}}function PY(i,n){if(1&i){const e=H();h(0,"div",60),C("mousedown",function(o){return E(e),y(2).mouseDownIcon(o)}),S(1,CY,1,10,"app-greeting-card",61),S(2,bY,1,12,"app-game",62),S(3,wY,1,9,"app-speaker",63),S(4,xY,1,6,"app-tablet",64),S(5,kY,1,7,"app-photo",65),d()}if(2&i){const e=y(2);c(1),f("ngIf","greetingcard"===(null==e.activeGiftView?null:e.activeGiftView.type)),c(1),f("ngIf","game"===(null==e.activeGiftView?null:e.activeGiftView.type)),c(1),f("ngIf","speaker"===(null==e.activeGiftView?null:e.activeGiftView.type)),c(1),f("ngIf","tablet"===(null==e.activeGiftView?null:e.activeGiftView.type)),c(1),f("ngIf","photo"===(null==e.activeGiftView?null:e.activeGiftView.type))}}function SY(i,n){if(1&i&&m(0,"div",71),2&i){const e=y(2);f("@optionViewGift",void 0)("innerHTML",e.getTextGreetingCard(e.activeGiftView),Ku)}}function MY(i,n){if(1&i){const e=H();h(0,"div",72),h(1,"div",73),x(2),d(),h(3,"app-desktop-button",74),C("click",function(){return E(e),y(2).copyCodeGiftView()}),d(),d()}if(2&i){const e=y(2);f("@optionViewGift",void 0),c(2),D(e.activeGiftView.code),c(1),f("icon","../../assets/copy.svg")("background","#ffffff00")("color","#333333")}}function DY(i,n){if(1&i){const e=H();h(0,"app-desktop-button",45),C("click",function(){return E(e),y(3).showDialog()}),d()}2&i&&f("text",y(3).locationService.translate("how to activate","\u043a\u0430\u043a \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))("icon","../../assets/question-mark.svg")("background","#ffffff00")("color","#333333")}function EY(i,n){if(1&i){const e=H();h(0,"div",72),S(1,DY,1,4,"app-desktop-button",44),h(2,"app-desktop-button",45),C("click",function(){return E(e),y(2).openGameGiftView()}),d(),d()}if(2&i){const e=y(2);f("@optionViewGift",void 0),c(1),f("ngIf","ps"===(null==e.activeGiftView?null:e.activeGiftView.platform)||"xbox"===(null==e.activeGiftView?null:e.activeGiftView.platform)),c(1),f("text",e.locationService.translate("open/close","\u043e\u0442\u043a\u0440\u044b\u0442\u044c/\u0437\u0430\u043a\u0440\u044b\u0442\u044c"))("icon","../../assets/open.svg")("background","#ffffff00")("color","#333333")}}function TY(i,n){if(1&i&&(h(0,"div",72),m(1,"app-desktop-micro",75),d()),2&i){const e=y(2);f("@optionViewGift",void 0),c(1),f("withoutRecord",!0)("sublimeValue",e.activeGiftView.value)("sublimeDuration",e.activeGiftView.duration)("sublimeSounds",e.activeGiftView.sounds)("sublimestop",e.activeGiftView.sublimestop)}}function OY(i,n){if(1&i){const e=H();h(0,"div",72),h(1,"app-desktop-button",45),C("click",function(){return E(e),y(2).showWebcamVideo()}),d(),d()}if(2&i){const e=y(2);f("@optionViewGift",void 0),c(1),f("text",e.locationService.translate("watch","\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"))("icon","../../assets/eye.svg")("background","#ffffff00")("color","#333333")}}function IY(i,n){if(1&i&&(h(0,"div",50),h(1,"div",51),S(2,_Y,2,12,"div",52),S(3,vY,2,3,"div",53),S(4,yY,2,3,"div",53),S(5,PY,6,5,"div",54),S(6,SY,1,2,"div",55),S(7,MY,4,5,"div",56),S(8,EY,3,6,"div",56),S(9,TY,2,6,"div",56),S(10,OY,2,5,"div",56),d(),d()),2&i){const e=y();f("@viewGiftDisplay",void 0),c(2),f("ngIf",!e.activeGiftView),c(1),f("ngIf",!e.activeGiftView),c(1),f("ngIf",!e.activeGiftView),c(1),f("ngIf",e.activeGiftView),c(1),f("ngIf","greetingcard"===(null==e.activeGiftView?null:e.activeGiftView.type)),c(1),f("ngIf","game"===(null==e.activeGiftView?null:e.activeGiftView.type)),c(1),f("ngIf","game"===(null==e.activeGiftView?null:e.activeGiftView.type)),c(1),f("ngIf","speaker"===(null==e.activeGiftView?null:e.activeGiftView.type)),c(1),f("ngIf","tablet"===(null==e.activeGiftView?null:e.activeGiftView.type))}}function AY(i,n){if(1&i&&(h(0,"div",78),h(1,"div",79),x(2),d(),h(3,"div",80),x(4),d(),m(5,"img",81),h(6,"div",80),x(7),d(),m(8,"img",82),h(9,"div",80),x(10),d(),m(11,"img",83),h(12,"div",80),x(13),h(14,"a",84),x(15,"https://www.playstation.com/ru-ru/support/store/redeem-ps-store-voucher-code/"),d(),d(),d()),2&i){const e=y(2);c(2),D(e.locationService.translate("How to activate a reedem key for playstation","\u041a\u0430\u043a \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u044e\u0447 \u0434\u043b\u044f playstation")),c(2),D(e.locationService.translate("1. Select PlayStation Store and press the triangle button to bring up the menu.","1. \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 PlayStation Store \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 \xab\u0442\u0440\u0435\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a\xbb \u0434\u043b\u044f \u0432\u044b\u0437\u043e\u0432\u0430 \u043c\u0435\u043d\u044e.")),c(3),D(e.locationService.translate("2. Select... (more) > Redeem Codes.","2. \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 ... (\u0435\u0449\u0435) > \u041f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u043e\u0432.")),c(3),D(e.locationService.translate("3. Enter the 12-digit code and select Redeem. The funds or materials will be added to your account.","3. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 12-\u0437\u043d\u0430\u0447\u043d\u044b\u0439 \u043a\u043e\u0434 \u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u041f\u043e\u0433\u0430\u0441\u0438\u0442\u044c. \u0421\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0438\u043b\u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0431\u0443\u0434\u0443\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0432\u0430\u0448\u0443 \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c.")),c(3),se(" ",e.locationService.translate("See the official website for more details: ","\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u043d\u0430 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u0441\u0430\u0439\u0442\u0435: ")," ")}}function RY(i,n){if(1&i&&(h(0,"div",78),h(1,"div",79),x(2),d(),h(3,"div",80),x(4),d(),m(5,"img",85),h(6,"div",80),x(7),d(),m(8,"img",86),h(9,"div",80),x(10),d(),m(11,"img",87),h(12,"div",80),x(13),h(14,"a",88),x(15,"https://support.xbox.com/ru-RU/help/subscriptions-billing/redeem-codes-gifting/redeem-prepaid-codes"),d(),d(),d()),2&i){const e=y(2);c(2),D(e.locationService.translate("How to activate a reedem key for xbox","\u041a\u0430\u043a \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u044e\u0447 \u0434\u043b\u044f xbox")),c(2),D(e.locationService.translate("1. Press the Xbox button to open the guide, then select Store.","1. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 Xbox, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0433\u0438\u0434, \u0430 \u0437\u0430\u0442\u0435\u043c \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 Store.")),c(3),D(e.locationService.translate("2. Click the View button to open the side menu, and then select Activate.","2. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0431\u043e\u043a\u043e\u0432\u043e\u0435 \u043c\u0435\u043d\u044e, \u0430 \u0437\u0430\u0442\u0435\u043c \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c.")),c(3),D(e.locationService.translate("3. Enter the 25-digit code, click Next and follow the onscreen instructions.","3. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 25-\u0437\u043d\u0430\u0447\u043d\u044b\u0439 \u043a\u043e\u0434, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0414\u0430\u043b\u0435\u0435 \u0438 \u0441\u043b\u0435\u0434\u0443\u0439\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f\u043c \u043d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435.")),c(3),se(" ",e.locationService.translate("See the official website for more details: ","\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u043d\u0430 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u0441\u0430\u0439\u0442\u0435: ")," ")}}function FY(i,n){if(1&i){const e=H();h(0,"app-desktop-dialog",76),C("close",function(){return E(e),y().onCloseDialog()}),S(1,AY,16,5,"div",77),S(2,RY,16,5,"div",77),d()}if(2&i){const e=y();c(1),f("ngIf","ps"===(null==e.activeGiftView?null:e.activeGiftView.platform)),c(1),f("ngIf","xbox"===(null==e.activeGiftView?null:e.activeGiftView.platform))}}function NY(i,n){if(1&i){const e=H();h(0,"div",89),m(1,"app-desktop-webcam-video",90),h(2,"div",91),C("click",function(){return E(e),y().closeWebcamVideo()}),d(),m(3,"div",92),d()}if(2&i){const e=y();f("@verticalShow",void 0),c(1),f("withoutCamera",!0)("value",e.activeGiftView.value)("duration",e.activeGiftView.duration)("recording",e.webcamVideo.recording)("screen",e.webcamVideo.screen)("sublimeuninit",e.webcamVideo.sublimeUninit)}}let BY=(()=>{class i{constructor(e,t,o,s,r,a){this.locationService=e,this.confirmService=t,this.hostContainer=o,this.asyncService=s,this.router=r,this.backendService=a,this.inBox=[],this.gifts=[],this.wrap={x:0,y:0,scale:1,disable:!1,animated:!1,shift:{x:0,y:0},show:!1},this.rotateGift={angle:0,pause:!1,interval:setInterval(()=>{},9999),animate:!1,startMouse:0,startRotate:0},this.box={animate:!1,packed:!0,wrapped:!0,tapped:!0,package:"../../assets/box/package/4.jpg",tape:"../../assets/box/tape/1.jpg",coord:{x:0,y:-1e3,z:0},rotate:{x:-15,y:-70,z:0},size:{w:110,h:130,d:120},scale:1,shiftRotate:{x:0,y:0}},this.grid={w:2,h:2},this.dragGift={timeout:setTimeout(()=>{},0),img:null,position:{x:0,y:0},size:{w:0,h:0},animated:!1,id:null,waiting:!1,allowed:!1},this.disabledCode=!1,this.toRejectCode=new L,this.toAcceptCode=new L,this.toInputCode=new L,this.general={},this.triesCode=0,this.stage=0,this.dialogShow=!1,this.showArchive=!1,this.activeGift={id:null,animated:!1},this.activeGiftView={},this.mouse={down:!1,start:{x:0,y:0}},this.webcamVideo={visible:!1,recording:!1,screen:"watching",showConfirm:"close",sublimeUninit:!1},this.transition=!1,this.firstMove=!1,this.textError="",this.timeoutError=setTimeout(()=>{},0)}onMouseDown(e){if(this.transition)return;this.mouse.down=!0;let[t,o]=[e.clientX,e.clientY];if(this.mouse.start={x:t,y:o},3===this.stage&&null===this.activeGift.id){document.body.style.userSelect="none",clearTimeout(this.dragGift.timeout);let r=this.cellBoxDragging(t,o),a=this.getTopGiftFromCell(r.x,r.y);a&&r.allowed&&this.setActiveGift(a)}else 3===this.stage&&this.activeGift.id&&(document.body.style.userSelect="none",this.activeGift.animated=!1)}onMouseUp(e){this.mouse.down=!1;let[t,o]=[e.clientX,e.clientY];if(3===this.stage&&this.activeGift.id){document.body.style.userSelect="auto";const s=this.getGiftById(this.activeGift.id);s&&(s.rotate.x=(s.rotate.x+s.shiftRotate.x)%360,s.shiftRotate.x=0),setTimeout(()=>{this.activeGift.animated=!0},10)}else 4===this.stage&&(this.rotateGift.pause&&clearInterval(this.rotateGift.interval),this.rotateGift.pause=!1,this.rotateGift.startMouse=0,this.rotateGift.startRotate=0,document.body.style.userSelect="auto")}onMouseLeave(){4===this.stage&&(this.rotateGift.pause=!1,this.rotateGift.startMouse=0,this.rotateGift.startRotate=0,document.body.style.userSelect="auto")}onMouseMove(e){if(!this.mouse.down)return;let[t,o]=[e.clientX,e.clientY];if(3===this.stage&&this.activeGift.id){const s=this.getGiftById(this.activeGift.id);s&&(s.shiftRotate.x=-(t-(this.mouse.start.x||0)))}else if(4===this.stage){if(!this.rotateGift.pause)return;this.rotateGift.angle=this.rotateGift.startRotate+(e.clientX-this.rotateGift.startMouse),this.rotateGift.angle>360&&(this.rotateGift.angle-=360),this.rotateGift.angle<0&&(this.rotateGift.angle+=360)}}onClick(){1===this.stage&&this.setStage2()}mouseDownIcon(e){this.rotateGift.pause=!0,this.rotateGift.startMouse=e.clientX,this.rotateGift.startRotate=this.rotateGift.angle,document.body.style.userSelect="none"}startRotate(){clearInterval(this.rotateGift.interval),this.rotateGift.interval=setInterval(()=>{this.rotateGift.pause||(this.rotateGift.angle+=1,this.rotateGift.angle>360&&(this.rotateGift.angle-=360),this.rotateGift.angle<0&&(this.rotateGift.angle+=360))},10)}getValuePostfix(e){return"dollar"===e?"$":"euro"===e?"\u20ac":"ruble"===e?"\u20bd":"yen"===e?"\xa5":"pound"===e?"\xa3":e.slice(0,1)}getPriceString(){if("yes"===this.box.cost_type)return`${this.box.cost_price} ${this.getValuePostfix(this.box.cost_currency)}`;if("no"===this.box.cost_type)return this.locationService.translate("not specified","\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e");if("hint"===this.box.cost_type){let e=this.box.cost_price[0],t=this.box.cost_price[1];return 0===t&&e===t?`0 ${this.getValuePostfix(this.box.cost_currency)}`:"infinity"===t?`${this.locationService.translate("more","\u0431\u043e\u043b\u0435\u0435")} ${e} ${this.getValuePostfix(this.box.cost_currency)}`:`${this.locationService.translate("from","\u043e\u0442")} ${e} ${this.locationService.translate("to","\u0434\u043e")} ${t} ${this.getValuePostfix(this.box.cost_currency)}`}return""}stopRotate(){var e=this;return I(function*(){return e.rotateGift.animate=!0,yield e.asyncService.delay(10),clearInterval(e.rotateGift.interval),e.rotateGift.angle=e.rotateGift.angle<180?0:360,yield e.asyncService.delay(200),e.rotateGift.animate=!1,new Promise(t=>t())})()}setStage1(){var e=this;return I(function*(){return e.transition=!0,e.stage=0,yield e.asyncService.delay(300),e.stage=1,e.transition=!1,new Promise(t=>t())})()}setStage2(){var e=this;return I(function*(){return e.transition=!0,e.stage=0,yield e.asyncService.delay(400),e.stage=2,e.transition=!1,new Promise(t=>t())})()}setStage3NoAnimation(){var e=this;return I(function*(){return e.stage=0,e.wrap.show=!0,e.box.animate=!1,e.wrap.animated=!1,e.box.tapped=!1,e.box.wrapped=!1,e.box.packed=!1,e.box.rotate.x=-90,e.box.rotate.y=90,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.showArchive=!0,e.stage=3,e.transition=!1,new Promise(t=>t())})()}setStage3(){var e=this;return I(function*(){return e.transition=!0,e.toAcceptCode.emit(),yield e.asyncService.delay(400),e.stage=0,e.wrap.show=!0,yield e.asyncService.delay(10),e.box.animate=!0,e.wrap.animated=!0,yield e.asyncService.delay(1e3),e.box.coord.y=0,yield e.asyncService.delay(300),e.box.tapped=!1,yield e.asyncService.delay(4e3),e.box.wrapped=!1,yield e.asyncService.delay(6e3),e.box.packed=!1,yield e.asyncService.delay(2e3),e.box.rotate.x=-90,e.box.rotate.y=90,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,yield e.asyncService.delay(300),e.showArchive=!0,yield e.asyncService.delay(300),e.stage=3,e.wrap.animated=!1,e.box.animate=!1,e.transition=!1,new Promise(t=>t())})()}setStage4NoAnimation(){var e=this;return I(function*(){return e.showArchive=!0,e.wrap.animated=!1,e.box.animate=!1,e.box.coord.y=-window.innerHeight,e.wrap.show=!1,e.transition=!1,e.stage=4,e.showGeneralInfo(),new Promise(t=>t())})()}setStage4(){var e=this;return I(function*(){return e.transition=!0,yield e.asyncService.delay(10),e.box.coord.y=-window.innerHeight,yield e.asyncService.delay(300),e.stage=0,e.wrap.show=!1,e.transition=!1,e.stage=4,e.showGeneralInfo(),new Promise(t=>t())})()}showGeneralInfo(){this.activeGiftView=null}setActiveGiftView(e){this.activeGiftView=this.gifts.find(t=>t.id===e),this.rotateGift.angle=0,this.startRotate()}showDialog(){this.dialogShow=!0}onCloseDialog(){this.dialogShow=!1}showWebcamVideo(){this.webcamVideo.visible=!0}closeWebcamVideo(){var e=this;return I(function*(){return e.webcamVideo.screen="watching",e.webcamVideo.visible=!1,new Promise(t=>t())})()}getTopGiftFromCell(e,t){let o=-999999,s=null;for(let r=0;r<this.inBox.length;r++){const a=this.getGiftById(this.inBox[r]);a.cell.x===e&&a.cell.y===t&&a.pos.z>o&&(o=a.pos.z,s=a)}return s}idBannedGiftsInCell(e,t){for(let o=0;o<this.inBox.length;o++){const s=this.getGiftById(this.inBox[o]);if(s.cell.x===e&&s.cell.y===t&&"speaker"===s.type)return s.id}return!1}cellBoxDragging(e,t){if(!this.boxRef)return;let o=!1,[s,r]=[0,0],a={w:this.box.size.d*this.wrap.scale,h:this.box.size.w*this.wrap.scale,ratio:0};a.ratio=a.w/a.h;let l={w:window.innerWidth,h:window.innerHeight,ratio:0};l.ratio=l.w/l.h;let u={w:a.w/this.grid.w,h:a.h/this.grid.h},p={w:a.w,h:a.h,x:0,y:0},g=this.boxRef.nativeElement.getBoundingClientRect();return p.x=g.x-a.w/2,p.y=g.y-a.h/2,s=Math.floor((e-p.x)/u.w),r=Math.floor((t-p.y)/u.h),e>=p.x&&e<=p.x+p.w&&t>=p.y&&t<=p.y+p.h&&(o=!0),s<0&&(s=0),s>this.grid.w-1&&(s=this.grid.w-1),r<0&&(r=0),r>this.grid.h-1&&(r=this.grid.h-1),{x:s,y:r,allowed:o,sizeCell:u,rectAllowed:p}}getSizeGift(e){let t=.9;return e.id===this.activeGift.id?this.getSizeActiveGift(e):"greetingcard"===e.type?this.box.size.w/this.grid.h*(297/420)*t:"game"===e.type?this.box.size.w/this.grid.h*(135/190)*t:"speaker"===e.type||"tablet"===e.type?this.box.size.d/this.grid.w*t:"photo"===e.type?this.box.size.w/this.grid.h*.75*t:0}getScaleBoxToFitScreen(){let e=1,t_ratio=this.box.size.d/this.box.size.w,o_w=window.innerWidth,o_h=window.innerHeight,o_ratio=window.innerWidth/window.innerHeight;return t_ratio>=o_ratio?e=o_w/this.box.size.d:t_ratio<=o_ratio&&(e=o_h/this.box.size.w),e}isGiftInBox(e){return!!this.inBox.find(t=>t===e.id)}setActiveGift(e){var t=this;return I(function*(){t.activeGift.animated=!0;.4*window.innerWidth<500||window;return window,window,yield t.asyncService.delay(10),t.activeGift.id=e.id,e.pos.x=0,e.pos.y=0,e.pos.z=999*t.box.size.h,yield t.asyncService.delay(400),t.activeGift.animated=!1,new Promise(a=>a())})()}getTypeActiveGift(){return this.getGiftById(this.activeGift.id).type}getTextGreetingCard(e){return e.text.replace(/\n/g,"<br/>")}openGameGift(){var e=this;return I(function*(){const t=e.getGiftById(e.activeGift.id);return e.activeGift.animated=!0,yield e.asyncService.delay(10),t.open=!t.open,yield e.asyncService.delay(300),e.activeGift.animated=!1,new Promise(o=>o())})()}openGameGiftView(){var e=this;return I(function*(){const t=e.activeGiftView;return e.rotateGift.animate=!0,yield e.asyncService.delay(10),e.rotateGift.pause=!0,e.rotateGift.angle=0,t.open=!t.open,yield e.asyncService.delay(300),e.rotateGift.animate=!1,new Promise(o=>o())})()}showError(e){var t=this;return I(function*(){return clearTimeout(t.timeoutError),t.textError="",yield t.asyncService.delay(100),t.textError=e,t.timeoutError=setTimeout(()=>{t.textError=""},5e3),new Promise(o=>o())})()}copyCodeGiftView(){navigator.clipboard.writeText(`${this.activeGiftView.code}`).then(()=>{this.showError(this.locationService.translate("code copied","\u043a\u043e\u0434 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d"))},e=>{})}putActiveGiftToArchive(){var e=this;return I(function*(){const t=e.getGiftById(e.activeGift.id);return.4*window.innerWidth<500||window,e.activeGift.animated=!0,yield e.asyncService.delay(10),t.pos.x=window.innerWidth/2,yield e.asyncService.delay(300),e.inBox=e.inBox.filter(s=>s!==e.activeGift.id),e.activeGift.id=null,e.activeGift.animated=!1,0===e.inBox.length&&e.setStage4(),new Promise(s=>s())})()}getSizeActiveGift(e){let t=.6;const o=.4*window.innerWidth<500?500:.4*window.innerWidth,s_w=window.innerWidth-o,s_h=window.innerHeight,r=s_w/s_h;let a=window.innerWidth/4/this.wrap.scale-this.wrap.x/this.wrap.scale,l=-this.wrap.y/this.wrap.scale,u=e.pos.x;return"greetingcard"===e.type?r>=297/420?s_h/this.wrap.scale*(297/420)*t*((u-a)/(l-a)/2+.5):r<=297/420?s_w/this.wrap.scale*t*((u-a)/(l-a)/2+.5):s_h/this.wrap.scale*(297/420)*t*((u-a)/(l-a)/2+.5):"game"===e.type?r>=135/190?s_h/this.wrap.scale*(135/190)*t*((u-a)/(l-a)/2+.5):r<=135/190?s_w/this.wrap.scale*t*((u-a)/(l-a)/2+.5):s_h/this.wrap.scale*(135/190)*t*((u-a)/(l-a)/2+.5):"speaker"===e.type?r>=299/136?s_h/this.wrap.scale*(299/136)*t*((u-a)/(l-a)/2+.5):r<=299/136?s_w/this.wrap.scale*t*((u-a)/(l-a)/2+.5):s_h/this.wrap.scale*(299/136)*t*((u-a)/(l-a)/2+.5):"tablet"===e.type?r>=247/178?s_h/this.wrap.scale*(247/178)*t*((u-a)/(l-a)/2+.5):r<=247/178?s_w/this.wrap.scale*t*((u-a)/(l-a)/2+.5):s_h/this.wrap.scale*(247/178)*t*((u-a)/(l-a)/2+.5):"photo"===e.type?r>=.75?s_h/this.wrap.scale*.75*t*((u-a)/(l-a)/2+.5):r<=.75?s_w/this.wrap.scale*t*((u-a)/(l-a)/2+.5):s_h/this.wrap.scale*.75*t*((u-a)/(l-a)/2+.5):0}getSizeBackActive(){return{w:3*window.innerWidth*this.wrap.scale,h:3*window.innerHeight*this.wrap.scale}}getGiftById(e){return this.gifts.find(t=>t.id===e)||null}checkCode(e){var t=this;return I(function*(){t.disabledCode=!0;let o=yield t.backendService.getBox(t.general.id,e);if(o.success){const s=o.result.box,r=o.result.gifts;t.box=Object.assign(Object.assign({},t.box),{id:s.id,package:`${t.backendService.getLinkFromBackend(s.link_package)}`,tape:`${t.backendService.getLinkFromBackend(s.link_tape)}`,cost_currency:s.cost_currency,cost_price:s.cost_price,cost_rate:s.cost_rate,cost_type:s.cost_type}),t.setGifts(r),t.setStage3()}else t.toRejectCode.emit(),t.triesCode--;t.disabledCode=!1})()}onInputLock(e){if(!(this.triesCode<=0)){if(1===this.triesCode){const t=this.lockRef.nativeElement;return this.disabledCode=!0,void this.confirmService.show(this.hostContainer,t,this.locationService.translate("Last try. Then the gift is blocked. You will have to ask the sender to unblock it.","\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u043f\u043e\u043f\u044b\u0442\u043a\u0430. \u0414\u0430\u043b\u044c\u0448\u0435 \u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442\u0441\u044f. \u041f\u0440\u0438\u0434\u0451\u0442\u0441\u044f \u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044f, \u0447\u0442\u043e\u0431\u044b \u043e\u043d \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043b."),o=>{this.disabledCode=!1,this.confirmService.hide(),o&&setTimeout(()=>{this.checkCode(e)},10)})}this.checkCode(e)}}getDepthGift(e){const t=this.getSizeGift(e);return"greetingcard"===e.type?t/297:"game"===e.type?t/9:"speaker"===e.type?t/(299/136):"tablet"===e.type?t/(247/6):"photo"===e.type?t/480:1}setBoxSizeAndGrid(){const e=this.gifts.length;e<4?(this.grid={w:1,h:1},this.box.size.w=150,this.box.size.d=150):e>=4&&e<6?(this.grid={w:2,h:2},this.box.size.w=300,this.box.size.d=300):e>=6&&e<9?(this.grid={w:3,h:2},this.box.size.w=300,this.box.size.d=450):e>=9&&(this.grid={w:3,h:3},this.box.size.w=450,this.box.size.d=450);let t=0;this.gifts.forEach(o=>{t+=this.getDepthGift(o)}),t+=40,t=Math.ceil(t),this.box.size.h=t}setGiftInBox(){this.inBox=this.gifts.map(e=>e.id)}convertURIToBinary(e){let t=";base64,",o=e.indexOf(t)+t.length,s=e.substring(o),r=window.atob(s),a=r.length,l=new Uint8Array(new ArrayBuffer(a));for(let u=0;u<a;u++)l[u]=r.charCodeAt(u);return l}refreshAudioInGifts(e){return I(function*(){for(let t=0;t<e.length;t++){let o=e[t];if("speaker"!==o.type)e[t]=Object.assign({},o);else{const s=yield(yield fetch(o.value)).blob();e[t]=Object.assign(Object.assign({},o),{value:[s]})}}return new Promise(t=>t(e))})()}refreshVideoInGifts(e){return I(function*(){for(let t=0;t<e.length;t++){let o=e[t];if("tablet"!==o.type)e[t]=Object.assign({},o);else{const s=yield(yield fetch(o.value)).blob();e[t]=Object.assign(Object.assign({},o),{value:[s],urlVideo:URL.createObjectURL(s)})}}return new Promise(t=>t(e))})()}getZPositionGift(e){let t=this.getDepthGift(e)/2+2;for(let o=0;this.inBox[o]!==e.id&&o<this.inBox.length;o++){const s=this.getGiftById(this.inBox[o]);e.cell.x===s.cell.x&&e.cell.y===s.cell.y&&(t+=this.getDepthGift(s))}return t}setGifts(e){var t=this;return I(function*(){return e.forEach(o=>{"greetingcard"===o.type?(o.back=t.backendService.getLinkFromBackend(o.back),o.front=t.backendService.getLinkFromBackend(o.front)):"game"===o.type?(o.front=t.backendService.getLinkFromBackend(o.front),o.inside=t.backendService.getLinkFromBackend(o.inside),o.side=t.backendService.getLinkFromBackend(o.side)):"speaker"===o.type?(o.grill=t.backendService.getLinkFromBackend(o.grill),o.value=t.backendService.getLinkFromBackend(o.value)):"tablet"===o.type?o.value=t.backendService.getLinkFromBackend(o.value):"photo"===o.type&&(o.photo=t.backendService.getLinkFromBackend(o.photo))}),e=yield t.refreshAudioInGifts(e),e=yield t.refreshVideoInGifts(e),t.gifts=e,t.setGiftInBox(),t.setBoxSizeAndGrid(),t.gifts=t.gifts.map(o=>Object.assign(Object.assign({},o),{pos:{x:-t.box.size.d/2+(.5+o.cell.x)*(t.box.size.d/t.grid.w),y:-t.box.size.w/2+(.5+o.cell.y)*(t.box.size.w/t.grid.h),z:t.getZPositionGift(o)},rotate:{x:0,y:0,z:0},shiftRotate:{x:0,y:0,z:0}})),new Promise(o=>o())})()}getBoxGeneral(){const t=decodeURI(this.router.url).split("?")[0].split("/")[2];console.log(t),this.backendService.getBoxGeneralByLink(t).then(o=>{!o.success||!o.result||(this.triesCode=o.result.attempts,this.general.id=o.result.id)})}ngOnInit(){this.getBoxGeneral(),this.setStage1()}}return i.\u0275fac=function(e){return new(e||i)(P(De),P(ga),P(Bt),P(ve),P(ct),P(Qo))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-page-view"]],viewQuery:function(e,t){if(1&e&&(Xe(Z$,5,q),Xe(X$,5,q)),2&e){let o;Ve(o=Le())&&(t.boxRef=o.first),Ve(o=Le())&&(t.lockRef=o.first)}},hostBindings:function(e,t){1&e&&C("mousedown",function(s){return t.onMouseDown(s)},!1,be)("mouseup",function(s){return t.onMouseUp(s)},!1,be)("mouseleave",function(s){return t.onMouseLeave(s)},!1,be)("mousemove",function(s){return t.onMouseMove(s)},!1,be)("click",function(){return t.onClick()},!1,be)},decls:19,vars:39,consts:[[1,"error",3,"text","color"],["class","main-text",4,"ngIf"],["class","hint",4,"ngIf"],["class","row",4,"ngIf"],[1,"display"],[1,"wrap"],[1,"box",3,"packed","animate","wrapped","tapped","w","h","d","inside","package","tape"],["boxRef",""],[4,"ngFor","ngForOf"],["class","back-active",3,"width","height","transform",4,"ngIf"],[1,"archive"],["class","gift-option-usable gi-button",3,"gift-option-usable_active","click",4,"ngIf"],["class","buttom-panel",4,"ngIf"],["class","top-panel",4,"ngIf"],["class","view-gift",4,"ngIf"],[3,"close",4,"ngIf"],["class","screen-image-upload",4,"ngIf"],[1,"main-text"],[1,"hint"],[1,"row"],[3,"disabled","toReject","toAccept","toInput","input"],["lockRef",""],[1,"column","width-300"],["class","title-code",4,"ngIf"],[1,"attemts-code"],["class","attemts-code",4,"ngIf"],[1,"title-code"],["href","https://t.me/gaiusdedeo","target","_blank",1,"attemts__link"],[4,"ngIf"],["class","gift",3,"gift_animated","transform","size","front","back","text","color","sign","smooth",4,"ngIf"],["class","gift",3,"gift_animated","transform","size","color","front","inside","side","code","open","smooth",4,"ngIf"],["class","gift",3,"gift_animated","transform","size","grill","color","smooth",4,"ngIf"],["class","gift",3,"gift_animated","transform","size","color","smooth",4,"ngIf"],["class","gift",3,"gift_animated","transform","size","photo","sign","smooth",4,"ngIf"],[1,"gift",3,"size","front","back","text","color","sign","smooth"],[1,"gift",3,"size","color","front","inside","side","code","open","smooth"],[1,"gift",3,"size","grill","color","smooth"],[1,"gift",3,"size","color","smooth"],[1,"gift",3,"size","photo","sign","smooth"],[1,"back-active"],[1,"gift-option-usable","gi-button",3,"click"],["class","gift-option",3,"gift-option-usable","gift-option-usable_active","scaleIcon","gift","showButtons","click",4,"ngIf"],[1,"gift-option",3,"scaleIcon","gift","showButtons","click"],[1,"buttom-panel"],[3,"text","icon","background","color","click",4,"ngIf"],[3,"text","icon","background","color","click"],[1,"top-panel"],[1,"top-panel__icon","top-panel__icon_lc-mouse"],[1,"top-panel__text","top-panel__text_white"],[1,"bottom-panel__text"],[1,"view-gift"],[1,"inner-wrap-view-gift"],["class","gi-box",4,"ngIf"],["class","gi-text",4,"ngIf"],["class","display-gift",3,"mousedown",4,"ngIf"],["class","text-greeting-card",3,"innerHTML",4,"ngIf"],["class","buttons-panel-view-gift",4,"ngIf"],[1,"gi-box"],[1,"box",3,"packed","animate","wrapped","tapped","w","h","d","package","tape"],[1,"gi-text"],[1,"display-gift",3,"mousedown"],[3,"transform","gift-animated","size","front","back","text","color","sign",4,"ngIf"],[3,"transform","gift-animated","size","color","front","inside","side","code","open","smooth",4,"ngIf"],[3,"transform","gift-animated","size","animationName","grill","color",4,"ngIf"],[3,"transform","gift-animated","size","color",4,"ngIf"],[3,"transform","gift-animated","size","photo","sign",4,"ngIf"],[3,"size","front","back","text","color","sign"],[3,"size","color","front","inside","side","code","open","smooth"],[3,"size","grill","color"],[3,"size","color"],[3,"size","photo","sign"],[1,"text-greeting-card",3,"innerHTML"],[1,"buttons-panel-view-gift"],[1,"code-view-gift"],[3,"icon","background","color","click"],[1,"micro-speaker",3,"withoutRecord","sublimeValue","sublimeDuration","sublimeSounds","sublimestop"],[3,"close"],["class","dialog",4,"ngIf"],[1,"dialog"],[1,"dialog-title"],[1,"dialog-text"],["width","90%","src","assets/game/how-to-use/ps1.png",1,"dialog-img"],["width","90%","src","assets/game/how-to-use/ps2.png",1,"dialog-img"],["width","90%","src","assets/game/how-to-use/ps3.png",1,"dialog-img"],["href","https://www.playstation.com/ru-ru/support/store/redeem-ps-store-voucher-code/",1,"dialog-link"],["width","90%","src","assets/game/how-to-use/xbox1.png",1,"dialog-img"],["width","90%","src","assets/game/how-to-use/xbox2.png",1,"dialog-img"],["width","90%","src","assets/game/how-to-use/xbox3.png",1,"dialog-img"],["href","https://support.xbox.com/ru-RU/help/subscriptions-billing/redeem-codes-gifting/redeem-prepaid-codes",1,"dialog-link"],[1,"screen-image-upload"],[3,"withoutCamera","value","duration","recording","screen","sublimeuninit"],[1,"screen-image-upload__close","screen-image-upload__close_background",3,"click"],[1,"screen-image-upload__menu"]],template:function(e,t){1&e&&(m(0,"app-desktop-error",0),S(1,K$,2,6,"div",1),S(2,Q$,2,6,"div",2),S(3,tY,8,9,"div",3),h(4,"div",4),h(5,"div",5),h(6,"app-box",6,7),S(8,lY,2,1,"ng-container",8),S(9,uY,1,7,"div",9),d(),d(),d(),h(10,"div",10),S(11,cY,2,3,"div",11),S(12,dY,2,1,"ng-container",8),d(),S(13,fY,3,6,"div",12),S(14,gY,4,2,"div",13),S(15,mY,3,2,"div",12),S(16,IY,11,10,"div",14),S(17,FY,3,2,"app-desktop-dialog",15),S(18,NY,4,7,"div",16)),2&e&&(f("text",t.textError)("color","#333333"),c(1),f("ngIf",1===t.stage),c(1),f("ngIf",1===t.stage),c(1),f("ngIf",2===t.stage),c(1),b("display",t.wrap.show?"flex":"none"),V("display_shifted",t.showArchive),c(1),b("transform","translateX("+(t.wrap.x+t.wrap.shift.x)+"px) translateY("+(t.wrap.y+t.wrap.shift.y)+"px) scale("+t.wrap.scale+")")("display",t.wrap.show?"flex":"none"),V("wrap_animated",t.wrap.animated),c(1),b("transform","translateX("+t.box.coord.x+"px) translateY("+t.box.coord.y+"px) translateZ("+t.box.coord.z+"px) rotateX("+(t.box.rotate.x+t.box.shiftRotate.x)+"deg) rotateY("+(t.box.rotate.y+t.box.shiftRotate.y)+"deg) rotateZ("+t.box.rotate.z+"deg) scale("+t.box.scale+")"),f("packed",t.box.packed)("animate",t.box.animate)("wrapped",t.box.wrapped)("tapped",t.box.tapped)("w",t.box.size.w)("h",t.box.size.h)("d",t.box.size.d)("inside",t.box.inside)("package",t.box.package)("tape",t.box.tape),c(2),f("ngForOf",t.inBox),c(1),f("ngIf",t.activeGift.id),c(1),V("archive_hidden",!t.showArchive),c(1),f("ngIf",0===t.inBox.length),c(1),f("ngForOf",t.gifts),c(1),f("ngIf",3===t.stage&&t.activeGift.id),c(1),f("ngIf",3===t.stage&&t.activeGift.id),c(1),f("ngIf",3===t.stage&&!t.activeGift.id),c(1),f("ngIf",4===t.stage&&0===t.inBox.length),c(1),f("ngIf",t.dialogShow),c(1),f("ngIf",t.webcamVideo.visible))},directives:[Gs,Re,Rs,gt,q$,$i,Xo,bo,wo,Yi,Xl,ai,K2,fk,J2],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .error[_ngcontent-%COMP%]{z-index:999}[_nghost-%COMP%]   .display[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all ease .2s}[_nghost-%COMP%]   .display_shifted[_ngcontent-%COMP%]{width:calc(100% - min(500px,40%))}[_nghost-%COMP%]   .view-gift[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#fafafa;width:calc(100% - min(500px,40%));z-index:10;overflow-x:hidden;transition:all ease .2s}[_nghost-%COMP%]   .inner-wrap-view-gift[_ngcontent-%COMP%]{max-height:100%;width:100%;overflow-y:auto;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;overflow-x:hidden}[_nghost-%COMP%]   .archive[_ngcontent-%COMP%]{position:fixed;top:0px;right:0px;width:min(500px,40%);height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;background-color:#fff;border:1px solid #00000033;transform:translate(0);overflow-y:auto;transition:all ease .2s}[_nghost-%COMP%]   .archive_hidden[_ngcontent-%COMP%]{transform:translate(100%)}[_nghost-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}[_nghost-%COMP%]   .title-code[_ngcontent-%COMP%]{margin:20px;text-align:left;font-size:22px;color:#333}[_nghost-%COMP%]   .attemts-code[_ngcontent-%COMP%]{margin:20px;text-align:left;font-size:14px;color:#f44336}[_nghost-%COMP%]   .main-text[_ngcontent-%COMP%]{align-self:center;text-align:center;font-size:24px;color:#333}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{margin-top:50px;align-self:center;text-align:center;font-size:12px;color:#333}[_nghost-%COMP%]   .back-active[_ngcontent-%COMP%]{position:absolute;background-color:#0009}[_nghost-%COMP%]   .buttom-panel[_ngcontent-%COMP%]{position:fixed;left:0px;bottom:0px;width:calc(100% - min(500px,40%));height:80px;display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%]   .bottom-panel__text[_ngcontent-%COMP%]{font-size:14px;color:#333;text-align:center}[_nghost-%COMP%]   .top-panel[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:calc(100% - min(500px,40%));height:80px;display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%]   .top-panel__text[_ngcontent-%COMP%]{font-size:14px;color:#333;text-align:center}[_nghost-%COMP%]   .top-panel__text_white[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .top-panel__icon[_ngcontent-%COMP%]{margin:0 20px;width:40px;height:40px;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%]   .top-panel__icon_lc-mouse[_ngcontent-%COMP%]{background-image:url(/assets/lc-mouse.svg)}[_nghost-%COMP%]   .gift-option-usable[_ngcontent-%COMP%]{margin:0;cursor:pointer;user-select:none;transition:all ease .2s}[_nghost-%COMP%]   .gift-option-usable[_ngcontent-%COMP%]:hover{background-color:#0001}[_nghost-%COMP%]   .gift-option-usable_active[_ngcontent-%COMP%]{background-color:#0002}[_nghost-%COMP%]   .gift-option-usable_active[_ngcontent-%COMP%]:hover{background-color:#0002}[_nghost-%COMP%]   .display-gift[_ngcontent-%COMP%]{align-self:center;flex-shrink:0;margin:50px 10px;width:100%;height:400px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:grab;perspective:2000px}[_nghost-%COMP%]   .text-greeting-card[_ngcontent-%COMP%]{margin:20px;max-width:600px;text-align:center;font-size:20px;color:#333;line-height:40px}[_nghost-%COMP%]   .buttons-panel-view-gift[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%]   .code-view-gift[_ngcontent-%COMP%]{margin:10px;font-size:14px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]{margin:0 40px;padding-bottom:40px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{text-align:center;font-size:26px;font-weight:bold;color:#333;margin:50px 50px 10px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-text[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#333;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-quote[_ngcontent-%COMP%]{text-align:center;font-style:italic;color:#999;font-size:16px;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-img[_ngcontent-%COMP%]{margin:10px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-warning[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#f44336;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around;flex-wrap:wrap}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-link[_ngcontent-%COMP%]{text-decoration:none;color:#e91e63}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:20}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__close[_ngcontent-%COMP%]{position:fixed;top:0px;right:0px;margin:20px;width:40px;height:40px;z-index:15;cursor:pointer;border-radius:100px;background-image:url(cross_white.3cfbf2db249143ad.svg);background-position:center;background-size:70%;background-repeat:no-repeat}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__close_background[_ngcontent-%COMP%]{background-color:#0006}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;border-radius:10px;box-shadow:0 0 5px #0003;background-color:#fff;display:flex;flex-direction:row;align-items:center;justify-content:center;z-index:15}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px 10px 10px 0}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin-left:10px}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%] > .input-color-sign-greetingcard[_ngcontent-%COMP%]{margin:0;width:0px;height:0px;border:none;outline:none;transform:translate(-90px)}[_nghost-%COMP%]   .gi-box[_ngcontent-%COMP%]{width:400px;height:400px;display:flex;align-self:center;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .gi-text[_ngcontent-%COMP%]{margin:20px;text-align:center;font-size:20px;color:#333}[_nghost-%COMP%]   .gi-button[_ngcontent-%COMP%]{height:140px;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding:0 40px}[_nghost-%COMP%]   .width-300[_ngcontent-%COMP%]{width:300px}[_nghost-%COMP%]   .attemts__link[_ngcontent-%COMP%]{text-decoration:none;color:#03a9f4}"],data:{animation:[he("verticalShow",[K(":enter",[F({transform:"translateY(-100%)"}),$("200ms",F({transform:"translateY(0%)"}))]),K(":leave",[$("200ms",F({transform:"translateY(-100%)"}))])]),he("mainText",[K(":enter",[F({transform:"scale(0)",opacity:"0"}),$("0.2s {{delay}} ease",F({transform:"scale(1)",opacity:"1"}))]),K(":leave",[F({transform:"scale(1)",opacity:"1"}),$("0.2s {{delay}} ease",F({transform:"scale(0)",opacity:"0"}))])]),he("viewGiftDisplay",[K(":enter",[F({transform:"translateX(-100%)"}),$("0.2s ease",F({transform:"translateX(0%)"}))]),K(":leave",[F({transform:"translateX(0%)"}),$("0.2s ease",F({transform:"translateX(-100%)"}))])]),he("topToBottom",[K(":enter",[F({transform:"translateY(-100vh)"}),$("0.2s ease",F({transform:"translateY(0px)"}))]),K(":leave",[F({transform:"translateY(0px)"}),$("0.2s ease",F({transform:"translateY(-100vh)"}))])]),he("optionGift",[K(":enter",[F({transform:"translateY(100%)",opacity:"0"}),$("0.2s ease",F({transform:"translateY(0%)",opacity:"1"}))]),K(":leave",[F({transform:"translateY(0%)",opacity:"1"}),$("0.2s ease",F({transform:"translateY(100%)",opacity:"0"}))])]),he("bottomPanel",[K(":enter",[F({transform:"translateY(100%)"}),$("0.2s ease",F({transform:"translateY(0%)"}))]),K(":leave",[F({transform:"translateY(0%)"}),$("0.2s ease",F({transform:"translateY(100%)"}))])]),he("activeBack",[K(":enter",[F({opacity:"0"}),$("0.2s ease",F({opacity:"1"}))]),K(":leave",[F({opacity:"1"}),$("0.2s ease",F({opacity:"0"}))])]),he("optionViewGift",[K(":enter",[F({transform:"scale(0)",opacity:"0"}),$("0.2s ease",F({transform:"scale(1)",opacity:"1"}))])])]}}),i})();function VY(i,n){1&i&&m(0,"app-touch-page-view")}function LY(i,n){1&i&&m(0,"app-desktop-page-view")}const zY=[{component:yN,path:""},{component:KU,path:"c"},{component:a$,path:"i/:id"},{component:(()=>{class i{constructor(e){this.isTouchService=e,this.typeScreen="touch"}setTypeScreen(){this.typeScreen=this.isTouchService.get()?"touch":"desktop"}ngOnInit(){this.setTypeScreen()}}return i.\u0275fac=function(e){return new(e||i)(P(Fl))},i.\u0275cmp=X({type:i,selectors:[["app-page-view"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(S(0,VY,1,0,"app-touch-page-view",0),S(1,LY,1,0,"app-desktop-page-view",0)),2&e&&(f("ngIf","touch"===t.typeScreen),c(1),f("ngIf","desktop"===t.typeScreen))},directives:[Re,U$,BY],styles:[""]}),i})(),path:"v/:id"},{component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=X({type:i,selectors:[["app-page-refresh"]],decls:2,vars:0,template:function(e,t){1&e&&(h(0,"p"),x(1,"page-refresh works!"),d())},styles:[""]}),i})(),path:"refresh"}];let GY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=St({type:i}),i.\u0275inj=bt({imports:[[Lb.forRoot(zY)],Lb]}),i})(),QY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=St({type:i}),i.\u0275inj=bt({imports:[[vC,Mh],Mh]}),i})(),JY=(()=>{class i{constructor(e,t,o){this.router=e,this.host=t,this.viewContainerRef=o,this.select=new L,this.slideTop="show"}setLang(e){this.select.emit(e)}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(P(ct),P(q),P(Bt))},i.\u0275cmp=X({type:i,selectors:[["app-desktop-select-location"]],hostVars:1,hostBindings:function(e,t){2&e&&Lo("@slideTop",t.slideTop)},outputs:{select:"select"},decls:13,vars:0,consts:[[1,"list"],[1,"option",3,"click"],[1,"option__icon","option__icon_us"],[1,"option__text"],[1,"option__icon","option__icon_ru"],[1,"option__icon","option__icon_world"]],template:function(e,t){1&e&&(h(0,"div",0),h(1,"div",1),C("click",function(){return t.setLang("us")}),m(2,"div",2),h(3,"div",3),x(4,"I'm from USA"),d(),d(),h(5,"div",1),C("click",function(){return t.setLang("ru")}),m(6,"div",4),h(7,"div",3),x(8,"\u042f \u0440\u0443\u0441\u0441\u043a\u0438\u0439"),d(),d(),h(9,"div",1),C("click",function(){return t.setLang("us")}),m(10,"div",5),h(11,"div",3),x(12,"I'm from another country"),d(),d(),d())},styles:["[_nghost-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:100;background-color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:0 0 10px #ddd;background-color:#0002}[_nghost-%COMP%] > .list[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;flex-direction:column;align-items:stretch;justify-content:flex-start;overflow-y:auto;width:90%;max-width:600px;max-height:min(800px,90%);box-shadow:0 0 5px #ddd}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%]{padding:20px 50px;display:flex;flex-direction:row;text-decoration:none;align-items:center;justify-content:flex-start;cursor:pointer;transition:background-color ease .2s}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon[_ngcontent-%COMP%]{flex-shrink:0;margin-right:0;width:30px;height:20px;background-position:center;background-size:contain;background-repeat:no-repeat;border:1px solid #bbbbbb;border-radius:5px}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon_world[_ngcontent-%COMP%]{background-image:url(world.c4e74befe8e09023.png)}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon_us[_ngcontent-%COMP%]{background-image:url(us.737df2eb1546c000.png)}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon_ru[_ngcontent-%COMP%]{background-image:url(ru.9a76acf99f37c25c.png)}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__text[_ngcontent-%COMP%]{margin:10px;text-decoration:none;color:#333;font-size:18px}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%]:hover{background-color:#0001}"],data:{animation:[he("slideTop",[K(":enter",[F({backgroundColor:"#00000000"}),kn(".list",[F({transform:"translateY(-100px)",opacity:0})]),$("0.2s ease",F({backgroundColor:"#00000022"})),kn(".list",[$("0.2s ease",F({transform:"translateY(0px)",opacity:1}))])]),K(":leave",[kn(".list",[$("0.2s ease",F({transform:"translateY(-100px)",opacity:0}))]),$("0.2s ease",F({backgroundColor:"#00000000"}))])])]}}),i})(),eW=(()=>{class i{constructor(){this.select=new L,this.slideTop="show"}setLang(e){this.select.emit(e)}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=X({type:i,selectors:[["app-touch-select-location"]],hostVars:1,hostBindings:function(e,t){2&e&&Lo("@slideTop",t.slideTop)},outputs:{select:"select"},decls:13,vars:0,consts:[[1,"list"],[1,"option",3,"click"],[1,"option__icon","option__icon_us"],[1,"option__text"],[1,"option__icon","option__icon_ru"],[1,"option__icon","option__icon_world"]],template:function(e,t){1&e&&(h(0,"div",0),h(1,"div",1),C("click",function(){return t.setLang("us")}),m(2,"div",2),h(3,"div",3),x(4,"I'm from USA"),d(),d(),h(5,"div",1),C("click",function(){return t.setLang("ru")}),m(6,"div",4),h(7,"div",3),x(8,"\u042f \u0440\u0443\u0441\u0441\u043a\u0438\u0439"),d(),d(),h(9,"div",1),C("click",function(){return t.setLang("us")}),m(10,"div",5),h(11,"div",3),x(12,"I'm from another country"),d(),d(),d())},styles:["[_nghost-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:100;background-color:#fff;display:flex;flex-direction:column;align-items:stretch;justify-content:center;box-shadow:0 0 10px #ddd}[_nghost-%COMP%] > .list[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;justify-content:flex-start;overflow-y:auto;max-height:100%}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%]{padding:20px 50px;display:flex;flex-direction:row;text-decoration:none;align-items:center;justify-content:flex-start;cursor:pointer}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon[_ngcontent-%COMP%]{flex-shrink:0;margin-right:0;width:30px;height:20px;background-position:center;background-size:contain;background-repeat:no-repeat;border:1px solid #bbbbbb;border-radius:5px}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon_world[_ngcontent-%COMP%]{background-image:url(world.c4e74befe8e09023.png)}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon_us[_ngcontent-%COMP%]{background-image:url(us.737df2eb1546c000.png)}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon_ru[_ngcontent-%COMP%]{background-image:url(ru.9a76acf99f37c25c.png)}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__text[_ngcontent-%COMP%]{margin:10px;text-decoration:none;color:#333;font-size:18px}"],data:{animation:[he("slideTop",[K(":enter",[F({transform:"translateY(-100%)"}),$("0.5s ease",F({transform:"translateY(0%)"}))]),K(":leave",[$("0.5s ease",F({transform:"translateY(-100%)"}))])])]}}),i})();function tW(i,n){if(1&i){const e=H();h(0,"app-desktop-select-location",2),C("select",function(o){return E(e),y(2).onSelectLanguage(o)}),d()}}function nW(i,n){if(1&i){const e=H();h(0,"app-touch-select-location",2),C("select",function(o){return E(e),y(2).onSelectLanguage(o)}),d()}}function iW(i,n){if(1&i&&(Se(0),S(1,tW,1,0,"app-desktop-select-location",1),S(2,nW,1,0,"app-touch-select-location",1),Me()),2&i){const e=y();c(1),f("ngIf","desktop"===e.getTypeScreen()),c(1),f("ngIf","touch"===e.getTypeScreen())}}let oW=(()=>{class i{constructor(e,t,o){this.IsTouchService=e,this.changeDetectorRef=t,this.router=o,this.title="tebe"}getTypeScreen(){return this.IsTouchService.get()?"touch":"desktop"}isShowLanguage(){return!window.sessionStorage.getItem("lang")}onSelectLanguage(e){window.sessionStorage.setItem("lang",e),window.location.reload()}}return i.\u0275fac=function(e){return new(e||i)(P(Fl),P(ei),P(ct))},i.\u0275cmp=X({type:i,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"],[3,"select",4,"ngIf"],[3,"select"]],template:function(e,t){1&e&&(S(0,iW,3,2,"ng-container",0),m(1,"router-outlet")),2&e&&f("ngIf",t.isShowLanguage())},directives:[Re,Dg,JY,eW],styles:[""]}),i})(),sW=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=St({type:i,bootstrap:[oW]}),i.\u0275inj=bt({providers:[],imports:[[IC,GY,gN,nN,CH,uV,QY,bH,oB]]}),i})();(function(){if(Gy)throw new Error("Cannot enable prod mode after platform setup.");zy=!1})(),dR().bootstrapModule(sW).catch(i=>console.error(i))}},Ce=>{Ce(Ce.s=458)}]);