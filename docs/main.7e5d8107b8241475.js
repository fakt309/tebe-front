"use strict";var vU=Object.defineProperty,yU=Object.defineProperties,CU=Object.getOwnPropertyDescriptors,Vx=Object.getOwnPropertySymbols,bU=Object.prototype.hasOwnProperty,wU=Object.prototype.propertyIsEnumerable,zx=(_e,Ft,rn)=>Ft in _e?vU(_e,Ft,{enumerable:!0,configurable:!0,writable:!0,value:rn}):_e[Ft]=rn,K=(_e,Ft)=>{for(var rn in Ft||(Ft={}))bU.call(Ft,rn)&&zx(_e,rn,Ft[rn]);if(Vx)for(var rn of Vx(Ft))wU.call(Ft,rn)&&zx(_e,rn,Ft[rn]);return _e},Yt=(_e,Ft)=>yU(_e,CU(Ft));(self.webpackChunkwcg=self.webpackChunkwcg||[]).push([[179],{162:()=>{function _e(i){return"function"==typeof i}function Ft(i){const e=i(t=>{Error.call(t),t.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const rn=Ft(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,s)=>`${s+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Go(i,n){if(i){const e=i.indexOf(n);0<=e&&i.splice(e,1)}}class bt{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:t}=this;if(_e(t))try{t()}catch(o){n=o instanceof rn?o.errors:[o]}const{_teardowns:s}=this;if(s){this._teardowns=null;for(const o of s)try{Em(o)}catch(r){n=null!=n?n:[],r instanceof rn?n=[...n,...r.errors]:n.push(r)}}if(n)throw new rn(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Em(n);else{if(n instanceof bt){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Go(e,n)}remove(n){const{_teardowns:e}=this;e&&Go(e,n),n instanceof bt&&n._removeParent(this)}}bt.EMPTY=(()=>{const i=new bt;return i.closed=!0,i})();const Sm=bt.EMPTY;function Mm(i){return i instanceof bt||i&&"closed"in i&&_e(i.remove)&&_e(i.add)&&_e(i.unsubscribe)}function Em(i){_e(i)?i():i.unsubscribe()}const to={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},su={setTimeout(...i){const{delegate:n}=su;return((null==n?void 0:n.setTimeout)||setTimeout)(...i)},clearTimeout(i){const{delegate:n}=su;return((null==n?void 0:n.clearTimeout)||clearTimeout)(i)},delegate:void 0};function Tm(i){su.setTimeout(()=>{const{onUnhandledError:n}=to;if(!n)throw i;n(i)})}function ma(){}const jx=$h("C",void 0,void 0);function $h(i,n,e){return{kind:i,value:n,error:e}}let no=null;function ou(i){if(to.useDeprecatedSynchronousErrorHandling){const n=!no;if(n&&(no={errorThrown:!1,error:null}),i(),n){const{errorThrown:e,error:t}=no;if(no=null,e)throw t}}else i()}class Yh extends bt{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Mm(n)&&n.add(this)):this.destination=$x}static create(n,e,t){return new Wh(n,e,t)}next(n){this.isStopped?Zh($h("N",n,void 0),this):this._next(n)}error(n){this.isStopped?Zh($h("E",void 0,n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Zh(jx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Wh extends Yh{constructor(n,e,t){let s;if(super(),_e(n))s=n;else if(n){let o;({next:s,error:e,complete:t}=n),this&&to.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe()):o=n,s=null==s?void 0:s.bind(o),e=null==e?void 0:e.bind(o),t=null==t?void 0:t.bind(o)}this.destination={next:s?qh(s):ma,error:qh(null!=e?e:Om),complete:t?qh(t):ma}}}function qh(i,n){return(...e)=>{try{i(...e)}catch(t){to.useDeprecatedSynchronousErrorHandling?function(i){to.useDeprecatedSynchronousErrorHandling&&no&&(no.errorThrown=!0,no.error=i)}(t):Tm(t)}}}function Om(i){throw i}function Zh(i,n){const{onStoppedNotification:e}=to;e&&su.setTimeout(()=>e(i,n))}const $x={closed:!0,next:ma,error:Om,complete:ma},Xh="function"==typeof Symbol&&Symbol.observable||"@@observable";function vs(i){return i}let Ye=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){const t=new i;return t.source=this,t.operator=e,t}subscribe(e,t,s){const o=function(i){return i&&i instanceof Yh||function(i){return i&&_e(i.next)&&_e(i.error)&&_e(i.complete)}(i)&&Mm(i)}(e)?e:new Wh(e,t,s);return ou(()=>{const{operator:r,source:a}=this;o.add(r?r.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=Am(t))((s,o)=>{let r;r=this.subscribe(a=>{try{e(a)}catch(l){o(l),null==r||r.unsubscribe()}},o,s)})}_subscribe(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}[Xh](){return this}pipe(...e){return function(i){return 0===i.length?vs:1===i.length?i[0]:function(e){return i.reduce((t,s)=>s(t),e)}}(e)(this)}toPromise(e){return new(e=Am(e))((t,s)=>{let o;this.subscribe(r=>o=r,r=>s(r),()=>t(o))})}}return i.create=n=>new i(n),i})();function Am(i){var n;return null!==(n=null!=i?i:to.Promise)&&void 0!==n?n:Promise}const qx=Ft(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Te=(()=>{class i extends Ye{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const t=new Rm(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new qx}next(e){ou(()=>{if(this._throwIfClosed(),!this.isStopped){const t=this.observers.slice();for(const s of t)s.next(e)}})}error(e){ou(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:t}=this;for(;t.length;)t.shift().error(e)}})}complete(){ou(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:t,isStopped:s,observers:o}=this;return t||s?Sm:(o.push(e),new bt(()=>Go(o,e)))}_checkFinalizedStatuses(e){const{hasError:t,thrownError:s,isStopped:o}=this;t?e.error(s):o&&e.complete()}asObservable(){const e=new Ye;return e.source=this,e}}return i.create=(n,e)=>new Rm(n,e),i})();class Rm extends Te{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===t||t.call(e,n)}error(n){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===t||t.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,t;return null!==(t=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==t?t:Sm}}function Fm(i){return _e(null==i?void 0:i.lift)}function wt(i){return n=>{if(Fm(n))return n.lift(function(e){try{return i(e,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}class ft extends Yh{constructor(n,e,t,s,o){super(n),this.onFinalize=o,this._next=e?function(r){try{e(r)}catch(a){n.error(a)}}:super._next,this._error=s?function(r){try{s(r)}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=t?function(){try{t()}catch(r){n.error(r)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}function Oe(i,n){return wt((e,t)=>{let s=0;e.subscribe(new ft(t,o=>{t.next(i.call(n,o,s++))}))})}function io(i){return this instanceof io?(this.v=i,this):new io(i)}function Qx(i,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,t=e.apply(i,n||[]),o=[];return s={},r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s;function r(m){t[m]&&(s[m]=function(v){return new Promise(function(k,w){o.push([m,v,k,w])>1||a(m,v)})})}function a(m,v){try{!function(m){m.value instanceof io?Promise.resolve(m.value.v).then(u,h):f(o[0][2],m)}(t[m](v))}catch(k){f(o[0][3],k)}}function u(m){a("next",m)}function h(m){a("throw",m)}function f(m,v){m(v),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Kx(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=i[Symbol.asyncIterator];return n?n.call(i):(i=function(i){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&i[n],t=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&t>=i.length&&(i=void 0),{value:i&&i[t++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),e={},t("next"),t("throw"),t("return"),e[Symbol.asyncIterator]=function(){return this},e);function t(o){e[o]=i[o]&&function(r){return new Promise(function(a,l){!function(o,r,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},r)}(a,l,(r=i[o](r)).done,r.value)})}}}const Kh=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function Vm(i){return _e(null==i?void 0:i.then)}function zm(i){return _e(i[Xh])}function jm(i){return Symbol.asyncIterator&&_e(null==i?void 0:i[Symbol.asyncIterator])}function Gm(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Hm="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Um(i){return _e(null==i?void 0:i[Hm])}function $m(i){return Qx(this,arguments,function*(){const e=i.getReader();try{for(;;){const{value:t,done:s}=yield io(e.read());if(s)return yield io(void 0);yield yield io(t)}}finally{e.releaseLock()}})}function Ym(i){return _e(null==i?void 0:i.getReader)}function Pn(i){if(i instanceof Ye)return i;if(null!=i){if(zm(i))return function(i){return new Ye(n=>{const e=i[Xh]();if(_e(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(Kh(i))return function(i){return new Ye(n=>{for(let e=0;e<i.length&&!n.closed;e++)n.next(i[e]);n.complete()})}(i);if(Vm(i))return function(i){return new Ye(n=>{i.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Tm)})}(i);if(jm(i))return Wm(i);if(Um(i))return function(i){return new Ye(n=>{for(const e of i)if(n.next(e),n.closed)return;n.complete()})}(i);if(Ym(i))return function(i){return Wm($m(i))}(i)}throw Gm(i)}function Wm(i){return new Ye(n=>{(function(i,n){var e,t,s,o;return function(i,n,e,t){return new(e||(e=Promise))(function(o,r){function a(h){try{u(t.next(h))}catch(f){r(f)}}function l(h){try{u(t.throw(h))}catch(f){r(f)}}function u(h){h.done?o(h.value):function(o){return o instanceof e?o:new e(function(r){r(o)})}(h.value).then(a,l)}u((t=t.apply(i,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Kx(i);!(t=yield e.next()).done;)if(n.next(t.value),n.closed)return}catch(r){s={error:r}}finally{try{t&&!t.done&&(o=e.return)&&(yield o.call(e))}finally{if(s)throw s.error}}n.complete()})})(i,n).catch(e=>n.error(e))})}function Ui(i,n,e,t=0,s=!1){const o=n.schedule(function(){e(),s?i.add(this.schedule(null,t)):this.unsubscribe()},t);if(i.add(o),!s)return o}function Mt(i,n,e=1/0){return _e(n)?Mt((t,s)=>Oe((o,r)=>n(t,o,s,r))(Pn(i(t,s))),e):("number"==typeof n&&(e=n),wt((t,s)=>function(i,n,e,t,s,o,r,a){const l=[];let u=0,h=0,f=!1;const m=()=>{f&&!l.length&&!u&&n.complete()},v=w=>u<t?k(w):l.push(w),k=w=>{u++;let x=!1;Pn(e(w,h++)).subscribe(new ft(n,E=>{n.next(E)},()=>{x=!0},void 0,()=>{if(x)try{for(u--;l.length&&u<t;){const E=l.shift();k(E)}m()}catch(E){n.error(E)}}))};return i.subscribe(new ft(n,v,()=>{f=!0,m()})),()=>{}}(t,s,i,e)))}function _a(i=1/0){return Mt(vs,i)}const $i=new Ye(i=>i.complete());function qm(i){return i&&_e(i.schedule)}function Jh(i){return i[i.length-1]}function Zm(i){return _e(Jh(i))?i.pop():void 0}function va(i){return qm(Jh(i))?i.pop():void 0}function Xm(i,n=0){return wt((e,t)=>{e.subscribe(new ft(t,s=>Ui(t,i,()=>t.next(s),n),()=>Ui(t,i,()=>t.complete(),n),s=>Ui(t,i,()=>t.error(s),n)))})}function Qm(i,n=0){return wt((e,t)=>{t.add(i.schedule(()=>e.subscribe(t),n))})}function Km(i,n){if(!i)throw new Error("Iterable cannot be null");return new Ye(e=>{Ui(e,n,()=>{const t=i[Symbol.asyncIterator]();Ui(e,n,()=>{t.next().then(s=>{s.done?e.complete():e.next(s.value)})},0,!0)})})}function Nt(i,n){return n?function(i,n){if(null!=i){if(zm(i))return function(i,n){return Pn(i).pipe(Qm(n),Xm(n))}(i,n);if(Kh(i))return function(i,n){return new Ye(e=>{let t=0;return n.schedule(function(){t===i.length?e.complete():(e.next(i[t++]),e.closed||this.schedule())})})}(i,n);if(Vm(i))return function(i,n){return Pn(i).pipe(Qm(n),Xm(n))}(i,n);if(jm(i))return Km(i,n);if(Um(i))return function(i,n){return new Ye(e=>{let t;return Ui(e,n,()=>{t=i[Hm](),Ui(e,n,()=>{let s,o;try{({value:s,done:o}=t.next())}catch(r){return void e.error(r)}o?e.complete():e.next(s)},0,!0)}),()=>_e(null==t?void 0:t.return)&&t.return()})}(i,n);if(Ym(i))return function(i,n){return Km($m(i),n)}(i,n)}throw Gm(i)}(i,n):Pn(i)}function ru(...i){const n=va(i),e=function(i,n){return"number"==typeof Jh(i)?i.pop():1/0}(i),t=i;return t.length?1===t.length?Pn(t[0]):_a(e)(Nt(t,n)):$i}function Ho(i){return i<=0?()=>$i:wt((n,e)=>{let t=0;n.subscribe(new ft(e,s=>{++t<=i&&(e.next(s),i<=t&&e.complete())}))})}function ed(i,n,...e){return!0===n?(i(),null):!1===n?null:n(...e).pipe(Ho(1)).subscribe(()=>i())}function Xe(i){for(let n in i)if(i[n]===Xe)return n;throw Error("Could not find renamed property on target object.")}function td(i,n){for(const e in n)n.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=n[e])}function Me(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Me).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const n=i.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function nd(i,n){return null==i||""===i?null===n?"":n:null==n||""===n?i:i+" "+n}const _D=Xe({__forward_ref__:Xe});function Le(i){return i.__forward_ref__=Le,i.toString=function(){return Me(this())},i}function ve(i){return Jm(i)?i():i}function Jm(i){return"function"==typeof i&&i.hasOwnProperty(_D)&&i.__forward_ref__===Le}class Sn extends Error{constructor(n,e){super(function(i,n){return`${i?`NG0${i}: `:""}${n}`}(n,e)),this.code=n}}function de(i){return"string"==typeof i?i:null==i?"":String(i)}function an(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():de(i)}function au(i,n){const e=n?` in ${n}`:"";throw new Sn("201",`No provider for ${an(i)} found${e}`)}function En(i,n){null==i&&function(i,n,e,t){throw new Error(`ASSERTION ERROR: ${i}`+(null==t?"":` [Expected=> ${e} ${t} ${n} <=Actual]`))}(n,i,null,"!=")}function te(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Et(i){return{providers:i.providers||[],imports:i.imports||[]}}function sd(i){return e_(i,lu)||e_(i,n_)}function e_(i,n){return i.hasOwnProperty(n)?i[n]:null}function t_(i){return i&&(i.hasOwnProperty(od)||i.hasOwnProperty(xD))?i[od]:null}const lu=Xe({\u0275prov:Xe}),od=Xe({\u0275inj:Xe}),n_=Xe({ngInjectableDef:Xe}),xD=Xe({ngInjectorDef:Xe});var fe=(()=>((fe=fe||{})[fe.Default=0]="Default",fe[fe.Host=1]="Host",fe[fe.Self=2]="Self",fe[fe.SkipSelf=4]="SkipSelf",fe[fe.Optional=8]="Optional",fe))();let rd;function ys(i){const n=rd;return rd=i,n}function i_(i,n,e){const t=sd(i);return t&&"root"==t.providedIn?void 0===t.value?t.value=t.factory():t.value:e&fe.Optional?null:void 0!==n?n:void au(Me(i),"Injector")}function Cs(i){return{toString:i}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),ci=(()=>{return(i=ci||(ci={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ci;var i})();const PD="undefined"!=typeof globalThis&&globalThis,SD="undefined"!=typeof window&&window,MD="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,We=PD||"undefined"!=typeof global&&global||SD||MD,Uo={},Qe=[],uu=Xe({\u0275cmp:Xe}),ad=Xe({\u0275dir:Xe}),ld=Xe({\u0275pipe:Xe}),s_=Xe({\u0275mod:Xe}),Wi=Xe({\u0275fac:Xe}),ya=Xe({__NG_ELEMENT_ID__:Xe});let ED=0;function Q(i){return Cs(()=>{const e={},t={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Qe,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||ci.Emulated,id:"c",styles:i.styles||Qe,_:null,setInput:null,schemas:i.schemas||null,tView:null},s=i.directives,o=i.features,r=i.pipes;return t.id+=ED++,t.inputs=l_(i.inputs,e),t.outputs=l_(i.outputs),o&&o.forEach(a=>a(t)),t.directiveDefs=s?()=>("function"==typeof s?s():s).map(o_):null,t.pipeDefs=r?()=>("function"==typeof r?r():r).map(r_):null,t})}function o_(i){return Zt(i)||function(i){return i[ad]||null}(i)}function r_(i){return function(i){return i[ld]||null}(i)}const a_={};function Lt(i){return Cs(()=>{const n={type:i.type,bootstrap:i.bootstrap||Qe,declarations:i.declarations||Qe,imports:i.imports||Qe,exports:i.exports||Qe,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(a_[i.id]=i.type),n})}function l_(i,n){if(null==i)return Uo;const e={};for(const t in i)if(i.hasOwnProperty(t)){let s=i[t],o=s;Array.isArray(s)&&(o=s[1],s=s[0]),e[s]=t,n&&(n[s]=o)}return e}const se=Q;function ln(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Zt(i){return i[uu]||null}function Hn(i,n){const e=i[s_]||null;if(!e&&!0===n)throw new Error(`Type ${Me(i)} does not have '\u0275mod' property.`);return e}function Di(i){return Array.isArray(i)&&"object"==typeof i[1]}function di(i){return Array.isArray(i)&&!0===i[1]}function hd(i){return 0!=(8&i.flags)}function pu(i){return 2==(2&i.flags)}function fu(i){return 1==(1&i.flags)}function pi(i){return null!==i.template}function FD(i){return 0!=(512&i[2])}function lo(i,n){return i.hasOwnProperty(Wi)?i[Wi]:null}class BD{constructor(n,e,t){this.previousValue=n,this.currentValue=e,this.firstChange=t}isFirstChange(){return this.firstChange}}function ie(){return c_}function c_(i){return i.type.prototype.ngOnChanges&&(i.setInput=zD),VD}function VD(){const i=d_(this),n=null==i?void 0:i.current;if(n){const e=i.previous;if(e===Uo)i.previous=n;else for(let t in n)e[t]=n[t];i.current=null,this.ngOnChanges(n)}}function zD(i,n,e,t){const s=d_(i)||function(i,n){return i[h_]=n}(i,{previous:Uo,current:null}),o=s.current||(s.current={}),r=s.previous,a=this.declaredInputs[e],l=r[a];o[a]=new BD(l&&l.currentValue,n,r===Uo),i[t]=n}ie.ngInherit=!0;const h_="__ngSimpleChanges__";function d_(i){return i[h_]||null}const p_="http://www.w3.org/2000/svg";let fd;function gd(){return void 0!==fd?fd:"undefined"!=typeof document?document:void 0}function gt(i){return!!i.listen}const g_={createRenderer:(i,n)=>gd()};function kt(i){for(;Array.isArray(i);)i=i[0];return i}function gu(i,n){return kt(n[i])}function Yn(i,n){return kt(n[i.index])}function md(i,n){return i.data[n]}function Zo(i,n){return i[n]}function On(i,n){const e=n[i];return Di(e)?e:e[0]}function m_(i){return 4==(4&i[2])}function _d(i){return 128==(128&i[2])}function ws(i,n){return null==n?null:i[n]}function __(i){i[18]=0}function vd(i,n){i[5]+=n;let e=i,t=i[3];for(;null!==t&&(1===n&&1===e[5]||-1===n&&0===e[5]);)t[5]+=n,e=t,t=t[3]}const ce={lFrame:D_(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function v_(){return ce.bindingsEnabled}function B(){return ce.lFrame.lView}function Ee(){return ce.lFrame.tView}function M(i){return ce.lFrame.contextLView=i,i[8]}function Tt(){let i=y_();for(;null!==i&&64===i.type;)i=i.parent;return i}function y_(){return ce.lFrame.currentTNode}function Pi(i,n){const e=ce.lFrame;e.currentTNode=i,e.isParent=n}function yd(){return ce.lFrame.isParent}function Cd(){ce.lFrame.isParent=!1}function mu(){return ce.isInCheckNoChangesMode}function _u(i){ce.isInCheckNoChangesMode=i}function un(){const i=ce.lFrame;let n=i.bindingRootIndex;return-1===n&&(n=i.bindingRootIndex=i.tView.bindingStartIndex),n}function Xo(){return ce.lFrame.bindingIndex++}function Zi(i){const n=ce.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+i,e}function tP(i,n){const e=ce.lFrame;e.bindingIndex=e.bindingRootIndex=i,bd(n)}function bd(i){ce.lFrame.currentDirectiveIndex=i}function wd(i){const n=ce.lFrame.currentDirectiveIndex;return-1===n?null:i[n]}function w_(){return ce.lFrame.currentQueryIndex}function kd(i){ce.lFrame.currentQueryIndex=i}function iP(i){const n=i[1];return 2===n.type?n.declTNode:1===n.type?i[6]:null}function k_(i,n,e){if(e&fe.SkipSelf){let s=n,o=i;for(;!(s=s.parent,null!==s||e&fe.Host||(s=iP(o),null===s||(o=o[15],10&s.type))););if(null===s)return!1;n=s,i=o}const t=ce.lFrame=x_();return t.currentTNode=n,t.lView=i,!0}function vu(i){const n=x_(),e=i[1];ce.lFrame=n,n.currentTNode=e.firstChild,n.lView=i,n.tView=e,n.contextLView=i,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function x_(){const i=ce.lFrame,n=null===i?null:i.child;return null===n?D_(i):n}function D_(i){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=n),n}function P_(){const i=ce.lFrame;return ce.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const S_=P_;function yu(){const i=P_();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function cn(){return ce.lFrame.selectedIndex}function ks(i){ce.lFrame.selectedIndex=i}function mt(){const i=ce.lFrame;return md(i.tView,i.selectedIndex)}function fi(){ce.lFrame.currentNamespace=p_}function uo(){ce.lFrame.currentNamespace=null}function Cu(i,n){for(let e=n.directiveStart,t=n.directiveEnd;e<t;e++){const o=i.data[e].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;r&&(i.contentHooks||(i.contentHooks=[])).push(-e,r),a&&((i.contentHooks||(i.contentHooks=[])).push(e,a),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(e,a)),l&&(i.viewHooks||(i.viewHooks=[])).push(-e,l),u&&((i.viewHooks||(i.viewHooks=[])).push(e,u),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(e,u)),null!=h&&(i.destroyHooks||(i.destroyHooks=[])).push(e,h)}}function bu(i,n,e){M_(i,n,3,e)}function wu(i,n,e,t){(3&i[2])===e&&M_(i,n,e,t)}function xd(i,n){let e=i[2];(3&e)===n&&(e&=2047,e+=1,i[2]=e)}function M_(i,n,e,t){const o=null!=t?t:-1,r=n.length-1;let a=0;for(let l=void 0!==t?65535&i[18]:0;l<r;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=t&&a>=t)break}else n[l]<0&&(i[18]+=65536),(a<o||-1==o)&&(cP(i,e,n,l),i[18]=(4294901760&i[18])+l+2),l++}function cP(i,n,e,t){const s=e[t]<0,o=e[t+1],a=i[s?-e[t]:e[t]];if(s){if(i[2]>>11<i[18]>>16&&(3&i[2])===n){i[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class xa{constructor(n,e,t){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=t}}function ku(i,n,e){const t=gt(i);let s=0;for(;s<e.length;){const o=e[s];if("number"==typeof o){if(0!==o)break;s++;const r=e[s++],a=e[s++],l=e[s++];t?i.setAttribute(n,a,l,r):n.setAttributeNS(r,a,l)}else{const r=o,a=e[++s];Pd(r)?t&&i.setProperty(n,r,a):t?i.setAttribute(n,r,a):n.setAttribute(r,a),s++}}return s}function E_(i){return 3===i||4===i||6===i}function Pd(i){return 64===i.charCodeAt(0)}function xu(i,n){if(null!==n&&0!==n.length)if(null===i||0===i.length)i=n.slice();else{let e=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?e=s:0===e||T_(i,e,s,null,-1===e||2===e?n[++t]:null)}}return i}function T_(i,n,e,t,s){let o=0,r=i.length;if(-1===n)r=-1;else for(;o<i.length;){const a=i[o++];if("number"==typeof a){if(a===n){r=-1;break}if(a>n){r=o-1;break}}}for(;o<i.length;){const a=i[o];if("number"==typeof a)break;if(a===e){if(null===t)return void(null!==s&&(i[o+1]=s));if(t===i[o+1])return void(i[o+2]=s)}o++,null!==t&&o++,null!==s&&o++}-1!==r&&(i.splice(r,0,n),o=r+1),i.splice(o++,0,e),null!==t&&i.splice(o++,0,t),null!==s&&i.splice(o++,0,s)}function O_(i){return-1!==i}function Qo(i){return 32767&i}function Ko(i,n){let e=function(i){return i>>16}(i),t=n;for(;e>0;)t=t[15],e--;return t}let Sd=!0;function Du(i){const n=Sd;return Sd=i,n}let mP=0;function Pa(i,n){const e=Ed(i,n);if(-1!==e)return e;const t=n[1];t.firstCreatePass&&(i.injectorIndex=n.length,Md(t.data,i),Md(n,null),Md(t.blueprint,null));const s=Pu(i,n),o=i.injectorIndex;if(O_(s)){const r=Qo(s),a=Ko(s,n),l=a[1].data;for(let u=0;u<8;u++)n[o+u]=a[r+u]|l[r+u]}return n[o+8]=s,o}function Md(i,n){i.push(0,0,0,0,0,0,0,0,n)}function Ed(i,n){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===n[i.injectorIndex+8]?-1:i.injectorIndex}function Pu(i,n){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let e=0,t=null,s=n;for(;null!==s;){const o=s[1],r=o.type;if(t=2===r?o.declTNode:1===r?s[6]:null,null===t)return-1;if(e++,s=s[15],-1!==t.injectorIndex)return t.injectorIndex|e<<16}return-1}function Su(i,n,e){!function(i,n,e){let t;"string"==typeof e?t=e.charCodeAt(0)||0:e.hasOwnProperty(ya)&&(t=e[ya]),null==t&&(t=e[ya]=mP++);const s=255&t;n.data[i+(s>>5)]|=1<<s}(i,n,e)}function R_(i,n,e){if(e&fe.Optional)return i;au(n,"NodeInjector")}function F_(i,n,e,t){if(e&fe.Optional&&void 0===t&&(t=null),0==(e&(fe.Self|fe.Host))){const s=i[9],o=ys(void 0);try{return s?s.get(n,t,e&fe.Optional):i_(n,t,e&fe.Optional)}finally{ys(o)}}return R_(t,n,e)}function N_(i,n,e,t=fe.Default,s){if(null!==i){const o=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const n=i.hasOwnProperty(ya)?i[ya]:void 0;return"number"==typeof n?n>=0?255&n:yP:n}(e);if("function"==typeof o){if(!k_(n,i,t))return t&fe.Host?R_(s,e,t):F_(n,e,t,s);try{const r=o(t);if(null!=r||t&fe.Optional)return r;au(e)}finally{S_()}}else if("number"==typeof o){let r=null,a=Ed(i,n),l=-1,u=t&fe.Host?n[16][6]:null;for((-1===a||t&fe.SkipSelf)&&(l=-1===a?Pu(i,n):n[a+8],-1!==l&&V_(t,!1)?(r=n[1],a=Qo(l),n=Ko(l,n)):a=-1);-1!==a;){const h=n[1];if(B_(o,a,h.data)){const f=CP(a,n,e,r,t,u);if(f!==L_)return f}l=n[a+8],-1!==l&&V_(t,n[1].data[a+8]===u)&&B_(o,a,n)?(r=h,a=Qo(l),n=Ko(l,n)):a=-1}}}return F_(n,e,t,s)}const L_={};function yP(){return new Jo(Tt(),B())}function CP(i,n,e,t,s,o){const r=n[1],a=r.data[i+8],h=Mu(a,r,e,null==t?pu(a)&&Sd:t!=r&&0!=(3&a.type),s&fe.Host&&o===a);return null!==h?Sa(n,r,h,a):L_}function Mu(i,n,e,t,s){const o=i.providerIndexes,r=n.data,a=1048575&o,l=i.directiveStart,h=o>>20,m=s?a+h:i.directiveEnd;for(let v=t?a:a+h;v<m;v++){const k=r[v];if(v<l&&e===k||v>=l&&k.type===e)return v}if(s){const v=r[l];if(v&&pi(v)&&v.type===e)return l}return null}function Sa(i,n,e,t){let s=i[e];const o=n.data;if(function(i){return i instanceof xa}(s)){const r=s;r.resolving&&function(i,n){throw new Sn("200",`Circular dependency in DI detected for ${i}`)}(an(o[e]));const a=Du(r.canSeeViewProviders);r.resolving=!0;const l=r.injectImpl?ys(r.injectImpl):null;k_(i,t,fe.Default);try{s=i[e]=r.factory(void 0,o,i,t),n.firstCreatePass&&e>=t.directiveStart&&function(i,n,e){const{ngOnChanges:t,ngOnInit:s,ngDoCheck:o}=n.type.prototype;if(t){const r=c_(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(i,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,r)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-i,s),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,o))}(e,o[e],n)}finally{null!==l&&ys(l),Du(a),r.resolving=!1,S_()}}return s}function B_(i,n,e){return!!(e[n+(i>>5)]&1<<i)}function V_(i,n){return!(i&fe.Self||i&fe.Host&&n)}class Jo{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,t){return N_(this._tNode,this._lView,n,t,e)}}function Td(i){return Jm(i)?()=>{const n=Td(ve(i));return n&&n()}:lo(i)}const nr="__parameters__";function sr(i,n,e){return Cs(()=>{const t=function(i){return function(...e){if(i){const t=i(...e);for(const s in t)this[s]=t[s]}}}(n);function s(...o){if(this instanceof s)return t.apply(this,o),this;const r=new s(...o);return a.annotation=r,a;function a(l,u,h){const f=l.hasOwnProperty(nr)?l[nr]:Object.defineProperty(l,nr,{value:[]})[nr];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(r),l}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=i,s.annotationCls=s,s})}class ne{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=te({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const kP=new ne("AnalyzeForEntryComponents");function Wn(i,n){void 0===n&&(n=i);for(let e=0;e<i.length;e++){let t=i[e];Array.isArray(t)?(n===i&&(n=i.slice(0,e)),Wn(t,n)):n!==i&&n.push(t)}return n}function Si(i,n){i.forEach(e=>Array.isArray(e)?Si(e,n):n(e))}function z_(i,n,e){n>=i.length?i.push(e):i.splice(n,0,e)}function Eu(i,n){return n>=i.length-1?i.pop():i.splice(n,1)[0]}function Oa(i,n){const e=[];for(let t=0;t<i;t++)e.push(n);return e}function An(i,n,e){let t=or(i,n);return t>=0?i[1|t]=e:(t=~t,function(i,n,e,t){let s=i.length;if(s==n)i.push(e,t);else if(1===s)i.push(t,i[0]),i[0]=e;else{for(s--,i.push(i[s-1],i[s]);s>n;)i[s]=i[s-2],s--;i[n]=e,i[n+1]=t}}(i,t,n,e)),t}function Ad(i,n){const e=or(i,n);if(e>=0)return i[1|e]}function or(i,n){return function(i,n,e){let t=0,s=i.length>>e;for(;s!==t;){const o=t+(s-t>>1),r=i[o<<e];if(n===r)return o<<e;r>n?s=o:t=o+1}return~(s<<e)}(i,n,1)}const Ia={},Fd="__NG_DI_FLAG__",Ou="ngTempTokenPath",AP=/\n/gm,$_="__source",FP=Xe({provide:String,useValue:Xe});let Aa;function Y_(i){const n=Aa;return Aa=i,n}function NP(i,n=fe.Default){if(void 0===Aa)throw new Error("inject() must be called from an injection context");return null===Aa?i_(i,void 0,n):Aa.get(i,n&fe.Optional?null:void 0,n)}function z(i,n=fe.Default){return(rd||NP)(ve(i),n)}const q_=z;function Nd(i){const n=[];for(let e=0;e<i.length;e++){const t=ve(i[e]);if(Array.isArray(t)){if(0===t.length)throw new Error("Arguments array must have arguments.");let s,o=fe.Default;for(let r=0;r<t.length;r++){const a=t[r],l=LP(a);"number"==typeof l?-1===l?s=a.token:o|=l:s=a}n.push(z(s,o))}else n.push(z(t))}return n}function Ra(i,n){return i[Fd]=n,i.prototype[Fd]=n,i}function LP(i){return i[Fd]}const Fa=Ra(sr("Inject",i=>({token:i})),-1),Mi=Ra(sr("Optional"),8),rr=Ra(sr("SkipSelf"),4);let Au,Ru;function lr(i){var n;return(null==(n=function(){if(void 0===Au&&(Au=null,We.trustedTypes))try{Au=We.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Au}())?void 0:n.createHTML(i))||i}function J_(i){var n;return(null==(n=function(){if(void 0===Ru&&(Ru=null,We.trustedTypes))try{Ru=We.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Ru}())?void 0:n.createHTML(i))||i}class n4{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ds(i){return i instanceof n4?i.changingThisBreaksApplicationSecurity:i}function La(i,n){const e=function(i){return i instanceof n4&&i.getTypeName()||null}(i);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}class nS{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(lr(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class iS{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=lr(n),e;const t=this.inertDocument.createElement("body");return t.innerHTML=lr(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(t),t}stripCustomNsAttrs(n){const e=n.attributes;for(let s=e.length-1;0<s;s--){const r=e.item(s).name;("xmlns:ns1"===r||0===r.indexOf("ns1:"))&&n.removeAttribute(r)}let t=n.firstChild;for(;t;)t.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(t),t=t.nextSibling}}const oS=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rS=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fu(i){return(i=String(i)).match(oS)||i.match(rS)?i:"unsafe:"+i}function s4(i){return(i=String(i)).split(",").map(n=>Fu(n.trim())).join(", ")}function Ei(i){const n={};for(const e of i.split(","))n[e]=!0;return n}function Ba(...i){const n={};for(const e of i)for(const t in e)e.hasOwnProperty(t)&&(n[t]=!0);return n}const o4=Ei("area,br,col,hr,img,wbr"),r4=Ei("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),a4=Ei("rp,rt"),zd=Ba(o4,Ba(r4,Ei("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ba(a4,Ei("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ba(a4,r4)),jd=Ei("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gd=Ei("srcset"),l4=Ba(jd,Gd,Ei("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ei("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),aS=Ei("script,style,template");class lS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,t=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?t=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,t&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=this.checkClobberedElement(e,e.nextSibling);if(s){e=s;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!zd.hasOwnProperty(e))return this.sanitizedSomething=!0,!aS.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const t=n.attributes;for(let s=0;s<t.length;s++){const o=t.item(s),r=o.name,a=r.toLowerCase();if(!l4.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;jd[a]&&(l=Fu(l)),Gd[a]&&(l=s4(l)),this.buf.push(" ",r,'="',u4(l),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();zd.hasOwnProperty(e)&&!o4.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(u4(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const uS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cS=/([^\#-~ |!])/g;function u4(i){return i.replace(/&/g,"&amp;").replace(uS,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(cS,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nu;function Hd(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var xt=(()=>((xt=xt||{})[xt.NONE=0]="NONE",xt[xt.HTML=1]="HTML",xt[xt.STYLE=2]="STYLE",xt[xt.SCRIPT=3]="SCRIPT",xt[xt.URL=4]="URL",xt[xt.RESOURCE_URL=5]="RESOURCE_URL",xt))();function Ud(i){const n=Va();return n?J_(n.sanitize(xt.HTML,i)||""):La(i,"HTML")?J_(Ds(i)):function(i,n){let e=null;try{Nu=Nu||function(i){const n=new iS(i);return function(){try{return!!(new window.DOMParser).parseFromString(lr(""),"text/html")}catch(i){return!1}}()?new nS(n):n}(i);let t=n?String(n):"";e=Nu.getInertBodyElement(t);let s=5,o=t;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,t=o,o=e.innerHTML,e=Nu.getInertBodyElement(t)}while(t!==o);return lr((new lS).sanitizeChildren(Hd(e)||e))}finally{if(e){const t=Hd(e)||e;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(gd(),de(i))}function Lu(i){const n=Va();return n?n.sanitize(xt.URL,i)||"":La(i,"URL")?Ds(i):Fu(de(i))}function Va(){const i=B();return i&&i[12]}const d4="__ngContext__";function Qt(i,n){i[d4]=n}function Yd(i){const n=function(i){return i[d4]||null}(i);return n?Array.isArray(n)?n:n.lView:null}function qd(i){return i.ngOriginalError}function ES(i,...n){i.error(...n)}class ur{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n),t=(i=n)&&i.ngErrorLogger||ES;var i;t(this._console,"ERROR",n),e&&t(this._console,"ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&qd(n);for(;e&&qd(e);)e=qd(e);return e||null}}const _4=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(We))();function Ie(i){return i.ownerDocument.defaultView}function Ti(i){return i instanceof Function?i():i}var Rn=(()=>((Rn=Rn||{})[Rn.Important=1]="Important",Rn[Rn.DashCase=2]="DashCase",Rn))();function Xd(i,n){return undefined(i,n)}function ja(i){const n=i[3];return di(n)?n[3]:n}function Qd(i){return w4(i[13])}function Kd(i){return w4(i[4])}function w4(i){for(;null!==i&&!di(i);)i=i[4];return i}function hr(i,n,e,t,s){if(null!=t){let o,r=!1;di(t)?o=t:Di(t)&&(r=!0,t=t[0]);const a=kt(t);0===i&&null!==e?null==s?M4(n,e,a):co(n,e,a,s||null,!0):1===i&&null!==e?co(n,e,a,s||null,!0):2===i?function(i,n,e){const t=Bu(i,n);t&&function(i,n,e,t){gt(i)?i.removeChild(n,e,t):n.removeChild(e)}(i,t,n,e)}(n,a,r):3===i&&n.destroyNode(a),null!=o&&function(i,n,e,t,s){const o=e[7];o!==kt(e)&&hr(n,i,t,o,s);for(let a=10;a<e.length;a++){const l=e[a];Ga(l[1],l,i,n,t,o)}}(n,i,o,e,s)}}function ep(i,n,e){return gt(i)?i.createElement(n,e):null===e?i.createElement(n):i.createElementNS(e,n)}function x4(i,n){const e=i[9],t=e.indexOf(n),s=n[3];1024&n[2]&&(n[2]&=-1025,vd(s,-1)),e.splice(t,1)}function tp(i,n){if(i.length<=10)return;const e=10+n,t=i[e];if(t){const s=t[17];null!==s&&s!==i&&x4(s,t),n>0&&(i[e-1][4]=t[4]);const o=Eu(i,10+n);!function(i,n){Ga(i,n,n[11],2,null,null),n[0]=null,n[6]=null}(t[1],t);const r=o[19];null!==r&&r.detachView(o[1]),t[3]=null,t[4]=null,t[2]&=-129}return t}function D4(i,n){if(!(256&n[2])){const e=n[11];gt(e)&&e.destroyNode&&Ga(i,n,e,3,null,null),function(i){let n=i[13];if(!n)return np(i[1],i);for(;n;){let e=null;if(Di(n))e=n[13];else{const t=n[10];t&&(e=t)}if(!e){for(;n&&!n[4]&&n!==i;)Di(n)&&np(n[1],n),n=n[3];null===n&&(n=i),Di(n)&&np(n[1],n),e=n&&n[4]}n=e}}(n)}}function np(i,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(i,n){let e;if(null!=i&&null!=(e=i.destroyHooks))for(let t=0;t<e.length;t+=2){const s=n[e[t]];if(!(s instanceof xa)){const o=e[t+1];if(Array.isArray(o))for(let r=0;r<o.length;r+=2){const a=s[o[r]],l=o[r+1];try{l.call(a)}finally{}}else try{o.call(s)}finally{}}}}(i,n),function(i,n){const e=i.cleanup,t=n[7];let s=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const r=e[o+1],a="function"==typeof r?r(n):kt(n[r]),l=t[s=e[o+2]],u=e[o+3];"boolean"==typeof u?a.removeEventListener(e[o],l,u):u>=0?t[s=u]():t[s=-u].unsubscribe(),o+=2}else{const r=t[s=e[o+1]];e[o].call(r)}if(null!==t){for(let o=s+1;o<t.length;o++)t[o]();n[7]=null}}(i,n),1===n[1].type&&gt(n[11])&&n[11].destroy();const e=n[17];if(null!==e&&di(n[3])){e!==n[3]&&x4(e,n);const t=n[19];null!==t&&t.detachView(i)}}}function P4(i,n,e){return function(i,n,e){let t=n;for(;null!==t&&40&t.type;)t=(n=t).parent;if(null===t)return e[0];if(2&t.flags){const s=i.data[t.directiveStart].encapsulation;if(s===ci.None||s===ci.Emulated)return null}return Yn(t,e)}(i,n.parent,e)}function co(i,n,e,t,s){gt(i)?i.insertBefore(n,e,t,s):n.insertBefore(e,t,s)}function M4(i,n,e){gt(i)?i.appendChild(n,e):n.appendChild(e)}function E4(i,n,e,t,s){null!==t?co(i,n,e,t,s):M4(i,n,e)}function Bu(i,n){return gt(i)?i.parentNode(n):n.parentNode}function T4(i,n,e){return I4(i,n,e)}let I4=function(i,n,e){return 40&i.type?Yn(i,e):null};function Vu(i,n,e,t){const s=P4(i,t,n),o=n[11],a=T4(t.parent||n[6],t,n);if(null!=s)if(Array.isArray(e))for(let l=0;l<e.length;l++)E4(o,s,e[l],a,!1);else E4(o,s,e,a,!1)}function zu(i,n){if(null!==n){const e=n.type;if(3&e)return Yn(n,i);if(4&e)return sp(-1,i[n.index]);if(8&e){const t=n.child;if(null!==t)return zu(i,t);{const s=i[n.index];return di(s)?sp(-1,s):kt(s)}}if(32&e)return Xd(n,i)()||kt(i[n.index]);{const t=R4(i,n);return null!==t?Array.isArray(t)?t[0]:zu(ja(i[16]),t):zu(i,n.next)}}return null}function R4(i,n){return null!==n?i[16][6].projection[n.projection]:null}function sp(i,n){const e=10+i+1;if(e<n.length){const t=n[e],s=t[1].firstChild;if(null!==s)return zu(t,s)}return n[7]}function op(i,n,e,t,s,o,r){for(;null!=e;){const a=t[e.index],l=e.type;if(r&&0===n&&(a&&Qt(kt(a),t),e.flags|=4),64!=(64&e.flags))if(8&l)op(i,n,e.child,t,s,o,!1),hr(n,i,s,a,o);else if(32&l){const u=Xd(e,t);let h;for(;h=u();)hr(n,i,s,h,o);hr(n,i,s,a,o)}else 16&l?N4(i,n,t,e,s,o):hr(n,i,s,a,o);e=r?e.projectionNext:e.next}}function Ga(i,n,e,t,s,o){op(e,t,i.firstChild,n,s,o,!1)}function N4(i,n,e,t,s,o){const r=e[16],l=r[6].projection[t.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)hr(n,i,s,l[u],o);else op(i,n,l,r[3],s,o,!0)}function L4(i,n,e){gt(i)?i.setAttribute(n,"style",e):n.style.cssText=e}function rp(i,n,e){gt(i)?""===e?i.removeAttribute(n,"class"):i.setAttribute(n,"class",e):n.className=e}function B4(i,n,e){let t=i.length;for(;;){const s=i.indexOf(n,e);if(-1===s)return s;if(0===s||i.charCodeAt(s-1)<=32){const o=n.length;if(s+o===t||i.charCodeAt(s+o)<=32)return s}e=s+1}}const V4="ng-template";function nM(i,n,e){let t=0;for(;t<i.length;){let s=i[t++];if(e&&"class"===s){if(s=i[t],-1!==B4(s.toLowerCase(),n,0))return!0}else if(1===s){for(;t<i.length&&"string"==typeof(s=i[t++]);)if(s.toLowerCase()===n)return!0;return!1}}return!1}function z4(i){return 4===i.type&&i.value!==V4}function iM(i,n,e){return n===(4!==i.type||e?i.value:V4)}function sM(i,n,e){let t=4;const s=i.attrs||[],o=function(i){for(let n=0;n<i.length;n++)if(E_(i[n]))return n;return i.length}(s);let r=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!r)if(4&t){if(t=2|1&t,""!==l&&!iM(i,l,e)||""===l&&1===n.length){if(gi(t))return!1;r=!0}}else{const u=8&t?l:n[++a];if(8&t&&null!==i.attrs){if(!nM(i.attrs,u,e)){if(gi(t))return!1;r=!0}continue}const f=oM(8&t?"class":l,s,z4(i),e);if(-1===f){if(gi(t))return!1;r=!0;continue}if(""!==u){let m;m=f>o?"":s[f+1].toLowerCase();const v=8&t?m:null;if(v&&-1!==B4(v,u,0)||2&t&&u!==m){if(gi(t))return!1;r=!0}}}}else{if(!r&&!gi(t)&&!gi(l))return!1;if(r&&gi(l))continue;r=!1,t=l|1&t}}return gi(t)||r}function gi(i){return 0==(1&i)}function oM(i,n,e,t){if(null===n)return-1;let s=0;if(t||!e){let o=!1;for(;s<n.length;){const r=n[s];if(r===i)return s;if(3===r||6===r)o=!0;else{if(1===r||2===r){let a=n[++s];for(;"string"==typeof a;)a=n[++s];continue}if(4===r)break;if(0===r){s+=4;continue}}s+=o?1:2}return-1}return function(i,n){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){const t=i[e];if("number"==typeof t)return-1;if(t===n)return e;e++}return-1}(n,i)}function j4(i,n,e=!1){for(let t=0;t<n.length;t++)if(sM(i,n[t],e))return!0;return!1}function uM(i,n){e:for(let e=0;e<n.length;e++){const t=n[e];if(i.length===t.length){for(let s=0;s<i.length;s++)if(i[s]!==t[s])continue e;return!0}}return!1}function G4(i,n){return i?":not("+n.trim()+")":n}function cM(i){let n=i[0],e=1,t=2,s="",o=!1;for(;e<i.length;){let r=i[e];if("string"==typeof r)if(2&t){const a=i[++e];s+="["+r+(a.length>0?'="'+a+'"':"")+"]"}else 8&t?s+="."+r:4&t&&(s+=" "+r);else""!==s&&!gi(r)&&(n+=G4(o,s),s=""),t=r,o=o||!gi(t);e++}return""!==s&&(n+=G4(o,s)),n}const pe={};function c(i){H4(Ee(),B(),cn()+i,mu())}function H4(i,n,e,t){if(!t)if(3==(3&n[2])){const o=i.preOrderCheckHooks;null!==o&&bu(n,o,e)}else{const o=i.preOrderHooks;null!==o&&wu(n,o,0,e)}ks(e)}function ju(i,n){return i<<17|n<<2}function mi(i){return i>>17&32767}function ap(i){return 2|i}function Xi(i){return(131068&i)>>2}function lp(i,n){return-131069&i|n<<2}function up(i){return 1|i}function ev(i,n){const e=i.contentQueries;if(null!==e)for(let t=0;t<e.length;t+=2){const s=e[t],o=e[t+1];if(-1!==o){const r=i.data[o];kd(s),r.contentQueries(2,n[o],o)}}}function Ha(i,n,e,t,s,o,r,a,l,u){const h=n.blueprint.slice();return h[0]=s,h[2]=140|t,__(h),h[3]=h[15]=i,h[8]=e,h[10]=r||i&&i[10],h[11]=a||i&&i[11],h[12]=l||i&&i[12]||null,h[9]=u||i&&i[9]||null,h[6]=o,h[16]=2==n.type?i[16]:h,h}function dr(i,n,e,t,s){let o=i.data[n];if(null===o)o=function(i,n,e,t,s){const o=y_(),r=yd(),l=i.data[n]=function(i,n,e,t,s,o){return{type:e,index:t,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,r?o:o&&o.parent,e,n,t,s);return null===i.firstChild&&(i.firstChild=l),null!==o&&(r?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(i,n,e,t,s),ce.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=t,o.attrs=s;const r=function(){const i=ce.lFrame,n=i.currentTNode;return i.isParent?n:n.parent}();o.injectorIndex=null===r?-1:r.injectorIndex}return Pi(o,!0),o}function pr(i,n,e,t){if(0===e)return-1;const s=n.length;for(let o=0;o<e;o++)n.push(t),i.blueprint.push(t),i.data.push(null);return s}function Ua(i,n,e){vu(n);try{const t=i.viewQuery;null!==t&&Sp(1,t,e);const s=i.template;null!==s&&tv(i,n,s,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&ev(i,n),i.staticViewQueries&&Sp(2,i.viewQuery,e);const o=i.components;null!==o&&function(i,n){for(let e=0;e<n.length;e++)YM(i,n[e])}(n,o)}catch(t){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),t}finally{n[2]&=-5,yu()}}function fr(i,n,e,t){const s=n[2];if(256==(256&s))return;vu(n);const o=mu();try{__(n),function(i){ce.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==e&&tv(i,n,e,2,t);const r=3==(3&s);if(!o)if(r){const u=i.preOrderCheckHooks;null!==u&&bu(n,u,null)}else{const u=i.preOrderHooks;null!==u&&wu(n,u,0,null),xd(n,0)}if(function(i){for(let n=Qd(i);null!==n;n=Kd(n)){if(!n[2])continue;const e=n[9];for(let t=0;t<e.length;t++){const s=e[t],o=s[3];0==(1024&s[2])&&vd(o,1),s[2]|=1024}}}(n),function(i){for(let n=Qd(i);null!==n;n=Kd(n))for(let e=10;e<n.length;e++){const t=n[e],s=t[1];_d(t)&&fr(s,t,s.template,t[8])}}(n),null!==i.contentQueries&&ev(i,n),!o)if(r){const u=i.contentCheckHooks;null!==u&&bu(n,u)}else{const u=i.contentHooks;null!==u&&wu(n,u,1),xd(n,1)}!function(i,n){const e=i.hostBindingOpCodes;if(null!==e)try{for(let t=0;t<e.length;t++){const s=e[t];if(s<0)ks(~s);else{const o=s,r=e[++t],a=e[++t];tP(r,o),a(2,n[o])}}}finally{ks(-1)}}(i,n);const a=i.components;null!==a&&function(i,n){for(let e=0;e<n.length;e++)$M(i,n[e])}(n,a);const l=i.viewQuery;if(null!==l&&Sp(2,l,t),!o)if(r){const u=i.viewCheckHooks;null!==u&&bu(n,u)}else{const u=i.viewHooks;null!==u&&wu(n,u,2),xd(n,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,vd(n[3],-1))}finally{yu()}}function PM(i,n,e,t){const s=n[10],o=!mu(),r=m_(n);try{o&&!r&&s.begin&&s.begin(),r&&Ua(i,n,t),fr(i,n,e,t)}finally{o&&!r&&s.end&&s.end()}}function tv(i,n,e,t,s){const o=cn(),r=2&t;try{ks(-1),r&&n.length>20&&H4(i,n,20,mu()),e(t,s)}finally{ks(o)}}function nv(i,n,e){if(hd(n)){const s=n.directiveEnd;for(let o=n.directiveStart;o<s;o++){const r=i.data[o];r.contentQueries&&r.contentQueries(1,e[o],o)}}}function yp(i,n,e){!v_()||(function(i,n,e,t){const s=e.directiveStart,o=e.directiveEnd;i.firstCreatePass||Pa(e,n),Qt(t,n);const r=e.initialInputs;for(let a=s;a<o;a++){const l=i.data[a],u=pi(l);u&&zM(n,e,l);const h=Sa(n,i,a,e);Qt(h,n),null!==r&&jM(0,a-s,h,l,0,r),u&&(On(e.index,n)[8]=h)}}(i,n,e,Yn(e,n)),128==(128&e.flags)&&function(i,n,e){const t=e.directiveStart,s=e.directiveEnd,r=e.index,a=ce.lFrame.currentDirectiveIndex;try{ks(r);for(let l=t;l<s;l++){const u=i.data[l],h=n[l];bd(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&cv(u,h)}}finally{ks(-1),bd(a)}}(i,n,e))}function Cp(i,n,e=Yn){const t=n.localNames;if(null!==t){let s=n.index+1;for(let o=0;o<t.length;o+=2){const r=t[o+1],a=-1===r?e(n,i):i[r];i[s++]=a}}}function iv(i){const n=i.tView;return null===n||n.incompleteFirstPass?i.tView=Uu(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):n}function Uu(i,n,e,t,s,o,r,a,l,u){const h=20+t,f=h+s,m=function(i,n){const e=[];for(let t=0;t<n;t++)e.push(t<i?null:pe);return e}(h,f),v="function"==typeof u?u():u;return m[1]={type:i,blueprint:m,template:e,queries:null,viewQuery:a,declTNode:n,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof r?r():r,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1}}function rv(i,n,e,t){const s=mv(n);null===e?s.push(t):(s.push(e),i.firstCreatePass&&_v(i).push(t,s.length-1))}function av(i,n,e){for(let t in i)if(i.hasOwnProperty(t)){const s=i[t];(e=null===e?{}:e).hasOwnProperty(t)?e[t].push(n,s):e[t]=[n,s]}return e}function Fn(i,n,e,t,s,o,r,a){const l=Yn(n,e);let h,u=n.inputs;!a&&null!=u&&(h=u[t])?(Cv(i,e,h,t,s),pu(n)&&function(i,n){const e=On(n,i);16&e[2]||(e[2]|=64)}(e,n.index)):3&n.type&&(t=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(t),s=null!=r?r(s,n.value||"",t):s,gt(o)?o.setProperty(l,t,s):Pd(t)||(l.setProperty?l.setProperty(t,s):l[t]=s))}function bp(i,n,e,t){let s=!1;if(v_()){const o=function(i,n,e){const t=i.directiveRegistry;let s=null;if(t)for(let o=0;o<t.length;o++){const r=t[o];j4(e,r.selectors,!1)&&(s||(s=[]),Su(Pa(e,n),i,r.type),pi(r)?(hv(i,e),s.unshift(r)):s.push(r))}return s}(i,n,e),r=null===t?null:{"":-1};if(null!==o){s=!0,dv(e,i.data.length,o.length);for(let h=0;h<o.length;h++){const f=o[h];f.providersResolver&&f.providersResolver(f)}let a=!1,l=!1,u=pr(i,n,o.length,null);for(let h=0;h<o.length;h++){const f=o[h];e.mergedAttrs=xu(e.mergedAttrs,f.hostAttrs),pv(i,e,n,u,f),VM(u,f,r),null!==f.contentQueries&&(e.flags|=8),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(e.flags|=128);const m=f.type.prototype;!a&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e.index),a=!0),!l&&(m.ngOnChanges||m.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e.index),l=!0),u++}!function(i,n){const t=n.directiveEnd,s=i.data,o=n.attrs,r=[];let a=null,l=null;for(let u=n.directiveStart;u<t;u++){const h=s[u],f=h.inputs,m=null===o||z4(n)?null:GM(f,o);r.push(m),a=av(f,u,a),l=av(h.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=r,n.inputs=a,n.outputs=l}(i,e)}r&&function(i,n,e){if(n){const t=i.localNames=[];for(let s=0;s<n.length;s+=2){const o=e[n[s+1]];if(null==o)throw new Sn("301",`Export of name '${n[s+1]}' not found!`);t.push(n[s],o)}}}(e,t,r)}return e.mergedAttrs=xu(e.mergedAttrs,e.attrs),s}function uv(i,n,e,t,s,o){const r=o.hostBindings;if(r){let a=i.hostBindingOpCodes;null===a&&(a=i.hostBindingOpCodes=[]);const l=~n.index;(function(i){let n=i.length;for(;n>0;){const e=i[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(t,s,r)}}function cv(i,n){null!==i.hostBindings&&i.hostBindings(1,n)}function hv(i,n){n.flags|=2,(i.components||(i.components=[])).push(n.index)}function VM(i,n,e){if(e){if(n.exportAs)for(let t=0;t<n.exportAs.length;t++)e[n.exportAs[t]]=i;pi(n)&&(e[""]=i)}}function dv(i,n,e){i.flags|=1,i.directiveStart=n,i.directiveEnd=n+e,i.providerIndexes=n}function pv(i,n,e,t,s){i.data[t]=s;const o=s.factory||(s.factory=lo(s.type)),r=new xa(o,pi(s),null);i.blueprint[t]=r,e[t]=r,uv(i,n,0,t,pr(i,e,s.hostVars,pe),s)}function zM(i,n,e){const t=Yn(n,i),s=iv(e),o=i[10],r=$u(i,Ha(i,s,null,e.onPush?64:16,t,n,o,o.createRenderer(t,e),null,null));i[n.index]=r}function Oi(i,n,e,t,s,o){const r=Yn(i,n);!function(i,n,e,t,s,o,r){if(null==o)gt(i)?i.removeAttribute(n,s,e):n.removeAttribute(s);else{const a=null==r?de(o):r(o,t||"",s);gt(i)?i.setAttribute(n,s,a,e):e?n.setAttributeNS(e,s,a):n.setAttribute(s,a)}}(n[11],r,o,i.value,e,t,s)}function jM(i,n,e,t,s,o){const r=o[n];if(null!==r){const a=t.setInput;for(let l=0;l<r.length;){const u=r[l++],h=r[l++],f=r[l++];null!==a?t.setInput(e,f,u,h):e[h]=f}}}function GM(i,n){let e=null,t=0;for(;t<n.length;){const s=n[t];if(0!==s)if(5!==s){if("number"==typeof s)break;i.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,i[s],n[t+1])),t+=2}else t+=2;else t+=4}return e}function fv(i,n,e,t){return new Array(i,!0,!1,n,null,0,t,e,null,null)}function $M(i,n){const e=On(n,i);if(_d(e)){const t=e[1];80&e[2]?fr(t,e,t.template,e[8]):e[5]>0&&kp(e)}}function kp(i){for(let t=Qd(i);null!==t;t=Kd(t))for(let s=10;s<t.length;s++){const o=t[s];if(1024&o[2]){const r=o[1];fr(r,o,r.template,o[8])}else o[5]>0&&kp(o)}const e=i[1].components;if(null!==e)for(let t=0;t<e.length;t++){const s=On(e[t],i);_d(s)&&s[5]>0&&kp(s)}}function YM(i,n){const e=On(n,i),t=e[1];(function(i,n){for(let e=n.length;e<i.blueprint.length;e++)n.push(i.blueprint[e])})(t,e),Ua(t,e,e[8])}function $u(i,n){return i[13]?i[14][4]=n:i[13]=n,i[14]=n,n}function xp(i){for(;i;){i[2]|=64;const n=ja(i);if(FD(i)&&!n)return i;i=n}return null}function Pp(i,n,e){const t=n[10];t.begin&&t.begin();try{fr(i,n,i.template,e)}catch(s){throw yv(n,s),s}finally{t.end&&t.end()}}function gv(i){!function(i){for(let n=0;n<i.components.length;n++){const e=i.components[n],t=Yd(e),s=t[1];PM(s,t,s.template,e)}}(i[8])}function Sp(i,n,e){kd(0),n(i,e)}const QM=(()=>Promise.resolve(null))();function mv(i){return i[7]||(i[7]=[])}function _v(i){return i.cleanup||(i.cleanup=[])}function yv(i,n){const e=i[9],t=e?e.get(ur,null):null;t&&t.handleError(n)}function Cv(i,n,e,t,s){for(let o=0;o<e.length;){const r=e[o++],a=e[o++],l=n[r],u=i.data[r];null!==u.setInput?u.setInput(l,s,t,a):l[a]=s}}function Qi(i,n,e){const t=gu(n,i);!function(i,n,e){gt(i)?i.setValue(n,e):n.textContent=e}(i[11],t,e)}function Yu(i,n,e){let t=e?i.styles:null,s=e?i.classes:null,o=0;if(null!==n)for(let r=0;r<n.length;r++){const a=n[r];"number"==typeof a?o=a:1==o?s=nd(s,a):2==o&&(t=nd(t,a+": "+n[++r]+";"))}e?i.styles=t:i.stylesWithoutHost=t,e?i.classes=s:i.classesWithoutHost=s}const Mp=new ne("INJECTOR",-1);class bv{get(n,e=Ia){if(e===Ia){const t=new Error(`NullInjectorError: No provider for ${Me(n)}!`);throw t.name="NullInjectorError",t}return e}}const Ep=new ne("Set Injector scope."),$a={},eE={};let Tp;function wv(){return void 0===Tp&&(Tp=new bv),Tp}function kv(i,n=null,e=null,t){const s=xv(i,n,e,t);return s._resolveInjectorDefTypes(),s}function xv(i,n=null,e=null,t){return new tE(i,e,n||wv(),t)}class tE{constructor(n,e,t,s=null){this.parent=t,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&Si(e,a=>this.processProvider(a,n,e)),Si([n],a=>this.processInjectorType(a,[],o)),this.records.set(Mp,gr(void 0,this));const r=this.records.get(Ep);this.scope=null!=r?r.value:null,this.source=s||("object"==typeof n?null:Me(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,e=Ia,t=fe.Default){this.assertNotDestroyed();const s=Y_(this),o=ys(void 0);try{if(!(t&fe.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=("function"==typeof(i=n)||"object"==typeof i&&i instanceof ne)&&sd(n);a=l&&this.injectableDefInScope(l)?gr(Op(n),$a):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(t&fe.Self?wv():this.parent).get(n,e=t&fe.Optional&&e===Ia?null:e)}catch(r){if("NullInjectorError"===r.name){if((r[Ou]=r[Ou]||[]).unshift(Me(n)),s)throw r;return function(i,n,e,t){const s=i[Ou];throw n[$_]&&s.unshift(n[$_]),i.message=function(i,n,e,t=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let s=Me(n);if(Array.isArray(n))s=n.map(Me).join(" -> ");else if("object"==typeof n){let o=[];for(let r in n)if(n.hasOwnProperty(r)){let a=n[r];o.push(r+":"+("string"==typeof a?JSON.stringify(a):Me(a)))}s=`{${o.join(", ")}}`}return`${e}${t?"("+t+")":""}[${s}]: ${i.replace(AP,"\n  ")}`}("\n"+i.message,s,e,t),i.ngTokenPath=s,i[Ou]=null,i}(r,n,"R3InjectorError",this.source)}throw r}finally{ys(o),Y_(s)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((t,s)=>n.push(Me(s))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,e,t){if(!(n=ve(n)))return!1;let s=t_(n);const o=null==s&&n.ngModule||void 0,r=void 0===o?n:o,a=-1!==t.indexOf(r);if(void 0!==o&&(s=t_(o)),null==s)return!1;if(null!=s.imports&&!a){let h;t.push(r);try{Si(s.imports,f=>{this.processInjectorType(f,e,t)&&(void 0===h&&(h=[]),h.push(f))})}finally{}if(void 0!==h)for(let f=0;f<h.length;f++){const{ngModule:m,providers:v}=h[f];Si(v,k=>this.processProvider(k,m,v||Qe))}}this.injectorDefTypes.add(r);const l=lo(r)||(()=>new r);this.records.set(r,gr(l,$a));const u=s.providers;if(null!=u&&!a){const h=n;Si(u,f=>this.processProvider(f,h,u))}return void 0!==o&&void 0!==n.providers}processProvider(n,e,t){let s=mr(n=ve(n))?n:ve(n&&n.provide);const o=function(i,n,e){return Pv(i)?gr(void 0,i.useValue):gr(Dv(i),$a)}(n);if(mr(n)||!0!==n.multi)this.records.get(s);else{let r=this.records.get(s);r||(r=gr(void 0,$a,!0),r.factory=()=>Nd(r.multi),this.records.set(s,r)),s=n,r.multi.push(n)}this.records.set(s,o)}hydrate(n,e){return e.value===$a&&(e.value=eE,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(i=e.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(e.value),e.value;var i}injectableDefInScope(n){if(!n.providedIn)return!1;const e=ve(n.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Op(i){const n=sd(i),e=null!==n?n.factory:lo(i);if(null!==e)return e;if(i instanceof ne)throw new Error(`Token ${Me(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const n=i.length;if(n>0){const t=Oa(n,"?");throw new Error(`Can't resolve all parameters for ${Me(i)}: (${t.join(", ")}).`)}const e=function(i){const n=i&&(i[lu]||i[n_]);if(n){const e=function(i){if(i.hasOwnProperty("name"))return i.name;const n=(""+i).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(i);return null!==e?()=>e.factory(i):()=>new i}(i);throw new Error("unreachable")}function Dv(i,n,e){let t;if(mr(i)){const s=ve(i);return lo(s)||Op(s)}if(Pv(i))t=()=>ve(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))t=()=>i.useFactory(...Nd(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))t=()=>z(ve(i.useExisting));else{const s=ve(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return lo(s)||Op(s);t=()=>new s(...Nd(i.deps))}return t}function gr(i,n,e=!1){return{factory:i,value:n,multi:e?[]:void 0}}function Pv(i){return null!==i&&"object"==typeof i&&FP in i}function mr(i){return"function"==typeof i}let Kt=(()=>{class i{static create(e,t){var s;if(Array.isArray(e))return kv({name:""},t,e,"");{const o=null!=(s=e.name)?s:"";return kv({name:o},e.parent,e.providers,o)}}}return i.THROW_IF_NOT_FOUND=Ia,i.NULL=new bv,i.\u0275prov=te({token:i,providedIn:"any",factory:()=>z(Mp)}),i.__NG_ELEMENT_ID__=-1,i})();function _E(i,n){Cu(Yd(i)[1],Tt())}function Ke(i){let n=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),e=!0;const t=[i];for(;n;){let s;if(pi(i))s=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");s=n.\u0275dir}if(s){if(e){t.push(s);const r=i;r.inputs=Rp(i.inputs),r.declaredInputs=Rp(i.declaredInputs),r.outputs=Rp(i.outputs);const a=s.hostBindings;a&&bE(i,a);const l=s.viewQuery,u=s.contentQueries;if(l&&yE(i,l),u&&CE(i,u),td(i.inputs,s.inputs),td(i.declaredInputs,s.declaredInputs),td(i.outputs,s.outputs),pi(s)&&s.data.animation){const h=i.data;h.animation=(h.animation||[]).concat(s.data.animation)}}const o=s.features;if(o)for(let r=0;r<o.length;r++){const a=o[r];a&&a.ngInherit&&a(i),a===Ke&&(e=!1)}}n=Object.getPrototypeOf(n)}!function(i){let n=0,e=null;for(let t=i.length-1;t>=0;t--){const s=i[t];s.hostVars=n+=s.hostVars,s.hostAttrs=xu(s.hostAttrs,e=xu(e,s.hostAttrs))}}(t)}function Rp(i){return i===Uo?{}:i===Qe?[]:i}function yE(i,n){const e=i.viewQuery;i.viewQuery=e?(t,s)=>{n(t,s),e(t,s)}:n}function CE(i,n){const e=i.contentQueries;i.contentQueries=e?(t,s,o)=>{n(t,s,o),e(t,s,o)}:n}function bE(i,n){const e=i.hostBindings;i.hostBindings=e?(t,s)=>{n(t,s),e(t,s)}:n}let Wu=null;function _r(){if(!Wu){const i=We.Symbol;if(i&&i.iterator)Wu=i.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const t=n[e];"entries"!==t&&"size"!==t&&Map.prototype[t]===Map.prototype.entries&&(Wu=t)}}}return Wu}function Ya(i){return!!Fp(i)&&(Array.isArray(i)||!(i instanceof Map)&&_r()in i)}function Fp(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ii(i,n,e){return i[n]=e}function Wa(i,n){return i[n]}function Jt(i,n,e){return!Object.is(i[n],e)&&(i[n]=e,!0)}function ho(i,n,e,t){const s=Jt(i,n,e);return Jt(i,n+1,t)||s}function qu(i,n,e,t,s){const o=ho(i,n,e,t);return Jt(i,n+2,s)||o}function qn(i,n,e,t,s,o){const r=ho(i,n,e,t);return ho(i,n+2,s,o)||r}function Ue(i,n,e,t){const s=B();return Jt(s,Xo(),n)&&(Ee(),Oi(mt(),s,i,n,e,t)),Ue}function br(i,n,e,t,s,o,r,a){const u=qu(i,ce.lFrame.bindingIndex,e,s,r);return Zi(3),u?n+de(e)+t+de(s)+o+de(r)+a:pe}function T(i,n,e,t,s,o,r,a){const l=B(),u=Ee(),h=i+20,f=u.firstCreatePass?function(i,n,e,t,s,o,r,a,l){const u=n.consts,h=dr(n,i,4,r||null,ws(u,a));bp(n,e,h,ws(u,l)),Cu(n,h);const f=h.tViews=Uu(2,h,t,s,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u);return null!==n.queries&&(n.queries.template(n,h),f.queries=n.queries.embeddedTView(h)),h}(h,u,l,n,e,t,s,o,r):u.data[h];Pi(f,!1);const m=l[11].createComment("");Vu(u,l,m,f),Qt(m,l),$u(l,l[h]=fv(m,l,m,f)),fu(f)&&yp(u,l,f),null!=r&&Cp(l,f,a)}function Ki(i){return Zo(ce.lFrame.contextLView,20+i)}function D(i,n=fe.Default){const e=B();return null===e?z(i,n):N_(Tt(),e,ve(i),n)}function zp(){throw new Error("invalid")}function g(i,n,e){const t=B();return Jt(t,Xo(),n)&&Fn(Ee(),mt(),t,i,n,t[11],e,!1),g}function jp(i,n,e,t,s){const r=s?"class":"style";Cv(i,e,n.inputs[r],r,t)}function d(i,n,e,t){const s=B(),o=Ee(),r=20+i,a=s[11],l=s[r]=ep(a,n,ce.lFrame.currentNamespace),u=o.firstCreatePass?function(i,n,e,t,s,o,r){const a=n.consts,u=dr(n,i,2,s,ws(a,o));return bp(n,e,u,ws(a,r)),null!==u.attrs&&Yu(u,u.attrs,!1),null!==u.mergedAttrs&&Yu(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(r,o,s,0,n,e,t):o.data[r];Pi(u,!0);const h=u.mergedAttrs;null!==h&&ku(a,l,h);const f=u.classes;null!==f&&rp(a,l,f);const m=u.styles;null!==m&&L4(a,l,m),64!=(64&u.flags)&&Vu(o,s,l,u),0===ce.lFrame.elementDepthCount&&Qt(l,s),ce.lFrame.elementDepthCount++,fu(u)&&(yp(o,s,u),nv(o,u,s)),null!==t&&Cp(s,u)}function p(){let i=Tt();yd()?Cd():(i=i.parent,Pi(i,!1));const n=i;ce.lFrame.elementDepthCount--;const e=Ee();e.firstCreatePass&&(Cu(e,i),hd(i)&&e.queries.elementEnd(i)),null!=n.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(n)&&jp(e,n,B(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(n)&&jp(e,n,B(),n.stylesWithoutHost,!1)}function _(i,n,e,t){d(i,n,e,t),p()}function Be(i,n,e){const t=B(),s=Ee(),o=i+20,r=s.firstCreatePass?function(i,n,e,t,s){const o=n.consts,r=ws(o,t),a=dr(n,i,8,"ng-container",r);return null!==r&&Yu(a,r,!0),bp(n,e,a,ws(o,s)),null!==n.queries&&n.queries.elementStart(n,a),a}(o,s,t,n,e):s.data[o];Pi(r,!0);const a=t[o]=t[11].createComment("");Vu(s,t,a,r),Qt(a,t),fu(r)&&(yp(s,t,r),nv(s,r,t)),null!=e&&Cp(t,r)}function Ve(){let i=Tt();const n=Ee();yd()?Cd():(i=i.parent,Pi(i,!1)),n.firstCreatePass&&(Cu(n,i),hd(i)&&n.queries.elementEnd(i))}function J(){return B()}function qa(i){return!!i&&"function"==typeof i.then}const Gp=function(i){return!!i&&"function"==typeof i.subscribe};function C(i,n,e,t){const s=B(),o=Ee(),r=Tt();return function(i,n,e,t,s,o,r,a){const l=fu(t),h=i.firstCreatePass&&_v(i),f=n[8],m=mv(n);let v=!0;if(3&t.type||a){const x=Yn(t,n),E=a?a(x):x,S=m.length,I=a?R=>a(kt(R[t.index])):t.index;if(gt(e)){let R=null;if(!a&&l&&(R=function(i,n,e,t){const s=i.cleanup;if(null!=s)for(let o=0;o<s.length-1;o+=2){const r=s[o];if(r===e&&s[o+1]===t){const a=n[7],l=s[o+2];return a.length>l?a[l]:null}"string"==typeof r&&(o+=2)}return null}(i,n,s,t.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,v=!1;else{o=Hp(t,n,f,o,!1);const F=e.listen(E,s,o);m.push(o,F),h&&h.push(s,I,S,S+1)}}else o=Hp(t,n,f,o,!0),E.addEventListener(s,o,r),m.push(o),h&&h.push(s,I,S,r)}else o=Hp(t,n,f,o,!1);const k=t.outputs;let w;if(v&&null!==k&&(w=k[s])){const x=w.length;if(x)for(let E=0;E<x;E+=2){const L=n[w[E]][w[E+1]].subscribe(o),V=m.length;m.push(o,L),h&&h.push(s,t.index,V,-(V+1))}}}(o,s,s[11],r,i,n,!!e,t),C}function l1(i,n,e,t){try{return!1!==e(t)}catch(s){return yv(i,s),!1}}function Hp(i,n,e,t,s){return function o(r){if(r===Function)return t;const a=2&i.flags?On(i.index,n):n;0==(32&n[2])&&xp(a);let l=l1(n,0,t,r),u=o.__ngNextListenerFn__;for(;u;)l=l1(n,0,u,r)&&l,u=u.__ngNextListenerFn__;return s&&!1===l&&(r.preventDefault(),r.returnValue=!1),l}}function b(i=1){return function(i){return(ce.lFrame.contextLView=function(i,n){for(;i>0;)n=n[15],i--;return n}(i,ce.lFrame.contextLView))[8]}(i)}function JE(i,n){let e=null;const t=function(i){const n=i.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(i);for(let s=0;s<n.length;s++){const o=n[s];if("*"!==o){if(null===t?j4(i,o,!0):uM(t,o))return s}else e=s}return e}function vi(i){const n=B()[16][6];if(!n.projection){const t=n.projection=Oa(i?i.length:1,null),s=t.slice();let o=n.child;for(;null!==o;){const r=i?JE(o,i):0;null!==r&&(s[r]?s[r].projectionNext=o:t[r]=o,s[r]=o),o=o.next}}}function Zn(i,n=0,e){const t=B(),s=Ee(),o=dr(s,20+i,16,null,e||null);null===o.projection&&(o.projection=n),Cd(),64!=(64&o.flags)&&function(i,n,e){N4(n[11],0,n,e,P4(i,e,n),T4(e.parent||n[6],e,n))}(s,t,o)}function v1(i,n,e,t,s){const o=i[e+1],r=null===n;let a=t?mi(o):Xi(o),l=!1;for(;0!==a&&(!1===l||r);){const h=i[a+1];nT(i[a],n)&&(l=!0,i[a+1]=t?up(h):ap(h)),a=t?mi(h):Xi(h)}l&&(i[e+1]=t?ap(o):up(o))}function nT(i,n){return null===i||null==n||(Array.isArray(i)?i[1]:i)===n||!(!Array.isArray(i)||"string"!=typeof n)&&or(i,n)>=0}const It={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function y1(i){return i.substring(It.key,It.keyEnd)}function iT(i){return i.substring(It.value,It.valueEnd)}function C1(i,n){const e=It.textEnd;return e===n?-1:(n=It.keyEnd=function(i,n,e){for(;n<e&&i.charCodeAt(n)>32;)n++;return n}(i,It.key=n,e),Mr(i,n,e))}function b1(i,n){const e=It.textEnd;let t=It.key=Mr(i,n,e);return e===t?-1:(t=It.keyEnd=function(i,n,e){let t;for(;n<e&&(45===(t=i.charCodeAt(n))||95===t||(-33&t)>=65&&(-33&t)<=90||t>=48&&t<=57);)n++;return n}(i,t,e),t=k1(i,t,e),t=It.value=Mr(i,t,e),t=It.valueEnd=function(i,n,e){let t=-1,s=-1,o=-1,r=n,a=r;for(;r<e;){const l=i.charCodeAt(r++);if(59===l)return a;34===l||39===l?a=r=x1(i,l,r,e):n===r-4&&85===o&&82===s&&76===t&&40===l?a=r=x1(i,41,r,e):l>32&&(a=r),o=s,s=t,t=-33&l}return a}(i,t,e),k1(i,t,e))}function w1(i){It.key=0,It.keyEnd=0,It.value=0,It.valueEnd=0,It.textEnd=i.length}function Mr(i,n,e){for(;n<e&&i.charCodeAt(n)<=32;)n++;return n}function k1(i,n,e,t){return(n=Mr(i,n,e))<e&&n++,n}function x1(i,n,e,t){let s=-1,o=e;for(;o<t;){const r=i.charCodeAt(o++);if(r==n&&92!==s)return o;s=92==r&&92===s?0:r}throw new Error}function y(i,n,e){return yi(i,n,e,!1),y}function H(i,n){return yi(i,n,null,!0),H}function he(i){Ci(S1,uT,i,!1)}function uT(i,n){for(let e=function(i){return w1(i),b1(i,Mr(i,0,It.textEnd))}(n);e>=0;e=b1(n,e))S1(i,y1(n),iT(n))}function Ms(i){Ci(An,Ai,i,!0)}function Ai(i,n){for(let e=function(i){return w1(i),C1(i,Mr(i,0,It.textEnd))}(n);e>=0;e=C1(n,e))An(i,y1(n),!0)}function yi(i,n,e,t){const s=B(),o=Ee(),r=Zi(2);o.firstUpdatePass&&P1(o,i,r,t),n!==pe&&Jt(s,r,n)&&M1(o,o.data[cn()],s,s[11],i,s[r+1]=function(i,n){return null==i||("string"==typeof n?i+=n:"object"==typeof i&&(i=Me(Ds(i)))),i}(n,e),t,r)}function Ci(i,n,e,t){const s=Ee(),o=Zi(2);s.firstUpdatePass&&P1(s,null,o,t);const r=B();if(e!==pe&&Jt(r,o,e)){const a=s.data[cn()];if(T1(a,t)&&!D1(s,o)){let l=t?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=nd(l,e||"")),jp(s,a,r,e,t)}else!function(i,n,e,t,s,o,r,a){s===pe&&(s=Qe);let l=0,u=0,h=0<s.length?s[0]:null,f=0<o.length?o[0]:null;for(;null!==h||null!==f;){const m=l<s.length?s[l+1]:void 0,v=u<o.length?o[u+1]:void 0;let w,k=null;h===f?(l+=2,u+=2,m!==v&&(k=f,w=v)):null===f||null!==h&&h<f?(l+=2,k=h):(u+=2,k=f,w=v),null!==k&&M1(i,n,e,t,k,w,r,a),h=l<s.length?s[l]:null,f=u<o.length?o[u]:null}}(s,a,r,r[11],r[o+1],r[o+1]=function(i,n,e){if(null==e||""===e)return Qe;const t=[],s=Ds(e);if(Array.isArray(s))for(let o=0;o<s.length;o++)i(t,s[o],!0);else if("object"==typeof s)for(const o in s)s.hasOwnProperty(o)&&i(t,o,s[o]);else"string"==typeof s&&n(t,s);return t}(i,n,e),t,o)}}function D1(i,n){return n>=i.expandoStartIndex}function P1(i,n,e,t){const s=i.data;if(null===s[e+1]){const o=s[cn()],r=D1(i,e);T1(o,t)&&null===n&&!r&&(n=!1),n=function(i,n,e,t){const s=wd(i);let o=t?n.residualClasses:n.residualStyles;if(null===s)0===(t?n.classBindings:n.styleBindings)&&(e=Za(e=$p(null,i,n,e,t),n.attrs,t),o=null);else{const r=n.directiveStylingLast;if(-1===r||i[r]!==s)if(e=$p(s,i,n,e,t),null===o){let l=function(i,n,e){const t=e?n.classBindings:n.styleBindings;if(0!==Xi(t))return i[mi(t)]}(i,n,t);void 0!==l&&Array.isArray(l)&&(l=$p(null,i,n,l[1],t),l=Za(l,n.attrs,t),function(i,n,e,t){i[mi(e?n.classBindings:n.styleBindings)]=t}(i,n,t,l))}else o=function(i,n,e){let t;const s=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<s;o++)t=Za(t,i[o].hostAttrs,e);return Za(t,n.attrs,e)}(i,n,t)}return void 0!==o&&(t?n.residualClasses=o:n.residualStyles=o),e}(s,o,n,t),function(i,n,e,t,s,o){let r=o?n.classBindings:n.styleBindings,a=mi(r),l=Xi(r);i[t]=e;let h,u=!1;if(Array.isArray(e)){const f=e;h=f[1],(null===h||or(f,h)>0)&&(u=!0)}else h=e;if(s)if(0!==l){const m=mi(i[a+1]);i[t+1]=ju(m,a),0!==m&&(i[m+1]=lp(i[m+1],t)),i[a+1]=function(i,n){return 131071&i|n<<17}(i[a+1],t)}else i[t+1]=ju(a,0),0!==a&&(i[a+1]=lp(i[a+1],t)),a=t;else i[t+1]=ju(l,0),0===a?a=t:i[l+1]=lp(i[l+1],t),l=t;u&&(i[t+1]=ap(i[t+1])),v1(i,h,t,!0),v1(i,h,t,!1),function(i,n,e,t,s){const o=s?i.residualClasses:i.residualStyles;null!=o&&"string"==typeof n&&or(o,n)>=0&&(e[t+1]=up(e[t+1]))}(n,h,i,t,o),r=ju(a,l),o?n.classBindings=r:n.styleBindings=r}(s,o,n,e,r,t)}}function $p(i,n,e,t,s){let o=null;const r=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<r&&(o=n[a],t=Za(t,o.hostAttrs,s),o!==i);)a++;return null!==i&&(e.directiveStylingLast=a),t}function Za(i,n,e){const t=e?1:2;let s=-1;if(null!==n)for(let o=0;o<n.length;o++){const r=n[o];"number"==typeof r?s=r:s===t&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),An(i,r,!!e||n[++o]))}return void 0===i?null:i}function S1(i,n,e){An(i,n,Ds(e))}function M1(i,n,e,t,s,o,r,a){if(!(3&n.type))return;const l=i.data,u=l[a+1];Xu(function(i){return 1==(1&i)}(u)?E1(l,n,e,s,Xi(u),r):void 0)||(Xu(o)||function(i){return 2==(2&i)}(u)&&(o=E1(l,null,e,s,a,r)),function(i,n,e,t,s){const o=gt(i);if(n)s?o?i.addClass(e,t):e.classList.add(t):o?i.removeClass(e,t):e.classList.remove(t);else{let r=-1===t.indexOf("-")?void 0:Rn.DashCase;if(null==s)o?i.removeStyle(e,t,r):e.style.removeProperty(t);else{const a="string"==typeof s&&s.endsWith("!important");a&&(s=s.slice(0,-10),r|=Rn.Important),o?i.setStyle(e,t,s,r):e.style.setProperty(t,s,a?"important":"")}}}(t,r,gu(cn(),e),s,o))}function E1(i,n,e,t,s,o){const r=null===n;let a;for(;s>0;){const l=i[s],u=Array.isArray(l),h=u?l[1]:l,f=null===h;let m=e[s+1];m===pe&&(m=f?Qe:void 0);let v=f?Ad(m,t):h===t?m:void 0;if(u&&!Xu(v)&&(v=Ad(l,t)),Xu(v)&&(a=v,r))return a;const k=i[s+1];s=r?mi(k):Xi(k)}if(null!==n){let l=o?n.residualClasses:n.residualStyles;null!=l&&(a=Ad(l,t))}return a}function Xu(i){return void 0!==i}function T1(i,n){return 0!=(i.flags&(n?16:32))}function P(i,n=""){const e=B(),t=Ee(),s=i+20,o=t.firstCreatePass?dr(t,s,1,n,null):t.data[s],r=e[s]=function(i,n){return gt(i)?i.createText(n):i.createTextNode(n)}(e[11],n);Vu(t,e,r,o),Pi(o,!1)}function O(i){return Ae("",i,""),O}function Ae(i,n,e){const t=B(),s=function(i,n,e,t){return Jt(i,Xo(),e)?n+de(e)+t:pe}(t,i,n,e);return s!==pe&&Qi(t,cn(),s),Ae}function Yp(i,n,e,t,s,o,r){const a=B(),l=br(a,i,n,e,t,s,o,r);return l!==pe&&Qi(a,cn(),l),Yp}function Er(i,n,e){const t=B();if(Jt(t,Xo(),n)){const o=Ee(),r=mt();Fn(o,r,t,i,n,function(i,n,e){return(null===i||pi(i))&&(e=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(e[n.index])),e[11]}(wd(o.data),r,t),e,!0)}return Er}const po=void 0;var NT=["en",[["a","p"],["AM","PM"],po],[["AM","PM"],po,po],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],po,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],po,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",po,"{1} 'at' {0}",po],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const e=Math.floor(Math.abs(i)),t=i.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let Tr={};function q1(i){return i in Tr||(Tr[i]=We.ng&&We.ng.common&&We.ng.common.locales&&We.ng.common.locales[i]),Tr[i]}var X=(()=>((X=X||{})[X.LocaleId=0]="LocaleId",X[X.DayPeriodsFormat=1]="DayPeriodsFormat",X[X.DayPeriodsStandalone=2]="DayPeriodsStandalone",X[X.DaysFormat=3]="DaysFormat",X[X.DaysStandalone=4]="DaysStandalone",X[X.MonthsFormat=5]="MonthsFormat",X[X.MonthsStandalone=6]="MonthsStandalone",X[X.Eras=7]="Eras",X[X.FirstDayOfWeek=8]="FirstDayOfWeek",X[X.WeekendRange=9]="WeekendRange",X[X.DateFormat=10]="DateFormat",X[X.TimeFormat=11]="TimeFormat",X[X.DateTimeFormat=12]="DateTimeFormat",X[X.NumberSymbols=13]="NumberSymbols",X[X.NumberFormats=14]="NumberFormats",X[X.CurrencyCode=15]="CurrencyCode",X[X.CurrencySymbol=16]="CurrencySymbol",X[X.CurrencyName=17]="CurrencyName",X[X.Currencies=18]="Currencies",X[X.Directionality=19]="Directionality",X[X.PluralCase=20]="PluralCase",X[X.ExtraData=21]="ExtraData",X))();const Qu="en-US";let Z1=Qu;function Xp(i,n,e,t,s){if(i=ve(i),Array.isArray(i))for(let o=0;o<i.length;o++)Xp(i[o],n,e,t,s);else{const o=Ee(),r=B();let a=mr(i)?i:ve(i.provide),l=Dv(i);const u=Tt(),h=1048575&u.providerIndexes,f=u.directiveStart,m=u.providerIndexes>>20;if(mr(i)||!i.multi){const v=new xa(l,s,D),k=Kp(a,n,s?h:h+m,f);-1===k?(Su(Pa(u,r),o,a),Qp(o,i,n.length),n.push(a),u.directiveStart++,u.directiveEnd++,s&&(u.providerIndexes+=1048576),e.push(v),r.push(v)):(e[k]=v,r[k]=v)}else{const v=Kp(a,n,h+m,f),k=Kp(a,n,h,h+m),w=v>=0&&e[v],x=k>=0&&e[k];if(s&&!x||!s&&!w){Su(Pa(u,r),o,a);const E=function(i,n,e,t,s){const o=new xa(i,e,D);return o.multi=[],o.index=n,o.componentProviders=0,yy(o,s,t&&!e),o}(s?RO:AO,e.length,s,t,l);!s&&x&&(e[k].providerFactory=E),Qp(o,i,n.length,0),n.push(a),u.directiveStart++,u.directiveEnd++,s&&(u.providerIndexes+=1048576),e.push(E),r.push(E)}else Qp(o,i,v>-1?v:k,yy(e[s?k:v],l,!s&&t));!s&&t&&x&&e[k].componentProviders++}}}function Qp(i,n,e,t){const s=mr(n),o=function(i){return!!i.useClass}(n);if(s||o){const l=(o?ve(n.useClass):n).prototype.ngOnDestroy;if(l){const u=i.destroyHooks||(i.destroyHooks=[]);if(!s&&n.multi){const h=u.indexOf(e);-1===h?u.push(e,[t,l]):u[h+1].push(t,l)}else u.push(e,l)}}}function yy(i,n,e){return e&&i.componentProviders++,i.multi.push(n)-1}function Kp(i,n,e,t){for(let s=e;s<t;s++)if(n[s]===i)return s;return-1}function AO(i,n,e,t){return Jp(this.multi,[])}function RO(i,n,e,t){const s=this.multi;let o;if(this.providerFactory){const r=this.providerFactory.componentProviders,a=Sa(e,e[1],this.providerFactory.index,t);o=a.slice(0,r),Jp(s,o);for(let l=r;l<a.length;l++)o.push(a[l])}else o=[],Jp(s,o);return o}function Jp(i,n){for(let e=0;e<i.length;e++)n.push((0,i[e])());return n}function Re(i,n=[]){return e=>{e.providersResolver=(t,s)=>function(i,n,e){const t=Ee();if(t.firstCreatePass){const s=pi(i);Xp(e,t.data,t.blueprint,s,!0),Xp(n,t.data,t.blueprint,s,!1)}}(t,s?s(i):i,n)}}class Cy{}class BO{resolveComponentFactory(n){throw function(i){const n=Error(`No component factory found for ${Me(i)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=i,n}(n)}}let Es=(()=>{class i{}return i.NULL=new BO,i})();function VO(){return Ir(Tt(),B())}function Ir(i,n){return new W(Yn(i,n))}let W=(()=>{class i{constructor(e){this.nativeElement=e}}return i.__NG_ELEMENT_ID__=VO,i})();function zO(i){return i instanceof W?i.nativeElement:i}class el{}let Ji=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function(){const i=B(),e=On(Tt().index,i);return function(i){return i[11]}(Di(e)?e:i)}(),i})(),HO=(()=>{class i{}return i.\u0275prov=te({token:i,providedIn:"root",factory:()=>null}),i})();class fo{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const UO=new fo("13.0.3"),ef={};function nc(i,n,e,t,s=!1){for(;null!==e;){const o=n[e.index];if(null!==o&&t.push(kt(o)),di(o))for(let a=10;a<o.length;a++){const l=o[a],u=l[1].firstChild;null!==u&&nc(l[1],l,u,t)}const r=e.type;if(8&r)nc(i,n,e.child,t);else if(32&r){const a=Xd(e,n);let l;for(;l=a();)t.push(l)}else if(16&r){const a=R4(n,e);if(Array.isArray(a))t.push(...a);else{const l=ja(n[16]);nc(l[1],l,a,t,!0)}}e=s?e.projectionNext:e.next}return t}class tl{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return nc(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(di(n)){const e=n[8],t=e?e.indexOf(this):-1;t>-1&&(tp(n,t),Eu(e,t))}this._attachedToViewContainer=!1}D4(this._lView[1],this._lView)}onDestroy(n){rv(this._lView[1],this._lView,null,n)}markForCheck(){xp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Pp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,n,e){_u(!0);try{Pp(i,n,e)}finally{_u(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Ga(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class $O extends tl{constructor(n){super(n),this._view=n}detectChanges(){gv(this._view)}checkNoChanges(){!function(i){_u(!0);try{gv(i)}finally{_u(!1)}}(this._view)}get context(){return null}}class wy extends Es{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Zt(n);return new tf(e,this.ngModule)}}function ky(i){const n=[];for(let e in i)i.hasOwnProperty(e)&&n.push({propName:i[e],templateName:e});return n}const WO=new ne("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_4});class tf extends Cy{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=n.selectors.map(cM).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ky(this.componentDef.inputs)}get outputs(){return ky(this.componentDef.outputs)}create(n,e,t,s){const o=(s=s||this.ngModule)?function(i,n){return{get:(e,t,s)=>{const o=i.get(e,ef,s);return o!==ef||t===ef?o:n.get(e,t,s)}}}(n,s.injector):n,r=o.get(el,g_),a=o.get(HO,null),l=r.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",h=t?function(i,n,e){if(gt(i))return i.selectRootElement(n,e===ci.ShadowDom);let t="string"==typeof n?i.querySelector(n):n;return t.textContent="",t}(l,t,this.componentDef.encapsulation):ep(r.createRenderer(null,this.componentDef),u,function(i){const n=i.toLowerCase();return"svg"===n?p_:"math"===n?"http://www.w3.org/1998/MathML/":null}(u)),f=this.componentDef.onPush?576:528,m=function(i,n){return{components:[],scheduler:i||_4,clean:QM,playerHandler:n||null,flags:0}}(),v=Uu(0,null,null,1,0,null,null,null,null,null),k=Ha(null,v,m,f,null,null,r,l,a,o);let w,x;vu(k);try{const E=function(i,n,e,t,s,o){const r=e[1];e[20]=i;const l=dr(r,20,2,"#host",null),u=l.mergedAttrs=n.hostAttrs;null!==u&&(Yu(l,u,!0),null!==i&&(ku(s,i,u),null!==l.classes&&rp(s,i,l.classes),null!==l.styles&&L4(s,i,l.styles)));const h=t.createRenderer(i,n),f=Ha(e,iv(n),null,n.onPush?64:16,e[20],l,t,h,o||null,null);return r.firstCreatePass&&(Su(Pa(l,e),r,n.type),hv(r,l),dv(l,e.length,1)),$u(e,f),e[20]=f}(h,this.componentDef,k,r,l);if(h)if(t)ku(l,h,["ng-version",UO.full]);else{const{attrs:S,classes:I}=function(i){const n=[],e=[];let t=1,s=2;for(;t<i.length;){let o=i[t];if("string"==typeof o)2===s?""!==o&&n.push(o,i[++t]):8===s&&e.push(o);else{if(!gi(s))break;s=o}t++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);S&&ku(l,h,S),I&&I.length>0&&rp(l,h,I.join(" "))}if(x=md(v,20),void 0!==e){const S=x.projection=[];for(let I=0;I<this.ngContentSelectors.length;I++){const R=e[I];S.push(null!=R?Array.from(R):null)}}w=function(i,n,e,t,s){const o=e[1],r=function(i,n,e){const t=Tt();i.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),pv(i,t,n,pr(i,n,1,null),e));const s=Sa(n,i,t.directiveStart,t);Qt(s,n);const o=Yn(t,n);return o&&Qt(o,n),s}(o,e,n);if(t.components.push(r),i[8]=r,s&&s.forEach(l=>l(r,n)),n.contentQueries){const l=Tt();n.contentQueries(1,r,l.directiveStart)}const a=Tt();return!o.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(ks(a.index),uv(e[1],a,0,a.directiveStart,a.directiveEnd,n),cv(n,r)),r}(E,this.componentDef,k,m,[_E]),Ua(v,k,null)}finally{yu()}return new XO(this.componentType,w,Ir(x,k),k,x)}}class XO extends class{}{constructor(n,e,t,s,o){super(),this.location=t,this._rootLView=s,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new $O(s),this.componentType=n}get injector(){return new Jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class es{}class xy{}const Ar=new Map;class Sy extends es{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wy(this);const t=Hn(n);this._bootstrapComponents=Ti(t.bootstrap),this._r3Injector=xv(n,e,[{provide:es,useValue:this},{provide:Es,useValue:this.componentFactoryResolver}],Me(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,e=Kt.THROW_IF_NOT_FOUND,t=fe.Default){return n===Kt||n===es||n===Mp?this:this._r3Injector.get(n,e,t)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class nf extends xy{constructor(n){super(),this.moduleType=n,null!==Hn(n)&&function(i){const n=new Set;!function e(t){const s=Hn(t,!0),o=s.id;null!==o&&(function(i,n,e){if(n&&n!==e)throw new Error(`Duplicate module registered for ${i} - ${Me(n)} vs ${Me(n.name)}`)}(o,Ar.get(o),t),Ar.set(o,t));const r=Ti(s.imports);for(const a of r)n.has(a)||(n.add(a),e(a))}(i)}(n)}create(n){return new Sy(this.moduleType,n)}}function Vt(i,n,e){const t=un()+i,s=B();return s[t]===pe?Ii(s,t,e?n.call(e):n()):Wa(s,t)}function ts(i,n,e,t){return function(i,n,e,t,s,o){const r=n+e;return Jt(i,r,s)?Ii(i,r+1,o?t.call(o,s):t(s)):nl(i,r+1)}(B(),un(),i,n,e,t)}function Rr(i,n,e,t,s){return Ty(B(),un(),i,n,e,t,s)}function Je(i,n,e,t,s,o){return function(i,n,e,t,s,o,r,a){const l=n+e;return qu(i,l,s,o,r)?Ii(i,l+3,a?t.call(a,s,o,r):t(s,o,r)):nl(i,l+3)}(B(),un(),i,n,e,t,s,o)}function go(i,n,e,t,s,o,r){return function(i,n,e,t,s,o,r,a,l){const u=n+e;return qn(i,u,s,o,r,a)?Ii(i,u+4,l?t.call(l,s,o,r,a):t(s,o,r,a)):nl(i,u+4)}(B(),un(),i,n,e,t,s,o,r)}function nl(i,n){const e=i[n];return e===pe?void 0:e}function Ty(i,n,e,t,s,o,r){const a=n+e;return ho(i,a,s,o)?Ii(i,a+2,r?t.call(r,s,o):t(s,o)):nl(i,a+2)}function sf(i,n){const e=Ee();let t;const s=i+20;e.firstCreatePass?(t=function(i,n){if(n)for(let e=n.length-1;e>=0;e--){const t=n[e];if(i===t.name)return t}}(n,e.pipeRegistry),e.data[s]=t,t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,t.onDestroy)):t=e.data[s];const o=t.factory||(t.factory=lo(t.type)),r=ys(D);try{const a=Du(!1),l=o();return Du(a),function(i,n,e,t){e>=i.data.length&&(i.data[e]=null,i.blueprint[e]=null),n[e]=t}(e,B(),s,l),l}finally{ys(r)}}function rf(i,n,e,t){const s=i+20,o=B(),r=Zo(o,s);return function(i,n){return i[1].data[n].pure}(o,s)?Ty(o,un(),n,r.transform,e,t,r):r.transform(e,t)}function af(i){return n=>{setTimeout(i,void 0,n)}}const U=class extends Te{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,t){var l,u,h;let s=n,o=e||(()=>null),r=t;if(n&&"object"==typeof n){const f=n;s=null==(l=f.next)?void 0:l.bind(f),o=null==(u=f.error)?void 0:u.bind(f),r=null==(h=f.complete)?void 0:h.bind(f)}this.__isAsync&&(o=af(o),s&&(s=af(s)),r&&(r=af(r)));const a=super.subscribe({next:s,error:o,complete:r});return n instanceof bt&&n.add(a),a}};function u5(){return this._results[_r()]()}class lf{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=_r(),t=lf.prototype;t[e]||(t[e]=u5)}get changes(){return this._changes||(this._changes=new U)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const t=this;t.dirty=!1;const s=Wn(n);(this._changesDetected=!function(i,n,e){if(i.length!==n.length)return!1;for(let t=0;t<i.length;t++){let s=i[t],o=n[t];if(e&&(s=e(s),o=e(o)),o!==s)return!1}return!0}(t._results,s,e))&&(t._results=s,t.length=s.length,t.last=s[this.length-1],t.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ri=(()=>{class i{}return i.__NG_ELEMENT_ID__=d5,i})();const c5=Ri,h5=class extends c5{constructor(n,e,t){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=t}createEmbeddedView(n){const e=this._declarationTContainer.tViews,t=Ha(this._declarationLView,e,n,16,null,e.declTNode,null,null,null,null);t[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(t[19]=o.createEmbeddedView(e)),Ua(e,t,n),new tl(t)}};function d5(){return ic(Tt(),B())}function ic(i,n){return 4&i.type?new h5(n,i,Ir(i,n)):null}let _n=(()=>{class i{}return i.__NG_ELEMENT_ID__=p5,i})();function p5(){return Ny(Tt(),B())}const f5=_n,Ry=class extends f5{constructor(n,e,t){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=t}get element(){return Ir(this._hostTNode,this._hostLView)}get injector(){return new Jo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Pu(this._hostTNode,this._hostLView);if(O_(n)){const e=Ko(n,this._hostLView),t=Qo(n);return new Jo(e[1].data[t+8],e)}return new Jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=Fy(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,t){const s=n.createEmbeddedView(e||{});return this.insert(s,t),s}createComponent(n,e,t,s,o){const r=n&&!function(i){return"function"==typeof i}(n);let a;if(r)a=e;else{const f=e||{};a=f.index,t=f.injector,s=f.projectableNodes,o=f.ngModuleRef}const l=r?n:new tf(Zt(n)),u=t||this.parentInjector;if(!o&&null==l.ngModule&&u){const f=u.get(es,null);f&&(o=f)}const h=l.create(u,s,void 0,o);return this.insert(h.hostView,a),h}insert(n,e){const t=n._lView,s=t[1];if(di(t[3])){const h=this.indexOf(n);if(-1!==h)this.detach(h);else{const f=t[3],m=new Ry(f,f[6],f[3]);m.detach(m.indexOf(n))}}const o=this._adjustIndex(e),r=this._lContainer;!function(i,n,e,t){const s=10+t,o=e.length;t>0&&(e[s-1][4]=n),t<o-10?(n[4]=e[s],z_(e,10+t,n)):(e.push(n),n[4]=null),n[3]=e;const r=n[17];null!==r&&e!==r&&function(i,n){const e=i[9];n[16]!==n[3][3][16]&&(i[2]=!0),null===e?i[9]=[n]:e.push(n)}(r,n);const a=n[19];null!==a&&a.insertView(i),n[2]|=128}(s,t,r,o);const a=sp(o,r),l=t[11],u=Bu(l,r[7]);return null!==u&&function(i,n,e,t,s,o){t[0]=s,t[6]=n,Ga(i,t,e,1,s,o)}(s,r[6],l,t,u,a),n.attachToViewContainerRef(),z_(uf(r),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=Fy(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),t=tp(this._lContainer,e);t&&(Eu(uf(this._lContainer),e),D4(t[1],t))}detach(n){const e=this._adjustIndex(n,-1),t=tp(this._lContainer,e);return t&&null!=Eu(uf(this._lContainer),e)?new tl(t):null}_adjustIndex(n,e=0){return null==n?this.length+e:n}};function Fy(i){return i[8]}function uf(i){return i[8]||(i[8]=[])}function Ny(i,n){let e;const t=n[i.index];if(di(t))e=t;else{let s;if(8&i.type)s=kt(t);else{const o=n[11];s=o.createComment("");const r=Yn(i,n);co(o,Bu(o,r),s,function(i,n){return gt(i)?i.nextSibling(n):n.nextSibling}(o,r),!1)}n[i.index]=e=fv(t,n,s,i),$u(n,e)}return new Ry(e,i,n)}class cf{constructor(n){this.queryList=n,this.matches=null}clone(){return new cf(this.queryList)}setDirty(){this.queryList.setDirty()}}class hf{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const t=null!==n.contentQueries?n.contentQueries[0]:e.length,s=[];for(let o=0;o<t;o++){const r=e.getByIndex(o);s.push(this.queries[r.indexInDeclarationView].clone())}return new hf(s)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==jy(n,e).matches&&this.queries[e].setDirty()}}class Ly{constructor(n,e,t=null){this.predicate=n,this.flags=e,this.read=t}}class df{constructor(n=[]){this.queries=n}elementStart(n,e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let t=0;t<this.length;t++){const s=null!==e?e.length:0,o=this.getByIndex(t).embeddedTView(n,s);o&&(o.indexInDeclarationView=t,null!==e?e.push(o):e=[o])}return null!==e?new df(e):null}template(n,e){for(let t=0;t<this.queries.length;t++)this.queries[t].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class pf{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new pf(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let t=n.parent;for(;null!==t&&8&t.type&&t.index!==e;)t=t.parent;return e===(null!==t?t.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const t=this.metadata.predicate;if(Array.isArray(t))for(let s=0;s<t.length;s++){const o=t[s];this.matchTNodeWithReadOption(n,e,_5(e,o)),this.matchTNodeWithReadOption(n,e,Mu(e,n,o,!1,!1))}else t===Ri?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Mu(e,n,t,!1,!1))}matchTNodeWithReadOption(n,e,t){if(null!==t){const s=this.metadata.read;if(null!==s)if(s===W||s===_n||s===Ri&&4&e.type)this.addMatch(e.index,-2);else{const o=Mu(e,n,s,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,t)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function _5(i,n){const e=i.localNames;if(null!==e)for(let t=0;t<e.length;t+=2)if(e[t]===n)return e[t+1];return null}function y5(i,n,e,t){return-1===e?function(i,n){return 11&i.type?Ir(i,n):4&i.type?ic(i,n):null}(n,i):-2===e?function(i,n,e){return e===W?Ir(n,i):e===Ri?ic(n,i):e===_n?Ny(n,i):void 0}(i,n,t):Sa(i,i[1],e,n)}function By(i,n,e,t){const s=n[19].queries[t];if(null===s.matches){const o=i.data,r=e.matches,a=[];for(let l=0;l<r.length;l+=2){const u=r[l];a.push(u<0?null:y5(n,o[u],r[l+1],e.metadata.read))}s.matches=a}return s.matches}function ff(i,n,e,t){const s=i.queries.getByIndex(e),o=s.matches;if(null!==o){const r=By(i,n,s,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)t.push(r[a/2]);else{const u=o[a+1],h=n[-l];for(let f=10;f<h.length;f++){const m=h[f];m[17]===m[3]&&ff(m[1],m,u,t)}if(null!==h[9]){const f=h[9];for(let m=0;m<f.length;m++){const v=f[m];ff(v[1],v,u,t)}}}}}return t}function qe(i){const n=B(),e=Ee(),t=w_();kd(t+1);const s=jy(e,t);if(i.dirty&&m_(n)===(2==(2&s.metadata.flags))){if(null===s.matches)i.reset([]);else{const o=s.crossesNgTemplate?ff(e,n,t,[]):By(e,n,s,t);i.reset(o,zO),i.notifyOnChanges()}return!0}return!1}function ht(i,n,e){const t=Ee();t.firstCreatePass&&(zy(t,new Ly(i,n,e),-1),2==(2&n)&&(t.staticViewQueries=!0)),Vy(t,B(),n)}function Fr(i,n,e,t){const s=Ee();if(s.firstCreatePass){const o=Tt();zy(s,new Ly(n,e,t),o.index),function(i,n){const e=i.contentQueries||(i.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(i.queries.length-1,n)}(s,i),2==(2&e)&&(s.staticContentQueries=!0)}Vy(s,B(),e)}function Ze(){return i=B(),n=w_(),i[19].queries[n].queryList;var i,n}function Vy(i,n,e){const t=new lf(4==(4&e));rv(i,n,t,t.destroy),null===n[19]&&(n[19]=new hf),n[19].queries.push(new cf(t))}function zy(i,n,e){null===i.queries&&(i.queries=new df),i.queries.track(new pf(n,e))}function jy(i,n){return i.queries.getByIndex(n)}function rc(...i){}const ac=new ne("Application Initializer");let Lr=(()=>{class i{constructor(e){this.appInits=e,this.resolve=rc,this.reject=rc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const o=this.appInits[s]();if(qa(o))e.push(o);else if(Gp(o)){const r=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(r)}}Promise.all(e).then(()=>{t()}).catch(s=>{this.reject(s)}),0===e.length&&t(),this.initialized=!0}}return i.\u0275fac=function(e){return new(e||i)(z(ac,8))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();const ol=new ne("AppId"),G5={provide:ol,useFactory:function(){return`${Cf()}${Cf()}${Cf()}`},deps:[]};function Cf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const r3=new ne("Platform Initializer"),lc=new ne("Platform ID"),a3=new ne("appBootstrapListener");let l3=(()=>{class i{log(e){console.log(e)}warn(e){console.warn(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();const ns=new ne("LocaleId"),u3=new ne("DefaultCurrencyCode");class H5{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let uc=(()=>{class i{compileModuleSync(e){return new nf(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const t=this.compileModuleSync(e),o=Ti(Hn(e).declarations).reduce((r,a)=>{const l=Zt(a);return l&&r.push(new tf(l)),r},[]);return new H5(t,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();const $5=(()=>Promise.resolve(0))();function bf(i){"undefined"==typeof Zone?$5.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class je{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new U(!1),this.onMicrotaskEmpty=new U(!1),this.onStable=new U(!1),this.onError=new U(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!t&&e,s.shouldCoalesceRunChangeDetection=t,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let i=We.requestAnimationFrame,n=We.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&n){const e=i[Zone.__symbol__("OriginalDelegate")];e&&(i=e);const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(i){const n=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(We,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,kf(i),i.isCheckStableRunning=!0,wf(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),kf(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,t,s,o,r,a)=>{try{return c3(i),e.invokeTask(s,o,r,a)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||i.shouldCoalesceRunChangeDetection)&&n(),h3(i)}},onInvoke:(e,t,s,o,r,a,l)=>{try{return c3(i),e.invoke(s,o,r,a,l)}finally{i.shouldCoalesceRunChangeDetection&&n(),h3(i)}},onHasTask:(e,t,s,o)=>{e.hasTask(s,o),t===s&&("microTask"==o.change?(i._hasPendingMicrotasks=o.microTask,kf(i),wf(i)):"macroTask"==o.change&&(i.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,t,s,o)=>(e.handleError(s,o),i.runOutsideAngular(()=>i.onError.emit(o)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!je.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(je.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,e,t){return this._inner.run(n,e,t)}runTask(n,e,t,s){const o=this._inner,r=o.scheduleEventTask("NgZoneEvent: "+s,n,W5,rc,rc);try{return o.runTask(r,e,t)}finally{o.cancelTask(r)}}runGuarded(n,e,t){return this._inner.runGuarded(n,e,t)}runOutsideAngular(n){return this._outer.run(n)}}const W5={};function wf(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function kf(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function c3(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function h3(i){i._nesting--,wf(i)}class X5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new U,this.onMicrotaskEmpty=new U,this.onStable=new U,this.onError=new U}run(n,e,t){return n.apply(e,t)}runGuarded(n,e,t){return n.apply(e,t)}runOutsideAngular(n){return n()}runTask(n,e,t,s){return n.apply(e,t)}}let xf=(()=>{class i{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{je.assertNotInAngularZone(),bf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bf(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,s){let o=-1;t&&t>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(r=>r.timeoutId!==o),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:s})}whenStable(e,t,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,s){return[]}}return i.\u0275fac=function(e){return new(e||i)(z(je))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})(),d3=(()=>{class i{constructor(){this._applications=new Map,Df.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Df.findTestabilityInTree(this,e,t)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();class Q5{addToWindow(n){}findTestabilityInTree(n,e,t){return null}}let bi,Df=new Q5;const p3=new ne("AllowMultipleToken");class f3{constructor(n,e){this.name=n,this.token=e}}function g3(i,n,e=[]){const t=`Platform: ${n}`,s=new ne(t);return(o=[])=>{let r=m3();if(!r||r.injector.get(p3,!1))if(i)i(e.concat(o).concat({provide:s,useValue:!0}));else{const a=e.concat(o).concat({provide:s,useValue:!0},{provide:Ep,useValue:"platform"});!function(i){if(bi&&!bi.destroyed&&!bi.injector.get(p3,!1))throw new Sn("400","");bi=i.get(_3);const n=i.get(r3,null);n&&n.forEach(e=>e())}(Kt.create({providers:a,name:t}))}return function(i){const n=m3();if(!n)throw new Sn("401","");return n}()}}function m3(){return bi&&!bi.destroyed?bi:null}let _3=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const a=function(i,n){let e;return e="noop"===i?new X5:("zone.js"===i?void 0:i)||new je({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),e}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),l=[{provide:je,useValue:a}];return a.run(()=>{const u=Kt.create({providers:l,parent:this.injector,name:e.moduleType.name}),h=e.create(u),f=h.injector.get(ur,null);if(!f)throw new Sn("402","");return a.runOutsideAngular(()=>{const m=a.onError.subscribe({next:v=>{f.handleError(v)}});h.onDestroy(()=>{Pf(this._modules,h),m.unsubscribe()})}),function(i,n,e){try{const t=e();return qa(t)?t.catch(s=>{throw n.runOutsideAngular(()=>i.handleError(s)),s}):t}catch(t){throw n.runOutsideAngular(()=>i.handleError(t)),t}}(f,a,()=>{const m=h.injector.get(Lr);return m.runInitializers(),m.donePromise.then(()=>(function(i){En(i,"Expected localeId to be defined"),"string"==typeof i&&(Z1=i.toLowerCase().replace(/_/g,"-"))}(h.injector.get(ns,Qu)||Qu),this._moduleDoBootstrap(h),h))})})}bootstrapModule(e,t=[]){const s=v3({},t);return function(i,n,e){const t=new nf(e);return Promise.resolve(t)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(e){const t=e.injector.get(Br);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>t.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Sn("403","");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Sn("404","");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(e){return new(e||i)(z(Kt))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();function v3(i,n){return Array.isArray(n)?n.reduce(v3,i):K(K({},i),n)}let Br=(()=>{class i{constructor(e,t,s,o,r){this._zone=e,this._injector=t,this._exceptionHandler=s,this._componentFactoryResolver=o,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ye(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),l=new Ye(u=>{let h;this._zone.runOutsideAngular(()=>{h=this._zone.onStable.subscribe(()=>{je.assertNotInAngularZone(),bf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{je.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{h.unsubscribe(),f.unsubscribe()}});this.isStable=ru(a,l.pipe(function(i={}){const{connector:n=(()=>new Te),resetOnError:e=!0,resetOnComplete:t=!0,resetOnRefCountZero:s=!0}=i;return o=>{let r=null,a=null,l=null,u=0,h=!1,f=!1;const m=()=>{null==a||a.unsubscribe(),a=null},v=()=>{m(),r=l=null,h=f=!1},k=()=>{const w=r;v(),null==w||w.unsubscribe()};return wt((w,x)=>{u++,!f&&!h&&m();const E=l=null!=l?l:n();x.add(()=>{u--,0===u&&!f&&!h&&(a=ed(k,s))}),E.subscribe(x),r||(r=new Wh({next:S=>E.next(S),error:S=>{f=!0,m(),a=ed(v,e,S),E.error(S)},complete:()=>{h=!0,m(),a=ed(v,t),E.complete()}}),Nt(w).subscribe(r))})(o)}}()))}bootstrap(e,t){if(!this._initStatus.done)throw new Sn("405","");let s;s=e instanceof Cy?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const o=function(i){return i.isBoundToModule}(s)?void 0:this._injector.get(es),a=s.create(Kt.NULL,[],t||s.selector,o),l=a.location.nativeElement,u=a.injector.get(xf,null),h=u&&a.injector.get(d3);return u&&h&&h.registerApplication(l,u),a.onDestroy(()=>{this.detachView(a.hostView),Pf(this.components,a),h&&h.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Sn("101","");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Pf(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(a3,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(e){return new(e||i)(z(je),z(Kt),z(ur),z(Es),z(Lr))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();function Pf(i,n){const e=i.indexOf(n);e>-1&&i.splice(e,1)}let C3=!0,Ts=(()=>{class i{}return i.__NG_ELEMENT_ID__=lI,i})();function lI(i){return function(i,n,e){if(pu(i)&&!e){const t=On(i.index,n);return new tl(t,t)}return 47&i.type?new tl(n[16],n):null}(Tt(),B(),16==(16&i))}class S3{constructor(){}supports(n){return Ya(n)}create(n){return new gI(n)}}const fI=(i,n)=>n;class gI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||fI}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,t=this._removalsHead,s=0,o=null;for(;e||t;){const r=!t||e&&e.currentIndex<E3(t,s,o)?e:t,a=E3(r,s,o),l=r.currentIndex;if(r===t)s--,t=t._nextRemoved;else if(e=e._next,null==r.previousIndex)s++;else{o||(o=[]);const u=a-s,h=l-s;if(u!=h){for(let m=0;m<u;m++){const v=m<o.length?o[m]:o[m]=0,k=v+m;h<=k&&k<u&&(o[m]=v+1)}o[r.previousIndex]=h-u}}a!==l&&n(r,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Ya(n))throw new Error(`Error trying to diff '${Me(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s,o,r,e=this._itHead,t=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],r=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,r)?(t&&(e=this._verifyReinsertion(e,o,r,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,r,a),t=!0),e=e._next}else s=0,function(i,n){if(Array.isArray(i))for(let e=0;e<i.length;e++)n(i[e]);else{const e=i[_r()]();let t;for(;!(t=e.next()).done;)n(t.value)}}(n,a=>{r=this._trackByFn(s,a),null!==e&&Object.is(e.trackById,r)?(t&&(e=this._verifyReinsertion(e,a,r,s)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,r,s),t=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,t,s){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(t,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,s)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(t,s))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,s)):n=this._addAfter(new mI(e,t),o,s),n}_verifyReinsertion(n,e,t,s){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(t,null);return null!==o?n=this._reinsertAfter(o,n._prev,s):n.currentIndex!=s&&(n.currentIndex=s,this._addToMoves(n,s)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,t){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const s=n._prevRemoved,o=n._nextRemoved;return null===s?this._removalsHead=o:s._nextRemoved=o,null===o?this._removalsTail=s:o._prevRemoved=s,this._insertAfter(n,e,t),this._addToMoves(n,t),n}_moveAfter(n,e,t){return this._unlink(n),this._insertAfter(n,e,t),this._addToMoves(n,t),n}_addAfter(n,e,t){return this._insertAfter(n,e,t),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,t){const s=null===e?this._itHead:e._next;return n._next=s,n._prev=e,null===s?this._itTail=n:s._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new M3),this._linkedRecords.put(n),n.currentIndex=t,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,t=n._next;return null===e?this._itHead=t:e._next=t,null===t?this._itTail=e:t._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new M3),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class mI{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _I{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let t;for(t=this._head;null!==t;t=t._nextDup)if((null===e||e<=t.currentIndex)&&Object.is(t.trackById,n))return t;return null}remove(n){const e=n._prevDup,t=n._nextDup;return null===e?this._head=t:e._nextDup=t,null===t?this._tail=e:t._prevDup=e,null===this._head}}class M3{constructor(){this.map=new Map}put(n){const e=n.trackById;let t=this.map.get(e);t||(t=new _I,this.map.set(e,t)),t.add(n)}get(n,e){const s=this.map.get(n);return s?s.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function E3(i,n,e){const t=i.previousIndex;if(null===t)return t;let s=0;return e&&t<e.length&&(s=e[t]),t+n+s}class T3{constructor(){}supports(n){return n instanceof Map||Fp(n)}create(){return new vI}}class vI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||Fp(n)))throw new Error(`Error trying to diff '${Me(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(t,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(s,t);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const t=n._prev;return e._next=n,e._prev=t,n._prev=e,t&&(t._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const s=this._records.get(n);this._maybeAddToChanges(s,e);const o=s._prev,r=s._next;return o&&(o._next=r),r&&(r._prev=o),s._next=null,s._prev=null,s}const t=new yI(n);return this._records.set(n,t),t.currentValue=e,this._addToAdditions(t),t}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(t=>e(n[t],t))}}class yI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function O3(){return new rl([new S3])}let rl=(()=>{class i{constructor(e){this.factories=e}static create(e,t){if(null!=t){const s=t.factories.slice();e=e.concat(s)}return new i(e)}static extend(e){return{provide:i,useFactory:t=>i.create(e,t||O3()),deps:[[i,new rr,new Mi]]}}find(e){const t=this.factories.find(s=>s.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'`)}}return i.\u0275prov=te({token:i,providedIn:"root",factory:O3}),i})();function I3(){return new Vr([new T3])}let Vr=(()=>{class i{constructor(e){this.factories=e}static create(e,t){if(t){const s=t.factories.slice();e=e.concat(s)}return new i(e)}static extend(e){return{provide:i,useFactory:t=>i.create(e,t||I3()),deps:[[i,new rr,new Mi]]}}find(e){const t=this.factories.find(s=>s.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return i.\u0275prov=te({token:i,providedIn:"root",factory:I3}),i})();const bI=[new T3],kI=new rl([new S3]),xI=new Vr(bI),DI=g3(null,"core",[{provide:lc,useValue:"unknown"},{provide:_3,deps:[Kt]},{provide:d3,deps:[]},{provide:l3,deps:[]}]),TI=[{provide:Br,useClass:Br,deps:[je,Kt,ur,Es,Lr]},{provide:WO,deps:[je],useFactory:function(i){let n=[];return i.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(e){n.push(e)}}},{provide:Lr,useClass:Lr,deps:[[new Mi,ac]]},{provide:uc,useClass:uc,deps:[]},G5,{provide:rl,useFactory:function(){return kI},deps:[]},{provide:Vr,useFactory:function(){return xI},deps:[]},{provide:ns,useFactory:function(i){return i||"undefined"!=typeof $localize&&$localize.locale||Qu},deps:[[new Fa(ns),new Mi,new rr]]},{provide:u3,useValue:"USD"}];let II=(()=>{class i{constructor(e){}}return i.\u0275fac=function(e){return new(e||i)(z(Br))},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({providers:TI}),i})(),hc=null;function Fi(){return hc}const at=new ne("DocumentToken");let _o=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:function(){return z(A3)},providedIn:"platform"}),i})();const LI=new ne("Location Initialized");let A3=(()=>{class i extends _o{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fi().getBaseHref(this._doc)}onPopState(e){const t=Fi().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=Fi().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,s){R3()?this._history.pushState(e,t,s):this.location.hash=s}replaceState(e,t,s){R3()?this._history.replaceState(e,t,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(z(at))},i.\u0275prov=te({token:i,factory:function(){return new A3(z(at))},providedIn:"platform"}),i})();function R3(){return!!window.history.pushState}function Of(i,n){if(0==i.length)return n;if(0==n.length)return i;let e=0;return i.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?i+n.substring(1):1==e?i+n:i+"/"+n}function F3(i){const n=i.match(/#|\?|$/),e=n&&n.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function is(i){return i&&"?"!==i[0]?"?"+i:i}let zr=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:function(){return function(i){const n=z(at).location;return new N3(z(_o),n&&n.origin||"")}()},providedIn:"root"}),i})();const If=new ne("appBaseHref");let N3=(()=>{class i extends zr{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Of(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+is(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${t}${s}`:t}pushState(e,t,s,o){const r=this.prepareExternalUrl(s+is(o));this._platformLocation.pushState(e,t,r)}replaceState(e,t,s,o){const r=this.prepareExternalUrl(s+is(o));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,s;null==(s=(t=this._platformLocation).historyGo)||s.call(t,e)}}return i.\u0275fac=function(e){return new(e||i)(z(_o),z(If,8))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})(),zI=(()=>{class i extends zr{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=Of(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,s,o){let r=this.prepareExternalUrl(s+is(o));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,s,o){let r=this.prepareExternalUrl(s+is(o));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,s;null==(s=(t=this._platformLocation).historyGo)||s.call(t,e)}}return i.\u0275fac=function(e){return new(e||i)(z(_o),z(If,8))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})(),Af=(()=>{class i{constructor(e,t){this._subject=new U,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=F3(L3(s)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+is(t))}normalize(e){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,L3(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",s=null){this._platformStrategy.pushState(s,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+is(t)),s)}replaceState(e,t="",s=null){this._platformStrategy.replaceState(s,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+is(t)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,s;null==(s=(t=this._platformStrategy).historyGo)||s.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(s=>s(e,t))}subscribe(e,t,s){return this._subject.subscribe({next:e,error:t,complete:s})}}return i.normalizeQueryParams=is,i.joinWithSlash=Of,i.stripTrailingSlash=F3,i.\u0275fac=function(e){return new(e||i)(z(zr),z(_o))},i.\u0275prov=te({token:i,factory:function(){return new Af(z(zr),z(_o))},providedIn:"root"}),i})();function L3(i){return i.replace(/\/index.html$/,"")}var Dt=(()=>((Dt=Dt||{})[Dt.Zero=0]="Zero",Dt[Dt.One=1]="One",Dt[Dt.Two=2]="Two",Dt[Dt.Few=3]="Few",Dt[Dt.Many=4]="Many",Dt[Dt.Other=5]="Other",Dt))();const ZI=function(i){return function(i){const n=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let e=q1(n);if(e)return e;const t=n.split("-")[0];if(e=q1(t),e)return e;if("en"===t)return NT;throw new Error(`Missing locale data for the locale "${i}".`)}(i)[X.PluralCase]};class bc{}let xA=(()=>{class i extends bc{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(ZI(t||this.locale)(e)){case Dt.Zero:return"zero";case Dt.One:return"one";case Dt.Two:return"two";case Dt.Few:return"few";case Dt.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(z(ns))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();class MA{constructor(n,e,t,s){this.$implicit=n,this.ngForOf=e,this.index=t,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zt=(()=>{class i{constructor(e,t,s){this._viewContainer=e,this._template=t,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((s,o,r)=>{if(null==s.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new MA(null,this._ngForOf,-1,-1),null===r?void 0:r),l=new Y3(s,a);t.push(l)}else if(null==r)this._viewContainer.remove(null===o?void 0:o);else if(null!==o){const a=this._viewContainer.get(o);this._viewContainer.move(a,r);const l=new Y3(s,a);t.push(l)}});for(let s=0;s<t.length;s++)this._perViewChange(t[s].view,t[s].record);for(let s=0,o=this._viewContainer.length;s<o;s++){const r=this._viewContainer.get(s);r.context.index=s,r.context.count=o,r.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return i.\u0275fac=function(e){return new(e||i)(D(_n),D(Ri),D(rl))},i.\u0275dir=se({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class Y3{constructor(n,e){this.record=n,this.view=e}}let ot=(()=>{class i{constructor(e,t){this._viewContainer=e,this._context=new TA,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){W3("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){W3("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return i.\u0275fac=function(e){return new(e||i)(D(_n),D(Ri))},i.\u0275dir=se({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class TA{constructor(){this.$implicit=null,this.ngIf=null}}function W3(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${Me(n)}'.`)}let Q3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({providers:[{provide:bc,useClass:xA}]}),i})();const K3="browser";let r8=(()=>{class i{}return i.\u0275prov=te({token:i,providedIn:"root",factory:()=>new a8(z(at),window)}),i})();class a8{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function(i,n){const e=i.getElementById(n)||i.getElementsByName(n)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const t=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let s=t.currentNode;for(;s;){const o=s.shadowRoot;if(o){const r=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(r)return r}s=t.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),t=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(t-o[0],s-o[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=J3(this.window.history)||J3(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function J3(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Yf extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Yf,hc||(hc=i)}onAndCancel(n,e,t){return n.addEventListener(e,t,!1),()=>{n.removeEventListener(e,t,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=(ul=ul||document.querySelector("base"),ul?ul.getAttribute("href"):null);return null==e?null:function(i){wc=wc||document.createElement("a"),wc.setAttribute("href",i);const n=wc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){ul=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(i,n){n=encodeURIComponent(n);for(const e of i.split(";")){const t=e.indexOf("="),[s,o]=-1==t?[e,""]:[e.slice(0,t),e.slice(t+1)];if(s.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let wc,ul=null;const eC=new ne("TRANSITION_ID"),f8=[{provide:ac,useFactory:function(i,n,e){return()=>{e.get(Lr).donePromise.then(()=>{const t=Fi(),s=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let o=0;o<s.length;o++)t.remove(s[o])})}},deps:[eC,at,Kt],multi:!0}];class Wf{static init(){var i;i=new Wf,Df=i}addToWindow(n){We.getAngularTestability=(t,s=!0)=>{const o=n.findTestabilityInTree(t,s);if(null==o)throw new Error("Could not find testability for element.");return o},We.getAllAngularTestabilities=()=>n.getAllTestabilities(),We.getAllAngularRootElements=()=>n.getAllRootElements(),We.frameworkStabilizers||(We.frameworkStabilizers=[]),We.frameworkStabilizers.push(t=>{const s=We.getAllAngularTestabilities();let o=s.length,r=!1;const a=function(l){r=r||l,o--,0==o&&t(r)};s.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,e,t){if(null==e)return null;const s=n.getTestability(e);return null!=s?s:t?Fi().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let g8=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();const kc=new ne("EventManagerPlugins");let xc=(()=>{class i{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,s){return this._findPluginFor(t).addEventListener(e,t,s)}addGlobalEventListener(e,t,s){return this._findPluginFor(t).addGlobalEventListener(e,t,s)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const s=this._plugins;for(let o=0;o<s.length;o++){const r=s[o];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(z(kc),z(je))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();class tC{constructor(n){this._doc=n}addGlobalEventListener(n,e,t){const s=Fi().getGlobalEventTarget(this._doc,n);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,t)}}let nC=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),t.add(s))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})(),cl=(()=>{class i extends nC{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,s){e.forEach(o=>{const r=this._doc.createElement("style");r.textContent=o,s.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(iC),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,s)=>{this._addStylesToHost(e,s,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(iC))}}return i.\u0275fac=function(e){return new(e||i)(z(at))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();function iC(i){Fi().remove(i)}const qf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Zf=/%COMP%/g;function Dc(i,n,e){for(let t=0;t<n.length;t++){let s=n[t];Array.isArray(s)?Dc(i,s,e):(s=s.replace(Zf,i),e.push(s))}return e}function rC(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let Pc=(()=>{class i{constructor(e,t,s){this.eventManager=e,this.sharedStylesHost=t,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Xf(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ci.Emulated:{let s=this.rendererByCompId.get(t.id);return s||(s=new b8(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,s)),s.applyToHost(e),s}case 1:case ci.ShadowDom:return new w8(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const s=Dc(t.id,t.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(z(xc),z(cl),z(ol))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();class Xf{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(qf[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,t){n&&n.insertBefore(e,t)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let t="string"==typeof n?document.querySelector(n):n;if(!t)throw new Error(`The selector "${n}" did not match any elements`);return e||(t.textContent=""),t}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,t,s){if(s){e=s+":"+e;const o=qf[s];o?n.setAttributeNS(o,e,t):n.setAttribute(e,t)}else n.setAttribute(e,t)}removeAttribute(n,e,t){if(t){const s=qf[t];s?n.removeAttributeNS(s,e):n.removeAttribute(`${t}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,t,s){s&(Rn.DashCase|Rn.Important)?n.style.setProperty(e,t,s&Rn.Important?"important":""):n.style[e]=t}removeStyle(n,e,t){t&Rn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,t){n[e]=t}setValue(n,e){n.nodeValue=e}listen(n,e,t){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,rC(t)):this.eventManager.addEventListener(n,e,rC(t))}}class b8 extends Xf{constructor(n,e,t,s){super(n),this.component=t;const o=Dc(s+"-"+t.id,t.styles,[]);e.addStyles(o),this.contentAttr="_ngcontent-%COMP%".replace(Zf,s+"-"+t.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(Zf,i)}(s+"-"+t.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const t=super.createElement(n,e);return super.setAttribute(t,this.contentAttr,""),t}}class w8 extends Xf{constructor(n,e,t,s){super(n),this.sharedStylesHost=e,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Dc(s.id,s.styles,[]);for(let r=0;r<o.length;r++){const a=document.createElement("style");a.textContent=o[r],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,t){return super.insertBefore(this.nodeOrShadowRoot(n),e,t)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let k8=(()=>{class i extends tC{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,s){return e.addEventListener(t,s,!1),()=>this.removeEventListener(e,t,s)}removeEventListener(e,t,s){return e.removeEventListener(t,s)}}return i.\u0275fac=function(e){return new(e||i)(z(at))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();const lC=["alt","control","meta","shift"],D8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uC={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},P8={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let S8=(()=>{class i extends tC{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,t,s){const o=i.parseEventName(t),r=i.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fi().onAndCancel(e,o.domEventName,r))}static parseEventName(e){const t=e.toLowerCase().split("."),s=t.shift();if(0===t.length||"keydown"!==s&&"keyup"!==s)return null;const o=i._normalizeKey(t.pop());let r="";if(lC.forEach(l=>{const u=t.indexOf(l);u>-1&&(t.splice(u,1),r+=l+".")}),r+=o,0!=t.length||0===o.length)return null;const a={};return a.domEventName=s,a.fullKey=r,a}static getEventFullKey(e){let t="",s=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&uC.hasOwnProperty(n)&&(n=uC[n]))}return D8[n]||n}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),lC.forEach(o=>{o!=s&&P8[o](e)&&(t+=o+".")}),t+=s,t}static eventCallback(e,t,s){return o=>{i.getEventFullKey(o)===e&&s.runGuarded(()=>t(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(z(at))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();const I8=g3(DI,"browser",[{provide:lc,useValue:K3},{provide:r3,useValue:function(){Yf.makeCurrent(),Wf.init()},multi:!0},{provide:at,useFactory:function(){return i=document,fd=i,document;var i},deps:[]}]),A8=[{provide:Ep,useValue:"root"},{provide:ur,useFactory:function(){return new ur},deps:[]},{provide:kc,useClass:k8,multi:!0,deps:[at,je,lc]},{provide:kc,useClass:S8,multi:!0,deps:[at]},{provide:Pc,useClass:Pc,deps:[xc,cl,ol]},{provide:el,useExisting:Pc},{provide:nC,useExisting:cl},{provide:cl,useClass:cl,deps:[at]},{provide:xf,useClass:xf,deps:[je]},{provide:xc,useClass:xc,deps:[kc,je]},{provide:class{},useClass:g8,deps:[]}];let cC=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:ol,useValue:e.appId},{provide:eC,useExisting:ol},f8]}}}return i.\u0275fac=function(e){return new(e||i)(z(i,12))},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({providers:A8,imports:[Q3,II]}),i})();function ge(...i){return Nt(i,va(i))}"undefined"!=typeof window&&window;class Kn extends Te{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:t}=this;if(n)throw e;return this._throwIfClosed(),t}next(n){super.next(this._value=n)}}const{isArray:U8}=Array,{getPrototypeOf:$8,prototype:Y8,keys:W8}=Object;function pC(i){if(1===i.length){const n=i[0];if(U8(n))return{args:n,keys:null};if(function(i){return i&&"object"==typeof i&&$8(i)===Y8}(n)){const e=W8(n);return{args:e.map(t=>n[t]),keys:e}}}return{args:i,keys:null}}const{isArray:Z8}=Array;function Kf(i){return Oe(n=>function(i,n){return Z8(n)?i(...n):i(n)}(i,n))}function fC(i,n){return i.reduce((e,t,s)=>(e[t]=n[s],e),{})}function gC(i,n,e){i?Ui(e,i,n):n()}const Sc=Ft(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function Jf(...i){return _a(1)(Nt(i,va(i)))}function mC(i){return new Ye(n=>{Pn(i()).subscribe(n)})}function _C(){return wt((i,n)=>{let e=null;i._refCount++;const t=new ft(n,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const s=i._connection,o=e;e=null,s&&(!o||s===o)&&s.unsubscribe(),n.unsubscribe()});i.subscribe(t),t.closed||(e=i.connect())})}class eR extends Ye{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Fm(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new bt;const e=this.getSubject();n.add(this.source.subscribe(new ft(e,void 0,()=>{this._teardown(),e.complete()},t=>{this._teardown(),e.error(t)},()=>this._teardown()))),n.closed&&(this._connection=null,n=bt.EMPTY)}return n}refCount(){return _C()(this)}}function Is(i,n){return wt((e,t)=>{let s=null,o=0,r=!1;const a=()=>r&&!s&&t.complete();e.subscribe(new ft(t,l=>{null==s||s.unsubscribe();let u=0;const h=o++;Pn(i(l,h)).subscribe(s=new ft(t,f=>t.next(n?n(l,f,h,u++):f),()=>{s=null,a()}))},()=>{r=!0,a()}))})}function Mc(...i){const n=va(i);return wt((e,t)=>{(n?Jf(i,e,n):Jf(i,e)).subscribe(t)})}function tR(i,n,e,t,s){return(o,r)=>{let a=e,l=n,u=0;o.subscribe(new ft(r,h=>{const f=u++;l=a?i(l,h,f):(a=!0,h),t&&r.next(l)},s&&(()=>{a&&r.next(l),r.complete()})))}}function vC(i,n){return wt(tR(i,n,arguments.length>=2,!0))}function yn(i,n){return wt((e,t)=>{let s=0;e.subscribe(new ft(t,o=>i.call(n,o,s++)&&t.next(o)))})}function As(i){return wt((n,e)=>{let o,t=null,s=!1;t=n.subscribe(new ft(e,void 0,void 0,r=>{o=Pn(i(r,As(i)(n))),t?(t.unsubscribe(),t=null,o.subscribe(e)):s=!0})),s&&(t.unsubscribe(),t=null,o.subscribe(e))})}function hl(i,n){return _e(n)?Mt(i,n,1):Mt(i,1)}function eg(i){return i<=0?()=>$i:wt((n,e)=>{let t=[];n.subscribe(new ft(e,s=>{t.push(s),i<t.length&&t.shift()},()=>{for(const s of t)e.next(s);e.complete()},void 0,()=>{t=null}))})}function yC(i=nR){return wt((n,e)=>{let t=!1;n.subscribe(new ft(e,s=>{t=!0,e.next(s)},()=>t?e.complete():e.error(i())))})}function nR(){return new Sc}function CC(i){return wt((n,e)=>{let t=!1;n.subscribe(new ft(e,s=>{t=!0,e.next(s)},()=>{t||e.next(i),e.complete()}))})}function jr(i,n){const e=arguments.length>=2;return t=>t.pipe(i?yn((s,o)=>i(s,o,t)):vs,Ho(1),e?CC(n):yC(()=>new Sc))}function Cn(i,n,e){const t=_e(i)||n||e?{next:i,error:n,complete:e}:i;return t?wt((s,o)=>{var r;null===(r=t.subscribe)||void 0===r||r.call(t);let a=!0;s.subscribe(new ft(o,l=>{var u;null===(u=t.next)||void 0===u||u.call(t,l),o.next(l)},()=>{var l;a=!1,null===(l=t.complete)||void 0===l||l.call(t),o.complete()},l=>{var u;a=!1,null===(u=t.error)||void 0===u||u.call(t,l),o.error(l)},()=>{var l,u;a&&(null===(l=t.unsubscribe)||void 0===l||l.call(t)),null===(u=t.finalize)||void 0===u||u.call(t)}))}):vs}class os{constructor(n,e){this.id=n,this.url=e}}class tg extends os{constructor(n,e,t="imperative",s=null){super(n,e),this.navigationTrigger=t,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class dl extends os{constructor(n,e,t){super(n,e),this.urlAfterRedirects=t}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bC extends os{constructor(n,e,t){super(n,e),this.reason=t}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oR extends os{constructor(n,e,t){super(n,e),this.error=t}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rR extends os{constructor(n,e,t,s){super(n,e),this.urlAfterRedirects=t,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aR extends os{constructor(n,e,t,s){super(n,e),this.urlAfterRedirects=t,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lR extends os{constructor(n,e,t,s,o){super(n,e),this.urlAfterRedirects=t,this.state=s,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uR extends os{constructor(n,e,t,s){super(n,e),this.urlAfterRedirects=t,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cR extends os{constructor(n,e,t,s){super(n,e),this.urlAfterRedirects=t,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wC{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kC{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hR{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dR{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pR{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fR{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xC{constructor(n,e,t){this.routerEvent=n,this.position=e,this.anchor=t}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ke="primary";class gR{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gr(i){return new gR(i)}const DC="ngNavigationCancelingError";function ng(i){const n=Error("NavigationCancelingError: "+i);return n[DC]=!0,n}function _R(i,n,e){const t=e.path.split("/");if(t.length>i.length||"full"===e.pathMatch&&(n.hasChildren()||t.length<i.length))return null;const s={};for(let o=0;o<t.length;o++){const r=t[o],a=i[o];if(r.startsWith(":"))s[r.substring(1)]=a;else if(r!==a.path)return null}return{consumed:i.slice(0,t.length),posParams:s}}function Ni(i,n){const e=i?Object.keys(i):void 0,t=n?Object.keys(n):void 0;if(!e||!t||e.length!=t.length)return!1;let s;for(let o=0;o<e.length;o++)if(s=e[o],!PC(i[s],n[s]))return!1;return!0}function PC(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const e=[...i].sort(),t=[...n].sort();return e.every((s,o)=>t[o]===s)}return i===n}function SC(i){return Array.prototype.concat.apply([],i)}function MC(i){return i.length>0?i[i.length-1]:null}function Wt(i,n){for(const e in i)i.hasOwnProperty(e)&&n(i[e],e)}function Li(i){return Gp(i)?i:qa(i)?Nt(Promise.resolve(i)):ge(i)}const CR={exact:function OC(i,n,e){if(!yo(i.segments,n.segments)||!Ec(i.segments,n.segments,e)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const t in n.children)if(!i.children[t]||!OC(i.children[t],n.children[t],e))return!1;return!0},subset:IC},EC={exact:function(i,n){return Ni(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(e=>PC(i[e],n[e]))},ignored:()=>!0};function TC(i,n,e){return CR[e.paths](i.root,n.root,e.matrixParams)&&EC[e.queryParams](i.queryParams,n.queryParams)&&!("exact"===e.fragment&&i.fragment!==n.fragment)}function IC(i,n,e){return AC(i,n,n.segments,e)}function AC(i,n,e,t){if(i.segments.length>e.length){const s=i.segments.slice(0,e.length);return!(!yo(s,e)||n.hasChildren()||!Ec(s,e,t))}if(i.segments.length===e.length){if(!yo(i.segments,e)||!Ec(i.segments,e,t))return!1;for(const s in n.children)if(!i.children[s]||!IC(i.children[s],n.children[s],t))return!1;return!0}{const s=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!!(yo(i.segments,s)&&Ec(i.segments,s,t)&&i.children[ke])&&AC(i.children[ke],n,o,t)}}function Ec(i,n,e){return n.every((t,s)=>EC[e](i[s].parameters,t.parameters))}class vo{constructor(n,e,t){this.root=n,this.queryParams=e,this.fragment=t}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gr(this.queryParams)),this._queryParamMap}toString(){return DR.serialize(this)}}class De{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Wt(e,(t,s)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tc(this)}}class pl{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gr(this.parameters)),this._parameterMap}toString(){return BC(this)}}function yo(i,n){return i.length===n.length&&i.every((e,t)=>e.path===n[t].path)}class RC{}class FC{parse(n){const e=new RR(n);return new vo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${fl(n.root,!0)}`,t=function(i){const n=Object.keys(i).map(e=>{const t=i[e];return Array.isArray(t)?t.map(s=>`${Oc(e)}=${Oc(s)}`).join("&"):`${Oc(e)}=${Oc(t)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);var i;return`${e}${t}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const DR=new FC;function Tc(i){return i.segments.map(n=>BC(n)).join("/")}function fl(i,n){if(!i.hasChildren())return Tc(i);if(n){const e=i.children[ke]?fl(i.children[ke],!1):"",t=[];return Wt(i.children,(s,o)=>{o!==ke&&t.push(`${o}:${fl(s,!1)}`)}),t.length>0?`${e}(${t.join("//")})`:e}{const e=function(i,n){let e=[];return Wt(i.children,(t,s)=>{s===ke&&(e=e.concat(n(t,s)))}),Wt(i.children,(t,s)=>{s!==ke&&(e=e.concat(n(t,s)))}),e}(i,(t,s)=>s===ke?[fl(i.children[ke],!1)]:[`${s}:${fl(t,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[ke]?`${Tc(i)}/${e[0]}`:`${Tc(i)}/(${e.join("//")})`}}function NC(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oc(i){return NC(i).replace(/%3B/gi,";")}function ig(i){return NC(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ic(i){return decodeURIComponent(i)}function LC(i){return Ic(i.replace(/\+/g,"%20"))}function BC(i){return`${ig(i.path)}${function(i){return Object.keys(i).map(n=>`;${ig(n)}=${ig(i[n])}`).join("")}(i.parameters)}`}const ER=/^[^\/()?;=#]+/;function Ac(i){const n=i.match(ER);return n?n[0]:""}const TR=/^[^=?&#]+/,IR=/^[^&#]+/;class RR{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(t[ke]=new De(n,e)),t}parseSegment(){const n=Ac(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new pl(Ic(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=Ac(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){const s=Ac(this.remaining);s&&(t=s,this.capture(t))}n[Ic(e)]=Ic(t)}parseQueryParam(n){const e=function(i){const n=i.match(TR);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){const r=function(i){const n=i.match(IR);return n?n[0]:""}(this.remaining);r&&(t=r,this.capture(t))}const s=LC(e),o=LC(t);if(n.hasOwnProperty(s)){let r=n[s];Array.isArray(r)||(r=[r],n[s]=r),r.push(o)}else n[s]=o}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const t=Ac(this.remaining),s=this.remaining[t.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let o;t.indexOf(":")>-1?(o=t.substr(0,t.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=ke);const r=this.parseChildren();e[o]=1===Object.keys(r).length?r[ke]:new De([],r),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class VC{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=sg(n,this._root);return e?e.children.map(t=>t.value):[]}firstChild(n){const e=sg(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=og(n,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==n)}pathFromRoot(n){return og(n,this._root).map(e=>e.value)}}function sg(i,n){if(i===n.value)return n;for(const e of n.children){const t=sg(i,e);if(t)return t}return null}function og(i,n){if(i===n.value)return[n];for(const e of n.children){const t=og(i,e);if(t.length)return t.unshift(n),t}return[]}class rs{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Hr(i){const n={};return i&&i.children.forEach(e=>n[e.value.outlet]=e),n}class zC extends VC{constructor(n,e){super(n),this.snapshot=e,rg(this,n)}toString(){return this.snapshot.toString()}}function jC(i,n){const e=function(i,n){const r=new Rc([],{},{},"",{},ke,n,null,i.root,-1,{});return new HC("",new rs(r,[]))}(i,n),t=new Kn([new pl("",{})]),s=new Kn({}),o=new Kn({}),r=new Kn({}),a=new Kn(""),l=new as(t,s,r,a,o,ke,n,e.root);return l.snapshot=e.root,new zC(new rs(l,[]),e)}class as{constructor(n,e,t,s,o,r,a,l){this.url=n,this.params=e,this.queryParams=t,this.fragment=s,this.data=o,this.outlet=r,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(n=>Gr(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(n=>Gr(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function GC(i,n="emptyOnly"){const e=i.pathFromRoot;let t=0;if("always"!==n)for(t=e.length-1;t>=1;){const s=e[t],o=e[t-1];if(s.routeConfig&&""===s.routeConfig.path)t--;else{if(o.component)break;t--}}return function(i){return i.reduce((n,e)=>({params:K(K({},n.params),e.params),data:K(K({},n.data),e.data),resolve:K(K({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(t))}class Rc{constructor(n,e,t,s,o,r,a,l,u,h,f){this.url=n,this.params=e,this.queryParams=t,this.fragment=s,this.data=o,this.outlet=r,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=h,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class HC extends VC{constructor(n,e){super(e),this.url=n,rg(this,e)}toString(){return UC(this._root)}}function rg(i,n){n.value._routerState=i,n.children.forEach(e=>rg(i,e))}function UC(i){const n=i.children.length>0?` { ${i.children.map(UC).join(", ")} } `:"";return`${i.value}${n}`}function ag(i){if(i.snapshot){const n=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Ni(n.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),n.fragment!==e.fragment&&i.fragment.next(e.fragment),Ni(n.params,e.params)||i.params.next(e.params),function(i,n){if(i.length!==n.length)return!1;for(let e=0;e<i.length;++e)if(!Ni(i[e],n[e]))return!1;return!0}(n.url,e.url)||i.url.next(e.url),Ni(n.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function lg(i,n){const e=Ni(i.params,n.params)&&function(i,n){return yo(i,n)&&i.every((e,t)=>Ni(e.parameters,n[t].parameters))}(i.url,n.url);return e&&!(!i.parent!=!n.parent)&&(!i.parent||lg(i.parent,n.parent))}function gl(i,n,e){if(e&&i.shouldReuseRoute(n.value,e.value.snapshot)){const t=e.value;t._futureSnapshot=n.value;const s=function(i,n,e){return n.children.map(t=>{for(const s of e.children)if(i.shouldReuseRoute(t.value,s.value.snapshot))return gl(i,t,s);return gl(i,t)})}(i,n,e);return new rs(t,s)}{if(i.shouldAttach(n.value)){const o=i.retrieve(n.value);if(null!==o){const r=o.route;return r.value._futureSnapshot=n.value,r.children=n.children.map(a=>gl(i,a)),r}}const t=function(i){return new as(new Kn(i.url),new Kn(i.params),new Kn(i.queryParams),new Kn(i.fragment),new Kn(i.data),i.outlet,i.component,i)}(n.value),s=n.children.map(o=>gl(i,o));return new rs(t,s)}}function Fc(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function ml(i){return"object"==typeof i&&null!=i&&i.outlets}function ug(i,n,e,t,s){let o={};return t&&Wt(t,(r,a)=>{o[a]=Array.isArray(r)?r.map(l=>`${l}`):`${r}`}),new vo(e.root===i?n:$C(e.root,i,n),o,s)}function $C(i,n,e){const t={};return Wt(i.children,(s,o)=>{t[o]=s===n?e:$C(s,n,e)}),new De(i.segments,t)}class YC{constructor(n,e,t){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=t,n&&t.length>0&&Fc(t[0]))throw new Error("Root segment cannot have matrix parameters");const s=t.find(ml);if(s&&s!==MC(t))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cg{constructor(n,e,t){this.segmentGroup=n,this.processChildren=e,this.index=t}}function WC(i,n,e){if(i||(i=new De([],{})),0===i.segments.length&&i.hasChildren())return Nc(i,n,e);const t=function(i,n,e){let t=0,s=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;s<i.segments.length;){if(t>=e.length)return o;const r=i.segments[s],a=e[t];if(ml(a))break;const l=`${a}`,u=t<e.length-1?e[t+1]:null;if(s>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!ZC(l,u,r))return o;t+=2}else{if(!ZC(l,{},r))return o;t++}s++}return{match:!0,pathIndex:s,commandIndex:t}}(i,n,e),s=e.slice(t.commandIndex);if(t.match&&t.pathIndex<i.segments.length){const o=new De(i.segments.slice(0,t.pathIndex),{});return o.children[ke]=new De(i.segments.slice(t.pathIndex),i.children),Nc(o,0,s)}return t.match&&0===s.length?new De(i.segments,{}):t.match&&!i.hasChildren()?hg(i,n,e):t.match?Nc(i,0,s):hg(i,n,e)}function Nc(i,n,e){if(0===e.length)return new De(i.segments,{});{const t=function(i){return ml(i[0])?i[0].outlets:{[ke]:i}}(e),s={};return Wt(t,(o,r)=>{"string"==typeof o&&(o=[o]),null!==o&&(s[r]=WC(i.children[r],n,o))}),Wt(i.children,(o,r)=>{void 0===t[r]&&(s[r]=o)}),new De(i.segments,s)}}function hg(i,n,e){const t=i.segments.slice(0,n);let s=0;for(;s<e.length;){const o=e[s];if(ml(o)){const l=YR(o.outlets);return new De(t,l)}if(0===s&&Fc(e[0])){t.push(new pl(i.segments[n].path,qC(e[0]))),s++;continue}const r=ml(o)?o.outlets[ke]:`${o}`,a=s<e.length-1?e[s+1]:null;r&&a&&Fc(a)?(t.push(new pl(r,qC(a))),s+=2):(t.push(new pl(r,{})),s++)}return new De(t,{})}function YR(i){const n={};return Wt(i,(e,t)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[t]=hg(new De([],{}),0,e))}),n}function qC(i){const n={};return Wt(i,(e,t)=>n[t]=`${e}`),n}function ZC(i,n,e){return i==e.path&&Ni(n,e.parameters)}class qR{constructor(n,e,t,s){this.routeReuseStrategy=n,this.futureState=e,this.currState=t,this.forwardEvent=s}activate(n){const e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,n),ag(this.futureState.root),this.activateChildRoutes(e,t,n)}deactivateChildRoutes(n,e,t){const s=Hr(e);n.children.forEach(o=>{const r=o.value.outlet;this.deactivateRoutes(o,s[r],t),delete s[r]}),Wt(s,(o,r)=>{this.deactivateRouteAndItsChildren(o,t)})}deactivateRoutes(n,e,t){const s=n.value,o=e?e.value:null;if(s===o)if(s.component){const r=t.getContext(s.outlet);r&&this.deactivateChildRoutes(n,e,r.children)}else this.deactivateChildRoutes(n,e,t);else o&&this.deactivateRouteAndItsChildren(e,t)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const t=e.getContext(n.value.outlet),s=t&&n.value.component?t.children:e,o=Hr(n);for(const r of Object.keys(o))this.deactivateRouteAndItsChildren(o[r],s);if(t&&t.outlet){const r=t.outlet.detach(),a=t.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:r,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const t=e.getContext(n.value.outlet),s=t&&n.value.component?t.children:e,o=Hr(n);for(const r of Object.keys(o))this.deactivateRouteAndItsChildren(o[r],s);t&&t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated(),t.attachRef=null,t.resolver=null,t.route=null)}activateChildRoutes(n,e,t){const s=Hr(e);n.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],t),this.forwardEvent(new fR(o.value.snapshot))}),n.children.length&&this.forwardEvent(new dR(n.value.snapshot))}activateRoutes(n,e,t){const s=n.value,o=e?e.value:null;if(ag(s),s===o)if(s.component){const r=t.getOrCreateContext(s.outlet);this.activateChildRoutes(n,e,r.children)}else this.activateChildRoutes(n,e,t);else if(s.component){const r=t.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),r.children.onOutletReAttached(a.contexts),r.attachRef=a.componentRef,r.route=a.route.value,r.outlet&&r.outlet.attach(a.componentRef,a.route.value),ag(a.route.value),this.activateChildRoutes(n,null,r.children)}else{const a=function(i){for(let n=i.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),l=a?a.module.componentFactoryResolver:null;r.attachRef=null,r.route=s,r.resolver=l,r.outlet&&r.outlet.activateWith(s,l),this.activateChildRoutes(n,null,r.children)}}else this.activateChildRoutes(n,null,t)}}class dg{constructor(n,e){this.routes=n,this.module=e}}function Rs(i){return"function"==typeof i}function Co(i){return i instanceof vo}const _l=Symbol("INITIAL_VALUE");function vl(){return Is(i=>function(...i){const n=va(i),e=Zm(i),{args:t,keys:s}=pC(i);if(0===t.length)return Nt([],n);const o=new Ye(function(i,n,e=vs){return t=>{gC(n,()=>{const{length:s}=i,o=new Array(s);let r=s,a=s;for(let l=0;l<s;l++)gC(n,()=>{const u=Nt(i[l],n);let h=!1;u.subscribe(new ft(t,f=>{o[l]=f,h||(h=!0,a--),a||t.next(e(o.slice()))},()=>{--r||t.complete()}))},t)},t)}}(t,n,s?r=>fC(s,r):vs));return e?o.pipe(Kf(e)):o}(i.map(n=>n.pipe(Ho(1),Mc(_l)))).pipe(vC((n,e)=>{let t=!1;return e.reduce((s,o,r)=>s!==_l?s:(o===_l&&(t=!0),t||!1!==o&&r!==e.length-1&&!Co(o)?s:o),n)},_l),yn(n=>n!==_l),Oe(n=>Co(n)?n:!0===n),Ho(1)))}class tF{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new yl,this.attachRef=null}}class yl{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const t=this.getOrCreateContext(n);t.outlet=e,this.contexts.set(n,t)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new tF,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let pg=(()=>{class i{constructor(e,t,s,o,r){this.parentContexts=e,this.location=t,this.resolver=s,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new U,this.deactivateEvents=new U,this.attachEvents=new U,this.detachEvents=new U,this.name=o||ke,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const r=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new nF(e,a,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(D(yl),D(_n),D(Es),function(i){return function(i,n){if("class"===n)return i.classes;if("style"===n)return i.styles;const e=i.attrs;if(e){const t=e.length;let s=0;for(;s<t;){const o=e[s];if(E_(o))break;if(0===o)s+=2;else if("number"==typeof o)for(s++;s<t&&"string"==typeof e[s];)s++;else{if(o===n)return e[s+1];s+=2}}}return null}(Tt(),i)}("name"),D(Ts))},i.\u0275dir=se({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class nF{constructor(n,e,t){this.route=n,this.childContexts=e,this.parent=t}get(n,e){return n===as?this.route:n===yl?this.childContexts:this.parent.get(n,e)}}let XC=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Q({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&_(0,"router-outlet")},directives:[pg],encapsulation:2}),i})();function QC(i,n=""){for(let e=0;e<i.length;e++){const t=i[e];iF(t,sF(n,t))}}function iF(i,n){i.children&&QC(i.children,n)}function sF(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function fg(i){const n=i.children&&i.children.map(fg),e=n?Yt(K({},i),{children:n}):K({},i);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ke&&(e.component=XC),e}function Jn(i){return i.outlet||ke}function KC(i,n){const e=i.filter(t=>Jn(t)===n);return e.push(...i.filter(t=>Jn(t)!==n)),e}const JC={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Lc(i,n,e){var a;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||e.length>0)?K({},JC):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(n.matcher||_R)(e,i,n);if(!s)return K({},JC);const o={};Wt(s.posParams,(l,u)=>{o[u]=l.path});const r=s.consumed.length>0?K(K({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:r,positionalParamSegments:null!=(a=s.posParams)?a:{}}}function Bc(i,n,e,t,s="corrected"){if(e.length>0&&function(i,n,e){return e.some(t=>Vc(i,n,t)&&Jn(t)!==ke)}(i,e,t)){const r=new De(n,function(i,n,e,t){const s={};s[ke]=t,t._sourceSegment=i,t._segmentIndexShift=n.length;for(const o of e)if(""===o.path&&Jn(o)!==ke){const r=new De([],{});r._sourceSegment=i,r._segmentIndexShift=n.length,s[Jn(o)]=r}return s}(i,n,t,new De(e,i.children)));return r._sourceSegment=i,r._segmentIndexShift=n.length,{segmentGroup:r,slicedSegments:[]}}if(0===e.length&&function(i,n,e){return e.some(t=>Vc(i,n,t))}(i,e,t)){const r=new De(i.segments,function(i,n,e,t,s,o){const r={};for(const a of t)if(Vc(i,e,a)&&!s[Jn(a)]){const l=new De([],{});l._sourceSegment=i,l._segmentIndexShift="legacy"===o?i.segments.length:n.length,r[Jn(a)]=l}return K(K({},s),r)}(i,n,e,t,i.children,s));return r._sourceSegment=i,r._segmentIndexShift=n.length,{segmentGroup:r,slicedSegments:e}}const o=new De(i.segments,i.children);return o._sourceSegment=i,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:e}}function Vc(i,n,e){return(!(i.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function eb(i,n,e,t){return!!(Jn(i)===t||t!==ke&&Vc(n,e,i))&&("**"===i.path||Lc(n,i,e).matched)}function tb(i,n,e){return 0===n.length&&!i.children[e]}class Cl{constructor(n){this.segmentGroup=n||null}}class nb{constructor(n){this.urlTree=n}}function zc(i){return new Ye(n=>n.error(new Cl(i)))}function ib(i){return new Ye(n=>n.error(new nb(i)))}function uF(i){return new Ye(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class dF{constructor(n,e,t,s,o){this.configLoader=e,this.urlSerializer=t,this.urlTree=s,this.config=o,this.allowRedirects=!0,this.ngModule=n.get(es)}apply(){const n=Bc(this.urlTree.root,[],[],this.config).segmentGroup,e=new De(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ke).pipe(Oe(o=>this.createUrlTree(gg(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(As(o=>{if(o instanceof nb)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Cl?this.noMatchError(o):o}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,ke).pipe(Oe(s=>this.createUrlTree(gg(s),n.queryParams,n.fragment))).pipe(As(s=>{throw s instanceof Cl?this.noMatchError(s):s}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,t){const s=n.segments.length>0?new De([],{[ke]:n}):n;return new vo(s,e,t)}expandSegmentGroup(n,e,t,s){return 0===t.segments.length&&t.hasChildren()?this.expandChildren(n,e,t).pipe(Oe(o=>new De([],o))):this.expandSegment(n,t,e,t.segments,s,!0)}expandChildren(n,e,t){const s=[];for(const o of Object.keys(t.children))"primary"===o?s.unshift(o):s.push(o);return Nt(s).pipe(hl(o=>{const r=t.children[o],a=KC(e,o);return this.expandSegmentGroup(n,a,r,o).pipe(Oe(l=>({segment:l,outlet:o})))}),vC((o,r)=>(o[r.outlet]=r.segment,o),{}),function(i,n){const e=arguments.length>=2;return t=>t.pipe(i?yn((s,o)=>i(s,o,t)):vs,eg(1),e?CC(n):yC(()=>new Sc))}())}expandSegment(n,e,t,s,o,r){return Nt(t).pipe(hl(a=>this.expandSegmentAgainstRoute(n,e,t,a,s,o,r).pipe(As(u=>{if(u instanceof Cl)return ge(null);throw u}))),jr(a=>!!a),As((a,l)=>{if(a instanceof Sc||"EmptyError"===a.name){if(tb(e,s,o))return ge(new De([],{}));throw new Cl(e)}throw a}))}expandSegmentAgainstRoute(n,e,t,s,o,r,a){return eb(s,e,o,r)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(n,e,s,o,r):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,t,s,o,r):zc(e):zc(e)}expandSegmentAgainstRouteUsingRedirect(n,e,t,s,o,r){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,s,r):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,t,s,o,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,t,s){const o=this.applyRedirectCommands([],t.redirectTo,{});return t.redirectTo.startsWith("/")?ib(o):this.lineralizeSegments(t,o).pipe(Mt(r=>{const a=new De(r,{});return this.expandSegment(n,a,e,r,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,t,s,o,r){const{matched:a,consumedSegments:l,lastChild:u,positionalParamSegments:h}=Lc(e,s,o);if(!a)return zc(e);const f=this.applyRedirectCommands(l,s.redirectTo,h);return s.redirectTo.startsWith("/")?ib(f):this.lineralizeSegments(s,f).pipe(Mt(m=>this.expandSegment(n,e,t,m.concat(o.slice(u)),r,!1)))}matchSegmentAgainstRoute(n,e,t,s,o){if("**"===t.path)return t.loadChildren?(t._loadedConfig?ge(t._loadedConfig):this.configLoader.load(n.injector,t)).pipe(Oe(m=>(t._loadedConfig=m,new De(s,{})))):ge(new De(s,{}));const{matched:r,consumedSegments:a,lastChild:l}=Lc(e,t,s);if(!r)return zc(e);const u=s.slice(l);return this.getChildConfig(n,t,s).pipe(Mt(f=>{const m=f.module,v=f.routes,{segmentGroup:k,slicedSegments:w}=Bc(e,a,u,v),x=new De(k.segments,k.children);if(0===w.length&&x.hasChildren())return this.expandChildren(m,v,x).pipe(Oe(R=>new De(a,R)));if(0===v.length&&0===w.length)return ge(new De(a,{}));const E=Jn(t)===o;return this.expandSegment(m,x,v,w,E?ke:o,!0).pipe(Oe(I=>new De(a.concat(I.segments),I.children)))}))}getChildConfig(n,e,t){return e.children?ge(new dg(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?ge(e._loadedConfig):this.runCanLoadGuards(n.injector,e,t).pipe(Mt(s=>{return s?this.configLoader.load(n.injector,e).pipe(Oe(o=>(e._loadedConfig=o,o))):(i=e,new Ye(n=>n.error(ng(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):ge(new dg([],n))}runCanLoadGuards(n,e,t){const s=e.canLoad;return s&&0!==s.length?ge(s.map(r=>{const a=n.get(r);let l;if((i=a)&&Rs(i.canLoad))l=a.canLoad(e,t);else{if(!Rs(a))throw new Error("Invalid CanLoad guard");l=a(e,t)}var i;return Li(l)})).pipe(vl(),Cn(r=>{if(!Co(r))return;const a=ng(`Redirecting to "${this.urlSerializer.serialize(r)}"`);throw a.url=r,a}),Oe(r=>!0===r)):ge(!0)}lineralizeSegments(n,e){let t=[],s=e.root;for(;;){if(t=t.concat(s.segments),0===s.numberOfChildren)return ge(t);if(s.numberOfChildren>1||!s.children[ke])return uF(n.redirectTo);s=s.children[ke]}}applyRedirectCommands(n,e,t){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,t)}applyRedirectCreatreUrlTree(n,e,t,s){const o=this.createSegmentGroup(n,e.root,t,s);return new vo(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const t={};return Wt(n,(s,o)=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);t[o]=e[a]}else t[o]=s}),t}createSegmentGroup(n,e,t,s){const o=this.createSegments(n,e.segments,t,s);let r={};return Wt(e.children,(a,l)=>{r[l]=this.createSegmentGroup(n,a,t,s)}),new De(o,r)}createSegments(n,e,t,s){return e.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,s):this.findOrReturn(o,t))}findPosParam(n,e,t){const s=t[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return s}findOrReturn(n,e){let t=0;for(const s of e){if(s.path===n.path)return e.splice(t),s;t++}return n}}function gg(i){const n={};for(const t of Object.keys(i.children)){const o=gg(i.children[t]);(o.segments.length>0||o.hasChildren())&&(n[t]=o)}return function(i){if(1===i.numberOfChildren&&i.children[ke]){const n=i.children[ke];return new De(i.segments.concat(n.segments),n.children)}return i}(new De(i.segments,n))}class sb{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class jc{constructor(n,e){this.component=n,this.route=e}}function gF(i,n,e){const t=i._root;return bl(t,n?n._root:null,e,[t.value])}function Gc(i,n,e){const t=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(t?t.module.injector:e).get(i)}function bl(i,n,e,t,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Hr(n);return i.children.forEach(r=>{(function(i,n,e,t,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=i.value,r=n?n.value:null,a=e?e.getContext(i.value.outlet):null;if(r&&o.routeConfig===r.routeConfig){const l=function(i,n,e){if("function"==typeof e)return e(i,n);switch(e){case"pathParamsChange":return!yo(i.url,n.url);case"pathParamsOrQueryParamsChange":return!yo(i.url,n.url)||!Ni(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lg(i,n)||!Ni(i.queryParams,n.queryParams);default:return!lg(i,n)}}(r,o,o.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new sb(t)):(o.data=r.data,o._resolvedData=r._resolvedData),bl(i,n,o.component?a?a.children:null:e,t,s),l&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new jc(a.outlet.component,r))}else r&&wl(n,a,s),s.canActivateChecks.push(new sb(t)),bl(i,null,o.component?a?a.children:null:e,t,s)})(r,o[r.value.outlet],e,t.concat([r.value]),s),delete o[r.value.outlet]}),Wt(o,(r,a)=>wl(r,e.getContext(a),s)),s}function wl(i,n,e){const t=Hr(i),s=i.value;Wt(t,(o,r)=>{wl(o,s.component?n?n.children.getContext(r):null:n,e)}),e.canDeactivateChecks.push(new jc(s.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,s))}class MF{}function ob(i){return new Ye(n=>n.error(i))}class TF{constructor(n,e,t,s,o,r){this.rootComponentType=n,this.config=e,this.urlTree=t,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=r}recognize(){const n=Bc(this.urlTree.root,[],[],this.config.filter(r=>void 0===r.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,ke);if(null===e)return null;const t=new Rc([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,{},ke,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new rs(t,e),o=new HC(this.url,s);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(n){const e=n.value,t=GC(e,this.paramsInheritanceStrategy);e.params=Object.freeze(t.params),e.data=Object.freeze(t.data),n.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(n,e,t){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,t)}processChildren(n,e){const t=[];for(const o of Object.keys(e.children)){const r=e.children[o],a=KC(n,o),l=this.processSegmentGroup(a,r,o);if(null===l)return null;t.push(...l)}const s=rb(t);return s.sort((n,e)=>n.value.outlet===ke?-1:e.value.outlet===ke?1:n.value.outlet.localeCompare(e.value.outlet)),s}processSegment(n,e,t,s){for(const o of n){const r=this.processSegmentAgainstRoute(o,e,t,s);if(null!==r)return r}return tb(e,t,s)?[]:null}processSegmentAgainstRoute(n,e,t,s){if(n.redirectTo||!eb(n,e,t,s))return null;let o,r=[],a=[];if("**"===n.path){const v=t.length>0?MC(t).parameters:{};o=new Rc(t,v,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,ub(n),Jn(n),n.component,n,ab(e),lb(e)+t.length,cb(n))}else{const v=Lc(e,n,t);if(!v.matched)return null;r=v.consumedSegments,a=t.slice(v.lastChild),o=new Rc(r,v.parameters,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,ub(n),Jn(n),n.component,n,ab(e),lb(e)+r.length,cb(n))}const l=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:u,slicedSegments:h}=Bc(e,r,a,l.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution);var i;if(0===h.length&&u.hasChildren()){const v=this.processChildren(l,u);return null===v?null:[new rs(o,v)]}if(0===l.length&&0===h.length)return[new rs(o,[])];const f=Jn(n)===s,m=this.processSegment(l,u,h,f?ke:s);return null===m?null:[new rs(o,m)]}}function AF(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function rb(i){const n=[],e=new Set;for(const t of i){if(!AF(t)){n.push(t);continue}const s=n.find(o=>t.value.routeConfig===o.value.routeConfig);void 0!==s?(s.children.push(...t.children),e.add(s)):n.push(t)}for(const t of e){const s=rb(t.children);n.push(new rs(t.value,s))}return n.filter(t=>!e.has(t))}function ab(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function lb(i){let n=i,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function ub(i){return i.data||{}}function cb(i){return i.resolve||{}}function mg(i){return Is(n=>{const e=i(n);return e?Nt(e).pipe(Oe(()=>n)):ge(n)})}class jF extends class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const _g=new ne("ROUTES");class hb{constructor(n,e,t,s){this.injector=n,this.compiler=e,this.onLoadStartListener=t,this.onLoadEndListener=s}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe(Oe(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=o.create(n);return new dg(SC(r.injector.get(_g,void 0,fe.Self|fe.Optional)).map(fg),r)}),As(o=>{throw e._loader$=void 0,o}));return e._loader$=new eR(s,()=>new Te).pipe(_C()),e._loader$}loadModuleFactory(n){return Li(n()).pipe(Mt(e=>e instanceof xy?ge(e):Nt(this.compiler.compileModuleAsync(e))))}}class HF{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function UF(i){throw i}function $F(i,n,e){return n.parse("/")}function db(i,n){return ge(null)}const YF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bn=(()=>{class i{constructor(e,t,s,o,r,a,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=s,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Te,this.errorHandler=UF,this.malformedUriErrorHandler=$F,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:db,afterPreactivation:db},this.urlHandlingStrategy=new HF,this.routeReuseStrategy=new jF,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=r.get(es),this.console=r.get(l3);const f=r.get(je);this.isNgZoneEnabled=f instanceof je&&je.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new vo(new De([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new hb(r,a,m=>this.triggerEvent(new wC(m)),m=>this.triggerEvent(new kC(m))),this.routerState=jC(this.currentUrlTree,this.rootComponentType),this.transitions=new Kn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null==(e=this.location.getState())?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe(yn(s=>0!==s.id),Oe(s=>Yt(K({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Is(s=>{let o=!1,r=!1;return ge(s).pipe(Cn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Yt(K({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Is(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Hc(a.source)&&(this.browserUrlTree=a.extractedUrl),ge(a).pipe(Is(f=>{const m=this.transitions.getValue();return t.next(new tg(f.id,this.serializeUrl(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions.getValue()?$i:Promise.resolve(f)}),function(i,n,e,t){return Is(s=>function(i,n,e,t,s){return new dF(i,n,e,t,s).apply()}(i,n,e,s.extractedUrl,t).pipe(Oe(o=>Yt(K({},s),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Cn(f=>{this.currentNavigation=Yt(K({},this.currentNavigation),{finalUrl:f.urlAfterRedirects})}),function(i,n,e,t,s){return Mt(o=>function(i,n,e,t,s="emptyOnly",o="legacy"){try{const r=new TF(i,n,e,t,s,o).recognize();return null===r?ob(new MF):ge(r)}catch(r){return ob(r)}}(i,n,o.urlAfterRedirects,e(o.urlAfterRedirects),t,s).pipe(Oe(r=>Yt(K({},o),{targetSnapshot:r}))))}(this.rootComponentType,this.config,f=>this.serializeUrl(f),this.paramsInheritanceStrategy,this.relativeLinkResolution),Cn(f=>{if("eager"===this.urlUpdateStrategy){if(!f.extras.skipLocationChange){const v=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl);this.setBrowserUrl(v,f)}this.browserUrlTree=f.urlAfterRedirects}const m=new rR(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);t.next(m)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:m,extractedUrl:v,source:k,restoredState:w,extras:x}=a,E=new tg(m,this.serializeUrl(v),k,w);t.next(E);const S=jC(v,this.rootComponentType).snapshot;return ge(Yt(K({},a),{targetSnapshot:S,urlAfterRedirects:v,extras:Yt(K({},x),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),$i}),mg(a=>{const{targetSnapshot:l,id:u,extractedUrl:h,rawUrl:f,extras:{skipLocationChange:m,replaceUrl:v}}=a;return this.hooks.beforePreactivation(l,{navigationId:u,appliedUrlTree:h,rawUrlTree:f,skipLocationChange:!!m,replaceUrl:!!v})}),Cn(a=>{const l=new aR(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Oe(a=>Yt(K({},a),{guards:gF(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(i,n){return Mt(e=>{const{targetSnapshot:t,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:r}}=e;return 0===r.length&&0===o.length?ge(Yt(K({},e),{guardsResult:!0})):function(i,n,e,t){return Nt(i).pipe(Mt(s=>function(i,n,e,t,s){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?ge(o.map(a=>{const l=Gc(a,n,s);let u;if(function(i){return i&&Rs(i.canDeactivate)}(l))u=Li(l.canDeactivate(i,n,e,t));else{if(!Rs(l))throw new Error("Invalid CanDeactivate guard");u=Li(l(i,n,e,t))}return u.pipe(jr())})).pipe(vl()):ge(!0)}(s.component,s.route,e,n,t)),jr(s=>!0!==s,!0))}(r,t,s,i).pipe(Mt(a=>a&&function(i){return"boolean"==typeof i}(a)?function(i,n,e,t){return Nt(n).pipe(hl(s=>Jf(function(i,n){return null!==i&&n&&n(new hR(i)),ge(!0)}(s.route.parent,t),function(i,n){return null!==i&&n&&n(new pR(i)),ge(!0)}(s.route,t),function(i,n,e){const t=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(r=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(r)).filter(r=>null!==r).map(r=>mC(()=>ge(r.guards.map(l=>{const u=Gc(l,r.node,e);let h;if(function(i){return i&&Rs(i.canActivateChild)}(u))h=Li(u.canActivateChild(t,i));else{if(!Rs(u))throw new Error("Invalid CanActivateChild guard");h=Li(u(t,i))}return h.pipe(jr())})).pipe(vl())));return ge(o).pipe(vl())}(i,s.path,e),function(i,n,e){const t=n.routeConfig?n.routeConfig.canActivate:null;if(!t||0===t.length)return ge(!0);const s=t.map(o=>mC(()=>{const r=Gc(o,n,e);let a;if(function(i){return i&&Rs(i.canActivate)}(r))a=Li(r.canActivate(n,i));else{if(!Rs(r))throw new Error("Invalid CanActivate guard");a=Li(r(n,i))}return a.pipe(jr())}));return ge(s).pipe(vl())}(i,s.route,e))),jr(s=>!0!==s,!0))}(t,o,i,n):ge(a)),Oe(a=>Yt(K({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Cn(a=>{if(Co(a.guardsResult)){const u=ng(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const l=new lR(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),yn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),mg(a=>{if(a.guards.canActivateChecks.length)return ge(a).pipe(Cn(l=>{const u=new uR(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),Is(l=>{let u=!1;return ge(l).pipe(function(i,n){return Mt(e=>{const{targetSnapshot:t,guards:{canActivateChecks:s}}=e;if(!s.length)return ge(e);let o=0;return Nt(s).pipe(hl(r=>function(i,n,e,t){return function(i,n,e,t){const s=Object.keys(i);if(0===s.length)return ge({});const o={};return Nt(s).pipe(Mt(r=>function(i,n,e,t){const s=Gc(i,n,t);return Li(s.resolve?s.resolve(n,e):s(n,e))}(i[r],n,e,t).pipe(Cn(a=>{o[r]=a}))),eg(1),Mt(()=>Object.keys(o).length===s.length?ge(o):$i))}(i._resolve,i,n,t).pipe(Oe(o=>(i._resolvedData=o,i.data=K(K({},i.data),GC(i,e).resolve),null)))}(r.route,t,i,n)),Cn(()=>o++),eg(1),Mt(r=>o===s.length?ge(e):$i))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Cn({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Cn(l=>{const u=new cR(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),mg(a=>{const{targetSnapshot:l,id:u,extractedUrl:h,rawUrl:f,extras:{skipLocationChange:m,replaceUrl:v}}=a;return this.hooks.afterPreactivation(l,{navigationId:u,appliedUrlTree:h,rawUrlTree:f,skipLocationChange:!!m,replaceUrl:!!v})}),Oe(a=>{const l=function(i,n,e){const t=gl(i,n._root,e?e._root:void 0);return new zC(t,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Yt(K({},a),{targetRouterState:l})}),Cn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((i,n,e)=>Oe(t=>(new qR(n,t.targetRouterState,t.currentRouterState,e).activate(i),t)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Cn({next(){o=!0},complete(){o=!0}}),function(i){return wt((n,e)=>{try{n.subscribe(e)}finally{e.add(i)}})}(()=>{var a;o||r||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null==(a=this.currentNavigation)?void 0:a.id)===s.id&&(this.currentNavigation=null)}),As(a=>{if(r=!0,function(i){return i&&i[DC]}(a)){const l=Co(a.url);l||(this.navigated=!0,this.restoreHistory(s,!0));const u=new bC(s.id,this.serializeUrl(s.extractedUrl),a.message);t.next(u),l?setTimeout(()=>{const h=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),f={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hc(s.source)};this.scheduleNavigation(h,"imperative",null,f,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const l=new oR(s.id,this.serializeUrl(s.extractedUrl),a);t.next(l);try{s.resolve(this.errorHandler(a))}catch(u){s.reject(u)}}return $i}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(K(K({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t="popstate"===e.type?"popstate":"hashchange";"popstate"===t&&setTimeout(()=>{var a;const s={replaceUrl:!0},o=(null==(a=e.state)?void 0:a.navigationId)?e.state:null;if(o){const l=K({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const r=this.parseUrl(e.url);this.scheduleNavigation(r,t,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){QC(e),this.config=e.map(fg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:s,queryParams:o,fragment:r,queryParamsHandling:a,preserveFragment:l}=t,u=s||this.routerState.root,h=l?this.currentUrlTree.fragment:r;let f=null;switch(a){case"merge":f=K(K({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}return null!==f&&(f=this.removeEmptyProps(f)),function(i,n,e,t,s){if(0===e.length)return ug(n.root,n.root,n,t,s);const o=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new YC(!0,0,i);let n=0,e=!1;const t=i.reduce((s,o,r)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Wt(o.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...s,{outlets:a}]}if(o.segmentPath)return[...s,o.segmentPath]}return"string"!=typeof o?[...s,o]:0===r?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?n++:""!=a&&s.push(a))}),s):[...s,o]},[]);return new YC(e,n,t)}(e);if(o.toRoot())return ug(n.root,new De([],{}),n,t,s);const r=function(i,n,e){if(i.isAbsolute)return new cg(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new cg(o,o===n.root,0)}const t=Fc(i.commands[0])?0:1;return function(i,n,e){let t=i,s=n,o=e;for(;o>s;){if(o-=s,t=t.parent,!t)throw new Error("Invalid number of '../'");s=t.segments.length}return new cg(t,!1,s-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+t,i.numberOfDoubleDots)}(o,n,i),a=r.processChildren?Nc(r.segmentGroup,r.index,o.commands):WC(r.segmentGroup,r.index,o.commands);return ug(r.segmentGroup,a,n,t,s)}(u,this.currentUrlTree,e,f,null!=h?h:null)}navigateByUrl(e,t={skipLocationChange:!1}){const s=Co(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const e=i[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(s){t=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return t}isActive(e,t){let s;if(s=!0===t?K({},YF):!1===t?K({},WF):t,Co(e))return TC(this.currentUrlTree,e,s);const o=this.parseUrl(e);return TC(this.currentUrlTree,o,s)}removeEmptyProps(e){return Object.keys(e).reduce((t,s)=>{const o=e[s];return null!=o&&(t[s]=o),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new dl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,t,s,o,r){var E,S,I;if(this.disposed)return Promise.resolve(!1);const a=this.transitions.value,l=Hc(t)&&a&&!Hc(a.source),u=a.rawUrl.toString()===e.toString(),h=a.id===(null==(E=this.currentNavigation)?void 0:E.id);if(l&&u&&h)return Promise.resolve(!0);let m,v,k;r?(m=r.resolve,v=r.reject,k=r.promise):k=new Promise((R,F)=>{m=R,v=F});const w=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),x=s&&s.\u0275routerPageId?s.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!=(S=this.browserPageId)?S:0:(null!=(I=this.browserPageId)?I:0)+1):x=0,this.setTransition({id:w,targetPageId:x,source:t,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:m,reject:v,promise:k,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),k.catch(R=>Promise.reject(R))}setBrowserUrl(e,t){const s=this.urlSerializer.serialize(e),o=K(K({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(s)||t.extras.replaceUrl?this.location.replaceState(s,"",o):this.location.go(s,"",o)}restoreHistory(e,t=!1){var s,o;if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(s=this.currentNavigation)?void 0:s.finalUrl)||0===r?this.currentUrlTree===(null==(o=this.currentNavigation)?void 0:o.finalUrl)&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const s=new bC(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:t}:{navigationId:e}}}return i.\u0275fac=function(e){zp()},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();function Hc(i){return"imperative"!==i}let kl=(()=>{class i{constructor(e,t,s){this.router=e,this.route=t,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new Te,this.subscription=e.events.subscribe(o=>{o instanceof dl&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,s,o,r){if(0!==e||t||s||o||r||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Ur(this.skipLocationChange),replaceUrl:Ur(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ur(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(D(bn),D(as),D(zr))},i.\u0275dir=se({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&C("click",function(o){return t.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&Ue("target",t.target)("href",t.href,Lu)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[ie]}),i})();function Ur(i){return""===i||!!i}class pb{}class fb{preload(n,e){return ge(null)}}let gb=(()=>{class i{constructor(e,t,s,o){this.router=e,this.injector=s,this.preloadingStrategy=o,this.loader=new hb(s,t,l=>e.triggerEvent(new wC(l)),l=>e.triggerEvent(new kC(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(yn(e=>e instanceof dl),hl(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(es);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const s=[];for(const o of t)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const r=o._loadedConfig;s.push(this.processRoutes(r.module,r.routes))}else o.loadChildren&&!o.canLoad?s.push(this.preloadConfig(e,o)):o.children&&s.push(this.processRoutes(e,o.children));return Nt(s).pipe(_a(),Oe(o=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?ge(t._loadedConfig):this.loader.load(e.injector,t)).pipe(Mt(o=>(t._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(z(bn),z(uc),z(Kt),z(pb))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})(),yg=(()=>{class i{constructor(e,t,s={}){this.router=e,this.viewportScroller=t,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof tg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof dl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof xC&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new xC(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){zp()},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();const bo=new ne("ROUTER_CONFIGURATION"),mb=new ne("ROUTER_FORROOT_GUARD"),KF=[Af,{provide:RC,useClass:FC},{provide:bn,useFactory:function(i,n,e,t,s,o,r={},a,l){const u=new bn(null,i,n,e,t,s,SC(o));return a&&(u.urlHandlingStrategy=a),l&&(u.routeReuseStrategy=l),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(n.canceledNavigationResolution=i.canceledNavigationResolution)}(r,u),r.enableTracing&&u.events.subscribe(h=>{var f,m;null==(f=console.group)||f.call(console,`Router Event: ${h.constructor.name}`),console.log(h.toString()),console.log(h),null==(m=console.groupEnd)||m.call(console)}),u},deps:[RC,yl,Af,Kt,uc,_g,bo,[class{},new Mi],[class{},new Mi]]},yl,{provide:as,useFactory:function(i){return i.routerState.root},deps:[bn]},gb,fb,class{preload(n,e){return e().pipe(As(()=>ge(null)))}},{provide:bo,useValue:{enableTracing:!1}}];function JF(){return new f3("Router",bn)}let _b=(()=>{class i{constructor(e,t){}static forRoot(e,t){return{ngModule:i,providers:[KF,vb(e),{provide:mb,useFactory:n6,deps:[[bn,new Mi,new rr]]},{provide:bo,useValue:t||{}},{provide:zr,useFactory:t6,deps:[_o,[new Fa(If),new Mi],bo]},{provide:yg,useFactory:e6,deps:[bn,r8,bo]},{provide:pb,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:fb},{provide:f3,multi:!0,useFactory:JF},[Cg,{provide:ac,multi:!0,useFactory:r6,deps:[Cg]},{provide:yb,useFactory:a6,deps:[Cg]},{provide:a3,multi:!0,useExisting:yb}]]}}static forChild(e){return{ngModule:i,providers:[vb(e)]}}}return i.\u0275fac=function(e){return new(e||i)(z(mb,8),z(bn,8))},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({}),i})();function e6(i,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new yg(i,n,e)}function t6(i,n,e={}){return e.useHash?new zI(i,n):new N3(i,n)}function n6(i){return"guarded"}function vb(i){return[{provide:kP,multi:!0,useValue:i},{provide:_g,multi:!0,useValue:i}]}let Cg=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Te}appInitializer(){return this.injector.get(LI,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const s=new Promise(a=>t=a),o=this.injector.get(bn),r=this.injector.get(bo);return"disabled"===r.initialNavigation?(o.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?ge(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),o.initialNavigation()):t(!0),s})}bootstrapListener(e){const t=this.injector.get(bo),s=this.injector.get(gb),o=this.injector.get(yg),r=this.injector.get(bn),a=this.injector.get(Br);e===a.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&r.initialNavigation(),s.setUpPreloading(),o.init(),r.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(z(Kt))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();function r6(i){return i.appInitializer.bind(i)}function a6(i){return i.bootstrapListener.bind(i)}const yb=new ne("Router Initializer");let u6=(()=>{class i{constructor(){}get(){return"ontouchstart"in window||navigator.maxTouchPoints>0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Cb(i,n,e,t,s,o,r){try{var a=i[o](r),l=a.value}catch(u){return void e(u)}a.done?n(l):Promise.resolve(l).then(t,s)}function N(i){return function(){var n=this,e=arguments;return new Promise(function(t,s){var o=i.apply(n,e);function r(l){Cb(o,t,s,r,a,"next",l)}function a(l){Cb(o,t,s,r,a,"throw",l)}r(void 0)})}}const c6=["addListener","removeListener"],h6=["addEventListener","removeEventListener"],d6=["on","off"];function ls(i,n,e,t){if(_e(e)&&(t=e,e=void 0),t)return ls(i,n,e).pipe(Kf(t));const[s,o]=function(i){return _e(i.addEventListener)&&_e(i.removeEventListener)}(i)?h6.map(r=>a=>i[r](n,a,e)):function(i){return _e(i.addListener)&&_e(i.removeListener)}(i)?c6.map(bb(i,n)):function(i){return _e(i.on)&&_e(i.off)}(i)?d6.map(bb(i,n)):[];if(!s&&Kh(i))return Mt(r=>ls(r,n,e))(Pn(i));if(!s)throw new TypeError("Invalid event target");return new Ye(r=>{const a=(...l)=>r.next(1<l.length?l:l[0]);return s(a),()=>o(a)})}function bb(i,n){return e=>t=>i[e](n,t)}let bg=(()=>{class i{constructor(){this.stream$=new Te,this.drag=!1,this.start=null,this.prev=null,this.touchstart$=ls(window,"touchstart").pipe(yn(e=>1==e.touches.length),Oe(e=>{const t={action:"start",x:e.touches[0].clientX,y:e.touches[0].clientY,start:this.start,prev:this.prev,drag:this.drag,target:e.target,timestamp:Date.now()};return this.start=t,t})),this.touchmove$=ls(window,"touchmove").pipe(yn(e=>1==e.touches.length),Oe(e=>(this.drag||(this.drag=!0),{action:"move",x:e.touches[0].clientX,y:e.touches[0].clientY,start:this.start,prev:this.prev,drag:this.drag,target:e.target,timestamp:Date.now()}))),this.touchend$=ls(window,"touchend").pipe(yn(e=>1==e.changedTouches.length),Oe(e=>({action:"end",x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY,start:this.start,prev:this.prev,drag:this.drag,target:e.target,timestamp:Date.now()}))),this.touchstart$.subscribe(e=>{this.prev=e,this.stream$.next(e)}),this.touchmove$.subscribe(e=>{this.prev=Object.assign(Object.assign({},e),{prev:null}),this.stream$.next(e)}),this.touchend$.subscribe(e=>{this.drag=!1,this.start=null,this.prev=null,this.stream$.next(e)})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Bi=(()=>{class i{constructor(){}get(e,t){let s=!1;for(;!s;){if(e.tagName===t){s=!0;break}for(let o=0;o<e.classList.length;o++)if(e.classList[o]===t){s=!0;break}if("BODY"===e.tagName)return s=!0,null;s||(e=e.parentNode)}return e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Pe=(()=>{class i{constructor(){}delay(e){return N(function*(){return new Promise(t=>{setTimeout(()=>{t()},e)})})()}loadImg(e){return N(function*(){return new Promise((t,s)=>{let o=new Image;o.onload=()=>t(o),o.onerror=r=>s(r),o.src=e})})()}readFile(e){return N(function*(){return new Promise((t,s)=>{var o=new FileReader;o.onload=()=>t(o.result),o.onerror=r=>s(r),o.readAsDataURL(e)})})()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),us=(()=>{class i{constructor(){}getImageByUrl(e){return N(function*(){return new Promise((t,s)=>{let o=new Image;o.onload=()=>{t(o)},o.onerror=r=>{s(r)},o.src=e})})()}getImageFromFile(e){var t=this;return N(function*(){return new Promise((s,o)=>{const r=new FileReader;r.onload=N(function*(){let a=yield t.getImageByUrl(r.result);s(a)}),r.onerror=a=>{o(a)},r.readAsDataURL(e)})})()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$r=(()=>{class i{constructor(){}getSvg(e,t,s){const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.style.width=e+"px",o.style.height=t+"px",o.setAttribute("viewBox",`0 0 ${e} ${t}`),o.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let r=0;r<s.length;r++){let a=document.createElementNS("http://www.w3.org/2000/svg","path"),l=s[r][0],u=`M ${s[r][1][0]*e} ${s[r][1][1]*t}`;for(let h=2;h<s[r].length;h++)u+=` C ${s[r][h-1][0]*e} ${s[r][h-1][1]*t}, ${s[r][h][0]*e} ${s[r][h][1]*t}, ${s[r][h][0]*e} ${s[r][h][1]*t}`;a.setAttribute("d",u),a.setAttribute("stroke",l),a.setAttribute("stroke-width",""+.01*e),a.setAttribute("fill","transparent"),a.setAttribute("stroke-linecap","round"),a.setAttribute("stroke-linejoin","round"),o.appendChild(a)}return o}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Fe=(()=>{class i{constructor(e){this.route=e,this.country=0,this.countryCodes=[{index:0,fullName:"United State",code:"us"},{index:1,fullName:"Russia",code:"ru"}],this.route.queryParams.subscribe(t=>{let s=t.l;!s||this.countryCodes.forEach(o=>{o.code!==s||(this.country=o.index)})})}getCountryByIndex(e){return this.countryCodes.find(t=>t.index===e)}location(){return{country:this.getCountryByIndex(this.country)}}translate(...e){return e[this.country]}}return i.\u0275fac=function(e){return new(e||i)(z(as))},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Yr=(()=>{class i{constructor(){this.drag=!1}listen(e){return ru(ls(window,"touchstart").pipe(yn(r=>1==r.touches.length),Oe(r=>{const a={action:"start",x:r.touches[0].clientX,y:r.touches[0].clientY,drag:!1,target:r.target};return this.start=a,this.prev=a,a})),ls(window,"touchmove").pipe(yn(r=>1==r.touches.length),Oe(r=>{this.drag||(this.drag=!0);const a={action:"move",x:r.touches[0].clientX,y:r.touches[0].clientY,start:this.start,prev:this.prev,drag:!0,target:r.target};return this.prev=a,a})),ls(window,"touchend").pipe(yn(r=>1==r.changedTouches.length),Oe(r=>{const a={action:"end",x:r.changedTouches[0].clientX,y:r.changedTouches[0].clientY,start:this.start,prev:this.prev,drag:this.drag,target:r.target};return this.drag=!1,a})))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),wg=(()=>{class i{constructor(e,t,s,o){this.asyncService=e,this.touch2Service=t,this.host=s,this.locationService=o,this.value="",this.result=new U,this.smooth=!1,this.display="none",this.opacity="0",this.ycoord=-200,this.canHide=!1,this.velocity=0,this.timeoutVelocity=setTimeout(()=>{},0),this.obs=null}onClick(){this.result.emit("agree"),this.doHide()}doShow(){var e=this;return N(function*(){return e.display="flex",e.smooth=!0,yield e.asyncService.delay(10),e.opacity="1",e.ycoord=0,yield e.asyncService.delay(300),e.smooth=!1,new Promise(t=>t())})()}doHide(){var e=this;return N(function*(){return e.smooth=!0,yield e.asyncService.delay(10),e.opacity="0",e.ycoord=-200,yield e.asyncService.delay(300),e.display="none",e.smooth=!1,e.result.emit("reject"),e.value="",new Promise(t=>t())})()}processTouch(e){var t;if("none"!==this.display){if("move"===e.action&&"start"===(null===(t=e.prev)||void 0===t?void 0:t.action)&&(this.canHide=Math.abs(e.x-e.prev.x)<Math.abs(e.y-e.prev.y)),"move"===e.action&&this.canHide){this.velocity=e.y-e.prev.y,clearTimeout(this.timeoutVelocity),this.timeoutVelocity=setTimeout(()=>{this.velocity=0},100);let s=e.y-e.start.y;s>0&&(s=0),s<-200&&(s=-200),this.opacity=""+(1+s/200),this.ycoord=s}if("end"===e.action&&this.canHide)if(0===this.velocity){let s=e.y-e.start.y;s>0&&(s=0),s<-200&&(s=-200),s<-100?this.doHide():s>-100&&this.doShow()}else this.velocity>0?this.doShow():this.velocity<0&&this.doHide()}}ngOnInit(){}ngOnChanges(e){e.value&&e.value.previousValue!==e.value.currentValue&&(""!==e.value.currentValue?(this.doShow(),this.obs=this.touch2Service.listen(this.host.nativeElement).subscribe(t=>{this.processTouch(t)})):(this.doHide(),null!==this.obs&&this.obs.unsubscribe()))}}return i.\u0275fac=function(e){return new(e||i)(D(Pe),D(Yr),D(W),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-confirm"]],hostVars:6,hostBindings:function(e,t){1&e&&C("click",function(){return t.onClick()}),2&e&&(y("display",t.display)("opacity",t.opacity),H("smooth",t.smooth))},inputs:{value:"value"},outputs:{result:"result"},features:[ie],decls:9,vars:5,consts:[[1,"display"],[1,"reject"],[1,"text"],[1,"icon"],[1,"agree"]],template:function(e,t){1&e&&(d(0,"div",0),d(1,"div",1),d(2,"div",2),P(3),p(),_(4,"div",3),p(),d(5,"div",2),P(6),p(),d(7,"div",4),P(8),p(),p()),2&e&&(y("transform","translateY("+t.ycoord+"px)"),c(3),O(t.locationService.translate("swipe up to close","\u0441\u0432\u0430\u0439\u043f \u0432\u0432\u0435\u0440\u0445 \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")),c(3),O(t.value),c(2),O(t.locationService.translate("tap to agree","\u043d\u0430\u0436\u0430\u0442\u044c \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c")))},styles:["[_nghost-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;opacity:0;display:none;flex-direction:column;align-items:center;justify-content:center;background-color:#0006;z-index:20}[_nghost-%COMP%]   .display[_ngcontent-%COMP%]{min-width:300px;background-color:#fff;border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .display[_ngcontent-%COMP%] > .reject[_ngcontent-%COMP%]{margin:10px;align-self:flex-end;display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%]   .display[_ngcontent-%COMP%] > .reject[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{width:20px;height:20px;background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(arrow-up.0f196ae64df83d91.svg)}[_nghost-%COMP%]   .display[_ngcontent-%COMP%] > .reject[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:0 10px;font-size:12px;color:#999}[_nghost-%COMP%]   .display[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-weight:bold;margin:10px;text-align:center;color:#000;font-size:16px}[_nghost-%COMP%]   .display[_ngcontent-%COMP%] > .agree[_ngcontent-%COMP%]{margin:10px;color:#999;text-align:center;font-size:12px}.smooth[_nghost-%COMP%]{transition:all ease .3s}.smooth[_nghost-%COMP%] > .display[_ngcontent-%COMP%]{transition:all ease .3s}"]}),i})(),wb=(()=>{class i{constructor(e){this.ayncService=e,this.value="",this.display="none",this.top="-500px"}doshow(){var e=this;return N(function*(){return e.display="flex",yield e.ayncService.delay(10),e.top="20px",yield e.ayncService.delay(200),new Promise(t=>t())})()}dohide(){var e=this;return N(function*(){return e.top="-500px",yield e.ayncService.delay(200),e.display="none",yield e.ayncService.delay(10),new Promise(t=>t())})()}ngOnInit(){}ngOnChanges(e){e.value&&e.value.previousValue!==e.value.currentValue&&(""===e.value.currentValue?this.dohide():this.doshow())}}return i.\u0275fac=function(e){return new(e||i)(D(Pe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-error"]],hostVars:4,hostBindings:function(e,t){2&e&&y("display",t.display)("top",t.top)},inputs:{value:"value"},features:[ie],decls:1,vars:1,template:function(e,t){1&e&&P(0),2&e&&Ae("",t.value,"\n")},styles:["[_nghost-%COMP%]{position:fixed;display:none;flex-direction:row-reverse;align-items:center;justify-content:center;width:90%;background-color:#f44336;color:#fff;text-align:center;font-size:14px;padding:10px;border-radius:10px;transition:all ease .2s;z-index:100}"]}),i})(),kb=(()=>{class i{constructor(){}get(){return"#"+Math.floor(16777215*Math.random()).toString(16)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),m6=(()=>{class i{constructor(e,t){this.host=e,this.asyncservice=t,this.bind=!1,this.refresh=null}binding(){this.host.nativeElement.querySelector("svg > path:nth-child(1) > animate:nth-child(1)").beginElement()}unbinding(){this.host.nativeElement.querySelector("svg > path:nth-child(1) > animate:nth-child(2)").beginElement()}dorefresh(){var e=this;return N(function*(){const t=e.host.nativeElement.querySelector("svg");t.style.transition="all ease 0.2s",yield e.asyncservice.delay(10),t.style.transform="translateX(-10px) scale(2)",t.querySelector("path:nth-child(1) > animate:nth-child(3)").beginElement(),t.querySelector("path:nth-child(1) > animate:nth-child(5)").beginElement(),yield e.asyncservice.delay(200),t.style.transform="translateX(0px) scale(1)",t.querySelector("path:nth-child(1) > animate:nth-child(4)").beginElement(),t.querySelector("path:nth-child(1) > animate:nth-child(6)").beginElement(),yield e.asyncservice.delay(200),t.style.removeProperty("transform"),t.style.removeProperty("transition")})()}ngOnChanges(e){e.bind&&e.bind.previousValue!==e.bind.currentValue&&(e.bind.currentValue?this.binding():this.unbinding()),e.refresh&&e.refresh.previousValue!==e.refresh.currentValue&&this.dorefresh()}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(Pe))},i.\u0275cmp=Q({type:i,selectors:[["app-svg-handle"]],inputs:{bind:"bind",refresh:"refresh"},features:[ie],decls:8,vars:0,consts:[["viewBox","0 0 20 100","xmlns","http://www.w3.org/2000/svg"],["d","M 15 5 C 15 5, 15 95, 15 95","stroke","#ffffff","stroke-width","2","stroke-linecap","round","fill","none","filter","drop-shadow(0px 0px 2px #333)"],["attributeName","d","values","M 15 5 C 15 5, 15 95, 15 95 ; M 15 5 C 5 25, 5 75, 15 95","dur","0.2s","begin","indefinite","fill","freeze"],["attributeName","d","values","M 15 5 C 5 25, 5 75, 15 95 ; M 15 5 C 15 5, 15 95, 15 95","dur","0.2s","begin","indefinite","fill","freeze"],["attributeName","stroke","values","#ffffff ; #e91e63","dur","0.2s","begin","indefinite","fill","freeze"],["attributeName","stroke","values","#e91e63 ; #ffffff","dur","0.2s","begin","indefinite","fill","freeze"],["attributeName","filter","values","drop-shadow(0px 0px 2px #333) ; drop-shadow(0px 0px 2px #33333300)","dur","0.2s","begin","indefinite","fill","freeze"],["attributeName","filter","values","drop-shadow(0px 0px 2px #33333300) ; drop-shadow(0px 0px 2px #333)","dur","0.2s","begin","indefinite","fill","freeze"]],template:function(e,t){1&e&&(fi(),d(0,"svg",0),d(1,"path",1),_(2,"animate",2),_(3,"animate",3),_(4,"animate",4),_(5,"animate",5),_(6,"animate",6),_(7,"animate",7),p(),p())},styles:[""]}),i})();const _6=["animate1"],v6=["animate2"],y6=["animate3"],C6=["animate4"],b6=["animate5"],w6=["animate6"];let Uc=(()=>{class i{constructor(e,t){this.host=e,this.router=t,this.start=null,this.touch=null,this.transition="none",this.transform="translateY(-50px)",this.width=0,this.currentAction="ready",this.animationName="none"}onResize(){const e=this.host.nativeElement.parentNode.getBoundingClientRect().width;this.width=e}setPosition(e){this.transform=`translateY(${e}px)`}anim(e){this.currentAction!==e&&("ready"===e?(this.animate2Ref.nativeElement.beginElement(),this.animate4Ref.nativeElement.beginElement(),this.animate6Ref.nativeElement.beginElement(),this.animationName="none"):"steady"===e?(this.animate1Ref.nativeElement.beginElement(),this.animate3Ref.nativeElement.beginElement(),this.animate5Ref.nativeElement.beginElement(),this.animationName="none"):"go"===e&&(this.animationName="go"),this.currentAction=e)}reload(){const e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}setTransition(e){this.transition=e?"all ease 0.3s":"none"}processTouch(){var e,t;if(null===this.touch)return this.setTransition(!0),void setTimeout(()=>{this.setPosition(-50),setTimeout(()=>{this.setTransition(!1)},300)},10);if(this.onResize(),"move"===(null===(e=this.touch)||void 0===e?void 0:e.action)){let o=.2*(this.touch.y-this.start.y)-50;o>0&&(o=0),o<-50&&(o=-50),this.anim(0===o?"steady":"ready"),this.setPosition(o)}else if("end"===(null===(t=this.touch)||void 0===t?void 0:t.action)){let o=.2*(this.touch.y-this.start.y)-50;o>0&&(o=0),o<-50&&(o=-50),0===o?(this.anim("go"),setTimeout(()=>{this.reload()},300)):(this.setTransition(!0),setTimeout(()=>{this.setPosition(-50),setTimeout(()=>{this.setTransition(!1)},300)},10)),this.start=null}}ngOnInit(){this.onResize()}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&(null===this.start&&null!==e.touch.currentValue&&(this.start=e.touch.currentValue.prev),this.processTouch())}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(bn))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-refresh"]],viewQuery:function(e,t){if(1&e&&(ht(_6,5,W),ht(v6,5,W),ht(y6,5,W),ht(C6,5,W),ht(b6,5,W),ht(w6,5,W)),2&e){let s;qe(s=Ze())&&(t.animate1Ref=s.first),qe(s=Ze())&&(t.animate2Ref=s.first),qe(s=Ze())&&(t.animate3Ref=s.first),qe(s=Ze())&&(t.animate4Ref=s.first),qe(s=Ze())&&(t.animate5Ref=s.first),qe(s=Ze())&&(t.animate6Ref=s.first)}},hostVars:6,hostBindings:function(e,t){1&e&&C("resize",function(){return t.onResize()},!1,Ie),2&e&&y("transition",t.transition)("transform",t.transform)("width",t.width,"px")},inputs:{touch:"touch"},features:[ie],decls:19,vars:2,consts:[[1,"image"],["viewBox","0 0 40 40","xmlns","http://www.w3.org/2000/svg"],["d","\n      M 20 10\n      C 20 10, 20 30, 20 30\n      ","stroke-width","2px","stroke","#fff","fill","transparent","stroke-linecap","round"],["attributeName","d","values","M 20 10 C 20 10, 20 30, 20 30 ; M 20 30 C 20 30, 20 30, 20 30","dur","0.3s","fill","freeze"],["animate1",""],["attributeName","d","values","M 20 30 C 20 30, 20 30, 20 30 ; M 20 10 C 20 10, 20 30, 20 30","dur","0.3s","fill","freeze"],["animate2",""],["d","\n      M 15 25\n      C 15 25, 15 25, 15 25\n      C 15 25, 20 30, 20 30\n      ","stroke-width","2px","stroke","#fff","fill","transparent","stroke-linecap","round"],["attributeName","d","values","M 15 25 C 15 25, 15 25, 15 25 C 15 25, 20 30, 20 30 ; M 20 10 C 20 10, 10 10, 10 20 C 10 20, 10 30, 20 30","dur","0.3s","fill","freeze"],["animate3",""],["attributeName","d","values","M 20 10 C 20 10, 10 10, 10 20 C 10 20, 10 30, 20 30 ; M 15 25 C 15 25, 15 25, 15 25 C 15 25, 20 30, 20 30","dur","0.3s","fill","freeze"],["animate4",""],["d","\n      M 25 25\n      C 25 25, 20 30, 20 30\n      ","stroke-width","2px","stroke","#fff","fill","transparent","stroke-linecap","round"],["attributeName","d","values","M 25 25 C 25 25, 20 30, 20 30 ; M 30 20 C 30 20, 30 30, 20 30","dur","0.3s","fill","freeze"],["animate5",""],["attributeName","d","values","M 30 20 C 30 20, 30 30, 20 30 ; M 25 25 C 25 25, 20 30, 20 30","dur","0.3s","fill","freeze"],["animate6",""],[1,"text"]],template:function(e,t){1&e&&(d(0,"div",0),fi(),d(1,"svg",1),d(2,"path",2),_(3,"animate",3,4),_(5,"animate",5,6),p(),d(7,"path",7),_(8,"animate",8,9),_(10,"animate",10,11),p(),d(12,"path",12),_(13,"animate",13,14),_(15,"animate",15,16),p(),p(),p(),uo(),d(17,"div",17),P(18,"refresh"),p()),2&e&&y("animation-name",t.animationName)},styles:["[_nghost-%COMP%]{position:absolute;width:100%;background-color:#00bcd4;height:50px;display:flex;flex-direction:row;align-items:center;justify-content:center;transform:translateY(-50px);overflow:hidden}[_nghost-%COMP%] > .text[_ngcontent-%COMP%]{margin:0 10px 0 1;font-size:14px;color:#fff}[_nghost-%COMP%] > .image[_ngcontent-%COMP%]{width:40px;height:40px;animation-duration:.3s;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes go{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),i})();const k6=["*"];let xg,kg=(()=>{class i{constructor(e,t){this.asyncservice=e,this.host=t,this.touch=null,this.disabled=!1,this.scrolltocenter=null,this.refreshable=!1,this.refresheight=50,this.refreshTouch=null,this.static=0,this.dynamic=0,this.velocity=0,this.timeout=setTimeout(()=>{},0),this.interrupt=!1,this.positionatstart="topedge",this.margin=10,this.marginedges=50}scroll(){if("start"===this.touch.action?(this.interrupt=!0,this.positionatstart=this.getposition):"move"===this.touch.action?(this.transformposition(),this.interrupt=!1,this.dynamic=this.touch.y-this.touch.start.y,this.velocity=this.touch.y-this.touch.prev.y,clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.velocity=0},100),this.checkmiddleedges()):"end"===this.touch.action&&(this.static+=this.dynamic,this.dynamic=0,!this.checkedges()&&!this.checkmiddleedges()&&this.inertia(this.velocity)),this.refreshable&&"top"===this.positionatstart){const e=this.host.nativeElement.getBoundingClientRect();this.refreshTouch="move"===this.touch.action&&this.getscroll>=e.height-this.refresheight||"end"===this.touch.action?this.touch:null}}inertia(e){var t=this;return N(function*(){for(e>30&&(e=30);Math.abs(e)>.5;){if(t.interrupt)return t.static+=t.dynamic,t.dynamic=0,void(t.interrupt=!1);t.transformposition(),yield t.asyncservice.delay(1),t.static+=e,e*=.99,t.checkedges()&&(t.interrupt=!0),t.checkmiddleedges()&&(t.interrupt=!0)}})()}get getposition(){const e=this.host.nativeElement.getBoundingClientRect(),t=this.host.nativeElement.querySelector(".list").getBoundingClientRect();return t.y>e.y-this.margin&&t.y<e.y+this.margin&&t.y+t.height>e.y+e.height-this.margin&&t.y+t.height<e.y+e.height+this.margin?"idyll":t.y>e.y-this.margin&&t.y<e.y+this.margin?"topedge":t.y+t.height>e.y+e.height-this.margin&&t.y+t.height<e.y+e.height+this.margin?"bottomedge":t.y>e.y&&t.y+t.height>e.y+e.height?"top":t.y<e.y&&t.y+t.height<e.y+e.height?"bottom":"center"}transformposition(){const e=this.getposition;("idyll"===this.positionatstart||"topedge"===this.positionatstart||"bottomedge"===this.positionatstart)&&"idyll"!==e&&"topedge"!==e&&"bottomedge"!==e&&(this.positionatstart=e)}get getscroll(){return this.static+this.dynamic}smoothgoto(e){var t=this;return N(function*(){t.host.nativeElement.querySelector(".list").style.transition="all ease 0.1s",yield t.asyncservice.delay(10),t.static=e,t.dynamic=0,yield t.asyncservice.delay(100),t.host.nativeElement.querySelector(".list").style.transition="none"})()}checkedges(){const e=this.host.nativeElement.getBoundingClientRect(),t=this.host.nativeElement.querySelector(".list").getBoundingClientRect();return this.getscroll>e.height-this.marginedges?(this.smoothgoto(e.height-this.marginedges),!0):this.getscroll+t.height<this.marginedges&&(this.smoothgoto(-t.height+this.marginedges),!0)}checkmiddleedges(){const e=this.host.nativeElement.getBoundingClientRect(),t=this.host.nativeElement.querySelector(".list").getBoundingClientRect();if(t.height<e.height){if("top"==this.positionatstart){if(this.getscroll<e.height-t.height+this.margin)return this.dynamic=e.height-t.height-this.static,!0}else if("bottom"==this.positionatstart){if(this.getscroll>-this.margin)return this.dynamic=-this.static,!0}else if("center"==this.positionatstart){if(this.getscroll<this.margin)return this.dynamic=-this.static,!0;if(this.getscroll+t.height>e.height-this.margin)return this.dynamic=e.height-t.height-this.static,!0}}else if("top"==this.positionatstart){if(this.getscroll<this.margin)return this.dynamic=-this.static,!0}else if("bottom"==this.positionatstart){if(this.getscroll>-t.height+e.height-this.margin)return this.dynamic=-t.height+e.height-this.static,!0}else if("center"==this.positionatstart){if(this.getscroll>-this.margin)return this.dynamic=-this.static,!0;if(this.getscroll+t.height<e.height+this.margin)return this.dynamic=e.height-t.height-this.static,!0}return!1}doScrollToCenter(){const e=this.host.nativeElement.getBoundingClientRect(),t=this.host.nativeElement.querySelector(".list").getBoundingClientRect();this.static=t.height>=e.height?0:(e.height-t.height)/2,this.dynamic=0}ngOnInit(){}ngOnChanges(e){if(e.touch&&e.touch.previousValue!=e.touch.currentValue){if(null===e.touch.currentValue)return;this.scroll()}else e.scrolltocenter&&e.scrolltocenter.previousValue!=e.scrolltocenter.currentValue&&this.doScrollToCenter()}}return i.\u0275fac=function(e){return new(e||i)(D(Pe),D(W))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-scroll"]],inputs:{touch:"touch",disabled:"disabled",scrolltocenter:"scrolltocenter",refreshable:"refreshable"},features:[ie],ngContentSelectors:k6,decls:3,vars:3,consts:[[3,"touch"],[1,"list"]],template:function(e,t){1&e&&(vi(),_(0,"app-touch-refresh",0),d(1,"div",1),Zn(2),p()),2&e&&(g("touch",t.refreshTouch),c(1),y("transform","translateY("+t.getscroll+"px)"))},directives:[Uc],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}[_nghost-%COMP%] > .list[_ngcontent-%COMP%]{min-height:100px;display:flex;flex-direction:column;align-items:stretch;justify-content:center}"]}),i})();try{xg="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){xg=!1}let xl,Dg,Wr=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(i){return i===K3}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xg)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(z(lc))},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function wo(i){return function(){if(null==xl&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xl=!0}))}finally{xl=xl||!1}return xl}()?i:!!i.capture}function Pg(i){if(function(){if(null==Dg){const i="undefined"!=typeof document?document.head:null;Dg=!(!i||!i.createShadowRoot&&!i.attachShadow)}return Dg}()){const n=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function cs(i){return i.composedPath?i.composedPath()[0]:i.target}function Dl(i){return wt((n,e)=>{Pn(i).subscribe(new ft(e,()=>e.complete(),ma)),!e.closed&&n.subscribe(e)})}function hs(i){return null!=i&&"false"!=`${i}`}function Fs(i,n=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):n}function Rt(i){return i instanceof W?i.nativeElement:i}function Sg(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function Mg(i){const n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const Eb="cdk-high-contrast-black-on-white",Tb="cdk-high-contrast-white-on-black",Eg="cdk-high-contrast-active";let o7=(()=>{class i{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,s=t&&t.getComputedStyle?t.getComputedStyle(e):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Eg),e.remove(Eb),e.remove(Tb),this._hasCheckedHighContrastMode=!0;const t=this.getHighContrastMode();1===t?(e.add(Eg),e.add(Eb)):2===t&&(e.add(Eg),e.add(Tb))}}}return i.\u0275fac=function(e){return new(e||i)(z(Wr),z(at))},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const r7=new ne("cdk-dir-doc",{providedIn:"root",factory:function(){return q_(at)}}),l7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Tg=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new U,e){const s=e.documentElement?e.documentElement.dir:null;this.value=function(i){const n=(null==i?void 0:i.toLowerCase())||"";return"auto"===n&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?l7.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(z(r7,8))},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ob=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({}),i})();class Ab{}const ds="*";function ut(i,n){return{type:7,name:i,definitions:n,options:{}}}function le(i,n=null){return{type:4,styles:n,timings:i}}function Og(i,n=null){return{type:3,steps:i,options:n}}function Rb(i,n=null){return{type:2,steps:i,options:n}}function Y(i){return{type:6,styles:i,offset:null}}function Ns(i,n,e){return{type:0,name:i,styles:n,options:e}}function me(i,n,e=null){return{type:1,expr:i,animation:n,options:e}}function Vi(i,n,e=null){return{type:11,selector:i,animation:n,options:e}}function Fb(i){Promise.resolve(null).then(i)}class Xr{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Fb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Nb{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,t=0,s=0;const o=this.players.length;0==o?Fb(()=>this._onFinish()):this.players.forEach(r=>{r.onDone(()=>{++e==o&&this._onFinish()}),r.onDestroy(()=>{++t==o&&this._onDestroy()}),r.onStart(()=>{++s==o&&this._onStart()})}),this.totalTime=this.players.reduce((r,a)=>Math.max(r,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(t=>{const s=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(s)})}getPosition(){const n=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Lb(){return"undefined"!=typeof window&&void 0!==window.document}function Ag(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ls(i){switch(i.length){case 0:return new Xr;case 1:return i[0];default:return new Nb(i)}}function Bb(i,n,e,t,s={},o={}){const r=[],a=[];let l=-1,u=null;if(t.forEach(h=>{const f=h.offset,m=f==l,v=m&&u||{};Object.keys(h).forEach(k=>{let w=k,x=h[k];if("offset"!==k)switch(w=n.normalizePropertyName(w,r),x){case"!":x=s[k];break;case ds:x=o[k];break;default:x=n.normalizeStyleValue(k,w,x,r)}v[w]=x}),m||a.push(v),u=v,l=f}),r.length){const h="\n - ";throw new Error(`Unable to animate due to the following errors:${h}${r.join(h)}`)}return a}function Rg(i,n,e,t){switch(n){case"start":i.onStart(()=>t(e&&Fg(e,"start",i)));break;case"done":i.onDone(()=>t(e&&Fg(e,"done",i)));break;case"destroy":i.onDestroy(()=>t(e&&Fg(e,"destroy",i)))}}function Fg(i,n,e){const t=e.totalTime,o=Ng(i.element,i.triggerName,i.fromState,i.toState,n||i.phaseName,null==t?i.totalTime:t,!!e.disabled),r=i._data;return null!=r&&(o._data=r),o}function Ng(i,n,e,t,s="",o=0,r){return{element:i,triggerName:n,fromState:e,toState:t,phaseName:s,totalTime:o,disabled:!!r}}function Nn(i,n,e){let t;return i instanceof Map?(t=i.get(n),t||i.set(n,t=e)):(t=i[n],t||(t=i[n]=e)),t}function Vb(i){const n=i.indexOf(":");return[i.substring(1,n),i.substr(n+1)]}let Lg=(i,n)=>!1,Bg=(i,n)=>!1,zb=(i,n,e)=>[];const jb=Ag();(jb||"undefined"!=typeof Element)&&(Lg=Lb()?(i,n)=>{for(;n&&n!==document.documentElement;){if(n===i)return!0;n=n.parentNode||n.host}return!1}:(i,n)=>i.contains(n),Bg=(()=>{if(jb||Element.prototype.matches)return(i,n)=>i.matches(n);{const i=Element.prototype,n=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return n?(e,t)=>n.apply(e,[t]):Bg}})(),zb=(i,n,e)=>{let t=[];if(e){const s=i.querySelectorAll(n);for(let o=0;o<s.length;o++)t.push(s[o])}else{const s=i.querySelector(n);s&&t.push(s)}return t});let xo=null,Gb=!1;function Vg(i){xo||(xo=("undefined"!=typeof document?document.body:null)||{},Gb=!!xo.style&&"WebkitAppearance"in xo.style);let n=!0;return xo.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(n=i in xo.style,!n&&Gb&&(n="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in xo.style)),n}const zg=Bg,jg=Lg,Gg=zb;function Hb(i){const n={};return Object.keys(i).forEach(e=>{const t=e.replace(/([a-z])([A-Z])/g,"$1-$2");n[t]=i[e]}),n}let Ub=(()=>{class i{validateStyleProperty(e){return Vg(e)}matchesElement(e,t){return zg(e,t)}containsElement(e,t){return jg(e,t)}query(e,t,s){return Gg(e,t,s)}computeStyle(e,t,s){return s||""}animate(e,t,s,o,r,a=[],l){return new Xr(s,o)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})(),Hg=(()=>{class i{}return i.NOOP=new Ub,i})();const Ug="ng-enter",Wc="ng-leave",qc="ng-trigger",Zc=".ng-trigger",Yb="ng-animating",$g=".ng-animating";function Do(i){if("number"==typeof i)return i;const n=i.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Yg(parseFloat(n[1]),n[2])}function Yg(i,n){return"s"===n?1e3*i:i}function Xc(i,n,e){return i.hasOwnProperty("duration")?i:function(i,n,e){let s,o=0,r="";if("string"==typeof i){const a=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};s=Yg(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=Yg(parseFloat(l),a[4]));const u=a[5];u&&(r=u)}else s=i;if(!e){let a=!1,l=n.length;s<0&&(n.push("Duration values below 0 are not allowed for this animation step."),a=!0),o<0&&(n.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&n.splice(l,0,`The provided timing value "${i}" is invalid.`)}return{duration:s,delay:o,easing:r}}(i,n,e)}function Qr(i,n={}){return Object.keys(i).forEach(e=>{n[e]=i[e]}),n}function Bs(i,n,e={}){if(n)for(let t in i)e[t]=i[t];else Qr(i,e);return e}function qb(i,n,e){return e?n+":"+e+";":""}function Zb(i){let n="";for(let e=0;e<i.style.length;e++){const t=i.style.item(e);n+=qb(0,t,i.style.getPropertyValue(t))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=qb(0,v7(e),i.style[e]));i.setAttribute("style",n)}function zi(i,n,e){i.style&&(Object.keys(n).forEach(t=>{const s=qg(t);e&&!e.hasOwnProperty(t)&&(e[t]=i.style[s]),i.style[s]=n[t]}),Ag()&&Zb(i))}function Po(i,n){i.style&&(Object.keys(n).forEach(e=>{const t=qg(e);i.style[t]=""}),Ag()&&Zb(i))}function Pl(i){return Array.isArray(i)?1==i.length?i[0]:Rb(i):i}const Wg=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xb(i){let n=[];if("string"==typeof i){let e;for(;e=Wg.exec(i);)n.push(e[1]);Wg.lastIndex=0}return n}function Qc(i,n,e){const t=i.toString(),s=t.replace(Wg,(o,r)=>{let a=n[r];return n.hasOwnProperty(r)||(e.push(`Please provide a value for the animation param ${r}`),a=""),a.toString()});return s==t?i:s}function Kc(i){const n=[];let e=i.next();for(;!e.done;)n.push(e.value),e=i.next();return n}const _7=/-+([a-z0-9])/g;function qg(i){return i.replace(_7,(...n)=>n[1].toUpperCase())}function v7(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qb(i,n){return 0===i||0===n}function Kb(i,n,e){const t=Object.keys(e);if(t.length&&n.length){let o=n[0],r=[];if(t.forEach(a=>{o.hasOwnProperty(a)||r.push(a),o[a]=e[a]}),r.length)for(var s=1;s<n.length;s++){let a=n[s];r.forEach(function(l){a[l]=Zg(i,l)})}}return n}function Ln(i,n,e){switch(n.type){case 7:return i.visitTrigger(n,e);case 0:return i.visitState(n,e);case 1:return i.visitTransition(n,e);case 2:return i.visitSequence(n,e);case 3:return i.visitGroup(n,e);case 4:return i.visitAnimate(n,e);case 5:return i.visitKeyframes(n,e);case 6:return i.visitStyle(n,e);case 8:return i.visitReference(n,e);case 9:return i.visitAnimateChild(n,e);case 10:return i.visitAnimateRef(n,e);case 11:return i.visitQuery(n,e);case 12:return i.visitStagger(n,e);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function Zg(i,n){return window.getComputedStyle(i)[n]}function y7(i,n){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(t=>function(i,n,e){if(":"==i[0]){const l=function(i,n){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return n.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,e);if("function"==typeof l)return void n.push(l);i=l}const t=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==t||t.length<4)return e.push(`The provided transition expression "${i}" is not supported`),n;const s=t[1],o=t[2],r=t[3];n.push(Jb(s,r));"<"==o[0]&&!("*"==s&&"*"==r)&&n.push(Jb(r,s))}(t,e,n)):e.push(i),e}const eh=new Set(["true","1"]),th=new Set(["false","0"]);function Jb(i,n){const e=eh.has(i)||th.has(i),t=eh.has(n)||th.has(n);return(s,o)=>{let r="*"==i||i==s,a="*"==n||n==o;return!r&&e&&"boolean"==typeof s&&(r=s?eh.has(i):th.has(i)),!a&&t&&"boolean"==typeof o&&(a=o?eh.has(n):th.has(n)),r&&a}}const w7=new RegExp("s*:selfs*,?","g");function Xg(i,n,e){return new k7(i).build(n,e)}class k7{constructor(n){this._driver=n}build(n,e){const t=new P7(e);return this._resetContextStyleTimingState(t),Ln(this,Pl(n),t)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,e){let t=e.queryCount=0,s=e.depCount=0;const o=[],r=[];return"@"==n.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,e))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,e);t+=l.queryCount,s+=l.depCount,r.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:o,transitions:r,queryCount:t,depCount:s,options:null}}visitState(n,e){const t=this.visitStyle(n.styles,e),s=n.options&&n.options.params||null;if(t.containsDynamicStyles){const o=new Set,r=s||{};if(t.styles.forEach(a=>{if(nh(a)){const l=a;Object.keys(l).forEach(u=>{Xb(l[u]).forEach(h=>{r.hasOwnProperty(h)||o.add(h)})})}}),o.size){const a=Kc(o.values());e.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:n.name,style:t,options:s?{params:s}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const t=Ln(this,Pl(n.animation),e);return{type:1,matchers:y7(n.expr,e.errors),animation:t,queryCount:e.queryCount,depCount:e.depCount,options:So(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(t=>Ln(this,t,e)),options:So(n.options)}}visitGroup(n,e){const t=e.currentTime;let s=0;const o=n.steps.map(r=>{e.currentTime=t;const a=Ln(this,r,e);return s=Math.max(s,e.currentTime),a});return e.currentTime=s,{type:3,steps:o,options:So(n.options)}}visitAnimate(n,e){const t=function(i,n){let e=null;if(i.hasOwnProperty("duration"))e=i;else if("number"==typeof i)return Qg(Xc(i,n).duration,0,"");const t=i;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Qg(0,0,"");return o.dynamic=!0,o.strValue=t,o}return e=e||Xc(t,n),Qg(e.duration,e.delay,e.easing)}(n.timings,e.errors);e.currentAnimateTimings=t;let s,o=n.styles?n.styles:Y({});if(5==o.type)s=this.visitKeyframes(o,e);else{let r=n.styles,a=!1;if(!r){a=!0;const u={};t.easing&&(u.easing=t.easing),r=Y(u)}e.currentTime+=t.duration+t.delay;const l=this.visitStyle(r,e);l.isEmptyStep=a,s=l}return e.currentAnimateTimings=null,{type:4,timings:t,style:s,options:null}}visitStyle(n,e){const t=this._makeStyleAst(n,e);return this._validateStyleAst(t,e),t}_makeStyleAst(n,e){const t=[];Array.isArray(n.styles)?n.styles.forEach(r=>{"string"==typeof r?r==ds?t.push(r):e.errors.push(`The provided style string value ${r} is not allowed.`):t.push(r)}):t.push(n.styles);let s=!1,o=null;return t.forEach(r=>{if(nh(r)){const a=r,l=a.easing;if(l&&(o=l,delete a.easing),!s)for(let u in a)if(a[u].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:t,easing:o,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,e){const t=e.currentAnimateTimings;let s=e.currentTime,o=e.currentTime;t&&o>0&&(o-=t.duration+t.delay),n.styles.forEach(r=>{"string"!=typeof r&&Object.keys(r).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void e.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],u=l[a];let h=!0;u&&(o!=s&&o>=u.startTime&&s<=u.endTime&&(e.errors.push(`The CSS property "${a}" that exists between the times of "${u.startTime}ms" and "${u.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${s}ms"`),h=!1),o=u.startTime),h&&(l[a]={startTime:o,endTime:s}),e.options&&function(i,n,e){const t=n.params||{},s=Xb(i);s.length&&s.forEach(o=>{t.hasOwnProperty(o)||e.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(r[a],e.options,e.errors)})})}visitKeyframes(n,e){const t={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),t;let o=0;const r=[];let a=!1,l=!1,u=0;const h=n.steps.map(E=>{const S=this._makeStyleAst(E,e);let I=null!=S.offset?S.offset:function(i){if("string"==typeof i)return null;let n=null;if(Array.isArray(i))i.forEach(e=>{if(nh(e)&&e.hasOwnProperty("offset")){const t=e;n=parseFloat(t.offset),delete t.offset}});else if(nh(i)&&i.hasOwnProperty("offset")){const e=i;n=parseFloat(e.offset),delete e.offset}return n}(S.styles),R=0;return null!=I&&(o++,R=S.offset=I),l=l||R<0||R>1,a=a||R<u,u=R,r.push(R),S});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");const f=n.steps.length;let m=0;o>0&&o<f?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(m=1/(f-1));const v=f-1,k=e.currentTime,w=e.currentAnimateTimings,x=w.duration;return h.forEach((E,S)=>{const I=m>0?S==v?1:m*S:r[S],R=I*x;e.currentTime=k+w.delay+R,w.duration=R,this._validateStyleAst(E,e),E.offset=I,t.styles.push(E)}),t}visitReference(n,e){return{type:8,animation:Ln(this,Pl(n.animation),e),options:So(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:So(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:So(n.options)}}visitQuery(n,e){const t=e.currentQuerySelector,s=n.options||{};e.queryCount++,e.currentQuery=n;const[o,r]=function(i){const n=!!i.split(/\s*,\s*/).find(e=>":self"==e);return n&&(i=i.replace(w7,"")),i=i.replace(/@\*/g,Zc).replace(/@\w+/g,e=>Zc+"-"+e.substr(1)).replace(/:animating/g,$g),[i,n]}(n.selector);e.currentQuerySelector=t.length?t+" "+o:o,Nn(e.collectedStyles,e.currentQuerySelector,{});const a=Ln(this,Pl(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:11,selector:o,limit:s.limit||0,optional:!!s.optional,includeSelf:r,animation:a,originalSelector:n.selector,options:So(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const t="full"===n.timings?{duration:0,delay:0,easing:"full"}:Xc(n.timings,e.errors,!0);return{type:12,animation:Ln(this,Pl(n.animation),e),timings:t,options:null}}}class P7{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function nh(i){return!Array.isArray(i)&&"object"==typeof i}function So(i){return i?(i=Qr(i)).params&&(i.params=function(i){return i?Qr(i):null}(i.params)):i={},i}function Qg(i,n,e){return{duration:i,delay:n,easing:e}}function Kg(i,n,e,t,s,o,r=null,a=!1){return{type:1,element:i,keyframes:n,preStyleProps:e,postStyleProps:t,duration:s,delay:o,totalTime:s+o,easing:r,subTimeline:a}}class ih{constructor(){this._map=new Map}consume(n){let e=this._map.get(n);return e?this._map.delete(n):e=[],e}append(n,e){let t=this._map.get(n);t||this._map.set(n,t=[]),t.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const O7=new RegExp(":enter","g"),A7=new RegExp(":leave","g");function Jg(i,n,e,t,s,o={},r={},a,l,u=[]){return(new R7).buildKeyframes(i,n,e,t,s,o,r,a,l,u)}class R7{buildKeyframes(n,e,t,s,o,r,a,l,u,h=[]){u=u||new ih;const f=new e0(n,e,u,s,o,h,[]);f.options=l,f.currentTimeline.setStyles([r],null,f.errors,l),Ln(this,t,f);const m=f.timelines.filter(v=>v.containsAnimation());if(m.length&&Object.keys(a).length){const v=m[m.length-1];v.allowOnlyTimelineStyles()||v.setStyles([a],null,f.errors,l)}return m.length?m.map(v=>v.buildKeyframes()):[Kg(e,[],[],[],0,0,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const t=e.subInstructions.consume(e.element);if(t){const s=e.createSubContext(n.options),o=e.currentTimeline.currentTime,r=this._visitSubInstructions(t,s,s.options);o!=r&&e.transformIntoNewTimeline(r)}e.previousNode=n}visitAnimateRef(n,e){const t=e.createSubContext(n.options);t.transformIntoNewTimeline(),this.visitReference(n.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=n}_visitSubInstructions(n,e,t){let o=e.currentTimeline.currentTime;const r=null!=t.duration?Do(t.duration):null,a=null!=t.delay?Do(t.delay):null;return 0!==r&&n.forEach(l=>{const u=e.appendInstructionToTimeline(l,r,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),Ln(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const t=e.subContextCount;let s=e;const o=n.options;if(o&&(o.params||o.delay)&&(s=e.createSubContext(o),s.transformIntoNewTimeline(),null!=o.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=sh);const r=Do(o.delay);s.delayNextStep(r)}n.steps.length&&(n.steps.forEach(r=>Ln(this,r,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>t&&s.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const t=[];let s=e.currentTimeline.currentTime;const o=n.options&&n.options.delay?Do(n.options.delay):0;n.steps.forEach(r=>{const a=e.createSubContext(n.options);o&&a.delayNextStep(o),Ln(this,r,a),s=Math.max(s,a.currentTimeline.currentTime),t.push(a.currentTimeline)}),t.forEach(r=>e.currentTimeline.mergeTimelineCollectedStyles(r)),e.transformIntoNewTimeline(s),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const t=n.strValue;return Xc(e.params?Qc(t,e.params,e.errors):t,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const t=e.currentAnimateTimings=this._visitTiming(n.timings,e),s=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),s.snapshotCurrentStyles());const o=n.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(t.duration),this.visitStyle(o,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const t=e.currentTimeline,s=e.currentAnimateTimings;!s&&t.getCurrentStyleProperties().length&&t.forwardFrame();const o=s&&s.easing||n.easing;n.isEmptyStep?t.applyEmptyStep(o):t.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const t=e.currentAnimateTimings,s=e.currentTimeline.duration,o=t.duration,a=e.createSubContext().currentTimeline;a.easing=t.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(s+o),e.previousNode=n}visitQuery(n,e){const t=e.currentTimeline.currentTime,s=n.options||{},o=s.delay?Do(s.delay):0;o&&(6===e.previousNode.type||0==t&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=sh);let r=t;const a=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((u,h)=>{e.currentQueryIndex=h;const f=e.createSubContext(n.options,u);o&&f.delayNextStep(o),u===e.element&&(l=f.currentTimeline),Ln(this,n.animation,f),f.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,f.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(r),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const t=e.parentContext,s=e.currentTimeline,o=n.timings,r=Math.abs(o.duration),a=r*(e.currentQueryTotal-1);let l=r*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=t.currentStaggerTime}const h=e.currentTimeline;l&&h.delayNextStep(l);const f=h.currentTime;Ln(this,n.animation,e),e.previousNode=n,t.currentStaggerTime=s.currentTime-f+(s.startTime-t.currentTimeline.startTime)}}const sh={};class e0{constructor(n,e,t,s,o,r,a,l){this._driver=n,this.element=e,this.subInstructions=t,this._enterClassName=s,this._leaveClassName=o,this.errors=r,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=sh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new oh(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const t=n;let s=this.options;null!=t.duration&&(s.duration=Do(t.duration)),null!=t.delay&&(s.delay=Do(t.delay));const o=t.params;if(o){let r=s.params;r||(r=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!r.hasOwnProperty(a))&&(r[a]=Qc(o[a],r,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const t=n.params={};Object.keys(e).forEach(s=>{t[s]=e[s]})}}return n}createSubContext(n=null,e,t){const s=e||this.element,o=new e0(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,t||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=sh,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,t){const s={duration:null!=e?e:n.duration,delay:this.currentTimeline.currentTime+(null!=t?t:0)+n.delay,easing:""},o=new F7(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,s,n.stretchStartingKeyframe);return this.timelines.push(o),s}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,t,s,o,r){let a=[];if(s&&a.push(this.element),n.length>0){n=(n=n.replace(O7,"."+this._enterClassName)).replace(A7,"."+this._leaveClassName);let u=this._driver.query(this.element,n,1!=t);0!==t&&(u=t<0?u.slice(u.length+t,u.length):u.slice(0,t)),a.push(...u)}return!o&&0==a.length&&r.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),a}}class oh{constructor(n,e,t,s){this._driver=n,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new oh(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles[n]=e,this._globalTimelineStyles[n]=e,this._styleSummary[n]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ds,this._currentKeyframe[e]=ds}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,t,s){e&&(this._previousKeyframe.easing=e);const o=s&&s.params||{},r=function(i,n){const e={};let t;return i.forEach(s=>{"*"===s?(t=t||Object.keys(n),t.forEach(o=>{e[o]=ds})):Bs(s,!1,e)}),e}(n,this._globalTimelineStyles);Object.keys(r).forEach(a=>{const l=Qc(r[a],o,t);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:ds),this._updateStyle(a,l)})}applyStylesToKeyframe(){const n=this._pendingStyles,e=Object.keys(n);0!=e.length&&(this._pendingStyles={},e.forEach(t=>{this._currentKeyframe[t]=n[t]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const e=this._localTimelineStyles[n];this._pendingStyles[n]=e,this._updateStyle(n,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(e=>{const t=this._styleSummary[e],s=n._styleSummary[e];(!t||s.time>t.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,t=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,l)=>{const u=Bs(a,!0);Object.keys(u).forEach(h=>{const f=u[h];"!"==f?n.add(h):f==ds&&e.add(h)}),t||(u.offset=l/this.duration),s.push(u)});const o=n.size?Kc(n.values()):[],r=e.size?Kc(e.values()):[];if(t){const a=s[0],l=Qr(a);a.offset=0,l.offset=1,s=[a,l]}return Kg(this.element,s,o,r,this.duration,this.startTime,this.easing,!1)}}class F7 extends oh{constructor(n,e,t,s,o,r,a=!1){super(n,e,r.delay),this.keyframes=t,this.preStyleProps=s,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:t,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],r=t+e,a=e/r,l=Bs(n[0],!1);l.offset=0,o.push(l);const u=Bs(n[0],!1);u.offset=nw(a),o.push(u);const h=n.length-1;for(let f=1;f<=h;f++){let m=Bs(n[f],!1);m.offset=nw((e+m.offset*t)/r),o.push(m)}t=r,e=0,s="",n=o}return Kg(this.element,n,this.preStyleProps,this.postStyleProps,t,e,s,!0)}}function nw(i,n=3){const e=Math.pow(10,n-1);return Math.round(i*e)/e}class t0{}class L7 extends t0{normalizePropertyName(n,e){return qg(n)}normalizeStyleValue(n,e,t,s){let o="";const r=t.toString().trim();if(B7[e]&&0!==t&&"0"!==t)if("number"==typeof t)o="px";else{const a=t.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(`Please provide a CSS unit value for ${n}:${t}`)}return r+o}}const B7=(()=>function(i){const n={};return i.forEach(e=>n[e]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function iw(i,n,e,t,s,o,r,a,l,u,h,f,m){return{type:0,element:i,triggerName:n,isRemovalTransition:s,fromState:e,fromStyles:o,toState:t,toStyles:r,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:h,totalTime:f,errors:m}}const n0={};class sw{constructor(n,e,t){this._triggerName=n,this.ast=e,this._stateStyles=t}match(n,e,t,s){return function(i,n,e,t,s){return i.some(o=>o(n,e,t,s))}(this.ast.matchers,n,e,t,s)}buildStyles(n,e,t){const s=this._stateStyles["*"],o=this._stateStyles[n],r=s?s.buildStyles(e,t):{};return o?o.buildStyles(e,t):r}build(n,e,t,s,o,r,a,l,u,h){const f=[],m=this.ast.options&&this.ast.options.params||n0,k=this.buildStyles(t,a&&a.params||n0,f),w=l&&l.params||n0,x=this.buildStyles(s,w,f),E=new Set,S=new Map,I=new Map,R="void"===s,F={params:K(K({},m),w)},L=h?[]:Jg(n,e,this.ast.animation,o,r,k,x,F,u,f);let V=0;if(L.forEach(G=>{V=Math.max(G.duration+G.delay,V)}),f.length)return iw(e,this._triggerName,t,s,R,k,x,[],[],S,I,V,f);L.forEach(G=>{const ue=G.element,ze=Nn(S,ue,{});G.preStyleProps.forEach(Ne=>ze[Ne]=!0);const $e=Nn(I,ue,{});G.postStyleProps.forEach(Ne=>$e[Ne]=!0),ue!==e&&E.add(ue)});const $=Kc(E.values());return iw(e,this._triggerName,t,s,R,k,x,L,$,S,I,V)}}class j7{constructor(n,e,t){this.styles=n,this.defaultParams=e,this.normalizer=t}buildStyles(n,e){const t={},s=Qr(this.defaultParams);return Object.keys(n).forEach(o=>{const r=n[o];null!=r&&(s[o]=r)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const r=o;Object.keys(r).forEach(a=>{let l=r[a];l.length>1&&(l=Qc(l,s,e));const u=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,u,l,e),t[u]=l})}}),t}}class H7{constructor(n,e,t){this.name=n,this.ast=e,this._normalizer=t,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new j7(s.style,s.options&&s.options.params||{},t)}),ow(this.states,"true","1"),ow(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new sw(n,s,this.states))}),this.fallbackTransition=function(i,n,e){return new sw(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(r,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,t,s){return this.transitionFactories.find(r=>r.match(n,e,t,s))||null}matchStyles(n,e,t){return this.fallbackTransition.buildStyles(n,e,t)}}function ow(i,n,e){i.hasOwnProperty(n)?i.hasOwnProperty(e)||(i[e]=i[n]):i.hasOwnProperty(e)&&(i[n]=i[e])}const $7=new ih;class Y7{constructor(n,e,t){this.bodyNode=n,this._driver=e,this._normalizer=t,this._animations={},this._playersById={},this.players=[]}register(n,e){const t=[],s=Xg(this._driver,e,t);if(t.length)throw new Error(`Unable to build the animation due to the following errors: ${t.join("\n")}`);this._animations[n]=s}_buildPlayer(n,e,t){const s=n.element,o=Bb(0,this._normalizer,0,n.keyframes,e,t);return this._driver.animate(s,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,t={}){const s=[],o=this._animations[n];let r;const a=new Map;if(o?(r=Jg(this._driver,e,o,Ug,Wc,{},{},t,$7,s),r.forEach(h=>{const f=Nn(a,h.element,{});h.postStyleProps.forEach(m=>f[m]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),r=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);a.forEach((h,f)=>{Object.keys(h).forEach(m=>{h[m]=this._driver.computeStyle(f,m,ds)})});const u=Ls(r.map(h=>{const f=a.get(h.element);return this._buildPlayer(h,{},f)}));return this._playersById[n]=u,u.onDestroy(()=>this.destroy(n)),this.players.push(u),u}destroy(n){const e=this._getPlayer(n);e.destroy(),delete this._playersById[n];const t=this.players.indexOf(e);t>=0&&this.players.splice(t,1)}_getPlayer(n){const e=this._playersById[n];if(!e)throw new Error(`Unable to find the timeline player referenced by ${n}`);return e}listen(n,e,t,s){const o=Ng(e,"","","");return Rg(this._getPlayer(n),t,o,s),()=>{}}command(n,e,t,s){if("register"==t)return void this.register(n,s[0]);if("create"==t)return void this.create(n,e,s[0]||{});const o=this._getPlayer(n);switch(t){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(n)}}}const rw="ng-animate-queued",aw="ng-animate-disabled",lw=".ng-animate-disabled",X7=[],uw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Q7={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ei="__ng_removed";class s0{constructor(n,e=""){this.namespaceId=e;const t=n&&n.hasOwnProperty("value");if(this.value=null!=(i=t?n.value:n)?i:null,t){const o=Qr(n);delete o.value,this.options=o}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const e=n.params;if(e){const t=this.options.params;Object.keys(e).forEach(s=>{null==t[s]&&(t[s]=e[s])})}}}const Sl="void",o0=new s0(Sl);class K7{constructor(n,e,t){this.id=n,this.hostElement=e,this._engine=t,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,ti(e,this._hostClassName)}listen(n,e,t,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${t}" because the animation trigger "${e}" doesn't exist!`);if(null==t||0==t.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=t)&&"done"!=i)throw new Error(`The provided animation trigger event "${t}" for the animation trigger "${e}" is not supported!`);var i;const o=Nn(this._elementListeners,n,[]),r={name:e,phase:t,callback:s};o.push(r);const a=Nn(this._engine.statesByElement,n,{});return a.hasOwnProperty(e)||(ti(n,qc),ti(n,qc+"-"+e),a[e]=o0),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(r);l>=0&&o.splice(l,1),this._triggers[e]||delete a[e]})}}register(n,e){return!this._triggers[n]&&(this._triggers[n]=e,!0)}_getTrigger(n){const e=this._triggers[n];if(!e)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return e}trigger(n,e,t,s=!0){const o=this._getTrigger(e),r=new r0(this.id,e,n);let a=this._engine.statesByElement.get(n);a||(ti(n,qc),ti(n,qc+"-"+e),this._engine.statesByElement.set(n,a={}));let l=a[e];const u=new s0(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a[e]=u,l||(l=o0),u.value!==Sl&&l.value===u.value){if(!function(i,n){const e=Object.keys(i),t=Object.keys(n);if(e.length!=t.length)return!1;for(let s=0;s<e.length;s++){const o=e[s];if(!n.hasOwnProperty(o)||i[o]!==n[o])return!1}return!0}(l.params,u.params)){const w=[],x=o.matchStyles(l.value,l.params,w),E=o.matchStyles(u.value,u.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Po(n,x),zi(n,E)})}return}const m=Nn(this._engine.playersByElement,n,[]);m.forEach(w=>{w.namespaceId==this.id&&w.triggerName==e&&w.queued&&w.destroy()});let v=o.matchTransition(l.value,u.value,n,u.params),k=!1;if(!v){if(!s)return;v=o.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:v,fromState:l,toState:u,player:r,isFallbackTransition:k}),k||(ti(n,rw),r.onStart(()=>{Kr(n,rw)})),r.onDone(()=>{let w=this.players.indexOf(r);w>=0&&this.players.splice(w,1);const x=this._engine.playersByElement.get(n);if(x){let E=x.indexOf(r);E>=0&&x.splice(E,1)}}),this.players.push(r),m.push(r),r}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((e,t)=>{delete e[n]}),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(s=>s.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const t=this._engine.driver.query(n,Zc,!0);t.forEach(s=>{if(s[ei])return;const o=this._engine.fetchNamespacesByElement(s);o.size?o.forEach(r=>r.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(n,e,t,s){const o=this._engine.statesByElement.get(n);if(o){const r=[];if(Object.keys(o).forEach(a=>{if(this._triggers[a]){const l=this.trigger(n,a,Sl,s);l&&r.push(l)}}),r.length)return this._engine.markElementAsRemoved(this.id,n,!0,e),t&&Ls(r).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),t=this._engine.statesByElement.get(n);if(e&&t){const s=new Set;e.forEach(o=>{const r=o.name;if(s.has(r))return;s.add(r);const l=this._triggers[r].fallbackTransition,u=t[r]||o0,h=new s0(Sl),f=new r0(this.id,r,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:r,transition:l,fromState:u,toState:h,player:f,isFallbackTransition:!0})})}}removeNode(n,e){const t=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let s=!1;if(t.totalAnimations){const o=t.players.length?t.playersByQueriedElement.get(n):[];if(o&&o.length)s=!0;else{let r=n;for(;r=r.parentNode;)if(t.statesByElement.get(r)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(n),s)t.markElementAsRemoved(this.id,n,!1,e);else{const o=n[ei];(!o||o===uw)&&(t.afterFlush(()=>this.clearElementCache(n)),t.destroyInnerAnimations(n),t._onRemovalComplete(n,e))}}insertNode(n,e){ti(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(t=>{const s=t.player;if(s.destroyed)return;const o=t.element,r=this._elementListeners.get(o);r&&r.forEach(a=>{if(a.name==t.triggerName){const l=Ng(o,t.triggerName,t.fromState.value,t.toState.value);l._data=n,Rg(t.player,a.phase,l,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(t)}),this._queue=[],e.sort((t,s)=>{const o=t.transition.ast.depCount,r=s.transition.ast.depCount;return 0==o||0==r?o-r:this._engine.driver.containsElement(t.element,s.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(t=>t.element===n)||e,e}}class J7{constructor(n,e,t){this.bodyNode=n,this.driver=e,this._normalizer=t,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&n.push(t)})}),n}createNamespace(n,e){const t=new K7(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[n]=t}_balanceNamespaceList(n,e){const t=this._namespaceList.length-1;if(t>=0){let s=!1;for(let o=t;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,e)){this._namespaceList.splice(o+1,0,n),s=!0;break}s||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(e,n),n}register(n,e){let t=this._namespaceLookup[n];return t||(t=this.createNamespace(n,e)),t}registerTrigger(n,e,t){let s=this._namespaceLookup[n];s&&s.register(e,t)&&this.totalAnimations++}destroy(n,e){if(!n)return;const t=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(t.hostElement),delete this._namespaceLookup[n];const s=this._namespaceList.indexOf(t);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>t.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,t=this.statesByElement.get(n);if(t){const s=Object.keys(t);for(let o=0;o<s.length;o++){const r=t[s[o]].namespaceId;if(r){const a=this._fetchNamespace(r);a&&e.add(a)}}}return e}trigger(n,e,t,s){if(rh(e)){const o=this._fetchNamespace(n);if(o)return o.trigger(e,t,s),!0}return!1}insertNode(n,e,t,s){if(!rh(e))return;const o=e[ei];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const r=this.collectedLeaveElements.indexOf(e);r>=0&&this.collectedLeaveElements.splice(r,1)}if(n){const r=this._fetchNamespace(n);r&&r.insertNode(e,t)}s&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),ti(n,aw)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Kr(n,aw))}removeNode(n,e,t,s){if(rh(e)){const o=n?this._fetchNamespace(n):null;if(o?o.removeNode(e,s):this.markElementAsRemoved(n,e,!1,s),t){const r=this.namespacesByHostElement.get(e);r&&r.id!==n&&r.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(n,e,t,s){this.collectedLeaveElements.push(e),e[ei]={namespaceId:n,setForRemoval:s,hasAnimation:t,removedBeforeQueried:!1}}listen(n,e,t,s,o){return rh(e)?this._fetchNamespace(n).listen(e,t,s,o):()=>{}}_buildInstruction(n,e,t,s,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,t,s,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,Zc,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,$g,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Ls(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[ei];if(e&&e.setForRemoval){if(n[ei]=uw,e.namespaceId){this.destroyInnerAnimations(n);const t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}this.driver.matchesElement(n,lw)&&this.markElementAsDisabled(n,!1),this.driver.query(n,lw,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,s)=>this._balanceNamespaceList(t,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++)ti(this.collectedEnterElements[t],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const t=[];try{e=this._flushAnimations(t,n)}finally{for(let s=0;s<t.length;s++)t[s]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++)this.processLeaveNode(this.collectedLeaveElements[t]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Ls(e).onDone(()=>{t.forEach(s=>s())}):t.forEach(s=>s())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,e){const t=new ih,s=[],o=new Map,r=[],a=new Map,l=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(j=>{h.add(j);const ee=this.driver.query(j,".ng-animate-queued",!0);for(let oe=0;oe<ee.length;oe++)h.add(ee[oe])});const f=this.bodyNode,m=Array.from(this.statesByElement.keys()),v=dw(m,this.collectedEnterElements),k=new Map;let w=0;v.forEach((j,ee)=>{const oe=Ug+w++;k.set(ee,oe),j.forEach(be=>ti(be,oe))});const x=[],E=new Set,S=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const ee=this.collectedLeaveElements[j],oe=ee[ei];oe&&oe.setForRemoval&&(x.push(ee),E.add(ee),oe.hasAnimation?this.driver.query(ee,".ng-star-inserted",!0).forEach(be=>E.add(be)):S.add(ee))}const I=new Map,R=dw(m,Array.from(E));R.forEach((j,ee)=>{const oe=Wc+w++;I.set(ee,oe),j.forEach(be=>ti(be,oe))}),n.push(()=>{v.forEach((j,ee)=>{const oe=k.get(ee);j.forEach(be=>Kr(be,oe))}),R.forEach((j,ee)=>{const oe=I.get(ee);j.forEach(be=>Kr(be,oe))}),x.forEach(j=>{this.processLeaveNode(j)})});const F=[],L=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(e).forEach(oe=>{const be=oe.player,ct=oe.element;if(F.push(be),this.collectedEnterElements.length){const Hi=ct[ei];if(Hi&&Hi.setForMove)return void be.destroy()}const Ut=!f||!this.driver.containsElement(f,ct),on=I.get(ct),$t=k.get(ct),He=this._buildInstruction(oe,t,$t,on,Ut);if(He.errors&&He.errors.length)L.push(He);else{if(Ut)return be.onStart(()=>Po(ct,He.fromStyles)),be.onDestroy(()=>zi(ct,He.toStyles)),void s.push(be);if(oe.isFallbackTransition)return be.onStart(()=>Po(ct,He.fromStyles)),be.onDestroy(()=>zi(ct,He.toStyles)),void s.push(be);He.timelines.forEach(Hi=>Hi.stretchStartingKeyframe=!0),t.append(ct,He.timelines),r.push({instruction:He,player:be,element:ct}),He.queriedElements.forEach(Hi=>Nn(a,Hi,[]).push(be)),He.preStyleProps.forEach((Hi,iu)=>{const Uh=Object.keys(Hi);if(Uh.length){let jo=l.get(iu);jo||l.set(iu,jo=new Set),Uh.forEach(Pm=>jo.add(Pm))}}),He.postStyleProps.forEach((Hi,iu)=>{const Uh=Object.keys(Hi);let jo=u.get(iu);jo||u.set(iu,jo=new Set),Uh.forEach(Pm=>jo.add(Pm))})}});if(L.length){const j=[];L.forEach(ee=>{j.push(`@${ee.triggerName} has failed due to:\n`),ee.errors.forEach(oe=>j.push(`- ${oe}\n`))}),F.forEach(ee=>ee.destroy()),this.reportError(j)}const V=new Map,$=new Map;r.forEach(j=>{const ee=j.element;t.has(ee)&&($.set(ee,ee),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,V))}),s.forEach(j=>{const ee=j.element;this._getPreviousPlayers(ee,!1,j.namespaceId,j.triggerName,null).forEach(be=>{Nn(V,ee,[]).push(be),be.destroy()})});const G=x.filter(j=>fw(j,l,u)),ue=new Map;hw(ue,this.driver,S,u,ds).forEach(j=>{fw(j,l,u)&&G.push(j)});const $e=new Map;v.forEach((j,ee)=>{hw($e,this.driver,new Set(j),l,"!")}),G.forEach(j=>{const ee=ue.get(j),oe=$e.get(j);ue.set(j,K(K({},ee),oe))});const Ne=[],Ge=[],nt={};r.forEach(j=>{const{element:ee,player:oe,instruction:be}=j;if(t.has(ee)){if(h.has(ee))return oe.onDestroy(()=>zi(ee,be.toStyles)),oe.disabled=!0,oe.overrideTotalTime(be.totalTime),void s.push(oe);let ct=nt;if($.size>1){let on=ee;const $t=[];for(;on=on.parentNode;){const He=$.get(on);if(He){ct=He;break}$t.push(on)}$t.forEach(He=>$.set(He,ct))}const Ut=this._buildAnimation(oe.namespaceId,be,V,o,$e,ue);if(oe.setRealPlayer(Ut),ct===nt)Ne.push(oe);else{const on=this.playersByElement.get(ct);on&&on.length&&(oe.parentPlayer=Ls(on)),s.push(oe)}}else Po(ee,be.fromStyles),oe.onDestroy(()=>zi(ee,be.toStyles)),Ge.push(oe),h.has(ee)&&s.push(oe)}),Ge.forEach(j=>{const ee=o.get(j.element);if(ee&&ee.length){const oe=Ls(ee);j.setRealPlayer(oe)}}),s.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<x.length;j++){const ee=x[j],oe=ee[ei];if(Kr(ee,Wc),oe&&oe.hasAnimation)continue;let be=[];if(a.size){let Ut=a.get(ee);Ut&&Ut.length&&be.push(...Ut);let on=this.driver.query(ee,$g,!0);for(let $t=0;$t<on.length;$t++){let He=a.get(on[$t]);He&&He.length&&be.push(...He)}}const ct=be.filter(Ut=>!Ut.destroyed);ct.length?i9(this,ee,ct):this.processLeaveNode(ee)}return x.length=0,Ne.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();const ee=this.players.indexOf(j);this.players.splice(ee,1)}),j.play()}),Ne}elementContainsData(n,e){let t=!1;const s=e[ei];return s&&s.setForRemoval&&(t=!0),this.playersByElement.has(e)&&(t=!0),this.playersByQueriedElement.has(e)&&(t=!0),this.statesByElement.has(e)&&(t=!0),this._fetchNamespace(n).elementContainsData(e)||t}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,t,s,o){let r=[];if(e){const a=this.playersByQueriedElement.get(n);a&&(r=a)}else{const a=this.playersByElement.get(n);if(a){const l=!o||o==Sl;a.forEach(u=>{u.queued||!l&&u.triggerName!=s||r.push(u)})}}return(t||s)&&(r=r.filter(a=>!(t&&t!=a.namespaceId||s&&s!=a.triggerName))),r}_beforeAnimationBuild(n,e,t){const o=e.element,r=e.isRemovalTransition?void 0:n,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const u=l.element,h=u!==o,f=Nn(t,u,[]);this._getPreviousPlayers(u,h,r,a,e.toState).forEach(v=>{const k=v.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),v.destroy(),f.push(v)})}Po(o,e.fromStyles)}_buildAnimation(n,e,t,s,o,r){const a=e.triggerName,l=e.element,u=[],h=new Set,f=new Set,m=e.timelines.map(k=>{const w=k.element;h.add(w);const x=w[ei];if(x&&x.removedBeforeQueried)return new Xr(k.duration,k.delay);const E=w!==l,S=function(i){const n=[];return pw(i,n),n}((t.get(w)||X7).map(V=>V.getRealPlayer())).filter(V=>!!V.element&&V.element===w),I=o.get(w),R=r.get(w),F=Bb(0,this._normalizer,0,k.keyframes,I,R),L=this._buildPlayer(k,F,S);if(k.subTimeline&&s&&f.add(w),E){const V=new r0(n,a,w);V.setRealPlayer(L),u.push(V)}return L});u.forEach(k=>{Nn(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function(i,n,e){let t;if(i instanceof Map){if(t=i.get(n),t){if(t.length){const s=t.indexOf(e);t.splice(s,1)}0==t.length&&i.delete(n)}}else if(t=i[n],t){if(t.length){const s=t.indexOf(e);t.splice(s,1)}0==t.length&&delete i[n]}return t}(this.playersByQueriedElement,k.element,k))}),h.forEach(k=>ti(k,Yb));const v=Ls(m);return v.onDestroy(()=>{h.forEach(k=>Kr(k,Yb)),zi(l,e.toStyles)}),f.forEach(k=>{Nn(s,k,[]).push(v)}),v}_buildPlayer(n,e,t){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,t):new Xr(n.duration,n.delay)}}class r0{constructor(n,e,t){this.namespaceId=n,this.triggerName=e,this.element=t,this._player=new Xr,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(t=>Rg(n,e,void 0,t))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Nn(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function rh(i){return i&&1===i.nodeType}function cw(i,n){const e=i.style.display;return i.style.display=null!=n?n:"none",e}function hw(i,n,e,t,s){const o=[];e.forEach(l=>o.push(cw(l)));const r=[];t.forEach((l,u)=>{const h={};l.forEach(f=>{const m=h[f]=n.computeStyle(u,f,s);(!m||0==m.length)&&(u[ei]=Q7,r.push(u))}),i.set(u,h)});let a=0;return e.forEach(l=>cw(l,o[a++])),r}function dw(i,n){const e=new Map;if(i.forEach(a=>e.set(a,[])),0==n.length)return e;const s=new Set(n),o=new Map;function r(a){if(!a)return 1;let l=o.get(a);if(l)return l;const u=a.parentNode;return l=e.has(u)?u:s.has(u)?1:r(u),o.set(a,l),l}return n.forEach(a=>{const l=r(a);1!==l&&e.get(l).push(a)}),e}const ah="$$classes";function ti(i,n){if(i.classList)i.classList.add(n);else{let e=i[ah];e||(e=i[ah]={}),e[n]=!0}}function Kr(i,n){if(i.classList)i.classList.remove(n);else{let e=i[ah];e&&delete e[n]}}function i9(i,n,e){Ls(e).onDone(()=>i.processLeaveNode(n))}function pw(i,n){for(let e=0;e<i.length;e++){const t=i[e];t instanceof Nb?pw(t.players,n):n.push(t)}}function fw(i,n,e){const t=e.get(i);if(!t)return!1;let s=n.get(i);return s?t.forEach(o=>s.add(o)):n.set(i,t),e.delete(i),!0}class lh{constructor(n,e,t){this.bodyNode=n,this._driver=e,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new J7(n,e,t),this._timelineEngine=new Y7(n,e,t),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(n,e,t,s,o){const r=n+"-"+s;let a=this._triggerCache[r];if(!a){const l=[],u=Xg(this._driver,o,l);if(l.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(i,n,e){return new H7(i,n,e)}(s,u,this._normalizer),this._triggerCache[r]=a}this._transitionEngine.registerTrigger(e,s,a)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,t,s){this._transitionEngine.insertNode(n,e,t,s)}onRemove(n,e,t,s){this._transitionEngine.removeNode(n,e,s||!1,t)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,t,s){if("@"==t.charAt(0)){const[o,r]=Vb(t);this._timelineEngine.command(o,e,r,s)}else this._transitionEngine.trigger(n,e,t,s)}listen(n,e,t,s,o){if("@"==t.charAt(0)){const[r,a]=Vb(t);return this._timelineEngine.listen(r,e,a,o)}return this._transitionEngine.listen(n,e,t,s,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function gw(i,n){let e=null,t=null;return Array.isArray(n)&&n.length?(e=a0(n[0]),n.length>1&&(t=a0(n[n.length-1]))):n&&(e=a0(n)),e||t?new r9(i,e,t):null}let r9=(()=>{class i{constructor(e,t,s){this._element=e,this._startStyles=t,this._endStyles=s,this._state=0;let o=i.initialStylesByElement.get(e);o||i.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&zi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zi(this._element,this._initialStyles),this._endStyles&&(zi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Po(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Po(this._element,this._endStyles),this._endStyles=null),zi(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function a0(i){let n=null;const e=Object.keys(i);for(let t=0;t<e.length;t++){const s=e[t];a9(s)&&(n=n||{},n[s]=i[s])}return n}function a9(i){return"display"===i||"position"===i}const mw="animation",_w="animationend";class c9{constructor(n,e,t,s,o,r,a){this._element=n,this._name=e,this._duration=t,this._delay=s,this._easing=o,this._fillMode=r,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(i,n){const e=u0(i,"").trim();let t=0;e.length&&(function(i,n){let e=0;for(let t=0;t<i.length;t++)","===i.charAt(t)&&e++;return e}(e)+1,n=`${e}, ${n}`),uh(i,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Cw(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){vw(this._element,this._name,"paused")}resume(){vw(this._element,this._name,"running")}setPosition(n){const e=yw(this._element,this._name);this._position=n*this._duration,uh(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(n){const e=n._ngTestManualTimestamp||Date.now(),t=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&t>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Cw(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,n){const t=u0(i,"").split(","),s=l0(t,n);s>=0&&(t.splice(s,1),uh(i,"",t.join(",")))}(this._element,this._name))}}function vw(i,n,e){uh(i,"PlayState",e,yw(i,n))}function yw(i,n){const e=u0(i,"");return e.indexOf(",")>0?l0(e.split(","),n):l0([e],n)}function l0(i,n){for(let e=0;e<i.length;e++)if(i[e].indexOf(n)>=0)return e;return-1}function Cw(i,n,e){e?i.removeEventListener(_w,n):i.addEventListener(_w,n)}function uh(i,n,e,t){const s=mw+n;if(null!=t){const o=i.style[s];if(o.length){const r=o.split(",");r[t]=e,e=r.join(",")}}i.style[s]=e}function u0(i,n){return i.style[mw+n]||""}class bw{constructor(n,e,t,s,o,r,a,l){this.element=n,this.keyframes=e,this.animationName=t,this._duration=s,this._delay=o,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=s+o,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new c9(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(t=>{"offset"!=t&&(n[t]=e?this._finalStyles[t]:Zg(this.element,t))})}this.currentSnapshot=n}}class m9 extends Xr{constructor(n,e){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=Hb(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const e=this._startingStyles[n];e?this.element.style.setProperty(n,e):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class kw{constructor(){this._count=0}validateStyleProperty(n){return Vg(n)}matchesElement(n,e){return zg(n,e)}containsElement(n,e){return jg(n,e)}query(n,e,t){return Gg(n,e,t)}computeStyle(n,e,t){return window.getComputedStyle(n)[e]}buildKeyframeElement(n,e,t){t=t.map(a=>Hb(a));let s=`@keyframes ${e} {\n`,o="";t.forEach(a=>{o=" ";const l=parseFloat(a.offset);s+=`${o}${100*l}% {\n`,o+=" ",Object.keys(a).forEach(u=>{const h=a[u];switch(u){case"offset":return;case"easing":return void(h&&(s+=`${o}animation-timing-function: ${h};\n`));default:return void(s+=`${o}${u}: ${h};\n`)}}),s+=`${o}}\n`}),s+="}\n";const r=document.createElement("style");return r.textContent=s,r}animate(n,e,t,s,o,r=[],a){const l=r.filter(x=>x instanceof bw),u={};Qb(t,s)&&l.forEach(x=>{let E=x.currentSnapshot;Object.keys(E).forEach(S=>u[S]=E[S])});const h=function(i){let n={};return i&&(Array.isArray(i)?i:[i]).forEach(t=>{Object.keys(t).forEach(s=>{"offset"==s||"easing"==s||(n[s]=t[s])})}),n}(e=Kb(n,e,u));if(0==t)return new m9(n,h);const f="gen_css_kf_"+this._count++,m=this.buildKeyframeElement(n,f,e);(function(i){var e;const n=null==(e=i.getRootNode)?void 0:e.call(i);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(n).appendChild(m);const k=gw(n,e),w=new bw(n,e,f,t,s,o,h,k);return w.onDestroy(()=>{var i;(i=m).parentNode.removeChild(i)}),w}}class Dw{constructor(n,e,t,s){this.element=n,this.keyframes=e,this.options=t,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,e,t){return n.animate(e,t)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(n[e]=this._finished?this._finalKeyframe[e]:Zg(this.element,e))}),this.currentSnapshot=n}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class b9{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Pw().toString()),this._cssKeyframesDriver=new kw}validateStyleProperty(n){return Vg(n)}matchesElement(n,e){return zg(n,e)}containsElement(n,e){return jg(n,e)}query(n,e,t){return Gg(n,e,t)}computeStyle(n,e,t){return window.getComputedStyle(n)[e]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,e,t,s,o,r=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,e,t,s,o,r);const h={duration:t,delay:s,fill:0==s?"both":"forwards"};o&&(h.easing=o);const f={},m=r.filter(k=>k instanceof Dw);Qb(t,s)&&m.forEach(k=>{let w=k.currentSnapshot;Object.keys(w).forEach(x=>f[x]=w[x])});const v=gw(n,e=Kb(n,e=e.map(k=>Bs(k,!1)),f));return new Dw(n,e,h,v)}}function Pw(){return Lb()&&Element.prototype.animate||{}}let k9=(()=>{class i extends Ab{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:ci.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?Rb(e):e;return Sw(this._renderer,null,t,"register",[s]),new x9(t,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(z(el),z(at))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();class x9 extends class{}{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new D9(this._id,n,e||{},this._renderer)}}class D9{constructor(n,e,t,s){this.id=n,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",t)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return Sw(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,e;return null!=(e=null==(n=this._renderer.engine.players[+this.id])?void 0:n.getPosition())?e:0}}function Sw(i,n,e,t,s){return i.setProperty(n,`@@${e}:${t}`,s)}const Mw="@.disabled";let P9=(()=>{class i{constructor(e,t,s){this.delegate=e,this.engine=t,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(o,r)=>{const a=null==r?void 0:r.parentNode(o);a&&r.removeChild(a,o)}}createRenderer(e,t){const o=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let h=this._rendererCache.get(o);return h||(h=new Ew("",o,this.engine),this._rendererCache.set(o,h)),h}const r=t.id,a=t.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(r,a,e,h.name,h)};return t.data.animation.forEach(l),new S9(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,s){e>=0&&e<this._microtaskId?this._zone.run(()=>t(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[r,a]=o;r(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(z(el),z(lh),z(je))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();class Ew{constructor(n,e,t){this.namespaceId=n,this.delegate=e,this.engine=t,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,t,s=!0){this.delegate.insertBefore(n,e,t),this.engine.onInsert(this.namespaceId,e,n,s)}removeChild(n,e,t){this.engine.onRemove(this.namespaceId,e,this.delegate,t)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,t,s){this.delegate.setAttribute(n,e,t,s)}removeAttribute(n,e,t){this.delegate.removeAttribute(n,e,t)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,t,s){this.delegate.setStyle(n,e,t,s)}removeStyle(n,e,t){this.delegate.removeStyle(n,e,t)}setProperty(n,e,t){"@"==e.charAt(0)&&e==Mw?this.disableAnimations(n,!!t):this.delegate.setProperty(n,e,t)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,t){return this.delegate.listen(n,e,t)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class S9 extends Ew{constructor(n,e,t,s){super(e,t,s),this.factory=n,this.namespaceId=e}setProperty(n,e,t){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Mw?this.disableAnimations(n,t=void 0===t||!!t):this.engine.process(this.namespaceId,n,e.substr(1),t):this.delegate.setProperty(n,e,t)}listen(n,e,t){if("@"==e.charAt(0)){const s=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(n);let o=e.substr(1),r="";return"@"!=o.charAt(0)&&([o,r]=function(i){const n=i.indexOf(".");return[i.substring(0,n),i.substr(n+1)]}(o)),this.engine.listen(this.namespaceId,s,o,r,a=>{this.factory.scheduleListenerCallback(a._data||-1,t,a)})}return this.delegate.listen(n,e,t)}}let T9=(()=>{class i extends lh{constructor(e,t,s){super(e.body,t,s)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(z(at),z(Hg),z(t0))},i.\u0275prov=te({token:i,factory:i.\u0275fac}),i})();const hh=new ne("AnimationModuleType"),Tw=[{provide:Ab,useClass:k9},{provide:t0,useFactory:function(){return new L7}},{provide:lh,useClass:T9},{provide:el,useFactory:function(i,n,e){return new P9(i,n,e)},deps:[Pc,lh,je]}],Ow=[{provide:Hg,useFactory:function(){return"function"==typeof Pw()?new b9:new kw}},{provide:hh,useValue:"BrowserAnimations"},...Tw],R9=[{provide:Hg,useClass:Ub},{provide:hh,useValue:"NoopAnimations"},...Tw];let F9=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?R9:Ow}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({providers:Ow,imports:[cC]}),i})();const L9=new ne("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let dh=(()=>{class i{constructor(e,t,s){this._sanityChecks=t,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!("undefined"!=typeof __karma__&&__karma__||"undefined"!=typeof jasmine&&jasmine||"undefined"!=typeof jest&&jest||"undefined"!=typeof Mocha&&Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return i.\u0275fac=function(e){return new(e||i)(z(o7),z(L9,8),z(at))},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({imports:[[Ob],Ob]}),i})();class G9{constructor(n,e,t){this._renderer=n,this.element=e,this.config=t,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Aw={enterDuration:225,exitDuration:150},c0=wo({passive:!0}),Rw=["mousedown","touchstart"],Fw=["mouseup","mouseleave","touchend","touchcancel"];class U9{constructor(n,e,t,s){this._target=n,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Rt(t))}fadeInRipple(n,e,t={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=K(K({},Aw),t.animation);t.centered&&(n=s.left+s.width/2,e=s.top+s.height/2);const r=t.radius||function(i,n,e){const t=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),s=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(t*t+s*s)}(n,e,s),a=n-s.left,l=e-s.top,u=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-r+"px",h.style.top=l-r+"px",h.style.height=2*r+"px",h.style.width=2*r+"px",null!=t.color&&(h.style.backgroundColor=t.color),h.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(h),window.getComputedStyle(h).getPropertyValue("opacity"),h.style.transform="scale(1)";const f=new G9(this,h,t);return f.state=0,this._activeRipples.add(f),t.persistent||(this._mostRecentTransientRipple=f),this._runTimeoutOutsideZone(()=>{const m=f===this._mostRecentTransientRipple;f.state=1,!t.persistent&&(!m||!this._isPointerDown)&&f.fadeOut()},u),f}fadeOutRipple(n){const e=this._activeRipples.delete(n);if(n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const t=n.element,s=K(K({},Aw),n.config.animation);t.style.transitionDuration=`${s.exitDuration}ms`,t.style.opacity="0",n.state=2,this._runTimeoutOutsideZone(()=>{n.state=3,t.remove()},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=Rt(n);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Rw))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Fw),this._pointerUpEventsRegistered=!0)}_onMousedown(n){const e=Sg(n),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!t&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!Mg(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_runTimeoutOutsideZone(n,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(n,e))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(e=>{this._triggerElement.addEventListener(e,this,c0)})})}_removeTriggerEvents(){this._triggerElement&&(Rw.forEach(n=>{this._triggerElement.removeEventListener(n,this,c0)}),this._pointerUpEventsRegistered&&Fw.forEach(n=>{this._triggerElement.removeEventListener(n,this,c0)}))}}const W9=new ne("mat-ripple-global-options");let ni=(()=>{class i{constructor(e,t,s,o,r){this._elementRef=e,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new U9(this,t,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:K(K(K({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,K(K({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,K(K({},this.rippleConfig),e))}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(je),D(Wr),D(W9,8),D(hh,8))},i.\u0275dir=se({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&H("mat-ripple-unbounded",t.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),q9=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({imports:[[dh],dh]}),i})();function Z9(i,n){if(1&i&&(d(0,"div",5),_(1,"div",6),d(2,"div",7),P(3),p(),p()),2&i){const e=n.$implicit;Ue("value",e.value),c(1),y("background-image","url("+e.ico+")"),c(2),O(e.title)}}let Nw=(()=>{class i{constructor(e,t,s,o){this.host=e,this.asyncservice=t,this.randomcolor=s,this.gettargethtml=o,this.xcoord=0,this.stat="close",this.velocity=0,this.timeout=setTimeout(()=>{},0),this.touchlist=null,this.options=[],this.touch=null,this.sublimeshow=!1,this.action=new U,this.transform=`translateX(${this.xcoord}px)`,this.dirmove="horizontal",this.doscrolltocenter=!1,this.bindhandle=!1,this.refreshhandle=!1,this.hidden=!0,this.choose=new U}processTouch(){if(!this.hidden&&null!==this.touch){if("end"===this.touch.action&&!1===this.touch.drag){const e=this.gettargethtml.get(this.touch.target,"option");if(null!==e){const t=e.getAttribute("value");this.smoothclose().then(()=>{this.choose.emit(t)})}return}"move"===this.touch.action&&"start"===this.touch.prev.action&&(this.dirmove=Math.abs(this.touch.x-this.touch.prev.x)>Math.abs(this.touch.y-this.touch.prev.y)?"horizontal":"vertical"),"horizontal"===this.dirmove&&"move"===this.touch.action?(this.velocity=this.touch.x-this.touch.prev.x,clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.velocity=0},100),"open"==this.stat?this.xcoord=-window.innerWidth+this.touch.x-this.touch.start.x:"close"==this.stat&&(this.xcoord=this.touch.x-this.touch.start.x),this.xcoord>-20&&(this.xcoord=-20),this.xcoord<-window.innerWidth&&(this.xcoord=-window.innerWidth),this.setBackground(),!this.bindhandle&&this.velocity<0?this.bindhandle=!0:this.bindhandle&&this.velocity>0&&(this.bindhandle=!1),this.transform=`translateX(${this.xcoord}px)`):"vertical"===this.dirmove&&"open"===this.stat&&(this.touchlist=this.touch),"end"==this.touch.action&&"horizontal"==this.dirmove&&(0==this.velocity?this.xcoord<-window.innerWidth/2?this.smoothopen():this.smoothclose():this.velocity<0?this.smoothopen():this.velocity>0&&this.smoothclose())}}setBackground(){const e=this.host.nativeElement.querySelector(".back");-20===this.xcoord?e.style.display="none":this.xcoord<-20&&(e.style.display="flex"),e.style.opacity=""+this.xcoord/(20-window.innerWidth),e.style.left=-window.innerWidth-this.xcoord+"px"}smoothopen(){var e=this;return N(function*(){return e.bindhandle=!1,e.action.emit("open"),e.stat="open",e.host.nativeElement.style.transition="all ease 0.3s",e.host.nativeElement.querySelector(".back").style.display="flex",e.host.nativeElement.querySelector(".back").style.transition="all ease 0.3s",yield e.asyncservice.delay(10),e.xcoord=-window.innerWidth,e.transform=`translateX(${e.xcoord}px)`,e.host.nativeElement.querySelector(".back").style.opacity="1",e.host.nativeElement.querySelector(".back").style.left="0px",yield e.asyncservice.delay(300),e.host.nativeElement.style.transition="none",e.host.nativeElement.querySelector(".back").style.transition="none",new Promise(t=>t())})()}smoothclose(){var e=this;return N(function*(){return e.bindhandle=!1,e.action.emit("close"),e.stat="close",e.host.nativeElement.style.transition="all ease 0.3s",e.host.nativeElement.querySelector(".back").style.transition="all ease 0.3s",yield e.asyncservice.delay(10),e.xcoord=-20,e.transform=`translateX(${e.xcoord}px)`,e.host.nativeElement.querySelector(".back").style.opacity="0",e.host.nativeElement.querySelector(".back").style.left=20-window.innerWidth+"px",yield e.asyncservice.delay(300),e.host.nativeElement.style.transition="none",e.host.nativeElement.querySelector(".back").style.transition="none","close"===e.stat&&(e.host.nativeElement.querySelector(".back").style.display="none"),e.doscrolltocenter=!e.doscrolltocenter,new Promise(t=>t())})()}show(){var e=this;return N(function*(){return e.host.nativeElement.style.transition="all ease 0.1s",yield e.asyncservice.delay(10),e.hidden=!1,e.xcoord=-20,e.transform=`translateX(${e.xcoord}px)`,yield e.asyncservice.delay(100),e.host.nativeElement.style.removeProperty("transition"),new Promise(t=>t())})()}hide(){var e=this;return N(function*(){return e.host.nativeElement.style.transition="all ease 0.1s",yield e.asyncservice.delay(10),e.hidden=!0,e.xcoord=0,e.transform=`translateX(${e.xcoord}px)`,yield e.asyncservice.delay(100),e.host.nativeElement.style.removeProperty("transition"),new Promise(t=>t())})()}ngOnInit(){}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch(),e.options&&e.options.previousValue!==e.options.currentValue&&(e.options.currentValue[0]||this.hidden?e.options.currentValue[0]&&this.hidden?this.show().then(()=>{this.refreshhandle=!this.refreshhandle,this.doscrolltocenter=!this.doscrolltocenter}):(this.refreshhandle=!this.refreshhandle,setTimeout(()=>{this.doscrolltocenter=!this.doscrolltocenter},1)):this.hide()),e.sublimeshow&&e.sublimeshow.previousValue!==e.sublimeshow.currentValue&&void 0!==e.sublimeshow.previousValue&&this.smoothopen()}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(Pe),D(kb),D(Bi))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&y("transform",t.transform)},inputs:{options:"options",touch:"touch",sublimeshow:"sublimeshow"},outputs:{action:"action",choose:"choose"},features:[ie],decls:5,vars:5,consts:[[3,"bind","refresh"],[1,"content"],[3,"touch","scrolltocenter"],["class","option","matRipple","","matRippleColor","#00000011",4,"ngFor","ngForOf"],[1,"back"],["matRipple","","matRippleColor","#00000011",1,"option"],[1,"ico"],[1,"title"]],template:function(e,t){1&e&&(_(0,"app-svg-handle",0),d(1,"div",1),d(2,"app-touch-scroll",2),T(3,Z9,4,4,"div",3),p(),p(),_(4,"div",4)),2&e&&(g("bind",t.bindhandle)("refresh",t.refreshhandle),c(2),g("touch",t.touchlist)("scrolltocenter",t.doscrolltocenter),c(1),g("ngForOf",t.options))},directives:[m6,kg,zt,ni],styles:["[_nghost-%COMP%]{position:fixed;left:100%;top:0px;width:100%;height:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;z-index:10}[_nghost-%COMP%] > .back[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;width:100%;height:100%;background-color:#0009;opacity:0;display:flex;z-index:1}[_nghost-%COMP%] > app-svg-handle[_ngcontent-%COMP%]{width:20px;height:100px;z-index:2}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;flex:1;align-self:stretch;background-color:#fff;z-index:2}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{width:30px;height:30px;margin:10px 0 10px 10px;background-size:contain;background-repeat:no-repeat;background-position:center}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{margin:10px;color:#333;font-size:14px}"]}),i})();const X9=["*"];let h0=(()=>{class i{constructor(e,t,s){this.asyncservice=e,this.host=t,this.locationService=s,this.touch=null,this.show=null,this.scrollable=!0,this.backable=!0,this.refreshable=!1,this.doscrolltocenter=!1,this.close=new U,this.scroll=null,this.stat="hide",this.disabled={scroll:!1,back:!1},this.velocity=0,this.timeout=setTimeout(()=>{},0)}processTouch(){if(this.touch){if("move"===this.touch.action&&"start"===this.touch.prev.action&&(Math.abs(this.touch.x-this.touch.prev.x)>Math.abs(this.touch.y-this.touch.prev.y)&&this.touch.x-this.touch.prev.x>0?(this.disabled.scroll=!0,this.disabled.back=!1):Math.abs(this.touch.x-this.touch.prev.x)<=Math.abs(this.touch.y-this.touch.prev.y)?(this.disabled.scroll=!1,this.disabled.back=!0):(this.disabled.scroll=!0,this.disabled.back=!0)),!this.disabled.scroll&&this.scrollable&&(this.scroll=this.touch),"move"===this.touch.action&&!this.disabled.back&&this.backable){this.touch.prev&&(this.velocity=this.touch.x-this.touch.prev.x),clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.velocity=0},100);let e=this.touch.x-this.touch.start.x;e<0&&(e=0),e>window.innerWidth&&(e=window.innerWidth),this.host.nativeElement.style.transform=`translateX(${e}px)`}"end"===this.touch.action&&this.touch.drag&&(!this.disabled.back&&this.backable&&(this.velocity>0?this.smoothClose():this.velocity<0?this.smoothShow():0==this.velocity&&(this.touch.x-this.touch.start.x>window.innerWidth/2?this.smoothClose():this.smoothShow())),this.disabled.scroll=!1,this.disabled.back=!1)}}smoothShow(){var e=this;return N(function*(){return e.stat="show",e.host.nativeElement.style.transition="all ease 0.2s",e.host.nativeElement.style.display="flex",yield e.asyncservice.delay(10),e.host.nativeElement.style.transform="translateX(0px)",yield e.asyncservice.delay(200),e.host.nativeElement.style.removeProperty("transition"),new Promise(t=>t())})()}smoothClose(){var e=this;return N(function*(){return e.stat="hide",e.host.nativeElement.style.transition="all ease 0.2s",yield e.asyncservice.delay(10),e.host.nativeElement.style.transform="translateX(100%)",yield e.asyncservice.delay(200),e.host.nativeElement.style.display="none",e.host.nativeElement.style.removeProperty("transition"),e.close.emit(),new Promise(t=>t())})()}showback(){var e=this;return N(function*(){let t=e.host.nativeElement.querySelector(".back"),s=e.host.nativeElement.querySelector(".wraplist");return t.style.transition="all ease 0.2s",s.style.transition="all ease 0.2s",yield e.asyncservice.delay(10),t.style.transform="translateY(0px)",s.style.height="calc(100% - 41px)",s.style.marginTop="41px",yield e.asyncservice.delay(200),t.style.removeProperty("transition"),s.style.removeProperty("transition"),new Promise(o=>o())})()}hideback(){var e=this;return N(function*(){let t=e.host.nativeElement.querySelector(".back"),s=e.host.nativeElement.querySelector(".wraplist");return t.style.transition="all ease 0.2s",s.style.transition="all ease 0.2s",yield e.asyncservice.delay(10),t.style.transform="translateY(-50px)",s.style.height="100%",s.style.marginTop="0",yield e.asyncservice.delay(200),t.style.removeProperty("transition"),s.style.removeProperty("transition"),new Promise(o=>o())})()}ngOnInit(){}ngOnChanges(e){if(e.show&&e.show.previousValue!==e.show.currentValue&&(e.show.currentValue&&"hide"===this.stat?this.smoothShow():!e.show.currentValue&&"show"===this.stat&&this.smoothClose()),e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch(),e.scrollable&&e.scrollable.previousValue!==e.scrollable.currentValue){const t=this.host.nativeElement.querySelector(".wraplist > app-touch-scroll > .list");e.scrollable.currentValue?t.style.removeProperty("height"):t.style.height="100%"}e.backable&&e.backable.previousValue!==e.backable.currentValue&&(e.backable.currentValue?this.showback():this.hideback())}}return i.\u0275fac=function(e){return new(e||i)(D(Pe),D(W),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-screen"]],inputs:{touch:"touch",show:"show",scrollable:"scrollable",backable:"backable",refreshable:"refreshable",doscrolltocenter:"doscrolltocenter"},outputs:{close:"close"},features:[ie],ngContentSelectors:X9,decls:7,vars:4,consts:[[1,"back"],[1,"ico"],[1,"text"],[1,"wraplist"],[3,"refreshable","scrolltocenter","touch"]],template:function(e,t){1&e&&(vi(),d(0,"div",0),_(1,"div",1),d(2,"div",2),P(3),p(),p(),d(4,"div",3),d(5,"app-touch-scroll",4),Zn(6),p(),p()),2&e&&(c(3),O(t.locationService.translate("back","\u043d\u0430\u0437\u0430\u0434")),c(2),g("refreshable",t.refreshable)("scrolltocenter",t.doscrolltocenter)("touch",t.scroll))},directives:[kg],styles:["[_nghost-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;background-color:#fff;z-index:5;transform:translate(100%);display:none;box-shadow:0 0 5px #999}[_nghost-%COMP%] > app-touch-scroll[_ngcontent-%COMP%]{z-index:1}[_nghost-%COMP%] > .wraplist[_ngcontent-%COMP%]{width:100%;height:calc(100% - 41px);margin-top:41px;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start}[_nghost-%COMP%] > .back[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;background-color:#fff;border-bottom:1px solid #ddd;z-index:2}[_nghost-%COMP%] > .back[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:10px 0 10px 10px;width:20px;height:20px;background-image:url(arrow-back.be5ad6ef0f2a3d7b.svg)}[_nghost-%COMP%] > .back[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:10px;font-size:12px;color:#999}"]}),i})(),ph=(()=>{class i{constructor(e){this.readfileservice=e}get(e){var t=this;return N(function*(){const s=500,o=500,r=document.createElement("canvas");r.setAttribute("width","500px"),r.setAttribute("height","500px");const a=r.getContext("2d");if("greetingcard"==e.type){let l=o,u=l*(297/420),h=e.front||"../../assets/greetingcard/front/1.png";const f=yield t.readfileservice.getImageByUrl(h);a.drawImage(f,(s-u)/2,(o-l)/2,u,l)}else if("game"==e.type){let l=o,u=l*(135/190),h=.1*u,f=e.color||"#003791",m=e.front||"../../assets/game/example.jpg";const v=yield t.readfileservice.getImageByUrl(m);a.beginPath(),a.arc((s-u)/2+h,(o-l)/2+h,h,0,2*Math.PI),a.closePath(),a.fillStyle=f,a.fill(),a.beginPath(),a.arc(s-(s-u)/2-h,(o-l)/2+h,h,0,2*Math.PI),a.closePath(),a.fillStyle=f,a.fill(),a.beginPath(),a.arc((s-u)/2+h,o-(o-l)/2-h,h,0,2*Math.PI),a.closePath(),a.fillStyle=f,a.fill(),a.beginPath(),a.arc(s-(s-u)/2-h,o-(o-l)/2-h,h,0,2*Math.PI),a.closePath(),a.fillStyle=f,a.fill(),a.beginPath(),a.rect((s-u)/2+h,(o-l)/2,u-2*h,2*h),a.closePath(),a.fillStyle=f,a.fill(),a.beginPath(),a.rect((s-u)/2+h,o-(o-l)/2-2*h,u-2*h,2*h),a.closePath(),a.fillStyle=f,a.fill(),a.drawImage(v,(s-u)/2,(o-l)/2+h,u,l-2*h)}else if("speaker"==e.type){const l=yield t.readfileservice.getImageByUrl("../../assets/speaker/snapshot.png");let u=null;e.grill&&""!==(null==e?void 0:e.grill)&&(u=yield t.readfileservice.getImageByUrl(e.grill));const h=yield t.readfileservice.getImageByUrl("../../assets/play-black.svg"),f=yield t.readfileservice.getImageByUrl("../../assets/pause-black.svg"),m=yield t.readfileservice.getImageByUrl("../../assets/prev-black.svg"),v=yield t.readfileservice.getImageByUrl("../../assets/next-black.svg");if(a.drawImage(l,0,0,s,o),u){const E=425,S=200;a.globalAlpha=.5,a.drawImage(u,(s-E)/2,(o-S)/2,E,S),a.globalAlpha=1}const w=55,x=25;a.fillStyle=e.color||"#ff5722",a.rect(250-2*w-1.5*x,225,w,w),a.rect(250-w-.5*x,225,w,w),a.rect(250+.5*x,225,w,w),a.rect(250+w+1.5*x,225,w,w),a.fill(),a.drawImage(h,250-2*w-1.5*x,225,w,w),a.drawImage(f,250-w-.5*x,225,w,w),a.drawImage(m,250+.5*x,225,w,w),a.drawImage(v,250+w+1.5*x,225,w,w)}else if("tablet"==e.type){const l=yield t.readfileservice.getImageByUrl("../../assets/tablet/snapshot.png");a.drawImage(l,0,0,s,o)}else if("photo"==e.type){let l=450,u=.75*l,h=e.photo||"../../assets/photo/example.jpg";const f=yield t.readfileservice.getImageByUrl(h),m=.9*u,v=.67*l,k=m/v,w=f.naturalWidth/f.naturalHeight;let x={x:0,y:0,w:0,h:0};k>=w?(x.h=v,x.w=x.h*w):k<w&&(x.w=m,x.h=x.w/w),x.x=(s-u)/2+(u-x.w)/2,x.y=(o-l)/2+.1*l+(v-x.h)/2,a.shadowColor="#ddd",a.shadowBlur=5,a.fillStyle="white",a.fillRect((s-u)/2,(o-l)/2,u,l),a.drawImage(f,x.x,x.y,x.w,x.h)}return r.toDataURL("image/png")})()}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(z(us))},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Q9=[[["",8,"title"]],[["",8,"description"]]],K9=[".title",".description"];let J9=(()=>{class i{constructor(e,t){this.host=e,this.snapshotgiftservice=t,this.display="none"}snapshot(){var e=this;return N(function*(){const t=yield e.snapshotgiftservice.get({type:e.display});e.host.nativeElement.querySelector(".wrap > .display").style.backgroundImage="url("+t+")"})()}ngOnInit(){this.snapshot()}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(ph))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-giftlistadd-option"]],inputs:{display:"display"},ngContentSelectors:K9,decls:6,vars:1,consts:[["matRipple","","matRippleColor","#00000011",1,"wrap"],[1,"display"],[1,"title"],[1,"description"]],template:function(e,t){1&e&&(vi(Q9),d(0,"div",0),_(1,"div",1),d(2,"div",2),Zn(3),p(),d(4,"div",3),Zn(5,1),p(),p()),2&e&&Ue("type",t.display)},directives:[ni],styles:["[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .display[_ngcontent-%COMP%]{margin:10px;width:200px;height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{margin:0 10px 10px;color:#333;font-size:26px;text-align:center;user-select:none}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .description[_ngcontent-%COMP%]{margin:0 10px 10px;color:#333;font-size:16px;text-align:center;user-select:none}@keyframes rot{0%{transform:rotateY(0)}to{transform:rotateY(360deg)}}"]}),i})(),Vs=(()=>{class i{constructor(e,t){this.linerSvgService=e,this.host=t,this.ratio1=297/420,this.ratio2=297,this.width=100,this.height=100/this.ratio1,this.depth=100/this.ratio2,this.font=20,this.size=100,this.front="../../assets/greetingcard/front/1.png",this.back="../../assets/greetingcard/back/1.jpg",this.text="",this.sign=[],this.color="#000",this.smooth=!1}get getWidth(){return this.width}get getHeight(){return this.height}get getDepth(){return this.depth}get getFont(){return this.font}set setWidth(e){this.width=e}set setHeight(e){this.height=e}set setDepth(e){this.depth=e}set setFont(e){this.font=e}setSize(e){this.setWidth=e,this.setHeight=e/this.ratio1,this.setDepth=e/this.ratio2,this.font=.06*this.getWidth,setTimeout(()=>{this.setSign()},10)}setSign(){let e=this.linerSvgService.getSvg(this.getWidth,.2*this.getHeight,this.sign);this.host.nativeElement.querySelector(".back > .sign").innerHTML="",this.host.nativeElement.querySelector(".back > .sign").innerHTML=e.outerHTML}ngOnInit(){}ngOnChanges(e){e.size&&e.size.previousValue!==e.size.currentValue&&this.setSize(e.size.currentValue),e.sign&&e.sign.previousValue!==e.sign.currentValue&&this.setSign(),e.text&&this.text&&(this.text=this.text.replace(/\n/g,"<br>"))}}return i.\u0275fac=function(e){return new(e||i)(D($r),D(W))},i.\u0275cmp=Q({type:i,selectors:[["app-greeting-card"]],hostVars:2,hostBindings:function(e,t){2&e&&H("smooth",t.smooth)},inputs:{size:"size",front:"front",back:"back",text:"text",sign:"sign",color:"color",smooth:"smooth"},features:[ie],decls:4,vars:21,consts:[[1,"front"],[1,"back"],[1,"text",3,"innerHtml"],[1,"sign"]],template:function(e,t){1&e&&(_(0,"div",0),d(1,"div",1),_(2,"div",2),_(3,"div",3),p()),2&e&&(y("width",t.getWidth,"px")("height",t.getHeight,"px")("transform","translateZ("+t.getDepth/2+"px)")("background-image","url("+t.front+")"),c(1),y("width",t.getWidth,"px")("height",t.getHeight,"px")("transform","translateZ("+-t.getDepth/2+"px)")("background-image","url("+t.back+")"),c(1),y("font-size",t.getFont,"px")("color",t.color),g("innerHtml",t.text,Ud))},styles:['@import"https://fonts.googleapis.com/css2?family=Pacifico&display=swap";[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d;transform:rotateY(0)}[_nghost-%COMP%] > .front[_ngcontent-%COMP%], [_nghost-%COMP%] > .back[_ngcontent-%COMP%]{position:absolute;background-color:#fff}[_nghost-%COMP%] > .front[_ngcontent-%COMP%]{background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .back[_ngcontent-%COMP%]{background-position:center;background-size:25%;background-repeat:repeat;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%] > .back[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:0 10%;position:absolute;text-align:center;transform:rotateY(180deg);word-break:break-word;font-family:"Pacifico",cursive;user-select:none}[_nghost-%COMP%] > .back[_ngcontent-%COMP%] > .sign[_ngcontent-%COMP%]{position:absolute;bottom:0px;width:100%;height:20%;transform:rotateY(180deg);background-size:contain;background-position:center;background-repeat:no-repeat;display:flex;flex-direction:column;align-items:center;justify-content:center}.smooth[_nghost-%COMP%]{transition:all ease .2s}.smooth[_nghost-%COMP%]   *[_ngcontent-%COMP%]{transition:all ease .2s}']}),i})(),Jr=(()=>{class i{constructor(e,t){this.asyncservice=e,this.host=t,this.size=100,this.color="#003791",this.front="../../assets/game/example.jpg",this.inside="../../assets/game/game.png",this.side="../../assets/game/gameleft.png",this.code="WERB-NBHP-DXCV-ZZKL-UIFM",this.open=!1,this.smooth=!1,this.ratio1=135/190,this.ratio2=9,this.width=this.size,this.height=this.size/this.ratio1,this.depth=this.size/this.ratio2,this.rotateCover=0,this.sizeCorner=.1*this.width,this.sizePartCorner=this.sizeCorner/(Math.cos(.125*Math.PI)+Math.cos(.25*Math.PI)+Math.cos(.375*Math.PI)),this.shiftPartCorner1={x:this.sizePartCorner*Math.cos(.25*Math.PI)/2+this.sizePartCorner*Math.cos(.125*Math.PI)/2,y:this.sizePartCorner*Math.sin(.25*Math.PI)/2+this.sizePartCorner*Math.sin(.125*Math.PI)/2},this.shiftPartCorner2=this.sizePartCorner*Math.cos(.25*Math.PI)/2+this.sizePartCorner*Math.sin(.125*Math.PI),this.shiftPartCorner3={x:3*this.sizePartCorner*Math.cos(.125*Math.PI)/2,y:3*this.sizePartCorner*Math.sin(.125*Math.PI)/2},this.shiftPartCorner4={x:3*this.sizePartCorner*Math.cos(.25*Math.PI)/2,y:3*this.sizePartCorner*Math.sin(.25*Math.PI)/2}}setSize(){this.width=this.size,this.height=this.size/this.ratio1,this.depth=this.size/this.ratio2,this.sizeCorner=.1*this.width,this.sizePartCorner=this.sizeCorner/(Math.cos(.125*Math.PI)+Math.cos(.25*Math.PI)+Math.cos(.375*Math.PI)),this.shiftPartCorner1={x:this.sizePartCorner*Math.cos(.25*Math.PI)/2+this.sizePartCorner*Math.cos(.125*Math.PI)/2,y:this.sizePartCorner*Math.sin(.25*Math.PI)/2+this.sizePartCorner*Math.sin(.125*Math.PI)/2},this.shiftPartCorner2=this.sizePartCorner*Math.cos(.25*Math.PI)/2+this.sizePartCorner*Math.sin(.125*Math.PI),this.shiftPartCorner3={x:3*this.sizePartCorner*Math.cos(.125*Math.PI)/2,y:3*this.sizePartCorner*Math.sin(.125*Math.PI)/2},this.shiftPartCorner4={x:3*this.sizePartCorner*Math.cos(.25*Math.PI)/2,y:3*this.sizePartCorner*Math.sin(.25*Math.PI)/2}}setSizeSmooth(e,t){var s=this;return N(function*(){const o=s.smooth;return s.smooth=!1,s.size=t,s.setSize(),s.host.nativeElement.style.transform=`scale(${e/t})`,s.depth=e/s.ratio2,yield s.asyncservice.delay(10),s.smooth=!0,yield s.asyncservice.delay(10),s.host.nativeElement.style.transform="scale(1)",s.depth=t/s.ratio2,yield s.asyncservice.delay(300),s.smooth=o,new Promise(r=>r())})()}ngOnInit(){}ngOnChanges(e){e.size&&e.size.previousValue!==e.size.currentValue&&(this.smooth&&e.size.previousValue?this.setSizeSmooth(e.size.previousValue,e.size.currentValue):this.setSize()),e.open&&e.open.previousValue!==e.open.currentValue&&(this.rotateCover=e.open.currentValue?-180:0)}}return i.\u0275fac=function(e){return new(e||i)(D(Pe),D(W))},i.\u0275cmp=Q({type:i,selectors:[["app-game"]],hostVars:2,hostBindings:function(e,t){2&e&&H("smooth",t.smooth)},inputs:{size:"size",color:"color",front:"front",inside:"inside",side:"side",code:"code",open:"open",smooth:"smooth"},features:[ie],decls:119,vars:795,consts:[[1,"lid","top"],[1,"front"],[1,"image"],[1,"overlap","top"],[1,"overlap","bottom"],[1,"back"],[1,"insideWrap"],[1,"left"],[1,"right"],[1,"top"],[1,"bottom"],[1,"corner"],[1,"part"],[1,"lid","bottom"],[1,"content"],[1,"text"],[1,"scratch"],[1,"code"]],template:function(e,t){1&e&&(d(0,"div",0),d(1,"div",1),_(2,"div",2),_(3,"div",3),_(4,"div",4),p(),d(5,"div",5),_(6,"div",6),d(7,"div",3),_(8,"div",6),p(),d(9,"div",4),_(10,"div",6),p(),p(),d(11,"div",7),_(12,"div",2),p(),_(13,"div",8),_(14,"div",9),_(15,"div",10),d(16,"div",11),_(17,"div",12),_(18,"div",12),_(19,"div",12),_(20,"div",12),_(21,"div",12),_(22,"div",12),_(23,"div",12),_(24,"div",12),_(25,"div",12),p(),d(26,"div",11),_(27,"div",12),_(28,"div",12),_(29,"div",12),_(30,"div",12),_(31,"div",12),_(32,"div",12),_(33,"div",12),_(34,"div",12),_(35,"div",12),p(),d(36,"div",11),_(37,"div",12),_(38,"div",12),_(39,"div",12),_(40,"div",12),_(41,"div",12),_(42,"div",12),_(43,"div",12),_(44,"div",12),_(45,"div",12),p(),d(46,"div",11),_(47,"div",12),_(48,"div",12),_(49,"div",12),_(50,"div",12),_(51,"div",12),_(52,"div",12),_(53,"div",12),_(54,"div",12),_(55,"div",12),p(),p(),d(56,"div",13),d(57,"div",1),d(58,"div",14),d(59,"div",15),P(60,"Scratch to see the game activation key"),p(),d(61,"div",16),d(62,"div",17),P(63),p(),_(64,"canvas"),p(),p(),_(65,"div",6),d(66,"div",3),_(67,"div",6),p(),d(68,"div",4),_(69,"div",6),p(),p(),d(70,"div",5),_(71,"div",2),_(72,"div",3),_(73,"div",4),p(),d(74,"div",7),_(75,"div",2),p(),_(76,"div",8),_(77,"div",9),_(78,"div",10),d(79,"div",11),_(80,"div",12),_(81,"div",12),_(82,"div",12),_(83,"div",12),_(84,"div",12),_(85,"div",12),_(86,"div",12),_(87,"div",12),_(88,"div",12),p(),d(89,"div",11),_(90,"div",12),_(91,"div",12),_(92,"div",12),_(93,"div",12),_(94,"div",12),_(95,"div",12),_(96,"div",12),_(97,"div",12),_(98,"div",12),p(),d(99,"div",11),_(100,"div",12),_(101,"div",12),_(102,"div",12),_(103,"div",12),_(104,"div",12),_(105,"div",12),_(106,"div",12),_(107,"div",12),_(108,"div",12),p(),d(109,"div",11),_(110,"div",12),_(111,"div",12),_(112,"div",12),_(113,"div",12),_(114,"div",12),_(115,"div",12),_(116,"div",12),_(117,"div",12),_(118,"div",12),p(),p()),2&e&&(y("width",t.width+"px")("height",t.height+"px")("transform","translateZ("+t.depth/4+"px) rotateY("+t.rotateCover+"deg)"),c(1),y("width",t.width+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("background-image","url("+t.front+")"),c(1),y("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(-t.height/2+t.sizeCorner/2)+"px)")("background-color",t.color),c(1),y("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(t.height/2-t.sizeCorner/2)+"px)")("background-color",t.color),c(1),y("width",t.width+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateZ("+-t.depth/4+"px)")("background-color",t.color),c(1),y("background-image","url("+t.inside+")")("transform","translateZ(-0.1px) rotateY(180deg)"),c(1),y("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(-t.height/2+t.sizeCorner/2)+"px)")("background-color",t.color),c(1),y("background-image","url("+t.inside+")")("transform","translateZ(-0.1px) rotateY(180deg)"),c(1),y("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(t.height/2-t.sizeCorner/2)+"px)")("background-color",t.color),c(1),y("background-image","url("+t.inside+")")("transform","translateZ(-0.1px) rotateY(180deg)"),c(1),y("width",t.depth/2+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateX("+-t.width/2+"px) rotateY(-90deg)")("background-color",t.color),c(1),y("background-image","url("+t.side+")"),c(1),y("width",t.depth/2+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateX("+t.width/2+"px) rotateY(90deg)")("background-color",t.color),c(1),y("width",t.width-2*t.sizeCorner+"px")("height",t.depth/2+"px")("transform","translateY("+-t.height/2+"px) rotateX(90deg)")("background-color",t.color),c(1),y("width",t.width-2*t.sizeCorner+"px")("height",t.depth/2+"px")("transform","translateY("+t.height/2+"px) rotateX(-90deg)")("background-color",t.color),c(1),y("transform","translateX("+(-t.width/2+t.shiftPartCorner2)+"px) translateY("+(-t.height/2+t.shiftPartCorner2)+"px) rotateZ(270deg)"),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("transform","translateX("+(t.width/2-t.shiftPartCorner2)+"px) translateY("+(-t.height/2+t.shiftPartCorner2)+"px) rotateZ(0deg)"),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("transform","translateX("+(t.width/2-t.shiftPartCorner2)+"px) translateY("+(t.height/2-t.shiftPartCorner2)+"px) rotateZ(90deg)"),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("transform","translateX("+(-t.width/2+t.shiftPartCorner2)+"px) translateY("+(t.height/2-t.shiftPartCorner2)+"px) rotateZ(180deg)"),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.width+"px")("height",t.height+"px")("transform","translateZ(-"+t.depth/4+"px)"),c(1),y("width",t.width+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateZ("+t.depth/4+"px)")("background-color",t.color),c(2),y("font-size",.08*t.width+"px"),c(3),y("font-size",.04*t.width+"px"),c(1),O(t.code),c(1),Ue("width",.8*t.width+"px")("height",.1*t.height+"px"),c(1),y("background-image","url("+t.inside+")"),c(1),y("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(-t.height/2+t.sizeCorner/2)+"px)")("background-color",t.color),c(1),y("background-image","url("+t.inside+")"),c(1),y("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(t.height/2-t.sizeCorner/2)+"px)")("background-color",t.color),c(1),y("background-image","url("+t.inside+")"),c(1),y("width",t.width+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateZ("+-t.depth/4+"px)")("background-color",t.color),c(2),y("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(-t.height/2+t.sizeCorner/2)+"px)")("background-color",t.color),c(1),y("width",t.width-2*t.sizeCorner+"px")("height",t.sizeCorner+"px")("transform","translateY("+(t.height/2-t.sizeCorner/2)+"px)")("background-color",t.color),c(1),y("width",t.depth/2+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateX("+-t.width/2+"px) rotateY(-90deg)")("background-color",t.color),c(1),y("background-image","url("+t.side+")"),c(1),y("width",t.depth/2+"px")("height",t.height-2*t.sizeCorner+"px")("transform","translateX("+t.width/2+"px) rotateY(90deg)")("background-color",t.color),c(1),y("width",t.width-2*t.sizeCorner+"px")("height",t.depth/2+"px")("transform","translateY("+-t.height/2+"px) rotateX(90deg)")("background-color",t.color),c(1),y("width",t.width-2*t.sizeCorner+"px")("height",t.depth/2+"px")("transform","translateY("+t.height/2+"px) rotateX(-90deg)")("background-color",t.color),c(1),y("transform","translateX("+(-t.width/2+t.shiftPartCorner2)+"px) translateY("+(-t.height/2+t.shiftPartCorner2)+"px) rotateZ(270deg)"),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("transform","translateX("+(t.width/2-t.shiftPartCorner2)+"px) translateY("+(-t.height/2+t.shiftPartCorner2)+"px) rotateZ(0deg)"),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("transform","translateX("+(t.width/2-t.shiftPartCorner2)+"px) translateY("+(t.height/2-t.shiftPartCorner2)+"px) rotateZ(90deg)"),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("transform","translateX("+(-t.width/2+t.shiftPartCorner2)+"px) translateY("+(t.height/2-t.shiftPartCorner2)+"px) rotateZ(180deg)"),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX(-"+t.shiftPartCorner1.x+"px) translateY(-"+t.shiftPartCorner1.y+"px) rotateX(90deg) rotateY(22.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","rotateX(90deg) rotateY(45deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",t.depth/2+"px")("transform","translateX("+t.shiftPartCorner1.y+"px) translateY("+t.shiftPartCorner1.x+"px) rotateX(90deg) rotateY(67.5deg)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ("+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(-t.shiftPartCorner1.x-t.shiftPartCorner3.y)+"px) translateY("+(-t.shiftPartCorner1.y+t.shiftPartCorner3.x)+"px) rotateZ(22.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+-t.shiftPartCorner4.y+"px) translateY("+t.shiftPartCorner4.x+"px) rotateZ(45deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color),c(1),y("width",t.sizePartCorner+"px")("height",3*t.sizePartCorner+"px")("transform","translateX("+(t.shiftPartCorner1.y-t.shiftPartCorner3.x)+"px) translateY("+(t.shiftPartCorner1.x+t.shiftPartCorner3.y)+"px) rotateZ(67.5deg) translateZ(-"+t.depth/4+"px)")("background-color",t.color))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%], [_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .overlap[_ngcontent-%COMP%], [_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%], [_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], [_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], [_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%], [_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%], [_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]   .insideWrap[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:translateZ(.1px)}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{transform-style:preserve-3d}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .overlap.top[_ngcontent-%COMP%]   .insideWrap[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:translateZ(.1px);background-position:74% 0%;background-size:25%}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .overlap.bottom[_ngcontent-%COMP%]   .insideWrap[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:translateZ(.1px);background-position:42% 0%;background-size:25%}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;height:100%;background-image:url(back.480e78baf4910a8a.jpg);background-position:center;background-size:cover;background-repeat:no-repeat;transform:translateZ(-.1px) rotateY(180deg)}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]   .insideWrap[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:translateZ(.1px);background-size:22%;background-position:88% 0%}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{transform-style:preserve-3d}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;transform:translateZ(.2px)}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:5%;color:#fff;font-family:Arial;text-align:center}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .scratch[_ngcontent-%COMP%]{margin:5%;width:80%;height:10%;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .scratch[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]{position:absolute;font-family:Arial;text-align:center;color:#ffeb3b}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .scratch[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .overlap.top[_ngcontent-%COMP%]   .insideWrap[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:translateZ(.1px);background-position:74% 0%;background-size:25%}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .overlap.bottom[_ngcontent-%COMP%]   .insideWrap[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:translateZ(.1px);background-position:42% 0%;background-size:25%}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;height:100%;background-position:center;background-size:cover;background-repeat:no-repeat;transform:translateZ(.1px)}[_nghost-%COMP%]   .lid[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .insideWrap[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:translateZ(.1px);background-size:22%;background-position:88% 0%}[_nghost-%COMP%]   .lid.top[_ngcontent-%COMP%]{transform-origin:center left}[_nghost-%COMP%]   .lid.top[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .lid.top[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-position:100% center;background-size:200% 100%;background-repeat:no-repeat}[_nghost-%COMP%]   .lid.bottom[_ngcontent-%COMP%]{transform-origin:center left}[_nghost-%COMP%]   .lid.bottom[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .lid.bottom[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-position:0% center;background-size:200% 100%;background-repeat:no-repeat}.animate[_nghost-%COMP%]{animation-name:rotate;animation-timing-function:linear;animation-duration:5s;animation-iteration-count:infinite}@keyframes rotate{0%{transform:rotateY(0)}to{transform:rotateY(360deg)}}.smooth[_nghost-%COMP%]{transition:all ease .2s}.smooth[_nghost-%COMP%]   *[_ngcontent-%COMP%]{transition:all ease .2s}"]}),i})(),Mo=(()=>{class i{constructor(e,t){this.asyncservice=e,this.host=t,this.size=300,this.color="#ff5722",this.smooth=!1,this.grill="../../assets/speaker/grill/0.png",this.timer=null,this.button="none",this.ratio=299/136,this.math=Math,this.width=this.size,this.height=this.size/this.ratio,this.depth=this.size/this.ratio,this.heightSide=this.height/2*Math.sin(2*Math.PI/360*36)/Math.sin(2*Math.PI/360*72)}setSize(){this.width=this.size,this.height=this.size/this.ratio,this.depth=this.size/this.ratio,this.heightSide=this.height/2*Math.sin(2*Math.PI/360*36)/Math.sin(2*Math.PI/360*72)}animatePlay(e){const t=this.host.nativeElement.querySelector(".button.play > svg > polygon:nth-child(1) > animate:nth-child(1)");e?t.beginElement():t.endElement()}animatePause(e){const t=this.host.nativeElement.querySelector(".button.pause > svg > polygon:nth-child(1) > animate:nth-child(1)"),s=this.host.nativeElement.querySelector(".button.pause > svg > polygon:nth-child(2) > animate:nth-child(1)");e?(t.beginElement(),s.beginElement()):(t.endElement(),s.endElement())}animatePrev(){const e=this.host.nativeElement.querySelector(".button.prev > svg > polygon:nth-child(1) > animate:nth-child(1)"),t=this.host.nativeElement.querySelector(".button.prev > svg > polygon:nth-child(2) > animate:nth-child(1)");e.beginElement(),t.beginElement()}animateNext(){const e=this.host.nativeElement.querySelector(".button.next > svg > polygon:nth-child(1) > animate:nth-child(1)"),t=this.host.nativeElement.querySelector(".button.next > svg > polygon:nth-child(2) > animate:nth-child(1)");e.beginElement(),t.beginElement()}ngOnInit(){}ngOnChanges(e){e.size&&e.size.previousValue!==e.size.currentValue&&this.setSize(),e.button&&e.button.previousValue!==e.button.currentValue&&("play"===e.button.currentValue?(this.animatePlay(!0),this.animatePause(!1)):"pause"===e.button.currentValue?(this.animatePlay(!1),this.animatePause(!0)):"prev"===e.button.currentValue?this.animatePrev():"next"===e.button.currentValue?this.animateNext():"none"===e.button.currentValue&&(this.animatePlay(!1),this.animatePause(!1)))}}return i.\u0275fac=function(e){return new(e||i)(D(Pe),D(W))},i.\u0275cmp=Q({type:i,selectors:[["app-speaker"]],hostVars:2,hostBindings:function(e,t){2&e&&H("smooth",t.smooth)},inputs:{size:"size",color:"color",smooth:"smooth",grill:"grill",timer:"timer",button:"button"},features:[ie],decls:46,vars:187,consts:[[1,"round"],[1,"side"],[1,"grill"],[1,"button","next"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 100 100"],["points","20,30 50,50 20,70","fill","#000000"],["attributeName","fill","values","#000000; #ffffff; #000000","dur","0.2s","begin","indefinite","repeatCount","1"],["points","50,30 80,50 50,70","fill","#000000"],[1,"button","prev"],["points","20,50 50,30 50,70","fill","#000000"],["points","50,50 80,30 80,70","fill","#000000"],[1,"button","pause"],["points","20,20 40,20 40,80 20,80","fill","#000000"],["attributeName","fill","values","#000000; #ffffff; #000000","dur","2s","begin","indefinite","repeatCount","indefinite"],["points","60,20 80,20 80,80 60,80","fill","#000000"],[1,"button","play"],["points","20,20 80,50 20,80","fill","#000000"]],template:function(e,t){1&e&&(_(0,"div",0),_(1,"div",0),d(2,"div",1),_(3,"div",2),d(4,"div",1),_(5,"div",2),d(6,"div",1),d(7,"div",3),fi(),d(8,"svg",4),d(9,"polygon",5),_(10,"animate",6),p(),d(11,"polygon",7),_(12,"animate",6),p(),p(),p(),uo(),d(13,"div",8),fi(),d(14,"svg",4),d(15,"polygon",9),_(16,"animate",6),p(),d(17,"polygon",10),_(18,"animate",6),p(),p(),p(),uo(),d(19,"div",11),fi(),d(20,"svg",4),d(21,"polygon",12),_(22,"animate",13),p(),d(23,"polygon",14),_(24,"animate",13),p(),p(),p(),uo(),d(25,"div",15),fi(),d(26,"svg",4),d(27,"polygon",16),_(28,"animate",13),p(),p(),p(),uo(),_(29,"div",2),d(30,"div",1),d(31,"div"),P(32),p(),_(33,"div",2),d(34,"div",1),_(35,"div",2),d(36,"div",1),_(37,"div",2),d(38,"div",1),_(39,"div",2),d(40,"div",1),_(41,"div",2),d(42,"div",1),_(43,"div",2),d(44,"div",1),_(45,"div",2),p(),p(),p(),p(),p(),p(),p(),p(),p(),p()),2&e&&(y("width",t.depth,"px")("height",t.height,"px")("transform","translateX("+-t.width/2+"px) translateY("+.15*t.height+"px) rotateY(90deg)"),c(1),y("width",t.depth,"px")("height",t.height,"px")("transform","translateX("+t.width/2+"px) translateY("+.15*t.height+"px) rotateY(-90deg)"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+t.height/2+"px) translateZ(0px) rotateX(72deg)"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+3*t.heightSide+"px"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+4*t.heightSide+"px"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),y("width",.8*t.heightSide,"px")("height",.8*t.heightSide,"px")("margin","0px "+.1*t.heightSide+"px")("background-color",t.color),c(6),y("width",.8*t.heightSide,"px")("height",.8*t.heightSide,"px")("margin","0px "+.1*t.heightSide+"px")("background-color",t.color),c(6),y("width",.8*t.heightSide,"px")("height",.8*t.heightSide,"px")("margin","0px "+.1*t.heightSide+"px")("background-color",t.color),c(6),y("width",.8*t.heightSide,"px")("height",.8*t.heightSide,"px")("margin","0px "+.1*t.heightSide+"px")("background-color",t.color),c(4),y("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+5*t.heightSide+"px"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),Ms(null===t.timer?"timer hidden":"timer"),c(1),O(null===t.timer?"0":t.timer),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+6*t.heightSide+"px"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+7*t.heightSide+"px"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+8*t.heightSide+"px"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+9*t.heightSide+"px"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+10*t.heightSide+"px"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+11*t.heightSide+"px"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("transform","translateY("+-t.heightSide+"px) translateZ(0px) rotateX(-36deg)"),c(1),y("width",t.width,"px")("height",t.heightSide,"px")("background-image","url("+t.grill+")")("background-position","center "+12*t.heightSide+"px"))},styles:['@font-face{font-family:"digital";src:url(digital.9c7b3b699450cd86.ttf)}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;transform:rotateX(0) rotateY(180deg);transform-style:preserve-3d}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:row;align-items:center;justify-content:center;transform-origin:center bottom;transform-style:preserve-3d;background-image:url(grill.adf183168f71417d.jpg);background-repeat:repeat;background-position:center;background-size:20%;flex-shrink:0}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:60px;font-weight:bold;color:#00bcd4;text-shadow:0px 0px 4px #00bcd4;text-align:center;transition:all ease;transform:rotateY(180deg);font-family:digital}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .timer.hidden[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .side[_ngcontent-%COMP%] > .grill[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;z-index:0;opacity:.3;background-repeat:repeat;background-position:auto 0px;background-size:100% auto;transform:rotateY(180deg)}[_nghost-%COMP%]   .round[_ngcontent-%COMP%]{position:absolute;border-radius:1000px;background-color:#666;background-image:url(speaker.9bde34978bcfdb16.png);background-repeat:no-repeat;background-position:center;background-size:contain}[_nghost-%COMP%]   .button[_ngcontent-%COMP%]{background:#ff5722;z-index:1;transform:rotateY(180deg);display:flex;flex-direction:column;align-items:center;justify-content:center}.smooth[_nghost-%COMP%]{transition:all ease .2s}.smooth[_nghost-%COMP%]   *[_ngcontent-%COMP%]{transition:all ease .2s}@media (pointer: coarse){.smooth[_nghost-%COMP%]{transition:none}.smooth[_nghost-%COMP%]   *[_ngcontent-%COMP%]{transition:none}}']}),i})(),Eo=(()=>{class i{constructor(e,t){this.host=e,this.asyncService=t,this.video="",this.control="none",this.size=600,this.color="#C0C0C0",this.smooth=!1,this.math=Math,this.ratio1=247/178,this.ratio2=247/6,this.width=this.size,this.height=this.size/this.ratio1,this.depth=this.size/this.ratio2,this.radius=.05*this.width,this.widthpath=this.radius*Math.sin(2*Math.PI/360*30)/Math.sin(2*Math.PI/360*75),this.opacityIcon="0"}setSize(){this.width=this.size,this.height=this.size/this.ratio1,this.depth=this.size/this.ratio2,this.radius=.05*this.width,this.widthpath=this.radius*Math.sin(2*Math.PI/360*30)/Math.sin(2*Math.PI/360*75)}play(){var e=this;return N(function*(){try{yield e.host.nativeElement.querySelector(".screen > .display > .video").play()}catch(t){yield e.asyncService.delay(500),e.play()}})()}pause(){this.host.nativeElement.querySelector(".screen > .display > .video").pause()}prev(){this.host.nativeElement.querySelector(".screen > .display > .video").currentTime-=5}next(){this.host.nativeElement.querySelector(".screen > .display > .video").currentTime+=5}showIcon(e){var t=this;return N(function*(){let s=t.host.nativeElement.querySelector(".screen > .display > .icon");return"play"===e?s.style.backgroundImage="url(../../assets/play.svg)":"pause"===e?s.style.backgroundImage="url(../../assets/pause.svg)":"prev"===e?s.style.backgroundImage="url(../../assets/prev.svg)":"next"===e&&(s.style.backgroundImage="url(../../assets/next.svg)"),yield t.asyncService.delay(10),t.opacityIcon="1",yield t.asyncService.delay(200),t.opacityIcon="0",yield t.asyncService.delay(200),new Promise(o=>o())})()}endVideo(){this.play()}ngOnInit(){}ngOnChanges(e){e.size&&e.size.previousValue!==e.size.currentValue&&this.setSize(),e.control&&("play"===e.control.currentValue?(this.play(),this.showIcon("play")):"pause"===e.control.currentValue?(this.pause(),this.showIcon("pause")):"prev"===e.control.currentValue?(this.prev(),this.showIcon("prev")):"next"===e.control.currentValue&&(this.next(),this.showIcon("next"))),e.video&&e.video.currentValue&&""!==e.video.currentValue&&setTimeout(()=>{this.host.nativeElement.querySelector(".screen > .display > .video").setAttribute("src",this.video)},1e3)}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(Pe))},i.\u0275cmp=Q({type:i,selectors:[["app-tablet"]],hostVars:2,hostBindings:function(e,t){2&e&&H("smooth",t.smooth)},inputs:{video:"video",control:"control",size:"size",color:"color",smooth:"smooth"},features:[ie],decls:26,vars:159,consts:[[1,"screen"],[1,"display"],[1,"video",3,"ended"],[1,"icon"],[1,"body"],[1,"gradient"],[1,"side"],[1,"corner"],[1,"part"]],template:function(e,t){1&e&&(d(0,"div",0),d(1,"div",1),d(2,"video",2),C("ended",function(){return t.endVideo()}),p(),_(3,"div",3),p(),p(),d(4,"div",4),_(5,"div",5),p(),_(6,"div",6),_(7,"div",6),_(8,"div",6),_(9,"div",6),d(10,"div",7),_(11,"div",8),_(12,"div",8),_(13,"div",8),p(),d(14,"div",7),_(15,"div",8),_(16,"div",8),_(17,"div",8),p(),d(18,"div",7),_(19,"div",8),_(20,"div",8),_(21,"div",8),p(),d(22,"div",7),_(23,"div",8),_(24,"div",8),_(25,"div",8),p()),2&e&&(y("width",t.width+"px")("height",t.height+"px")("border-radius",t.radius+"px")("transform","translateZ("+t.depth/2+"px)"),c(1),y("border-radius",t.radius+"px"),c(1),Ue("src",t.video,Lu),c(1),y("opacity",t.opacityIcon),c(1),y("width",t.width+"px")("height",t.height+"px")("border-radius",t.radius+"px")("transform","translateZ("+-t.depth/2+"px)")("background-color",t.color),c(2),y("width",t.height-2*t.radius+"px")("height",t.depth+"px")("transform","translateX("+-t.width/2+"px) translateY(0px) rotateX(90deg) rotateY(90deg)")("background-color",t.color),c(1),y("width",t.height-2*t.radius+"px")("height",t.depth+"px")("transform","translateX("+t.width/2+"px) translateY(0px) rotateX(-90deg) rotateY(90deg)")("background-color",t.color),c(1),y("width",t.width-2*t.radius+"px")("height",t.depth+"px")("transform","translateX(0px) translateY("+-t.height/2+"px) rotateX(90deg) rotateY(0deg)")("background-color",t.color),c(1),y("width",t.width-2*t.radius+"px")("height",t.depth+"px")("transform","translateX(0px) translateY("+t.height/2+"px) rotateX(-90deg) rotateY(0deg)")("background-color",t.color),c(1),y("transform","translateX("+(-t.width/2+t.radius)+"px) translateY("+(-t.height/2+t.radius)+"px)"),c(1),y("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.radius+t.widthpath/2*t.math.cos(2*t.math.PI/360*75))+"px) translateY("+-t.widthpath/2*t.math.sin(2*t.math.PI/360*75)+"px) rotateX(90deg) rotateY(-75deg)")("background-color",t.color),c(1),y("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.widthpath*t.math.cos(2*t.math.PI/360*15)-t.widthpath/2*t.math.cos(2*t.math.PI/360*45))+"px) translateY("+(-t.widthpath*t.math.sin(2*t.math.PI/360*75)-t.widthpath/2*t.math.sin(2*t.math.PI/360*45))+"px) rotateX(90deg) rotateY(-45deg)")("background-color",t.color),c(1),y("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+-t.widthpath/2*t.math.cos(2*t.math.PI/360*15)+"px) translateY("+(-t.radius+t.widthpath/2*t.math.sin(2*t.math.PI/360*15))+"px) rotateX(90deg) rotateY(-15deg)")("background-color",t.color),c(1),y("transform","translateX("+(t.width/2-t.radius)+"px) translateY("+(-t.height/2+t.radius)+"px) rotateZ(90deg)"),c(1),y("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.radius+t.widthpath/2*t.math.cos(2*t.math.PI/360*75))+"px) translateY("+-t.widthpath/2*t.math.sin(2*t.math.PI/360*75)+"px) rotateX(90deg) rotateY(-75deg)")("background-color",t.color),c(1),y("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.widthpath*t.math.cos(2*t.math.PI/360*15)-t.widthpath/2*t.math.cos(2*t.math.PI/360*45))+"px) translateY("+(-t.widthpath*t.math.sin(2*t.math.PI/360*75)-t.widthpath/2*t.math.sin(2*t.math.PI/360*45))+"px) rotateX(90deg) rotateY(-45deg)")("background-color",t.color),c(1),y("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+-t.widthpath/2*t.math.cos(2*t.math.PI/360*15)+"px) translateY("+(-t.radius+t.widthpath/2*t.math.sin(2*t.math.PI/360*15))+"px) rotateX(90deg) rotateY(-15deg)")("background-color",t.color),c(1),y("transform","translateX("+(-t.width/2+t.radius)+"px) translateY("+(t.height/2-t.radius)+"px) rotateZ(270deg)"),c(1),y("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.radius+t.widthpath/2*t.math.cos(2*t.math.PI/360*75))+"px) translateY("+-t.widthpath/2*t.math.sin(2*t.math.PI/360*75)+"px) rotateX(90deg) rotateY(-75deg)")("background-color",t.color),c(1),y("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.widthpath*t.math.cos(2*t.math.PI/360*15)-t.widthpath/2*t.math.cos(2*t.math.PI/360*45))+"px) translateY("+(-t.widthpath*t.math.sin(2*t.math.PI/360*75)-t.widthpath/2*t.math.sin(2*t.math.PI/360*45))+"px) rotateX(90deg) rotateY(-45deg)")("background-color",t.color),c(1),y("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+-t.widthpath/2*t.math.cos(2*t.math.PI/360*15)+"px) translateY("+(-t.radius+t.widthpath/2*t.math.sin(2*t.math.PI/360*15))+"px) rotateX(90deg) rotateY(-15deg)")("background-color",t.color),c(1),y("transform","translateX("+(t.width/2-t.radius)+"px) translateY("+(t.height/2-t.radius)+"px) rotateZ(180deg)"),c(1),y("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.radius+t.widthpath/2*t.math.cos(2*t.math.PI/360*75))+"px) translateY("+-t.widthpath/2*t.math.sin(2*t.math.PI/360*75)+"px) rotateX(90deg) rotateY(-75deg)")("background-color",t.color),c(1),y("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+(-t.widthpath*t.math.cos(2*t.math.PI/360*15)-t.widthpath/2*t.math.cos(2*t.math.PI/360*45))+"px) translateY("+(-t.widthpath*t.math.sin(2*t.math.PI/360*75)-t.widthpath/2*t.math.sin(2*t.math.PI/360*45))+"px) rotateX(90deg) rotateY(-45deg)")("background-color",t.color),c(1),y("width",t.widthpath+"px")("height",t.depth+"px")("transform","translateX("+-t.widthpath/2*t.math.cos(2*t.math.PI/360*15)+"px) translateY("+(-t.radius+t.widthpath/2*t.math.sin(2*t.math.PI/360*15))+"px) rotateX(90deg) rotateY(-15deg)")("background-color",t.color))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;transform:rotateX(0) rotateY(0);transform-style:preserve-3d}[_nghost-%COMP%] > .screen[_ngcontent-%COMP%]{position:absolute;background-color:#000;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%] > .screen[_ngcontent-%COMP%] > .display[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;width:96%;height:96%;background-color:#222;overflow:hidden}[_nghost-%COMP%] > .screen[_ngcontent-%COMP%] > .display[_ngcontent-%COMP%] > .video[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute}[_nghost-%COMP%] > .screen[_ngcontent-%COMP%] > .display[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{width:30%;height:30%;background-position:center;background-size:contain;background-repeat:no-repeat;opacity:0;transition:all ease .2s}[_nghost-%COMP%] > .body[_ngcontent-%COMP%]{position:absolute;overflow:hidden}[_nghost-%COMP%] > .body[_ngcontent-%COMP%] > .gradient[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(45deg,#00000066,#00000000)}[_nghost-%COMP%] > .corner[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d;transform-origin:right bottom}[_nghost-%COMP%] > .corner[_ngcontent-%COMP%] > .part[_ngcontent-%COMP%]{position:absolute;background-color:#71797e}[_nghost-%COMP%] > .side[_ngcontent-%COMP%]{position:absolute;background-color:#71797e}.smooth[_nghost-%COMP%]{transition:all ease .2s}.smooth[_nghost-%COMP%]   *[_ngcontent-%COMP%]{transition:all ease .2s}"]}),i})(),zs=(()=>{class i{constructor(e,t){this.linerSvgService=e,this.host=t,this.size=100,this.photo="../../assets/photo/example.jpg",this.sign=[],this.smooth=!1,this.ratio1=.75,this.ratio2=480,this.width=this.size,this.height=this.size/this.ratio1,this.depth=this.size/this.ratio2}setSize(){this.width=this.size,this.height=this.size/this.ratio1,this.depth=this.size/this.ratio2,setTimeout(()=>{this.setSign()},50)}setSign(){let e=this.linerSvgService.getSvg(this.width,this.height,this.sign);this.host.nativeElement.querySelector(".back > .sign").innerHTML="",this.host.nativeElement.querySelector(".back > .sign").innerHTML=e.outerHTML}ngOnInit(){}ngOnChanges(e){e.size&&e.size.previousValue!==e.size.currentValue&&this.setSize(),e.sign&&e.sign.previousValue!==e.sign.currentValue&&this.setSign()}}return i.\u0275fac=function(e){return new(e||i)(D($r),D(W))},i.\u0275cmp=Q({type:i,selectors:[["app-photo"]],hostVars:2,hostBindings:function(e,t){2&e&&H("smooth",t.smooth)},inputs:{size:"size",photo:"photo",sign:"sign",smooth:"smooth"},features:[ie],decls:4,vars:14,consts:[[1,"front"],[1,"photo"],[1,"back"],[1,"sign"]],template:function(e,t){1&e&&(d(0,"div",0),_(1,"div",1),p(),d(2,"div",2),_(3,"div",3),p()),2&e&&(y("width",t.width+"px")("height",t.height+"px")("transform","translateZ("+t.depth/2+"px)"),c(1),y("background-image","url("+t.photo+")"),c(1),y("width",t.width+"px")("height",t.height+"px")("transform","translateZ("+-t.depth/2+"px)"))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;transform:rotateX(0) rotateY(0);transform-style:preserve-3d;transform:rotateY(0)}[_nghost-%COMP%] > .front[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;box-shadow:0 0 5px #ddd;background:linear-gradient(45deg,#eee,#fff)}[_nghost-%COMP%] > .front[_ngcontent-%COMP%] > .photo[_ngcontent-%COMP%]{margin-top:10%;width:90%;height:67%;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .back[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(45deg,#eee,#fff)}[_nghost-%COMP%] > .back[_ngcontent-%COMP%] > .sign[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:rotateY(180deg);background-size:contain;background-position:center;background-repeat:no-repeat;display:flex;flex-direction:column;align-items:center;justify-content:center}.smooth[_nghost-%COMP%]{transition:all ease .2s}.smooth[_nghost-%COMP%]   *[_ngcontent-%COMP%]{transition:all ease .2s}"]}),i})();function eN(i,n){if(1&i&&_(0,"app-greeting-card",10),2&i){const e=b();g("size",e.width)("smooth",!0)("front",e.gift.front)("back",e.gift.back)("text",e.gift.text)("color",e.gift.color)("sign",e.giftsign)}}function tN(i,n){if(1&i&&_(0,"app-game",11),2&i){const e=b();g("size",e.width)("front",e.gift.front)("inside",e.gift.inside)("code",e.gift.code)("side",e.gift.side)("color",e.gift.color)("open",e.gift.open)("smooth",!0)}}function nN(i,n){if(1&i&&_(0,"app-speaker",12),2&i){const e=b();g("size",e.width)("grill",e.gift.grill)("color",e.gift.color)("smooth",!0)}}function iN(i,n){if(1&i&&_(0,"app-tablet",13),2&i){const e=b();g("size",e.width)("color",e.gift.color)("smooth",!0)}}function sN(i,n){if(1&i&&_(0,"app-photo",14),2&i){const e=b();g("size",e.width)("photo",e.gift.photo)("sign",e.giftsign)("smooth",!0)}}let oN=(()=>{class i{constructor(e,t,s){this.asyncservice=e,this.host=t,this.locationService=s,this.math=Math,this.gift=null,this.sublimerefresh=!1,this.width=0,this.height=0,this.startrot=[0,0],this.rotateDisplayX=0,this.rotateDisplayY=0,this.intervalRotate=setInterval(()=>{},1e4),this.giftsign=[],this.mode="usual",this.touch=null}setsize(){if(null===this.gift)return;let e=0;"greetingcard"===this.gift.type?e=297/420:"game"===this.gift.type?e=135/190:"speaker"===this.gift.type?e=299/136:"tablet"===this.gift.type?e=247/178:"photo"===this.gift.type&&(e=.75);let t=0,s=0;e>=window.innerWidth/window.innerHeight?(t=.8*window.innerWidth,s=t/e):e<window.innerWidth/window.innerHeight&&(s=.8*window.innerHeight,t=s*e),"usual"===this.mode&&(t*=.5,s*=.5),this.width=t,this.height=s}smoothsetusual(){var e=this;return N(function*(){return clearInterval(e.intervalRotate),yield e.asyncservice.delay(10),e.host.nativeElement.querySelector(".hintview").style.top="47%",e.host.nativeElement.querySelector(".hintsidebar").style.bottom="0%",e.intervalRotate=setInterval(()=>{e.rotateDisplayY++,e.rotateDisplayY>360&&(e.rotateDisplayY=0)},10),new Promise(t=>t())})()}smoothsetreview(){var e=this;return N(function*(){return clearInterval(e.intervalRotate),yield e.asyncservice.delay(10),e.host.nativeElement.querySelector(".hintview").style.top="5%",e.host.nativeElement.querySelector(".hintsidebar").style.bottom="-10%",yield e.asyncservice.delay(200),new Promise(t=>t())})()}rot(){null===this.touch||"review"!==this.mode||("start"===this.touch.action&&(this.startrot=[this.rotateDisplayX,this.rotateDisplayY]),"move"===this.touch.action&&(this.rotateDisplayY=(this.startrot[1]+(this.touch.x-this.touch.start.x))%360))}ngOnInit(){}ngOnChanges(e){e.sublimerefresh&&e.sublimerefresh.previousValue!=e.sublimerefresh.currentValue&&void 0!==e.sublimerefresh.previousValue&&("greetingcard"===this.gift.type||"photo"===this.gift.type)&&(this.giftsign=this.gift.sign),e.gift&&e.gift.previousValue!=e.gift.currentValue&&this.setsize(),e.mode&&e.mode.previousValue!=e.mode.currentValue&&("usual"==e.mode.currentValue?this.smoothsetusual():"review"==e.mode.currentValue&&this.smoothsetreview(),this.setsize()),e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.rot()}}return i.\u0275fac=function(e){return new(e||i)(D(Pe),D(W),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-view-gift"]],inputs:{gift:"gift",sublimerefresh:"sublimerefresh",mode:"mode",touch:"touch"},features:[ie],decls:14,vars:17,consts:[[1,"display"],[3,"size","smooth","front","back","text","color","sign",4,"ngIf"],[3,"size","front","inside","code","side","color","open","smooth",4,"ngIf"],[3,"size","grill","color","smooth",4,"ngIf"],[3,"size","color","smooth",4,"ngIf"],[3,"size","photo","sign","smooth",4,"ngIf"],[1,"hintview"],[1,"ico"],[1,"text"],[1,"hintsidebar"],[3,"size","smooth","front","back","text","color","sign"],[3,"size","front","inside","code","side","color","open","smooth"],[3,"size","grill","color","smooth"],[3,"size","color","smooth"],[3,"size","photo","sign","smooth"]],template:function(e,t){1&e&&(d(0,"div",0),T(1,eN,1,7,"app-greeting-card",1),T(2,tN,1,8,"app-game",2),T(3,nN,1,4,"app-speaker",3),T(4,iN,1,3,"app-tablet",4),T(5,sN,1,4,"app-photo",5),p(),d(6,"div",6),_(7,"div",7),d(8,"div",8),P(9),p(),p(),d(10,"div",9),d(11,"div",8),P(12),p(),_(13,"div",7),p()),2&e&&(y("width",t.width,"px")("height",t.height,"px")("transform","rotateX("+t.rotateDisplayX+"deg) rotateY("+t.rotateDisplayY+"deg)"),c(1),g("ngIf","greetingcard"===(null==t.gift?null:t.gift.type)),c(1),g("ngIf","game"===(null==t.gift?null:t.gift.type)),c(1),g("ngIf","speaker"===(null==t.gift?null:t.gift.type)),c(1),g("ngIf","tablet"===(null==t.gift?null:t.gift.type)),c(1),g("ngIf","photo"===(null==t.gift?null:t.gift.type)),c(2),y("background-image","url(../../assets/loupe.svg)"),c(2),O(t.locationService.translate("double tap","\u0434\u0432\u043e\u0439\u043d\u043e\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u0435")),c(3),O(t.locationService.translate("change object parameters in the right sidebar","\u0438\u0437\u043c\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e\u0434\u0430\u0440\u043a\u0430 \u0432 \u043f\u0440\u0430\u0432\u043e\u043c \u043c\u0435\u043d\u044e")),c(1),y("background-image","url(../../assets/arrow-right-sidebar2.svg)"))},directives:[ot,Vs,Jr,Mo,Eo,zs],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;perspective:2000px}[_nghost-%COMP%] > .display[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%] > .display[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%] > .hintview[_ngcontent-%COMP%]{top:47%;position:absolute;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#0006;border-radius:50px;transform:translateZ(10px);transition:all ease .2s}[_nghost-%COMP%] > .hintview[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:5px 0 5px 5px;width:20px;height:20px;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .hintview[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:5px;font-size:10px;color:#fff;user-select:none;text-align:center}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:0px;display:flex;flex-direction:row;align-items:center;justify-content:center;transition:all ease .2s}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:10px;font-size:12px;color:#999;text-align:right;user-select:none}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:10px 10px 10px 0;width:20px;height:20px;background-position:center;background-size:contain;background-repeat:no-repeat}@keyframes rot{0%{transform:rotateY(0)}to{transform:rotateY(360deg)}}"]}),i})();function rN(i,n){if(1&i&&(d(0,"div",4),P(1),p()),2&i){const e=b();c(1),O(e.min)}}function aN(i,n){1&i&&(d(0,"div",5),P(1,"<"),p())}function lN(i,n){if(1&i&&(d(0,"div",9),P(1),p()),2&i){const e=b();c(1),O(e.title)}}let Lw=(()=>{class i{constructor(e,t,s){this.host=e,this.asyncservice=t,this.locationService=s,this.show=!1,this.value="",this.min=3,this.max=100,this.enterable=!1,this.title="",this.onlyNumbers=!1,this.useAnimate=!0,this.save=new U,this.close=new U,this.onInput=new U,this.display="none",this.transform="translateX(100%)",this.timeout=setTimeout(()=>{},0)}refresh(e){let t=this.host.nativeElement.querySelector(".value"),s=!1;this.enterable&&/\#/g.test(t.value)&&(s=!0),!this.enterable&&"insertLineBreak"===e.inputType&&(s=!0),t.value=t.value.replace(/\#/g,""),this.onlyNumbers&&(t.value=t.value.replace(/[^0-9\.]/g,"")),this.enterable||(t.value=t.value.replace(/[\n]+/g,"")),this.value=t.value,this.setsize(),s&&this.trytosave(),this.onInput.emit(this.value)}setsize(){let t=this.host.nativeElement.querySelector(".value");t.style.height="58px";let s=t.scrollHeight,o=50;""!==this.title&&(o=100),s>=window.innerHeight-o?(s=window.innerHeight-o,t.style.height=`calc(100% - ${o}px)`):t.style.height=s<58?"58px":s+"px"}doshow(){var e=this;return N(function*(){return e.useAnimate?(e.display="flex",yield e.asyncservice.delay(10),e.setsize(),e.host.nativeElement.querySelector(".value").focus(),yield e.asyncservice.delay(10),e.transform="translateX(0%)",yield e.asyncservice.delay(300),new Promise(t=>t())):(e.display="flex",e.setsize(),e.host.nativeElement.querySelector(".value").focus(),e.transform="translateX(0%)",new Promise(t=>t()))})()}dohide(){var e=this;return N(function*(){return e.useAnimate?(e.host.nativeElement.querySelector(".value").blur(),e.transform="translateX(100%)",yield e.asyncservice.delay(300),e.display="none",e.close.emit(),new Promise(t=>t())):(e.host.nativeElement.querySelector(".value").blur(),e.transform="translateX(100%)",e.display="none",e.close.emit(),new Promise(t=>t()))})()}trytosave(){!0===this.show&&(this.value.length<this.min||this.value.length>this.max?(this.host.nativeElement.querySelector(".maxlength").style.animationName="shake",clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.host.nativeElement.querySelector(".maxlength").style.animationName="none"},200)):(this.save.emit(this.value),this.dohide()))}ngOnInit(){this.host.nativeElement.querySelector(".value").addEventListener("blur",e=>{this.show&&this.host.nativeElement.querySelector(".value").focus()})}ngOnChanges(e){e.value&&e.value.previousValue!==e.value.currentValue&&(this.value=e.value.currentValue.toString(),this.host.nativeElement.querySelector(".value").value=this.value,this.setsize()),e.show&&e.show.previousValue!==e.show.currentValue&&(e.show.currentValue?this.doshow():this.dohide())}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(Pe),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-rename"]],hostVars:4,hostBindings:function(e,t){2&e&&y("display",t.display)("transform",t.transform)},inputs:{show:"show",value:"value",min:"min",max:"max",enterable:"enterable",title:"title",onlyNumbers:"onlyNumbers",useAnimate:"useAnimate"},outputs:{save:"save",close:"close",onInput:"onInput"},features:[ie],decls:13,vars:10,consts:[[1,"value",3,"input"],[1,"maxlength"],["class","current",4,"ngIf"],["class","more",4,"ngIf"],[1,"current"],[1,"more"],[1,"outof"],[1,"hint"],["class","title",4,"ngIf"],[1,"title"]],template:function(e,t){1&e&&(d(0,"textarea",0),C("input",function(o){return t.refresh(o)}),p(),d(1,"div",1),T(2,rN,2,1,"div",2),T(3,aN,2,0,"div",3),d(4,"div",4),P(5),p(),d(6,"div",5),P(7,"<"),p(),d(8,"div",6),P(9),p(),p(),d(10,"div",7),P(11),p(),T(12,lN,2,1,"div",8)),2&e&&(c(1),y("color",t.value.length<t.min||t.value.length>t.max?"#f44336":"#4caf50"),c(1),g("ngIf",t.min>0),c(1),g("ngIf",t.min>0),c(2),O(t.value.length),c(4),O(t.max),c(2),Yp("",t.locationService.translate("press","\u043d\u0430\u0436\u043c\u0438\u0442\u0435")," ",t.enterable?"#":"enter"," ",t.locationService.translate("to save","\u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),""),c(1),g("ngIf",""!==t.title))},directives:[ot],styles:['[_nghost-%COMP%]{position:fixed;width:100%;height:100%;display:none;flex-direction:column;align-items:center;justify-content:center;background-color:#fff;z-index:10;transform:translate(100%);transition:all linear .2s}[_nghost-%COMP%] > .value[_ngcontent-%COMP%]{position:absolute;bottom:0px;width:100%;height:61px;outline:none;background:unset;border:none;font-size:300%;color:#333;text-align:center;vertical-align:middle;font-family:"Comfortaa",cursive;resize:none}[_nghost-%COMP%] > .maxlength[_ngcontent-%COMP%]{position:absolute;top:20px;display:flex;flex-direction:row;align-items:center;justify-content:center;animation-name:none;animation-duration:.2s;animation-iteration-count:1;animation-timing-function:linear}[_nghost-%COMP%] > .maxlength[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%], [_nghost-%COMP%] > .maxlength[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%], [_nghost-%COMP%] > .maxlength[_ngcontent-%COMP%]   .outof[_ngcontent-%COMP%]{margin:10px;font-size:16px;font-size:12px}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{position:absolute;color:#999;font-size:12px;top:10px;text-align:center}[_nghost-%COMP%] > .title[_ngcontent-%COMP%]{position:absolute;color:#999;font-size:16px;top:46px;height:40px;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center}@keyframes shake{0%{transform:translate(0)}10%{transform:translate(-20px)}20%{transform:translate(0)}30%{transform:translate(20px)}40%{transform:translate(20px)}50%{transform:translate(-20px)}60%{transform:translate(0)}70%{transform:translate(20px)}80%{transform:translate(0)}90%{transform:translate(-20px)}to{transform:translate(0)}}']}),i})(),Bw=(()=>{class i{constructor(e,t,s,o){this.readfileservice=e,this.host=t,this.gettargethtmlservice=s,this.locationService=o,this.img="",this.ratio=16/9,this.mode="usual",this.touch=null,this.sublimesave=!1,this.closetrim=new U,this.save=new U,this.imgobj=new Image,this.modemove="none",this.startposimage=[0,0],this.startposframe=[0,0],this.taptransform=100,this.hintsidebartransform=0,this.width=0,this.height=0,this.x=0,this.y=0,this.frame={w:0,h:0,x:0,y:0},this.timeouttap=setTimeout(()=>{},0),this.flagtap=!1}setobjectimg(){var e=this;return N(function*(){return e.imgobj=yield e.readfileservice.getImageByUrl(e.img),new Promise(t=>t())})()}setsize(){this.imgobj.naturalWidth/this.imgobj.naturalHeight>=window.innerWidth/window.innerHeight?(this.width=.8*window.innerWidth,this.width>this.imgobj.naturalWidth&&(this.width=this.imgobj.naturalWidth),this.height=this.width/(this.imgobj.naturalWidth/this.imgobj.naturalHeight)):this.imgobj.naturalWidth/this.imgobj.naturalHeight<window.innerWidth/window.innerHeight&&(this.height=.8*window.innerHeight,this.height>this.imgobj.naturalHeight&&(this.height=this.imgobj.naturalHeight),this.width=this.height*(this.imgobj.naturalWidth/this.imgobj.naturalHeight)),this.x=(window.innerWidth-this.width)/2,this.y=(window.innerHeight-this.height)/2-20}turnontrim(){const e=this.host.nativeElement.querySelector(".image").getBoundingClientRect();this.ratio>=this.width/this.height?(this.frame.w=this.width,this.frame.h=this.frame.w/this.ratio):this.ratio<this.width/this.height&&(this.frame.h=this.height,this.frame.w=this.frame.h*this.ratio),this.frame.x=e.x+(this.width-this.frame.w)/2,this.frame.y=e.y-41+(this.height-this.frame.h)/2,this.taptransform=0,this.hintsidebartransform=100}dotrim(){const e=document.createElement("canvas"),t=e.getContext("2d");e.setAttribute("width",this.imgobj.naturalWidth*(this.frame.w/this.width)+"px"),e.setAttribute("height",this.imgobj.naturalHeight*(this.frame.h/this.height)+"px"),t.drawImage(this.imgobj,this.imgobj.naturalWidth*(this.frame.x-this.x)/this.width,this.imgobj.naturalHeight*(this.frame.y-this.y)/this.height,this.imgobj.naturalWidth*(this.frame.w/this.width),this.imgobj.naturalHeight*(this.frame.h/this.height),0,0,this.imgobj.naturalWidth*(this.frame.w/this.width),this.imgobj.naturalHeight*(this.frame.h/this.height));let s=e.toDataURL("image/jpg",1);this.img=s,this.setobjectimg().then(()=>{this.setsize(),this.save.emit(s)})}processTouch(){"trim"===this.mode&&("start"===this.touch.action&&(this.flagtap=!0,clearTimeout(this.timeouttap),this.timeouttap=setTimeout(()=>{this.flagtap=!1},200),this.gettargethtmlservice.get(this.touch.target,"resize")?this.modemove="resize":this.gettargethtmlservice.get(this.touch.target,"frame")?(this.startposframe=[this.frame.x,this.frame.y],this.modemove="frame"):(this.startposimage=[this.x,this.y],this.startposframe=[this.frame.x,this.frame.y],this.modemove="shift")),"move"===this.touch.action&&("resize"===this.modemove?(this.frame.w=this.touch.x-this.frame.x,this.frame.h=this.frame.w/this.ratio,this.frame.w<30&&(this.frame.w=30,this.frame.h=this.frame.w/this.ratio),this.frame.h<30&&(this.frame.h=30,this.frame.w=this.frame.h*this.ratio),this.frame.x+this.frame.w>this.x+this.width&&(this.frame.w=this.x+this.width-this.frame.x,this.frame.h=this.frame.w/this.ratio),this.frame.y+this.frame.h>this.y+this.height&&(this.frame.h=this.y+this.height-this.frame.y,this.frame.w=this.frame.h*this.ratio)):"frame"===this.modemove?(this.frame.x=this.startposframe[0]+this.touch.x-this.touch.start.x,this.frame.y=this.startposframe[1]+this.touch.y-this.touch.start.y,this.frame.x<this.x&&(this.frame.x=this.x),this.frame.y<this.y&&(this.frame.y=this.y),this.frame.x+this.frame.w>this.x+this.width&&(this.frame.x=this.x+this.width-this.frame.w),this.frame.y+this.frame.h>this.y+this.height&&(this.frame.y=this.y+this.height-this.frame.h)):"shift"===this.modemove&&(this.frame.x=this.startposframe[0]+this.touch.x-this.touch.start.x,this.frame.y=this.startposframe[1]+this.touch.y-this.touch.start.y,this.x=this.startposimage[0]+this.touch.x-this.touch.start.x,this.y=this.startposimage[1]+this.touch.y-this.touch.start.y,this.x<-this.width&&(this.x=-this.width,this.frame.x=this.x+(this.startposframe[0]-this.startposimage[0])),this.x>window.innerWidth&&(this.x=window.innerWidth,this.frame.x=this.x+(this.startposframe[0]-this.startposimage[0])),this.y<-this.height&&(this.y=-this.height,this.frame.y=this.y+(this.startposframe[1]-this.startposimage[1])),this.y>window.innerHeight&&(this.y=window.innerHeight,this.frame.y=this.y+(this.startposframe[1]-this.startposimage[1])))),"end"===this.touch.action&&!1===this.touch.drag&&this.flagtap&&this.closetrim.emit())}ngOnInit(){this.closetrim=this.closetrim}ngOnChanges(e){e.img&&e.img.previousValue!==e.img.currentValue&&""!==e.img.currentValue&&this.setobjectimg().then(()=>{this.setsize()}),e.mode&&e.mode.previousValue!==e.mode.currentValue&&("usual"===e.mode.currentValue?(this.setsize(),this.taptransform=100,this.hintsidebartransform=0):"trim"===e.mode.currentValue&&this.turnontrim()),e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch(),e.sublimesave&&e.sublimesave.previousValue!==e.sublimesave.currentValue&&void 0!==e.sublimesave.previousValue&&(this.dotrim(),this.taptransform=100,this.hintsidebartransform=0)}}return i.\u0275fac=function(e){return new(e||i)(D(us),D(W),D(Bi),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-trim"]],inputs:{img:"img",ratio:"ratio",mode:"mode",touch:"touch",sublimesave:"sublimesave"},outputs:{closetrim:"closetrim",save:"save"},features:[ie],decls:11,vars:30,consts:[[1,"image"],[1,"trimtools"],[1,"back"],[1,"frame"],[1,"resize"],[1,"hint"],[1,"hintsidebar"],[1,"text"],[1,"ico"]],template:function(e,t){1&e&&(_(0,"div",0),d(1,"div",1),_(2,"div",2),d(3,"div",3),_(4,"div",4),p(),p(),d(5,"div",5),P(6),p(),d(7,"div",6),d(8,"div",7),P(9),p(),_(10,"div",8),p()),2&e&&(y("width",t.width,"px")("height",t.height,"px")("transform","translateX("+t.x+"px) translateY("+t.y+"px)")("background-image","url("+t.img+")"),c(1),y("display","trim"===t.mode?"flex":"none"),c(1),y("width","100%")("height","100%")("transform","translateX(0px) translateY(0px)"),c(1),y("width",t.frame.w,"px")("height",t.frame.h,"px")("transform","translateX("+t.frame.x+"px) translateY("+t.frame.y+"px)"),c(2),y("transform","translateY("+t.taptransform+"px)"),c(1),O(t.locationService.translate("tap to menu","\u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0439\u0442\u0438 \u0432 \u043c\u0435\u043d\u044e")),c(1),y("transform","translateY("+t.hintsidebartransform+"px)"),c(2),O(t.locationService.translate("change image in the right sidebar","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043d\u043a\u0443 \u043c\u043e\u0436\u043d\u043e \u0432 \u043f\u0440\u0430\u0432\u043e\u043c \u043c\u0435\u043d\u044e")),c(1),y("background-image","url(../../assets/arrow-right-sidebar3.svg)"))},styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-image:url(transparent.1234cf35f41c1d9e.svg);background-size:20px;background-repeat:repeat;background-position:0px 0px}[_nghost-%COMP%] > .image[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%] > .back[_ngcontent-%COMP%]{left:0px;top:0px;position:absolute;background-color:#0009}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%] > .frame[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;outline-color:#fff;outline-style:solid;outline-width:5px;display:flex;flex-direction:row;align-items:flex-end;justify-content:flex-end;backdrop-filter:brightness(2.5);z-index:1}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%] > .frame[_ngcontent-%COMP%] > .resize[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;transform:translate(20px) translateY(20px);border-radius:500px;background-color:#fff;z-index:2;background-position:center;background-size:contain;background-repeat:no-repeat;background-image:url(resize.ee042e9d80a38daf.svg);box-shadow:0 0 2px #000}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:0px;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#0009;transition:all ease .2s}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:10px;font-size:12px;color:#fff;text-align:right;user-select:none}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:10px 10px 10px 0;width:20px;height:20px;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:10px;font-size:12px;color:#fff;text-align:center;transition:all ease .2s}"]}),i})(),d0=(()=>{class i{constructor(e,t,s){this.linerSvgService=e,this.host=t,this.asyncService=s,this.width=0,this.height=0,this.touch=null,this.points=[],this.tool="pen",this.color="#000000",this.ban=[],this.sublimereset=!1,this.sublimesave=!1,this.save=new U,this.cachedPoints=[],this.inn="",this.stopDrawing=!1}insideRect(e,t){return t.x>e[0]&&t.x<e[2]&&t.y>e[1]&&t.y<e[3]}checkBan(e,t){for(let s=0;s<this.ban.length;s++)if(this.insideRect(this.ban[s],{x:e,y:t}))return!1;return!0}doErase(e,t){const o=.1*this.width/this.height;for(let r=0;this.points[r]&&r<this.points.length;r++)for(let a=1;this.points[r]&&this.points[r][a]&&a<this.points[r].length;a++)if(this.insideRect([e-.05,t-o/2,e+.05,t+o/2],{x:this.points[r][a][0],y:this.points[r][a][1]})){let l=this.points[r][0],u=this.points[r].slice(1,a),h=this.points[r].slice(a+1,this.points[r].length);u[0]&&!h[0]?(u.splice(0,0,l),this.points.splice(r,1,u),r++):!u[0]&&h[0]?(h.splice(0,0,l),this.points.splice(r,1,h)):u[0]&&h[0]?(u.splice(0,0,l),h.splice(0,0,l),this.points.splice(r,1,u,h),r++):!u[0]&&!h[0]&&this.points.splice(r,1),a=1}}processTouch(){var e=this;return N(function*(){if(null===e.touch)return;const t=e.host.nativeElement.getBoundingClientRect();if("start"===e.touch.action&&!e.stopDrawing){const s=(e.touch.x-t.x)/t.width,o=(e.touch.y-t.y)/t.height;"pen"===e.tool?(e.points.push([e.color]),e.checkBan(s,o)?(e.points[e.points.length-1].push([s+3/e.width,o]),e.points[e.points.length-1].push([s,o])):e.stopDrawing=!0):"eraser"===e.tool&&e.doErase(s,o),e.setImage()}if("move"===e.touch.action&&!e.stopDrawing){const s=(e.touch.x-t.x)/t.width,o=(e.touch.y-t.y)/t.height;"pen"===e.tool?e.checkBan(s,o)?e.points[e.points.length-1].push([s,o]):e.stopDrawing=!0:"eraser"===e.tool&&e.doErase(s,o),e.setImage()}if("end"===e.touch.action){e.stopDrawing=!1,e.points=e.points.filter(o=>o.length>1);let s=e.host.nativeElement.querySelectorAll("svg");for(let o=0;o<s.length-1;o++)s[o].remove()}})()}setImage(){this.points=this.points.filter(s=>s.length>1);let e=this.linerSvgService.getSvg(this.width,this.height,this.points);e.style.width=`${this.width}px`,e.style.height=`${this.height}px`;let t=this.host.nativeElement.querySelectorAll("svg");for(let s=0;s<t.length;s++)t[s].style.display="none";this.host.nativeElement.appendChild(e)}getImage(){return this.save.emit(this.points),new Promise(e=>e())}ngOnInit(){}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch(),e.points&&e.points.previousValue!==e.points.currentValue&&e.points.currentValue&&e.points.currentValue!==[]&&(this.cachedPoints=[...this.points],this.setImage()),e.sublimereset&&e.sublimereset.previousValue!==e.sublimereset.currentValue&&void 0!==e.sublimereset.previousValue&&(this.points=[...this.cachedPoints],this.setImage()),e.sublimesave&&e.sublimesave.previousValue!==e.sublimesave.currentValue&&void 0!==e.sublimesave.previousValue&&this.getImage()}}return i.\u0275fac=function(e){return new(e||i)(D($r),D(W),D(Pe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-draw-svg"]],hostVars:4,hostBindings:function(e,t){2&e&&y("width",t.width,"px")("height",t.height,"px")},inputs:{width:"width",height:"height",touch:"touch",points:"points",tool:"tool",color:"color",ban:"ban",sublimereset:"sublimereset",sublimesave:"sublimesave"},outputs:{save:"save"},features:[ie],decls:0,vars:0,template:function(e,t){},styles:[""]}),i})(),uN=(()=>{class i{constructor(e,t){this.gettargethtmlservice=e,this.locationService=t,this.gift={},this.touch=null,this.tool="pen",this.color="#fff",this.sublimereset=!1,this.sublimesave=!1,this.close=new U,this.save=new U,this.touchcanvas=null,this.under={x:0,y:0,w:0,h:0},this.canvas={x:0,y:0,w:0,h:0},this.flagdbltap=!1,this.timeoutdbltap=setTimeout(()=>{},0),this.modemove="",this.startposunder=[0,0],this.startposcanvas=[0,0]}setSize(){this.under.w=.9*window.innerWidth,this.under.h=this.under.w/(297/420),this.under.x=this.under.w/2+(window.innerWidth-this.under.w)/2,this.under.y=(window.innerHeight-this.under.h)/2+.1*this.under.h,this.canvas.w=this.under.w,this.canvas.h=.2*this.under.h,this.canvas.x=this.under.x-this.under.w/2,this.canvas.y=this.under.y+this.under.h/2-this.canvas.h+1}processTouch(){null!==this.touch&&("start"===this.touch.action&&(this.gettargethtmlservice.get(this.touch.target,"canvas")?(this.modemove="canvas",this.touchcanvas=this.touch):(this.startposunder=[this.under.x,this.under.y],this.startposcanvas=[this.canvas.x,this.canvas.y],this.modemove="shift")),"move"===this.touch.action&&("canvas"===this.modemove?this.touchcanvas=this.touch:"shift"===this.modemove&&(this.canvas.x=this.startposcanvas[0]+this.touch.x-this.touch.start.x,this.canvas.y=this.startposcanvas[1]+this.touch.y-this.touch.start.y,this.under.x=this.startposunder[0]+this.touch.x-this.touch.start.x,this.under.y=this.startposunder[1]+this.touch.y-this.touch.start.y,this.under.x<-this.under.w/2&&(this.under.x=-this.under.w/2,this.canvas.x=this.under.x+(this.startposcanvas[0]-this.startposunder[0])),this.under.x>window.innerWidth+this.under.w/2&&(this.under.x=window.innerWidth+this.under.w/2,this.canvas.x=this.under.x+(this.startposcanvas[0]-this.startposunder[0])),this.under.y<-this.under.h/2&&(this.under.y=-this.under.h/2,this.canvas.y=this.under.y+(this.startposcanvas[1]-this.startposunder[1])),this.under.y>window.innerHeight+this.under.h/2&&(this.under.y=window.innerHeight+this.under.h/2,this.canvas.y=this.under.y+(this.startposcanvas[1]-this.startposunder[1])))),"end"===this.touch.action&&!1===this.touch.drag&&(!0===this.flagdbltap?(this.dbltap(),this.flagdbltap=!1):(this.flagdbltap=!0,clearTimeout(this.timeoutdbltap),this.timeoutdbltap=setTimeout(()=>{this.flagdbltap=!1},200))),"end"===this.touch.action&&"canvas"===this.modemove&&(this.touchcanvas=this.touch))}dbltap(){this.close.emit()}ngOnInit(){this.setSize()}savedraw(e){this.save.emit(e)}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch()}}return i.\u0275fac=function(e){return new(e||i)(D(Bi),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-sign-greetingcard"]],inputs:{gift:"gift",touch:"touch",tool:"tool",color:"color",sublimereset:"sublimereset",sublimesave:"sublimesave"},outputs:{close:"close",save:"save"},features:[ie],decls:6,vars:27,consts:[[1,"greetingcard",3,"size","back","text","color"],[1,"canvas",3,"touch","tool","color","width","height","points","sublimereset","sublimesave","save"],[1,"background"],[1,"bright"],[1,"hint"]],template:function(e,t){1&e&&(_(0,"app-greeting-card",0),d(1,"app-touch-draw-svg",1),C("save",function(o){return t.savedraw(o)}),p(),_(2,"div",2),_(3,"div",3),d(4,"div",4),P(5),p()),2&e&&(y("transform","translateX("+t.under.x+"px) translateY("+t.under.y+"px) translateZ(0px) rotateY(180deg)"),g("size",t.under.w)("back",null==t.gift?null:t.gift.back)("text",null==t.gift?null:t.gift.text)("color",null==t.gift?null:t.gift.color),c(1),y("transform","translateX("+t.canvas.x+"px) translateY("+t.canvas.y+"px) translateZ(1000px)"),g("touch",t.touchcanvas)("tool",t.tool)("color",t.color)("width",t.canvas.w)("height",t.canvas.h)("points",null==t.gift?null:t.gift.sign)("sublimereset",t.sublimereset)("sublimesave",t.sublimesave),c(1),y("transform","translateZ(998px)"),c(1),y("width",t.canvas.w+"px")("height",t.canvas.h+"px")("transform","translateX("+t.canvas.x+"px) translateY("+t.canvas.y+"px) translateZ(999px)"),c(1),y("transform","translateZ(1001px)"),c(1),O(t.locationService.translate("double tap to menu","\u0434\u0432\u043e\u0439\u043d\u043e\u0435 \u043d\u0430\u0436\u0430\u0442\u0438 \u0434\u043b\u044f \u0432\u044b\u0445\u043e\u0434\u0430 \u0432 \u043c\u0435\u043d\u044e")))},directives:[Vs,d0],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%] > .greetingcard[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px}[_nghost-%COMP%] > .canvas[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px}[_nghost-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;width:100%;height:100%;background-color:#0009}[_nghost-%COMP%] > .bright[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;backdrop-filter:brightness(2.5)}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:0px;width:100%;text-align:center;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:12px;color:#fff;user-select:none}"]}),i})();const cN=["*"];let hN=(()=>{class i{constructor(e,t,s){this.host=e,this.asyncService=t,this.locationService=s,this.touch=null,this.sublimerefresh=!1,this.scroll=0,this.velocity=0,this.timeoutVelocity=setTimeout(()=>{},0),this.canScroll=!1}init(){const e=this.host.nativeElement;e.getBoundingClientRect();let s=e.querySelectorAll(".content > *");e.querySelector(".content").prepend(s[s.length-1].cloneNode(!0)),e.querySelector(".content").appendChild(s[0].cloneNode(!0))}setSize(){const e=this.host.nativeElement,t=e.getBoundingClientRect();let s=e.querySelectorAll(".content > *");for(let o of s)o.style.width=`${t.width}px`,o.style.height=`${t.height}px`,o.style.display="flex",o.style.flexDirection="column",o.style.alignItems="center",o.style.justifyContent="center";this.doScrollByPosition(0,!1)}doScrollByPosition(e,t){var s=this;return N(function*(){const o=s.host.nativeElement,r=o.getBoundingClientRect(),a=o.querySelector(".content > *:first-child");t?(a.style.transition="margin-top ease 0.3s",yield s.asyncService.delay(10),a.style.marginTop=-(e+1)*r.height+"px",yield s.asyncService.delay(300),a.style.removeProperty("transition")):a.style.marginTop=-(e+1)*r.height+"px",s.scroll=-(e+1)*r.height;const l=o.querySelectorAll(".content > *").length-2;return-1===e?s.doScrollByPosition(l-1,!1):e===l&&s.doScrollByPosition(0,!1),new Promise(u=>u())})()}doScrollByTouch(e){if(null!==e&&"move"===e.action&&"start"===e.prev.action&&(this.canScroll=!(Math.abs(e.x-e.prev.x)>Math.abs(e.y-e.prev.y))),null!==e&&"move"===e.action&&this.canScroll){const t=e.y-e.start.y;this.velocity=e.y-e.prev.y,this.timeoutVelocity=setTimeout(()=>{this.velocity=0},100),this.host.nativeElement.querySelector(".content > *:first-child").style.marginTop=`${this.scroll+t}px`}if(null!==e&&"end"===e.action&&this.canScroll){const s=this.host.nativeElement.getBoundingClientRect();this.scroll+=e.y-e.start.y,0===this.velocity?this.doScrollByPosition(-this.scroll%s.height>s.height/2?Math.floor(-this.scroll/s.height):Math.floor(-this.scroll/s.height)-1,!0):this.velocity<0?this.doScrollByPosition(Math.floor(-this.scroll/s.height),!0):this.velocity>0&&this.doScrollByPosition(Math.floor(-this.scroll/s.height)-1,!0)}}ngOnInit(){this.init()}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.doScrollByTouch(e.touch.currentValue),e.sublimerefresh&&e.sublimerefresh.previousValue!==e.sublimerefresh.currentValue&&void 0!==e.sublimerefresh.previousValue&&this.setSize()}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(Pe),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-scroll-fragments"]],inputs:{touch:"touch",sublimerefresh:"sublimerefresh"},features:[ie],ngContentSelectors:cN,decls:4,vars:1,consts:[[1,"content"],[1,"hint"]],template:function(e,t){1&e&&(vi(),d(0,"div",0),Zn(1),p(),d(2,"div",1),P(3),p()),2&e&&(c(3),O(t.locationService.translate("swipe up/down","\u0441\u0432\u0430\u0439\u043f \u0432\u0432\u0435\u0440\u0445/\u0432\u043d\u0438\u0437")))},styles:["[_nghost-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{position:absolute;bottom:10px;font-size:12px;width:100%;color:#999;text-align:center;display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none}"]}),i})(),dN=(()=>{class i{constructor(){this.usualColor="#999999",this.recordColor="#d93025",this.recording=!1}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Q({type:i,selectors:[["app-svg-micro"]],inputs:{recording:"recording"},decls:5,vars:4,consts:[["viewBox","0 0 200 200","xmlns","http://www.w3.org/2000/svg"],["x","70","y","20","width","60","height","120","rx","30"],["x1","70","y1","180","x2","130","y2","180","stroke-width","10"],["x1","100","y1","150","x2","100","y2","180","stroke-width","10"],["d","M 60 80\n  C 60 120, 60 150, 100 150\n  C 140 150, 140 120, 140 80","fill","transparent","stroke-width","10"]],template:function(e,t){1&e&&(fi(),d(0,"svg",0),_(1,"rect",1),_(2,"line",2),_(3,"line",3),_(4,"path",4),p()),2&e&&(c(1),Ue("fill",t.recording?t.recordColor:t.usualColor),c(1),Ue("stroke",t.recording?t.recordColor:t.usualColor),c(1),Ue("stroke",t.recording?t.recordColor:t.usualColor),c(1),Ue("stroke",t.recording?t.recordColor:t.usualColor))},styles:["[_nghost-%COMP%]{width:200px;height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{width:100px;height:100px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:all ease .3s}"]}),i})();function pN(i,n){if(1&i&&(d(0,"div"),_(1,"app-svg-micro",6),p()),2&i){const e=b();Ms("recording"===e.status?"wrapMicro recording":"wrapMicro"),y("animation-name","recording"===e.status?"shadow":"none"),c(1),g("recording","recording"===e.status)}}function fN(i,n){1&i&&_(0,"div",7)}function gN(i,n){1&i&&_(0,"div",8),2&i&&y("height",n.$implicit,"px")}let mN=(()=>{class i{constructor(e,t,s,o){this.asyncService=e,this.host=t,this.getTargetHtmlService=s,this.locationService=o,this.status="waiting",this.error="",this.sounds=[],this.chunks=[],this.confirm="",this.timer=0,this.interval=setInterval(()=>{},1e6),this.sublimestop=!1,this.save=new U}onClick(e){null===this.getTargetHtmlService.get(e.target,"APP-TOUCH-CONFIRM")&&("waiting"===this.status?this.start():"recording"===this.status&&this.stop())}init(){return N(function*(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}):new Promise((e,t)=>t("Your browser does not support microphone recording"))})()}start(){var e=this;return N(function*(){if(e.chunks[0])e.confirm="Overwrite?";else try{let t=yield e.init();e.audioCtx=new AudioContext,e.analyser=e.audioCtx.createAnalyser(),e.analyser.fftSize=2048,e.audioCtx.createMediaStreamSource(t).connect(e.analyser),e.recorder=new MediaRecorder(t),e.status="recording",e.recorder.ondataavailable=s=>{e.chunks.push(s.data),e.save.emit(e.chunks)},e.recorder.start(),e.listen(),e.timer=50,e.interval=setInterval(()=>{e.timer--,e.timer<=0&&e.stop()},1e3)}catch(t){e.error="NotAllowedError: Permission denied"===t.toString()||"NotAllowedError: Permission dismissed"===t.toString()?e.locationService.translate("Microphone not allowed","\u041c\u0438\u043a\u0440\u043e\u0444\u043e\u043d \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d"):t}})()}stop(){this.timer=0,clearInterval(this.interval),this.status="waiting",this.recorder.stop(),this.recorder.stream.getTracks().forEach(e=>e.stop())}listen(){var e=this;return N(function*(){for(;"recording"===e.status;){let s=new Uint8Array(e.analyser.frequencyBinCount);e.analyser.getByteFrequencyData(s);let o=0;for(var t=0;t<s.length;t++)o+=s[t]**2;o/=s.length,o=Math.sqrt(o),e.addSound(o),yield e.asyncService.delay(200)}})()}addSound(e){this.sounds.push(e)}resultconfirm(e){"agree"===e?(this.chunks=[],this.sounds=[],this.start()):"reject"===e&&(this.confirm="")}ngOnInit(){}ngOnChanges(e){e.sublimestop&&e.sublimestop.previousValue!==e.sublimestop.currentValue&&void 0!==e.sublimestop.previousValue&&this.stop()}}return i.\u0275fac=function(e){return new(e||i)(D(Pe),D(W),D(Bi),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-micro"]],hostBindings:function(e,t){1&e&&C("click",function(o){return t.onClick(o)})},inputs:{sublimestop:"sublimestop"},outputs:{save:"save"},features:[ie],decls:9,vars:8,consts:[[3,"class","animationName",4,"ngIf"],["class","error",4,"ngIf"],[1,"hint"],[1,"track"],["class","sound",3,"height",4,"ngFor","ngForOf"],[3,"value","result"],[3,"recording"],[1,"error"],[1,"sound"]],template:function(e,t){1&e&&(d(0,"div"),P(1),p(),T(2,pN,2,5,"div",0),T(3,fN,1,0,"div",1),d(4,"div",2),P(5),p(),d(6,"div",3),T(7,gN,1,2,"div",4),p(),d(8,"app-touch-confirm",5),C("result",function(o){return t.resultconfirm(o)}),p()),2&e&&(Ms(t.timer>0?t.timer<=5?"timer hurryup":"timer":"timer hidden"),c(1),Ae(" ",t.timer," "),c(1),g("ngIf",""===t.error),c(1),g("ngIf",""!==t.error),c(2),O(""===t.error?"recording"===t.status?t.locationService.translate("Tap to stop","\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"):t.locationService.translate("Tap to start","\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c"):t.error),c(2),g("ngForOf",t.sounds),c(1),g("value",t.confirm))},directives:[ot,zt,wg,dN],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .timer[_ngcontent-%COMP%]{position:absolute;top:50px;width:100%;text-align:center;display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:20px;transition:all ease .3s}[_nghost-%COMP%] > .timer.hidden[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%] > .timer.hurryup[_ngcontent-%COMP%]{animation-name:hurryup;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;color:#d93025}[_nghost-%COMP%] > .wrapMicro[_ngcontent-%COMP%]{width:200px;height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:100px;transition:all ease .3s;animation-name:none;animation-duration:3s;animation-timing-function:ease;animation-iteration-count:infinite}[_nghost-%COMP%] > .wrapMicro.recording[_ngcontent-%COMP%]{animation-name:shadow}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{margin:50px 40px 10px;font-size:12px;color:#999;text-align:center}[_nghost-%COMP%] > .error[_ngcontent-%COMP%]{width:100px;height:100px;margin:50px;background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(cross.0bf1b6052953de20.svg)}[_nghost-%COMP%] > .track[_ngcontent-%COMP%]{position:absolute;bottom:0px;width:100%;height:100px;display:flex;flex-direction:row;align-items:center;justify-content:flex-end;overflow:hidden}[_nghost-%COMP%] > .track[_ngcontent-%COMP%] > .sound[_ngcontent-%COMP%]{flex-shrink:0;width:1px;background-color:#999;margin:0 1px}@keyframes shadow{0%{box-shadow:0 0 5px -5px #d9302599}50%{box-shadow:0 0 5px 10px #d9302599}to{box-shadow:0 0 5px -5px #d9302599}}@keyframes hurryup{0%{transform:scale(1)}50%{transform:scale(2)}to{transform:scale(1)}}"]}),i})(),_N=(()=>{class i{constructor(e,t,s,o){this.host=e,this.asyncService=t,this.getTargetHtmlService=s,this.locationService=o,this.gift=null,this.close=new U,this.size=200,this.xcoord=0,this.ycoord=0,this.button="none",this.timer=null,this.intervalForTime=setInterval(()=>{},1e5),this.memory=[0,0]}setSize(){this.size=1.5*window.innerWidth}tryPlay(){var e=this;return N(function*(){try{yield e.audio.play(),e.timer="loading",clearInterval(e.intervalForTime),e.intervalForTime=setInterval(()=>{e.setTime()},1e3)}catch(t){yield e.asyncService.delay(500),e.tryPlay()}})()}pause(){this.audio.pause(),clearInterval(this.intervalForTime)}processTouch(){if(this.touch){if("start"===this.touch.action&&(this.memory=[this.xcoord,this.ycoord]),"move"===this.touch.action){let e=this.memory[0]+this.touch.x-this.touch.start.x,t=this.memory[1]+this.touch.y-this.touch.start.y;e<-window.innerWidth/2-this.size/2&&(e=-window.innerWidth/2-this.size/2),e>window.innerWidth/2+this.size/2&&(e=window.innerWidth/2+this.size/2),t<-window.innerHeight/2-this.size/(299/136)/2&&(t=-window.innerHeight/2-this.size/(299/136)/2),t>window.innerHeight/2+this.size/(299/136)/2&&(t=window.innerHeight/2+this.size/(299/136)/2),this.xcoord=e,this.ycoord=t}if("end"===this.touch.action&&!this.touch.drag){const e=this.getTargetHtmlService.get(this.touch.target,"button");null===e?(this.pause(),this.close.emit()):"play"===e.classList[1]?(this.button="play",this.tryPlay()):"pause"===e.classList[1]?(this.button="pause",this.pause()):"prev"===e.classList[1]?(this.button="prev",this.audio.currentTime-=5,this.setTime(),setTimeout(()=>{this.button="none"},200)):"next"===e.classList[1]&&(this.button="next",this.audio.currentTime+=5,this.setTime(),setTimeout(()=>{this.button="none"},200))}}}setTime(){this.timer=this.audio.duration===1/0?"loading":Math.ceil(this.audio.duration-this.audio.currentTime)}ngOnInit(){this.setSize()}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch(),e.value&&e.value.previousValue!==e.value.currentValue&&null!==e.value.currentValue&&e.value.currentValue[0]&&(this.audio=new Audio(URL.createObjectURL(e.value.currentValue[0])),this.audio.onended=()=>{this.audio.play()})}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(Pe),D(Bi),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-listen"]],inputs:{touch:"touch",value:"value",gift:"gift"},outputs:{close:"close"},features:[ie],decls:6,vars:9,consts:[[1,"wrap"],[3,"size","timer","button","grill","color"],[1,"hint"]],template:function(e,t){1&e&&(d(0,"div",0),_(1,"app-speaker",1),p(),d(2,"div",2),P(3),_(4,"br"),P(5),p()),2&e&&(y("transform","translateX("+t.xcoord+"px) translateY("+t.ycoord+"px)"),c(1),g("size",t.size)("timer",t.timer?t.timer:null)("button",t.button)("grill",t.gift&&t.gift.grill?t.gift.grill:"../../assets/speaker/grill/0.jpg")("color",t.gift&&t.gift.color?t.gift.color:"#ff5722"),c(2),O(t.locationService.translate("tap to buttons to listen","\u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0438, \u0447\u0442\u043e\u0431\u044b \u0441\u043b\u0443\u0448\u0430\u0442\u044c")),c(2),O(t.locationService.translate("tap anywhere else to close","\u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0432 \u043b\u044e\u0431\u043e\u043c \u0434\u0440\u0443\u0433\u043e\u043c \u043c\u0435\u0441\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0439\u0442\u0438")))},directives:[Mo],styles:["[_nghost-%COMP%] > .player[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{position:absolute;bottom:20px;width:100%;text-align:center;user-select:none;color:#999;font-size:12px;display:flex;flex-direction:row;align-items:center;justify-content:center}"]}),i})();function vN(i,n){if(1&i&&_(0,"video",11),2&i){const e=b();y("opacity",e.opacityVideo),g("muted","muted"),Ue("width",e.width+"px")("height",e.height+"px")}}function yN(i,n){1&i&&_(0,"div",12)}function CN(i,n){if(1&i&&(d(0,"div",13),_(1,"div",14),d(2,"div",9),P(3),p(),p()),2&i){const e=b();c(3),O(e.error)}}let bN=(()=>{class i{constructor(e,t){this.host=e,this.locationService=t,this.setinit=!1,this.loading=!0,this.error="",this.width=0,this.height=0,this.text="",this.status="none",this.confirm="",this.chunks=[],this.timer=0,this.interval=setInterval(()=>{},1e6),this.save=new U,this.backgroundColor="#ffffff",this.opacityVideo="0"}onClick(){""===this.confirm&&("waiting"===this.status?this.startRecord():"recording"===this.status&&this.stopRecord())}init(){return N(function*(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!0}):new Promise((e,t)=>t("Your browser does not support microphone recording"))})()}setSize(){let e=this.host.nativeElement.querySelector(".preview"),t=e.videoWidth/e.videoHeight,s=window.innerWidth/window.innerHeight;s>t?(this.height=window.innerHeight,this.width=window.innerHeight*t):s<=t&&(this.width=window.innerWidth,this.height=window.innerWidth/t)}startRecord(){this.chunks[0]?this.confirm=this.locationService.translate("Overwrite?","\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c?"):(this.timer=30,this.interval=setInterval(()=>{this.timer--,this.timer<=0&&this.stopRecord()},1e3),this.status="recording",this.text=this.locationService.translate("tap to stop record","\u043d\u0430\u0436\u0430\u0442\u044c \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"),this.host.nativeElement.querySelector(".hint > .rec > circle:nth-child(1) > animate").beginElement(),this.host.nativeElement.querySelector(".hint > .rec > circle:nth-child(2) > animate").beginElement(),setTimeout(()=>{this.recorder.start()},100))}stopRecord(){clearInterval(this.interval),this.status="waiting",this.timer=0,this.text=this.locationService.translate("tap to start record","\u043d\u0430\u0436\u0430\u0442\u044c \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"),this.host.nativeElement.querySelector(".hint > .rec > circle:nth-child(1) > animate").endElement(),this.host.nativeElement.querySelector(".hint > .rec > circle:nth-child(2) > animate").endElement(),this.recorder.stop()}resultconfirm(e){"agree"===e?(this.chunks=[],setTimeout(()=>{this.confirm="",this.startRecord()},100)):"reject"===e&&(this.confirm="")}start(){var e=this;return N(function*(){try{let t=yield e.init(),s=e.host.nativeElement.querySelector(".preview");s.setAttribute("muted","true"),s.srcObject=t,s.captureStream=s.captureStream||s.mozCaptureStream,s.onplay=()=>{e.text=e.locationService.translate("tap to start record","\u043d\u0430\u0436\u0430\u0442\u044c \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"),e.backgroundColor="#000000",e.opacityVideo="1",e.setSize(),e.status="waiting",e.loading=!1},e.recorder=new MediaRecorder(t),e.recorder.ondataavailable=o=>{e.chunks.push(o.data),e.save.emit(e.chunks)}}catch(t){e.error="NotAllowedError: Permission denied"===t.toString()||"NotAllowedError: Permission dismissed"===t.toString()?e.locationService.translate("Webcam not allowed","\u0412\u0435\u0431-\u043a\u0430\u043c\u0435\u0440\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430"):t}})()}uninit(){this.recorder.stream.getTracks().forEach(e=>e.stop())}createVideo(){let e=document.createElement("video");e.setAttribute("control",""),e.setAttribute("autoplay",""),e.setAttribute("width","200px"),e.setAttribute("height","200px"),e.style.position="absolute",e.style.zIndex="10000";let t=new Blob(this.chunks,{type:"video/webm"});e.src=URL.createObjectURL(t),document.body.appendChild(e)}ngOnInit(){}ngOnChanges(e){e.setinit&&e.setinit.previousValue!==e.setinit.currentValue&&void 0!==e.setinit.previousValue&&(e.setinit.currentValue?this.start():"none"!==this.status&&this.uninit())}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-web-camera"]],hostVars:2,hostBindings:function(e,t){1&e&&C("click",function(){return t.onClick()}),2&e&&y("background-color",t.backgroundColor)},inputs:{setinit:"setinit"},outputs:{save:"save"},features:[ie],decls:14,vars:10,consts:[["class","preview","autoplay","",3,"muted","opacity",4,"ngIf"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],[1,"hint"],["viewBox","0 0 30 30","xmlns","http://www.w3.org/2000/svg",1,"rec"],["cx","15","cy","15","r","6","fill","#ffffff"],["attributeName","fill","values","#ffffff; #d93025; #ffffff","dur","2s","repeatCount","indefinite","begin","indefinite"],["cx","15","cy","15","r","10","fill","transparent","stroke","#fff","stroke-width","2"],["attributeName","stroke","values","#ffffff; #d93025; #ffffff","dur","2s","repeatCount","indefinite","begin","indefinite"],[1,"text"],[3,"value","result"],["autoplay","",1,"preview",3,"muted"],[1,"loading"],[1,"error"],[1,"icon"]],template:function(e,t){1&e&&(d(0,"div"),P(1),p(),T(2,vN,1,5,"video",0),T(3,yN,1,0,"div",1),T(4,CN,4,1,"div",2),d(5,"div",3),fi(),d(6,"svg",4),d(7,"circle",5),_(8,"animate",6),p(),d(9,"circle",7),_(10,"animate",8),p(),p(),uo(),d(11,"div",9),P(12),p(),p(),d(13,"app-touch-confirm",10),C("result",function(o){return t.resultconfirm(o)}),p()),2&e&&(Ms(t.timer>0?t.timer<=5?"timer hurryup":"timer":"timer hidden"),c(1),Ae(" ",t.timer," "),c(1),g("ngIf",""===t.error),c(1),g("ngIf",t.loading&&!t.error),c(1),g("ngIf",""!==t.error),c(1),y("opacity",t.opacityVideo),c(7),O(t.text),c(1),g("value",t.confirm))},directives:[ot,wg],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all ease .3s}[_nghost-%COMP%] > .loading[_ngcontent-%COMP%]{width:100px;height:100px;background-image:url(loading.07aa785054084df7.svg);background-position:center;background-size:contain;background-repeat:no-repeat;z-index:100}[_nghost-%COMP%] > .timer[_ngcontent-%COMP%]{position:absolute;top:50px;width:100%;text-align:center;display:flex;color:#fff;flex-direction:row;align-items:center;justify-content:center;font-size:20px;transition:all ease .3s}[_nghost-%COMP%] > .timer.hidden[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%] > .timer.hurryup[_ngcontent-%COMP%]{animation-name:hurryup;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;color:#d93025}[_nghost-%COMP%] > .preview[_ngcontent-%COMP%]{opacity:0;position:absolute;transition:all ease .3s}[_nghost-%COMP%] > .error[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:50px;background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(cross.0bf1b6052953de20.svg)}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:14px;color:#000;text-align:center}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{opacity:0;position:absolute;bottom:20px;display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .rec[_ngcontent-%COMP%]{width:30px;height:30px;margin:10px}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{color:#fff;font-size:12px;text-align:center;user-select:none}@keyframes hurryup{0%{transform:scale(1)}50%{transform:scale(2)}to{transform:scale(1)}}"]}),i})();function wN(i,n){1&i&&_(0,"div",3),2&i&&y("background-image","url(../../assets/play-gray.svg)")}function kN(i,n){1&i&&_(0,"div",3),2&i&&y("background-image","url(../../assets/pause-gray.svg)")}let xN=(()=>{class i{constructor(e,t,s){this.touch2Service=e,this.host=t,this.locationService=s,this.size=200,this.obs=null,this.canMove=!1,this.ycoord=0,this.ymemory=0,this.control="none",this.pause=!0,this.dblflag=!1,this.dbltimeout=setTimeout(()=>{},0),this.active=!1,this.video=""}processTouch(e){if("move"===e.action&&"start"===e.prev.action&&(Math.abs(e.x-e.prev.x)>Math.abs(e.y-e.prev.y)?this.canMove=!1:(this.canMove=!0,this.ymemory=this.ycoord)),"end"===e.action&&(this.dblflag?this.dblflag&&(this.dblflag=!1,this.dodbl(e)):(this.dblflag=!0,this.dbltimeout=setTimeout(()=>{this.dblflag&&!1===e.drag&&this.dotap(e),this.dblflag=!1},200))),"move"===e.action&&(this.dblflag=!1),"move"===e.action&&this.canMove){let t=this.ymemory+(e.y-e.start.y);t>window.innerHeight/2&&(t=window.innerHeight/2),t<-window.innerHeight/2&&(t=-window.innerHeight/2),this.ycoord=t}}dotap(e){this.pause?this.control="play":this.pause||(this.control="pause"),this.pause=!this.pause,setTimeout(()=>{this.control="none"},200)}dodbl(e){this.control=e.x>window.innerWidth/2?"next":"prev",setTimeout(()=>{this.control="none"},200)}setSize(){this.size=window.innerWidth/window.innerHeight>247/178?.9*window.innerHeight*(247/178):.9*window.innerWidth}ngOnInit(){}ngOnChanges(e){e.active&&e.active.previousValue!==e.active.currentValue&&(e.active.currentValue?(this.setSize(),this.obs=this.touch2Service.listen(this.host.nativeElement).subscribe(t=>{this.processTouch(t)})):null!==this.obs&&this.obs.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(D(Yr),D(W),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-watch"]],inputs:{active:"active",video:"video"},features:[ie],decls:15,vars:14,consts:[[3,"video","size","control"],[1,"hint"],[1,"hint__block"],[1,"hint__icon"],[1,"hint__text"],["class","hint__icon",3,"backgroundImage",4,"ngIf"]],template:function(e,t){1&e&&(_(0,"app-tablet",0),d(1,"div",1),d(2,"div",2),_(3,"div",3),d(4,"div",4),P(5),p(),p(),d(6,"div",2),T(7,wN,1,2,"div",5),T(8,kN,1,2,"div",5),d(9,"div",4),P(10),p(),p(),d(11,"div",2),d(12,"div",4),P(13),p(),_(14,"div",3),p(),p()),2&e&&(y("transform","translateY("+t.ycoord+"px)"),g("video",t.video)("size",t.size)("control",t.control),c(3),y("background-image","url(../../assets/prev-gray.svg)"),c(2),O(t.locationService.translate("double tap","\u0434\u0432\u0430 \u043a\u043b\u0438\u043a\u0430")),c(2),g("ngIf",t.pause),c(1),g("ngIf",!t.pause),c(2),O(t.locationService.translate("tap","\u043a\u043b\u0438\u043a")),c(3),O(t.locationService.translate("double tap","\u0434\u0432\u0430 \u043a\u043b\u0438\u043a\u0430")),c(1),y("background-image","url(../../assets/next-gray.svg)"))},directives:[Eo,ot],styles:["[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{position:absolute;bottom:10px;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .hint__block[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .hint__block[_ngcontent-%COMP%] > .hint__icon[_ngcontent-%COMP%]{margin:10px;width:20px;height:20px;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .hint__block[_ngcontent-%COMP%] > .hint__text[_ngcontent-%COMP%]{font-size:12px;color:#999;text-align:center;user-select:none}"]}),i})();function DN(i,n){1&i&&_(0,"div",8)}function PN(i,n){if(1&i&&_(0,"video",9),2&i){const e=b();y("opacity",e.opacityVideo)("animation-name",e.chickchick?"takephoto":"none"),g("muted","muted"),Ue("width",e.width+"px")("height",e.height+"px")}}function SN(i,n){if(1&i&&(d(0,"div",10),_(1,"div",11),d(2,"div",12),P(3),p(),p()),2&i){const e=b();c(3),O(e.error)}}let MN=(()=>{class i{constructor(e,t,s,o){this.asyncService=e,this.host=t,this.touch2Service=s,this.locationService=o,this.active=!1,this.save=new U,this.width=0,this.height=0,this.picture="",this.chickchick=!1,this.opacityVideo="0",this.opacityPhoto="0",this.error="",this.canMove=!1,this.ycoord=0,this.memory=0,this.velocity=0,this.timeoutvelocity=setTimeout(()=>{},0),this.loading=!0}onClick(){if("0"===this.opacityPhoto){const e=this.host.nativeElement.querySelector(".preview");this.host.nativeElement.querySelector(".photo"),this.takePhoto();const s=document.createElement("canvas"),o=s.getContext("2d");s.setAttribute("width",e.videoWidth+"px"),s.setAttribute("height",e.videoHeight+"px"),o.drawImage(e,0,0,e.videoWidth,e.videoHeight),this.picture=s.toDataURL("png/image",1)}else"1"===this.opacityPhoto&&(this.opacityPhoto="0",this.opacityVideo="1",this.save.emit(this.picture))}init(){return N(function*(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!0}):new Promise((e,t)=>t("Your browser does not support microphone recording"))})()}takePhoto(){var e=this;return N(function*(){return e.chickchick=!0,yield e.asyncService.delay(1e3),e.chickchick=!1,e.opacityPhoto="1",e.opacityVideo="0",e.ycoord=0,yield e.asyncService.delay(300),new Promise(t=>t())})()}start(){var e=this;return N(function*(){try{let t=yield e.init(),s=e.host.nativeElement.querySelector(".preview");s.srcObject=t,s.captureStream=s.captureStream||s.mozCaptureStream,s.onplay=()=>{e.setSize(),e.opacityVideo="1",e.loading=!1},e.recorder=new MediaRecorder(t)}catch(t){e.error="NotAllowedError: Permission denied"===t.toString()||"NotAllowedError: Permission dismissed"===t.toString()?e.locationService.translate("Webcam not allowed","\u041a\u0430\u043c\u0435\u0440\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430"):t}})()}setSize(){let e=this.host.nativeElement.querySelector(".preview"),t=e.videoWidth/e.videoHeight,s=window.innerWidth/window.innerHeight;s>t?(this.height=window.innerHeight,this.width=window.innerHeight*t):s<=t&&(this.width=window.innerWidth,this.height=window.innerWidth/t)}uninit(){this.recorder.stream.getTracks().forEach(e=>e.stop())}closePhoto(){var e=this;return N(function*(){return e.host.nativeElement.querySelector(".photo").style.transition="all ease 0.3s",e.ycoord=-window.innerHeight,yield e.asyncService.delay(300),e.opacityPhoto="0",e.picture="",e.opacityVideo="1",yield e.asyncService.delay(300),e.host.nativeElement.querySelector(".photo").style.removeProperty("transition"),new Promise(t=>t())})()}remainPhoto(){var e=this;return N(function*(){return e.host.nativeElement.querySelector(".photo").style.transition="all ease 0.3s",yield e.asyncService.delay(10),e.ycoord=0,yield e.asyncService.delay(300),e.host.nativeElement.querySelector(".photo").style.removeProperty("transition"),new Promise(t=>t())})()}processTouch(e){if("move"===e.action&&"start"===e.prev.action&&(Math.abs(e.x-e.prev.x)<Math.abs(e.y-e.prev.y)?(this.canMove=!0,this.memory=this.ycoord):this.canMove=!1),"move"===e.action&&this.canMove&&"1"===this.opacityPhoto){this.velocity=e.y-e.prev.y,clearTimeout(this.timeoutvelocity),this.timeoutvelocity=setTimeout(()=>{this.velocity=0},100);let t=this.memory+(e.y-e.start.y);t>0&&(t=0),t<-window.innerHeight/2&&(t=-window.innerHeight/2),this.ycoord=t}"end"===e.action&&this.canMove&&"1"===this.opacityPhoto&&(0===this.velocity?this.ycoord<-window.innerHeight/4?this.closePhoto():this.ycoord>-window.innerHeight/4&&this.remainPhoto():this.velocity>0?this.remainPhoto():this.velocity<0&&this.closePhoto())}ngOnInit(){}ngOnChanges(e){e.active&&e.active.previousValue!==e.active.currentValue&&null!=e.active.previousValue&&(e.active.currentValue?(this.start(),this.obs=this.touch2Service.listen(this.host.nativeElement).subscribe(t=>this.processTouch(t))):(this.uninit(),this.obs.unsubscribe()))}}return i.\u0275fac=function(e){return new(e||i)(D(Pe),D(W),D(Yr),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-take-picture"]],hostBindings:function(e,t){1&e&&C("click",function(){return t.onClick()})},inputs:{active:"active"},outputs:{save:"save"},features:[ie],decls:11,vars:24,consts:[["class","loading",4,"ngIf"],["class","preview","autoplay","",3,"muted","opacity","animationName",4,"ngIf"],[1,"photo"],["class","error",4,"ngIf"],[1,"hint"],[1,"hintCancel"],[1,"hintSave"],[1,"subtext"],[1,"loading"],["autoplay","",1,"preview",3,"muted"],[1,"error"],[1,"icon"],[1,"text"]],template:function(e,t){1&e&&(T(0,DN,1,0,"div",0),T(1,PN,1,7,"video",1),_(2,"div",2),T(3,SN,4,1,"div",3),d(4,"div",4),P(5),p(),d(6,"div",5),P(7),p(),d(8,"div",6),d(9,"div",7),P(10),p(),p()),2&e&&(g("ngIf",t.loading&&!t.error),c(1),g("ngIf",""===t.error),c(1),y("width",t.width+"px")("height",t.height+"px")("opacity",t.opacityPhoto)("animation-name",t.chickchick?"takephoto":"none")("transform","translateY("+t.ycoord+"px)")("background-image","url("+t.picture+")"),c(1),g("ngIf",""!==t.error),c(1),y("opacity",t.opacityVideo),c(1),O(t.locationService.translate("tap to take a photo","\u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0444\u043e\u0442\u043e")),c(1),y("opacity",t.opacityPhoto),c(1),O(t.locationService.translate("swipe up to cancel","\u0441\u0432\u0430\u0439\u043f \u0432\u0432\u0435\u0440\u0445 \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")),c(1),y("opacity",t.opacityPhoto),c(2),O(t.locationService.translate("tap to save","\u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))},directives:[ot],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .loading[_ngcontent-%COMP%]{width:100px;height:100px;background-image:url(loading.07aa785054084df7.svg);background-position:center;background-size:contain;background-repeat:no-repeat;z-index:100}[_nghost-%COMP%] > .preview[_ngcontent-%COMP%]{position:absolute;animation-name:none;animation-duration:1s;animation-iteration-count:1;animation-timing-function:linear;transition:all ease .3s}[_nghost-%COMP%] > .photo[_ngcontent-%COMP%]{background-size:contain;position:absolute;animation-name:none;animation-duration:1s;animation-iteration-count:1;animation-timing-function:linear}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{padding:10px 0;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;bottom:0px;text-align:center;font-size:12px;color:#fff;opacity:0;user-select:none;background-color:#0009;transition:all ease .3s}[_nghost-%COMP%] > .hintCancel[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;top:20px;text-align:center;font-size:12px;color:#fff;opacity:0;background-color:#0009;border-radius:10px;user-select:none;transition:all ease .3s}[_nghost-%COMP%] > .hintSave[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;transition:all ease .3s}[_nghost-%COMP%] > .hintSave[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:center;text-align:center;font-size:18px;color:#fff;background-color:#0009;border-radius:10px;user-select:none}[_nghost-%COMP%] > .hintSave[_ngcontent-%COMP%] > .subtext[_ngcontent-%COMP%]{margin:10px;padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:center;text-align:center;font-size:12px;color:#fff;background-color:#0009;border-radius:10px;user-select:none}[_nghost-%COMP%] > .error[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:50px;background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(cross.0bf1b6052953de20.svg)}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:14px;color:#000;text-align:center}@keyframes takephoto{0%{opacity:1}10%{opacity:0}to{opacity:1}}"]}),i})();const EN=function(){return[]};let TN=(()=>{class i{constructor(e,t,s,o){this.touch2Service=e,this.host=t,this.getTargetHtmlService=s,this.locationService=o,this.active=!1,this.tool="pen",this.color="#000000",this.gift=null,this.sublimereset=!1,this.sublimesave=!1,this.close=new U,this.save=new U,this.touch=null,this.xcoord=0,this.ycoord=0,this.width=0,this.height=0,this.actionTouch="",this.memory=[0,0],this.dblflag=!1,this.dbltimeout=setTimeout(()=>{},0)}setSize(){window.innerWidth/window.innerHeight>.75?(this.height=.9*window.innerHeight,this.width=.9*window.innerHeight*.75):window.innerWidth/window.innerHeight<=.75&&(this.width=.9*window.innerWidth,this.height=.9*window.innerWidth/.75),this.xcoord=(window.innerWidth-this.width)/2,this.ycoord=(window.innerHeight-this.height)/2}processTouch(e){if("start"===e.action&&(null===this.getTargetHtmlService.get(e.target,"bright")?(this.actionTouch="shift",this.memory=[this.xcoord,this.ycoord]):this.actionTouch="draw"),"start"===e.action||"move"===e.action)if("shift"===this.actionTouch&&"move"===e.action){let t=this.memory[0]+(e.x-e.start.x),s=this.memory[1]+(e.y-e.start.y);t<-this.width&&(t=-this.width),t>window.innerWidth&&(t=window.innerWidth),s<-this.height&&(s=-this.height),s>window.innerHeight&&(s=window.innerHeight),this.xcoord=t,this.ycoord=s}else"draw"===this.actionTouch&&(this.touch=e);"end"===e.action&&(this.dblflag?this.dblflag&&(this.dblflag=!1,this.dodbl()):(this.dblflag=!0,this.dbltimeout=setTimeout(()=>{this.dblflag=!1},200)))}dodbl(){this.close.emit()}savedraw(e){this.save.emit(e)}ngOnInit(){}ngOnChanges(e){e.active&&e.active.previousValue!==e.active.currentValue&&(e.active.currentValue?(this.setSize(),this.obs=this.touch2Service.listen(this.host.nativeElement).subscribe(t=>{this.processTouch(t)})):e.active.currentValue||this.obs&&this.obs.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(D(Yr),D(W),D(Bi),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-sign-photo"]],inputs:{active:"active",tool:"tool",color:"color",gift:"gift",sublimereset:"sublimereset",sublimesave:"sublimesave"},outputs:{close:"close",save:"save"},features:[ie],decls:7,vars:21,consts:[[1,"wrap"],[1,"photo",3,"size"],[1,"mask"],[1,"bright"],[1,"canvas",3,"touch","tool","color","width","height","points","sublimereset","sublimesave","save"],[1,"hint"]],template:function(e,t){1&e&&(d(0,"div",0),_(1,"app-photo",1),p(),d(2,"div",2),_(3,"div",3),p(),d(4,"app-touch-draw-svg",4),C("save",function(o){return t.savedraw(o)}),p(),d(5,"div",5),P(6),p()),2&e&&(y("transform","translateX("+(t.xcoord+t.width/2)+"px) translateY("+(t.ycoord+t.height/2)+"px) rotateY(180deg)"),c(1),g("size",t.width),c(2),y("width",t.width,"px")("height",t.height,"px")("transform","translateX("+t.xcoord+"px) translateY("+t.ycoord+"px)"),c(1),y("transform","translateX("+t.xcoord+"px) translateY("+t.ycoord+"px) translateZ(1000px)"),g("touch",t.touch)("tool",t.tool)("color",t.color)("width",t.width)("height",t.height)("points",null!=t.gift&&t.gift.sign?null==t.gift?null:t.gift.sign:Vt(20,EN))("sublimereset",t.sublimereset)("sublimesave",t.sublimesave),c(2),O(t.locationService.translate("double tap to menu","\u0434\u0432\u043e\u0439\u043d\u043e\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u0434\u043b\u044f \u0432\u044b\u0445\u043e\u0434\u0430 \u0432 \u043c\u0435\u043d\u044e")))},directives:[zs,d0],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]{position:absolute;transform-style:preserve-3d}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%]   .mask[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:#0006;z-index:10}[_nghost-%COMP%]   .mask[_ngcontent-%COMP%] > .bright[_ngcontent-%COMP%]{backdrop-filter:brightness(1.7)}[_nghost-%COMP%] > .canvas[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{position:absolute;width:100%;color:#fff;font-size:12px;text-align:center;display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;z-index:10;bottom:10px}"]}),i})();const p0=function(){return["/"]},Vw=function(){return{l:"us"}},ON=function(){return{l:"ru"}};let IN=(()=>{class i{constructor(){this.slideTop="show"}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Q({type:i,selectors:[["app-touch-select-location"]],hostVars:1,hostBindings:function(e,t){2&e&&Er("@slideTop",t.slideTop)},decls:13,vars:12,consts:[[1,"list"],[1,"option",3,"routerLink","queryParams"],[1,"option__icon","option__icon_us"],[1,"option__text"],[1,"option__icon","option__icon_ru"],[1,"option__icon","option__icon_world"]],template:function(e,t){1&e&&(d(0,"div",0),d(1,"a",1),_(2,"div",2),d(3,"div",3),P(4,"I'm from USA"),p(),p(),d(5,"a",1),_(6,"div",4),d(7,"div",3),P(8,"I'm from Russia"),p(),p(),d(9,"a",1),_(10,"div",5),d(11,"div",3),P(12,"I'm from another country"),p(),p(),p()),2&e&&(c(1),g("routerLink",Vt(6,p0))("queryParams",Vt(7,Vw)),c(4),g("routerLink",Vt(8,p0))("queryParams",Vt(9,ON)),c(4),g("routerLink",Vt(10,p0))("queryParams",Vt(11,Vw)))},directives:[kl],styles:["[_nghost-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:100;background-color:#fff;display:flex;flex-direction:column;align-items:stretch;justify-content:center;box-shadow:0 0 10px #ddd}[_nghost-%COMP%] > .list[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;justify-content:flex-start;overflow-y:auto;max-height:100%}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%]{padding:20px 50px;display:flex;flex-direction:row;text-decoration:none;align-items:center;justify-content:flex-start;cursor:pointer}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon[_ngcontent-%COMP%]{flex-shrink:0;margin-right:0;width:30px;height:20px;background-position:center;background-size:contain;background-repeat:no-repeat;border:1px solid #bbbbbb;border-radius:5px}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon_world[_ngcontent-%COMP%]{background-image:url(world.c4e74befe8e09023.png)}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon_us[_ngcontent-%COMP%]{background-image:url(us.737df2eb1546c000.png)}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon_ru[_ngcontent-%COMP%]{background-image:url(ru-wbw.6bd19d822e7111dc.png)}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__text[_ngcontent-%COMP%]{margin:10px;text-decoration:none;color:#333;font-size:18px}"],data:{animation:[ut("slideTop",[me(":enter",[Y({transform:"translateY(-100%)"}),le("0.5s ease",Y({transform:"translateY(0%)"}))]),me(":leave",[le("0.5s ease",Y({transform:"translateY(-100%)"}))])])]}}),i})(),AN=(()=>{class i{constructor(e){this.locationService=e,this.touch=null,this.touchRefresh=null}ngOnInit(){}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&(this.touchRefresh=this.touch)}}return i.\u0275fac=function(e){return new(e||i)(D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-empty-giftslist"]],inputs:{touch:"touch"},features:[ie],decls:7,vars:3,consts:[[3,"touch"],[1,"main"],[1,"hint"],[1,"text"],[1,"ico"]],template:function(e,t){1&e&&(_(0,"app-touch-refresh",0),d(1,"div",1),P(2),p(),d(3,"div",2),d(4,"div",3),P(5),p(),_(6,"div",4),p()),2&e&&(g("touch",t.touchRefresh),c(2),O(t.locationService.translate("EMPTY","\u041f\u0423\u0421\u0422\u041e")),c(3),O(t.locationService.translate("add gift by","\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a")))},directives:[Uc],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .main[_ngcontent-%COMP%]{margin:auto 10px 10px;font-size:40px;color:#333;text-align:center}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{margin:10px 10px auto;display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#333}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:0 10px;width:100px;height:20px;background-image:url(arrow-right-sidebar.00e44d33ba7f85d4.svg)}"]}),i})();class RN extends bt{constructor(n,e){super()}schedule(n,e=0){return this}}const fh={setInterval(...i){const{delegate:n}=fh;return((null==n?void 0:n.setInterval)||setInterval)(...i)},clearInterval(i){const{delegate:n}=fh;return((null==n?void 0:n.clearInterval)||clearInterval)(i)},delegate:void 0};class f0 extends RN{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const t=this.id,s=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(s,t,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(n,e,t=0){return fh.setInterval(n.flush.bind(n,this),t)}recycleAsyncId(n,e,t=0){if(null!=t&&this.delay===t&&!1===this.pending)return e;fh.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const t=this._execute(n,e);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let s,t=!1;try{this.work(n)}catch(o){t=!0,s=o||new Error("Scheduled action threw falsy error")}if(t)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:t}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Go(t,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const El={schedule(i){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:t}=El;t&&(n=t.requestAnimationFrame,e=t.cancelAnimationFrame);const s=n(o=>{e=void 0,i(o)});return new bt(()=>null==e?void 0:e(s))},requestAnimationFrame(...i){const{delegate:n}=El;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:n}=El;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...i)},delegate:void 0},zw={now:()=>(zw.delegate||Date).now(),delegate:void 0};class Tl{constructor(n,e=Tl.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,t){return new this.schedulerActionCtor(this,n).schedule(t,e)}}Tl.now=zw.now;class g0 extends Tl{constructor(n,e=Tl.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let t;this._active=!0;do{if(t=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,t){for(;n=e.shift();)n.unsubscribe();throw t}}}const jw=new class extends g0{flush(n){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let t,s=-1;n=n||e.shift();const o=e.length;do{if(t=n.execute(n.state,n.delay))break}while(++s<o&&(n=e.shift()));if(this._active=!1,t){for(;++s<o&&(n=e.shift());)n.unsubscribe();throw t}}}(class extends f0{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,t=0){return null!==t&&t>0?super.requestAsyncId(n,e,t):(n.actions.push(this),n._scheduled||(n._scheduled=El.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,t=0){if(null!=t&&t>0||null==t&&this.delay>0)return super.recycleAsyncId(n,e,t);0===n.actions.length&&(El.cancelAnimationFrame(e),n._scheduled=void 0)}});let m0,LN=1;const gh={};function Gw(i){return i in gh&&(delete gh[i],!0)}const BN={setImmediate(i){const n=LN++;return gh[n]=!0,m0||(m0=Promise.resolve()),m0.then(()=>Gw(n)&&i()),n},clearImmediate(i){Gw(i)}},{setImmediate:VN,clearImmediate:zN}=BN,mh={setImmediate(...i){const{delegate:n}=mh;return((null==n?void 0:n.setImmediate)||VN)(...i)},clearImmediate(i){const{delegate:n}=mh;return((null==n?void 0:n.clearImmediate)||zN)(i)},delegate:void 0},Hw=(new class extends g0{flush(n){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let t,s=-1;n=n||e.shift();const o=e.length;do{if(t=n.execute(n.state,n.delay))break}while(++s<o&&(n=e.shift()));if(this._active=!1,t){for(;++s<o&&(n=e.shift());)n.unsubscribe();throw t}}}(class extends f0{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,t=0){return null!==t&&t>0?super.requestAsyncId(n,e,t):(n.actions.push(this),n._scheduled||(n._scheduled=mh.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,t=0){if(null!=t&&t>0||null==t&&this.delay>0)return super.recycleAsyncId(n,e,t);0===n.actions.length&&(mh.clearImmediate(e),n._scheduled=void 0)}}),new g0(f0)),Uw=Hw;function $w(i=0,n,e=Uw){let t=-1;return null!=n&&(qm(n)?e=n:t=n),new Ye(s=>{let o=function(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;o<0&&(o=0);let r=0;return e.schedule(function(){s.closed||(s.next(r++),0<=t?this.schedule(void 0,t):s.complete())},o)})}function Yw(i,n=Uw){return function(i){return wt((n,e)=>{let t=!1,s=null,o=null,r=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,t){t=!1;const u=s;s=null,e.next(u)}r&&e.complete()},l=()=>{o=null,r&&e.complete()};n.subscribe(new ft(e,u=>{t=!0,s=u,o||Pn(i()).subscribe(o=new ft(e,a,l))},()=>{r=!0,(!t||!o||o.closed)&&e.complete()}))})}(()=>$w(i,n))}let WN=(()=>{class i{constructor(e,t,s){this._ngZone=e,this._platform=t,this._scrolled=new Te,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ye(t=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(Yw(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ge()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const s=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(yn(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,e)&&t.push(o)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let s=Rt(t),o=e.getElementRef().nativeElement;do{if(s==o)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ls(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(z(je),z(Wr),z(at,8))},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ZN=(()=>{class i{constructor(e,t,s){this._platform=e,this._change=new Te,this._changeListener=o=>{this._change.next(o)},this._document=s,t.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+t,height:s,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),s=e.documentElement,o=s.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||t.scrollY||s.scrollTop||0,left:-o.left||e.body.scrollLeft||t.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Yw(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(z(Wr),z(je),z(at,8))},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),XN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({}),i})();function _0(i,n,e){for(let t in n)if(n.hasOwnProperty(t)){const s=n[t];s?i.setProperty(t,s,(null==e?void 0:e.has(t))?"important":""):i.removeProperty(t)}return i}function ea(i,n){const e=n?"":"none";_0(i.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function Ww(i,n,e){_0(i.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function _h(i,n){return n&&"none"!=n?i+" "+n:i}function qw(i){const n=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*n}function v0(i,n){return i.getPropertyValue(n).split(",").map(t=>t.trim())}function y0(i){const n=i.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function C0(i,n,e){const{top:t,bottom:s,left:o,right:r}=i;return e>=t&&e<=s&&n>=o&&n<=r}function Ol(i,n,e){i.top+=n,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function Zw(i,n,e,t){const{top:s,right:o,bottom:r,left:a,width:l,height:u}=i,h=l*n,f=u*n;return t>s-f&&t<r+f&&e>a-h&&e<o+h}class Xw{constructor(n){this._document=n,this.positions=new Map}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:y0(e)})})}handleScroll(n){const e=cs(n),t=this.positions.get(e);if(!t)return null;const s=t.scrollPosition;let o,r;if(e===this._document){const u=this.getViewportScrollPosition();o=u.top,r=u.left}else o=e.scrollTop,r=e.scrollLeft;const a=s.top-o,l=s.left-r;return this.positions.forEach((u,h)=>{u.clientRect&&e!==h&&e.contains(h)&&Ol(u.clientRect,a,l)}),s.top=o,s.left=r,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Qw(i){const n=i.cloneNode(!0),e=n.querySelectorAll("[id]"),t=i.nodeName.toLowerCase();n.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===t?e2(i,n):("input"===t||"select"===t||"textarea"===t)&&Jw(i,n),Kw("canvas",i,n,e2),Kw("input, textarea, select",i,n,Jw),n}function Kw(i,n,e,t){const s=n.querySelectorAll(i);if(s.length){const o=e.querySelectorAll(i);for(let r=0;r<s.length;r++)t(s[r],o[r])}}let JN=0;function Jw(i,n){"file"!==n.type&&(n.value=i.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${JN++}`)}function e2(i,n){const e=n.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch(t){}}const t2=wo({passive:!0}),vh=wo({passive:!1}),b0=new Set(["position"]);class tL{constructor(n,e,t,s,o,r){this._config=e,this._document=t,this._ngZone=s,this._viewportRuler=o,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Te,this._pointerMoveSubscription=bt.EMPTY,this._pointerUpSubscription=bt.EMPTY,this._scrollSubscription=bt.EMPTY,this._resizeSubscription=bt.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Te,this.started=new Te,this.released=new Te,this.ended=new Te,this.entered=new Te,this.exited=new Te,this.dropped=new Te,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const v=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),k=this._dropContainer;if(!v)return void this._endDragSequence(a);(!k||!k.isDragging()&&!k.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const u=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(u),this._dropContainer)this._updateActiveDropContainer(u,l);else{const h=this._activeTransform;h.x=u.x-this._pickupPositionOnPage.x+this._passiveTransform.x,h.y=u.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(h.x,h.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:u,event:a,distance:this._getDragDistance(u),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new Xw(t),r.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){const e=hs(n);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>ea(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(t=>Rt(t)),this._handles.forEach(t=>ea(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const e=Rt(n);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,vh),e.addEventListener("touchstart",this._pointerDown,t2),e.addEventListener("dragstart",this._nativeDragStart,vh)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?Rt(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){var n,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null==(n=this._rootElement)||n.remove()),null==(e=this._anchor)||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),ea(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),ea(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var n,e;null==(n=this._preview)||n.remove(),null==(e=this._previewRef)||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var n,e;null==(n=this._placeholder)||n.remove(),null==(e=this._placeholderRef)||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){Il(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,s=t.parentNode,o=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();s.insertBefore(r,t),this._initialTransform=t.style.transform||"",this._preview=this._createPreviewElement(),Ww(t,!1,b0),this._document.body.appendChild(s.replaceChild(o,t)),this._getPreviewInsertionPoint(s,a).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();const t=this.isDragging(),s=Il(e),o=!s&&0!==e.button,r=this._rootElement,a=cs(e),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),u=s?Mg(e):Sg(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),t||o||l||u)return;if(this._handles.length){const m=r.style;this._rootElementTapHighlight=m.webkitTapHighlightColor||"",m.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(m=>this._updateOnScroll(m)),this._boundaryElement&&(this._boundaryRect=y0(this._boundaryElement));const h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(n,e);const f=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:f.x,y:f.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){Ww(this._rootElement,!0,b0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,t=e.getItemIndex(this),s=this._getPointerPositionOnPage(n),o=this._getDragDistance(s),r=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:o,dropPoint:s}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:o,dropPoint:s}),e.drop(this,t,this._initialIndex,this._initialContainer,r,o,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:t,y:s}){let o=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,n,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,s),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const n=this._previewTemplate,e=this.previewClass,t=n?n.template:null;let s;if(t&&n){const o=n.matchSize?this._rootElement.getBoundingClientRect():null,r=n.viewContainer.createEmbeddedView(t,n.context);r.detectChanges(),s=s2(r,this._document),this._previewRef=r,n.matchSize?o2(s,o):s.style.transform=yh(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const o=this._rootElement;s=Qw(o),o2(s,o.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return _0(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},b0),ea(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>s.classList.add(o)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const e=function(i){const n=getComputedStyle(i),e=v0(n,"transition-property"),t=e.find(a=>"transform"===a||"all"===a);if(!t)return 0;const s=e.indexOf(t),o=v0(n,"transition-duration"),r=v0(n,"transition-delay");return qw(o[s])+qw(r[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const s=r=>{var a;(!r||cs(r)===this._preview&&"transform"===r.propertyName)&&(null==(a=this._preview)||a.removeEventListener("transitionend",s),t(),clearTimeout(o))},o=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,e=n?n.template:null;let t;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),t=s2(this._placeholderRef,this._document)):t=Qw(this._rootElement),t.style.pointerEvents="none",t.classList.add("cdk-drag-placeholder"),t}_getPointerPositionInElement(n,e){const t=this._rootElement.getBoundingClientRect(),s=n===this._rootElement?null:n,o=s?s.getBoundingClientRect():t,r=Il(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:o.left-t.left+(r.pageX-o.left-a.left),y:o.top-t.top+(r.pageY-o.top-a.top)}}_getPointerPositionOnPage(n){const e=this._getViewportScrollPosition(),t=Il(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,s=t.pageX-e.left,o=t.pageY-e.top;if(this._ownerSVGElement){const r=this._ownerSVGElement.getScreenCTM();if(r){const a=this._ownerSVGElement.createSVGPoint();return a.x=s,a.y=o,a.matrixTransform(r.inverse())}}return{x:s,y:o}}_getConstrainedPointerPosition(n){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:t,y:s}=this.constrainPosition?this.constrainPosition(n,this):n;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(t=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:r}=this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:u}=this._getPreviewRect(),h=a.top+r,f=a.bottom-(u-r);t=n2(t,a.left+o,a.right-(l-o)),s=n2(s,h,f)}return{x:t,y:s}}_updatePointerDirectionDelta(n){const{x:e,y:t}=n,s=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,r=Math.abs(e-o.x),a=Math.abs(t-o.y);return r>this._config.pointerDirectionChangeThreshold&&(s.x=e>o.x?1:-1,o.x=e),a>this._config.pointerDirectionChangeThreshold&&(s.y=t>o.y?1:-1,o.y=t),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,ea(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,vh),n.removeEventListener("touchstart",this._pointerDown,t2),n.removeEventListener("dragstart",this._nativeDragStart,vh)}_applyRootElementTransform(n,e){const t=yh(n,e),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=_h(t,this._initialTransform)}_applyPreviewTransform(n,e){var o;const t=(null==(o=this._previewTemplate)?void 0:o.template)?void 0:this._initialTransform,s=yh(n,e);this._preview.style.transform=_h(s,t)}_getDragDistance(n){const e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(0===n&&0===e||this.isDragging()||!this._boundaryElement)return;const t=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===t.width&&0===t.height||0===s.width&&0===s.height)return;const o=t.left-s.left,r=s.right-t.right,a=t.top-s.top,l=s.bottom-t.bottom;t.width>s.width?(o>0&&(n+=o),r>0&&(n-=r)):n=0,t.height>s.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){const e=this.dragStartDelay;return"number"==typeof e?e:Il(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){const e=this._parentPositions.handleScroll(n);if(e){const t=cs(n);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&Ol(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var n;return(null==(n=this._parentPositions.positions.get(this._document))?void 0:n.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Pg(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){const t=this._previewContainer||"global";if("parent"===t)return n;if("global"===t){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return Rt(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}}function yh(i,n){return`translate3d(${Math.round(i)}px, ${Math.round(n)}px, 0)`}function n2(i,n,e){return Math.max(n,Math.min(e,i))}function Il(i){return"t"===i.type[0]}function s2(i,n){const e=i.rootNodes;if(1===e.length&&e[0].nodeType===n.ELEMENT_NODE)return e[0];const t=n.createElement("div");return e.forEach(s=>t.appendChild(s)),t}function o2(i,n){i.style.width=`${n.width}px`,i.style.height=`${n.height}px`,i.style.transform=yh(n.left,n.top)}function Al(i,n){return Math.max(0,Math.min(n,i))}class iL{constructor(n,e,t,s,o){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Te,this.entered=new Te,this.exited=new Te,this.dropped=new Te,this.sorted=new Te,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=bt.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Te,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(i=0,n=Hw){return i<0&&(i=0),$w(i,i,n)}(0,jw).pipe(Dl(this._stopScrollTimers)).subscribe(()=>{const r=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?r.scrollBy(0,-a):2===this._verticalScrollDirection&&r.scrollBy(0,a),1===this._horizontalScrollDirection?r.scrollBy(-a,0):2===this._horizontalScrollDirection&&r.scrollBy(a,0)})},this.element=Rt(n),this._document=t,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new Xw(t)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,t,s){let o;this._draggingStarted(),null==s?(o=this.sortingDisabled?this._draggables.indexOf(n):-1,-1===o&&(o=this._getItemIndexFromPointerPosition(n,e,t))):o=s;const r=this._activeDraggables,a=r.indexOf(n),l=n.getPlaceholderElement();let u=r[o];if(u===n&&(u=r[o+1]),!u&&(null==o||-1===o||o<r.length-1)&&this._shouldEnterAsFirstChild(e,t)&&(u=r[0]),a>-1&&r.splice(a,1),u&&!this._dragDropRegistry.isDragging(u)){const h=u.getRootElement();h.parentElement.insertBefore(l,h),r.splice(o,0,n)}else Rt(this.element).appendChild(l),r.push(n);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,t,s,o,r,a){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:t,container:this,previousContainer:s,isPointerOverContainer:o,distance:r,dropPoint:a})}withItems(n){const e=this._draggables;return this._draggables=n,n.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===n.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(n){return this._direction=n,this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){return this._orientation=n,this}withScrollableParents(n){const e=Rt(this.element);return this._scrollableElements=-1===n.indexOf(e)?[e,...n]:n.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(t=>t.drag===n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,t,s){if(this.sortingDisabled||!this._clientRect||!Zw(this._clientRect,.05,e,t))return;const o=this._itemPositions,r=this._getItemIndexFromPointerPosition(n,e,t,s);if(-1===r&&o.length>0)return;const a="horizontal"===this._orientation,l=o.findIndex(x=>x.drag===n),u=o[r],f=u.clientRect,m=l>r?1:-1,v=this._getItemOffsetPx(o[l].clientRect,f,m),k=this._getSiblingOffsetPx(l,o,m),w=o.slice();(function(i,n,e){const t=Al(n,i.length-1),s=Al(e,i.length-1);if(t===s)return;const o=i[t],r=s<t?-1:1;for(let a=t;a!==s;a+=r)i[a]=i[a+r];i[s]=o})(o,l,r),this.sorted.next({previousIndex:l,currentIndex:r,container:this,item:n}),o.forEach((x,E)=>{if(w[E]===x)return;const S=x.drag===n,I=S?v:k,R=S?n.getPlaceholderElement():x.drag.getRootElement();x.offset+=I,a?(R.style.transform=_h(`translate3d(${Math.round(x.offset)}px, 0, 0)`,x.initialTransform),Ol(x.clientRect,0,I)):(R.style.transform=_h(`translate3d(0, ${Math.round(x.offset)}px, 0)`,x.initialTransform),Ol(x.clientRect,I,0))}),this._previousSwap.overlaps=C0(f,e,t),this._previousSwap.drag=u.drag,this._previousSwap.delta=a?s.x:s.y}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let t,s=0,o=0;if(this._parentPositions.positions.forEach((r,a)=>{a===this._document||!r.clientRect||t||Zw(r.clientRect,.05,n,e)&&([s,o]=function(i,n,e,t){const s=l2(n,t),o=u2(n,e);let r=0,a=0;if(s){const l=i.scrollTop;1===s?l>0&&(r=1):i.scrollHeight-l>i.clientHeight&&(r=2)}if(o){const l=i.scrollLeft;1===o?l>0&&(a=1):i.scrollWidth-l>i.clientWidth&&(a=2)}return[r,a]}(a,r.clientRect,n,e),(s||o)&&(t=a))}),!s&&!o){const{width:r,height:a}=this._viewportRuler.getViewportSize(),l={width:r,height:a,top:0,right:r,bottom:a,left:0};s=l2(l,e),o=u2(l,n),t=window}t&&(s!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=o,this._scrollNode=t,(s||o)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=Rt(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const n=Rt(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(n).clientRect}_cacheItemPositions(){const n="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:y0(t)}}).sort((e,t)=>n?e.clientRect.left-t.clientRect.left:e.clientRect.top-t.clientRect.top)}_reset(){this._isDragging=!1;const n=Rt(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var s;const t=e.getRootElement();if(t){const o=null==(s=this._itemPositions.find(r=>r.drag===e))?void 0:s.initialTransform;t.style.transform=o||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(n,e,t){const s="horizontal"===this._orientation,o=e[n].clientRect,r=e[n+-1*t];let a=o[s?"width":"height"]*t;if(r){const l=s?"left":"top",u=s?"right":"bottom";-1===t?a-=r.clientRect[l]-o[u]:a+=o[l]-r.clientRect[u]}return a}_getItemOffsetPx(n,e,t){const s="horizontal"===this._orientation;let o=s?e.left-n.left:e.top-n.top;return-1===t&&(o+=s?e.width-n.width:e.height-n.height),o}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;const t=this._itemPositions,s="horizontal"===this._orientation;if(t[0].drag!==this._activeDraggables[0]){const r=t[t.length-1].clientRect;return s?n>=r.right:e>=r.bottom}{const r=t[0].clientRect;return s?n<=r.left:e<=r.top}}_getItemIndexFromPointerPosition(n,e,t,s){const o="horizontal"===this._orientation,r=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===n)return!1;if(s){const u=o?s.x:s.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&u===this._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):t>=Math.floor(l.top)&&t<Math.floor(l.bottom)});return-1!==r&&this.sortPredicate(r,n,this)?r:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(n,e){return null!=this._clientRect&&C0(this._clientRect,n,e)}_getSiblingContainerFromPosition(n,e,t){return this._siblings.find(s=>s._canReceive(n,e,t))}_canReceive(n,e,t){if(!this._clientRect||!C0(this._clientRect,e,t)||!this.enterPredicate(n,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,t);if(!s)return!1;const o=Rt(this.element);return s===o||o.contains(s)}_startReceiving(n,e){const t=this._activeSiblings;!t.has(n)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(t.add(n),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(n);e&&(this._itemPositions.forEach(({clientRect:t})=>{Ol(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=Pg(Rt(this.element));this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}}function l2(i,n){const{top:e,bottom:t,height:s}=i,o=.05*s;return n>=e-o&&n<=e+o?1:n>=t-o&&n<=t+o?2:0}function u2(i,n){const{left:e,right:t,width:s}=i,o=.05*s;return n>=e-o&&n<=e+o?1:n>=t-o&&n<=t+o?2:0}const Ch=wo({passive:!1,capture:!0});let oL=(()=>{class i{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new Te,this.pointerUp=new Te,this.scroll=new Te,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=t}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ch)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ch)}startDragging(e,t){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=t.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ch}),s||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:Ch}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,r)=>{this._document.addEventListener(r,o.handler,o.options)})})}}stopDragging(e){const t=this._activeDragInstances.indexOf(e);t>-1&&(this._activeDragInstances.splice(t,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const t=[this.scroll];return e&&e!==this._document&&t.push(new Ye(s=>this._ngZone.runOutsideAngular(()=>{const r=a=>{this._activeDragInstances.length&&s.next(a)};return e.addEventListener("scroll",r,!0),()=>{e.removeEventListener("scroll",r,!0)}}))),ru(...t)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)}),this._globalListeners.clear()}}return i.\u0275fac=function(e){return new(e||i)(z(je),z(at))},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const rL={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let w0=(()=>{class i{constructor(e,t,s,o){this._document=e,this._ngZone=t,this._viewportRuler=s,this._dragDropRegistry=o}createDrag(e,t=rL){return new tL(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new iL(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return i.\u0275fac=function(e){return new(e||i)(z(at),z(je),z(ZN),z(oL))},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const c2=new ne("CDK_DRAG_PARENT"),h2=new ne("CdkDropListGroup"),d2=new ne("CDK_DRAG_CONFIG");let aL=0;const p2=new ne("CdkDropList");let lL=(()=>{class i{constructor(e,t,s,o,r,a,l){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=o,this._dir=r,this._group=a,this._destroyed=new Te,this.connectedTo=[],this.id="cdk-drop-list-"+aL++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new U,this.entered=new U,this.exited=new U,this.sorted=new U,this._unsortedItems=new Set,this._dropListRef=t.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(u,h)=>this.enterPredicate(u.data,h.data),this._dropListRef.sortPredicate=(u,h,f)=>this.sortPredicate(u,h.data,f.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=hs(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=i._dropLists.indexOf(this);e>-1&&i._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Mc(this._dir.value),Dl(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const t=function(i){return Array.isArray(i)?i:[i]}(this.connectedTo).map(s=>"string"==typeof s?i._dropLists.find(r=>r.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===t.indexOf(s)&&t.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=hs(this.sortingDisabled),e.autoScrollDisabled=hs(this.autoScrollDisabled),e.autoScrollStep=Fs(this.autoScrollStep,2),e.connectedTo(t.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance,dropPoint:t.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:t,draggingDisabled:s,sortingDisabled:o,listAutoScrollDisabled:r,listOrientation:a}=e;this.disabled=null!=s&&s,this.sortingDisabled=null!=o&&o,this.autoScrollDisabled=null!=r&&r,this.orientation=a||"vertical",t&&(this.lockAxis=t)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return i._dropLists=[],i.\u0275fac=function(e){return new(e||i)(D(W),D(w0),D(Ts),D(WN),D(Tg,8),D(h2,12),D(d2,8))},i.\u0275dir=se({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,t){2&e&&(Ue("id",t.id),H("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Re([{provide:h2,useValue:void 0},{provide:p2,useExisting:i}])]}),i})();const f2=new ne("CdkDragHandle"),g2=new ne("CdkDragPlaceholder");let m2=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(D(Ri))},i.\u0275dir=se({type:i,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[Re([{provide:g2,useExisting:i}])]}),i})();const uL=new ne("CdkDragPreview");let hL=(()=>{class i{constructor(e,t,s,o,r,a,l,u,h,f,m){this.element=e,this.dropContainer=t,this._ngZone=o,this._viewContainerRef=r,this._dir=l,this._changeDetectorRef=h,this._selfHandle=f,this._parentDrag=m,this._destroyed=new Te,this.started=new U,this.released=new U,this.ended=new U,this.entered=new U,this.exited=new U,this.dropped=new U,this.moved=new Ye(v=>{const k=this._dragRef.moved.pipe(Oe(w=>({source:this,pointerPosition:w.pointerPosition,event:w.event,delta:w.delta,distance:w.distance}))).subscribe(v);return()=>{k.unsubscribe()}}),this._dragRef=u.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,i._dragInstances.push(this),a&&this._assignDefaults(a),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=hs(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ho(1),Dl(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const t=e.rootElementSelector,s=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=i._dragInstances.indexOf(this);e>-1&&i._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var s;const e=this.element.nativeElement;let t=e;this.rootElementSelector&&(t=void 0!==e.closest?e.closest(this.rootElementSelector):null==(s=e.parentElement)?void 0:s.closest(this.rootElementSelector)),this._dragRef.withRootElement(t||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):Rt(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,s=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:Fs(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(Ho(1)).subscribe(()=>{var s;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let t=this.element.nativeElement.parentElement;for(;t;){if(t.classList.contains("cdk-drag")){e.withParent((null==(s=i._dragInstances.find(o=>o.element.nativeElement===t))?void 0:s._dragRef)||null);break}t=t.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint})})}_assignDefaults(e){const{lockAxis:t,dragStartDelay:s,constrainPosition:o,previewClass:r,boundaryElement:a,draggingDisabled:l,rootElementSelector:u,previewContainer:h}=e;this.disabled=null!=l&&l,this.dragStartDelay=s||0,t&&(this.lockAxis=t),o&&(this.constrainPosition=o),r&&(this.previewClass=r),a&&(this.boundaryElement=a),u&&(this.rootElementSelector=u),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.changes.pipe(Mc(this._handles),Cn(e=>{const t=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),Is(e=>ru(...e.map(t=>t._stateChanges.pipe(Mc(t))))),Dl(this._destroyed)).subscribe(e=>{const t=this._dragRef,s=e.element.nativeElement;e.disabled?t.disableHandle(s):t.enableHandle(s)})}}return i._dragInstances=[],i.\u0275fac=function(e){return new(e||i)(D(W),D(p2,12),D(at),D(je),D(_n),D(d2,8),D(Tg,8),D(w0),D(Ts),D(f2,10),D(c2,12))},i.\u0275dir=se({type:i,selectors:[["","cdkDrag",""]],contentQueries:function(e,t,s){if(1&e&&(Fr(s,uL,5),Fr(s,g2,5),Fr(s,f2,5)),2&e){let o;qe(o=Ze())&&(t._previewTemplate=o.first),qe(o=Ze())&&(t._placeholderTemplate=o.first),qe(o=Ze())&&(t._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,t){2&e&&H("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Re([{provide:c2,useExisting:i}]),ie]}),i})(),dL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({providers:[w0],imports:[XN]}),i})();const pL=["*"];let _2=(()=>{class i{constructor(e,t){this.host=e,this.snapshotgiftservice=t,this.gift={},this.refresh=!1}snapshot(){var e=this;return N(function*(){const t=yield e.snapshotgiftservice.get(e.gift);e.host.nativeElement.querySelector(".wrap > .ico").style.backgroundImage="url("+t+")"})()}ngOnInit(){this.snapshot()}ngOnChanges(e){e.refresh&&e.refresh.previousValue!==e.refresh.currentValue&&void 0!==e.refresh.previousValue&&this.snapshot()}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(ph))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-giftslist-option"]],inputs:{gift:"gift",refresh:"refresh"},features:[ie],ngContentSelectors:pL,decls:4,vars:0,consts:[["matRipple","","matRippleColor","#00000011",1,"wrap"],[1,"ico"],[1,"title"]],template:function(e,t){1&e&&(vi(),d(0,"div",0),_(1,"div",1),d(2,"div",2),Zn(3),p(),p())},directives:[ni],styles:["[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:10px;width:100px;height:100px;display:flex;flex-direction:column;align-items:center;justify-content:center;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{margin:10px;font-size:18px;color:#333;user-select:none;word-break:break-word}@keyframes rot{0%{transform:rotateY(0)}to{transform:rotateY(360deg)}}"]}),i})();function fL(i,n){1&i&&(Be(0),P(1,"empty"),Ve())}let v2=(()=>{class i{constructor(e,t,s){this.readgileservice=e,this.host=t,this.asyncservice=s,this.value="",this.backgroundsize="90% auto",this.backgroundImage="url("+this.value+")"}setsize(){this.backgroundsize=this.image.naturalWidth>=this.image.naturalHeight?this.image.naturalWidth<117?`${this.image.naturalWidth}px auto`:"90% auto":this.image.naturalHeight<117?`${this.image.naturalHeight}px auto`:"auto 90%"}ngOnInit(){}ngOnChanges(e){e.value&&e.value.previousValue!==e.value.currentValue&&this.readgileservice.getImageByUrl(this.value).then(t=>{this.image=t,this.backgroundImage="url("+this.value+")",this.setsize()})}}return i.\u0275fac=function(e){return new(e||i)(D(us),D(W),D(Pe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-option-trimlist"]],hostVars:4,hostBindings:function(e,t){2&e&&y("background-size",t.backgroundsize)("background-image",t.backgroundImage)},inputs:{value:"value"},features:[ie],decls:2,vars:1,consts:[["matRipple","","matRippleColor","#00000011",1,"ripple"],[4,"ngIf"]],template:function(e,t){1&e&&(d(0,"div",0),T(1,fL,2,0,"ng-container",1),p()),2&e&&(c(1),g("ngIf",""===t.value))},directives:[ni,ot],styles:["[_nghost-%COMP%]{width:130px;height:130px;margin:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:10px;background-position:center;background-size:90% auto;background-repeat:no-repeat;user-select:none;font-size:14px;color:#999;text-align:center}[_nghost-%COMP%] > .ripple[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}"]}),i})(),y2=(()=>{class i{transform(e,t=20){let s=e;return e.length>t&&(s=s.substr(0,t-3)+"..."),s}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=ln({name:"textMore",type:i,pure:!0}),i})();function gL(i,n){1&i&&_(0,"app-touch-select-location")}function mL(i,n){1&i&&_(0,"app-touch-empty-giftslist",45),2&i&&g("touch",b().touches.giftslist)}function _L(i,n){1&i&&_(0,"div",50)}function vL(i,n){if(1&i){const e=J();d(0,"app-touch-giftslist-option",48),C("click",function(){const o=M(e).$implicit;return b(2).showviewgift(o)}),T(1,_L,1,0,"div",49),P(2),sf(3,"textMore"),p()}if(2&i){const e=n.$implicit,t=b(2);H("option-list-gift-animated",t.optionListGiftAnimated),g("cdkDragDisabled",t.gifts.length<2)("cdkDragStartDelay",500)("gift",e)("refresh",t.refreshsnapshots),c(2),Ae(" ",rf(3,7,e.title,20)," ")}}function yL(i,n){if(1&i){const e=J();d(0,"app-touch-scroll",46),C("cdkDropListDropped",function(s){return M(e),b().dropListGifts(s)}),T(1,vL,4,10,"app-touch-giftslist-option",47),p()}if(2&i){const e=b();g("cdkDropListAutoScrollDisabled",!0)("touch",e.touches.giftslist)("refreshable",!0),c(1),g("ngForOf",e.gifts)}}function CL(i,n){if(1&i){const e=J();d(0,"div",51),d(1,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().inputUploadImageTrim()}),p(),d(2,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/1.png")}),p(),d(3,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/2.png")}),p(),d(4,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/3.png")}),p(),d(5,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/4.png")}),p(),d(6,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/5.png")}),p(),d(7,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/6.png")}),p(),d(8,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/7.png")}),p(),d(9,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/8.png")}),p(),d(10,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/9.png")}),p(),d(11,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/10.png")}),p(),d(12,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/11.png")}),p(),d(13,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/12.png")}),p(),d(14,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/13.png")}),p(),d(15,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/14.png")}),p(),d(16,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/15.png")}),p(),d(17,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/16.png")}),p(),d(18,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/17.png")}),p(),d(19,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/18.png")}),p(),d(20,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/19.png")}),p(),d(21,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/20.png")}),p(),d(22,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/21.png")}),p(),d(23,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/22.png")}),p(),d(24,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/23.png")}),p(),d(25,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/24.png")}),p(),d(26,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/25.png")}),p(),d(27,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/26.png")}),p(),d(28,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/27.png")}),p(),d(29,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/28.png")}),p(),d(30,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/29.png")}),p(),d(31,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/30.png")}),p(),d(32,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/31.png")}),p(),d(33,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/32.png")}),p(),d(34,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/33.png")}),p(),d(35,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/34.png")}),p(),d(36,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/35.png")}),p(),d(37,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/36.png")}),p(),d(38,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/37.png")}),p(),d(39,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/38.png")}),p(),d(40,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/39.png")}),p(),d(41,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/front/40.png")}),p(),p()}2&i&&(c(1),g("value","../../assets/upload.svg"),c(1),g("value","../../assets/greetingcard/front/1.png"),c(1),g("value","../../assets/greetingcard/front/2.png"),c(1),g("value","../../assets/greetingcard/front/3.png"),c(1),g("value","../../assets/greetingcard/front/4.png"),c(1),g("value","../../assets/greetingcard/front/5.png"),c(1),g("value","../../assets/greetingcard/front/6.png"),c(1),g("value","../../assets/greetingcard/front/7.png"),c(1),g("value","../../assets/greetingcard/front/8.png"),c(1),g("value","../../assets/greetingcard/front/9.png"),c(1),g("value","../../assets/greetingcard/front/10.png"),c(1),g("value","../../assets/greetingcard/front/11.png"),c(1),g("value","../../assets/greetingcard/front/12.png"),c(1),g("value","../../assets/greetingcard/front/13.png"),c(1),g("value","../../assets/greetingcard/front/14.png"),c(1),g("value","../../assets/greetingcard/front/15.png"),c(1),g("value","../../assets/greetingcard/front/16.png"),c(1),g("value","../../assets/greetingcard/front/17.png"),c(1),g("value","../../assets/greetingcard/front/18.png"),c(1),g("value","../../assets/greetingcard/front/19.png"),c(1),g("value","../../assets/greetingcard/front/20.png"),c(1),g("value","../../assets/greetingcard/front/21.png"),c(1),g("value","../../assets/greetingcard/front/22.png"),c(1),g("value","../../assets/greetingcard/front/23.png"),c(1),g("value","../../assets/greetingcard/front/24.png"),c(1),g("value","../../assets/greetingcard/front/25.png"),c(1),g("value","../../assets/greetingcard/front/26.png"),c(1),g("value","../../assets/greetingcard/front/27.png"),c(1),g("value","../../assets/greetingcard/front/28.png"),c(1),g("value","../../assets/greetingcard/front/29.png"),c(1),g("value","../../assets/greetingcard/front/30.png"),c(1),g("value","../../assets/greetingcard/front/31.png"),c(1),g("value","../../assets/greetingcard/front/32.png"),c(1),g("value","../../assets/greetingcard/front/33.png"),c(1),g("value","../../assets/greetingcard/front/34.png"),c(1),g("value","../../assets/greetingcard/front/35.png"),c(1),g("value","../../assets/greetingcard/front/36.png"),c(1),g("value","../../assets/greetingcard/front/37.png"),c(1),g("value","../../assets/greetingcard/front/38.png"),c(1),g("value","../../assets/greetingcard/front/39.png"),c(1),g("value","../../assets/greetingcard/front/40.png"))}function bL(i,n){if(1&i){const e=J();d(0,"div",51),d(1,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().inputUploadImageTrim()}),p(),d(2,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/1.jpg")}),p(),d(3,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/2.jpg")}),p(),d(4,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/3.jpg")}),p(),d(5,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/4.jpg")}),p(),d(6,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/5.jpg")}),p(),d(7,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/6.jpg")}),p(),d(8,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/7.jpg")}),p(),d(9,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/8.jpg")}),p(),d(10,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/9.jpg")}),p(),d(11,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/10.jpg")}),p(),d(12,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/11.jpg")}),p(),d(13,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/12.jpg")}),p(),d(14,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/13.jpg")}),p(),d(15,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/14.jpg")}),p(),d(16,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/15.jpg")}),p(),d(17,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/16.jpg")}),p(),d(18,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/17.jpg")}),p(),d(19,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/18.jpg")}),p(),d(20,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/19.jpg")}),p(),d(21,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/greetingcard/back/20.jpg")}),p(),p()}2&i&&(c(1),g("value","../../assets/upload.svg"),c(1),g("value","../../assets/greetingcard/back/1.jpg"),c(1),g("value","../../assets/greetingcard/back/2.jpg"),c(1),g("value","../../assets/greetingcard/back/3.jpg"),c(1),g("value","../../assets/greetingcard/back/4.jpg"),c(1),g("value","../../assets/greetingcard/back/5.jpg"),c(1),g("value","../../assets/greetingcard/back/6.jpg"),c(1),g("value","../../assets/greetingcard/back/7.jpg"),c(1),g("value","../../assets/greetingcard/back/8.jpg"),c(1),g("value","../../assets/greetingcard/back/9.jpg"),c(1),g("value","../../assets/greetingcard/back/10.jpg"),c(1),g("value","../../assets/greetingcard/back/11.jpg"),c(1),g("value","../../assets/greetingcard/back/12.jpg"),c(1),g("value","../../assets/greetingcard/back/13.jpg"),c(1),g("value","../../assets/greetingcard/back/14.jpg"),c(1),g("value","../../assets/greetingcard/back/15.jpg"),c(1),g("value","../../assets/greetingcard/back/16.jpg"),c(1),g("value","../../assets/greetingcard/back/17.jpg"),c(1),g("value","../../assets/greetingcard/back/18.jpg"),c(1),g("value","../../assets/greetingcard/back/19.jpg"),c(1),g("value","../../assets/greetingcard/back/20.jpg"))}function wL(i,n){if(1&i){const e=J();d(0,"div",51),d(1,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().inputUploadImageTrim()}),p(),d(2,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/speaker/grill/0.png")}),p(),d(3,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/speaker/grill/1.png")}),p(),d(4,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/speaker/grill/2.png")}),p(),d(5,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/speaker/grill/3.png")}),p(),d(6,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/speaker/grill/4.png")}),p(),d(7,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/speaker/grill/5.png")}),p(),d(8,"app-touch-option-trimlist",52),C("click",function(){return M(e),b().uploadImageTrim("../../assets/speaker/grill/6.png")}),p(),p()}2&i&&(c(1),g("value","../../assets/upload.svg"),c(1),g("value",""),c(1),g("value","../../assets/speaker/grill/1.png"),c(1),g("value","../../assets/speaker/grill/2.png"),c(1),g("value","../../assets/speaker/grill/3.png"),c(1),g("value","../../assets/speaker/grill/4.png"),c(1),g("value","../../assets/speaker/grill/5.png"),c(1),g("value","../../assets/speaker/grill/6.png"))}function kL(i,n){1&i&&_(0,"img",63)}function xL(i,n){1&i&&_(0,"img",64)}function DL(i,n){1&i&&_(0,"img",65)}function PL(i,n){1&i&&_(0,"img",66)}function SL(i,n){1&i&&_(0,"img",67)}function ML(i,n){1&i&&_(0,"img",68)}function EL(i,n){if(1&i&&(d(0,"div",53),d(1,"div",54),P(2),p(),d(3,"div",55),P(4),d(5,"b"),P(6),p(),P(7,"."),p(),d(8,"div",54),P(9),p(),d(10,"div",55),P(11),p(),T(12,kL,1,0,"img",56),T(13,xL,1,0,"img",57),d(14,"div",54),P(15),p(),d(16,"div",55),P(17),p(),d(18,"div",58),P(19),_(20,"br"),P(21),_(22,"br"),P(23),_(24,"br"),P(25),_(26,"br"),p(),d(27,"div",55),P(28),p(),T(29,DL,1,0,"img",59),T(30,PL,1,0,"img",60),d(31,"div",54),P(32),p(),d(33,"div",55),P(34),p(),T(35,SL,1,0,"img",61),T(36,ML,1,0,"img",62),d(37,"div",55),P(38),p(),p()),2&i){const e=b();c(2),O(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),Ae("",e.locationService.translate("This is an greeting card that we used to gift on various occasions. The cover for which you choose yourself. On the reverse side, write your wishes in poetic form. And most importantly -","\u042d\u0442\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u044b \u043f\u0440\u0438\u0432\u044b\u043a\u043b\u0438 \u0434\u0430\u0440\u0438\u0442\u044c \u043f\u043e \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c \u043f\u043e\u0432\u043e\u0434\u0430\u043c: \u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f, \u0441\u0432\u0430\u0434\u044c\u0431\u0430, 8 \u043c\u0430\u0440\u0442\u0430 \u0438 \u0442.\u0434. \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u044e \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0443. \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0443\u044e \u043e\u0431\u043b\u043e\u0436\u043a\u0443, \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043b\u043e\u0432\u0430 \u043f\u043e\u0436\u0435\u043b\u0430\u043d\u0438\u044f \u0432 \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u043d\u043e\u0439 \u0444\u043e\u0440\u043c\u0435 \u0438 \u0447\u0442\u043e \u0441\u0430\u043c\u043e\u0435 \u0434\u0443\u0448\u0435\u0432\u043d\u043e\u0435,")," "),c(2),O(e.locationService.translate("you can sign it with YOUR OWN HAND","\u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c \u0435\u0451 \u0421\u041e\u0411\u0421\u0422\u0412\u0415\u041d\u041d\u041e\u0419 \u0420\u0423\u041a\u041e\u0419")),c(3),O(e.locationService.translate("Setting the cover","\u0412\u044b\u0431\u043e\u0440 \u043e\u0431\u043b\u043e\u0436\u043a\u0438")),c(2),O(e.locationService.translate("Imagine the situation you want to give a gift to your girlfriend, and you want to add a greeting card with a love poem to the gift box, let's first choose a cover. For example this one:","\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044e: \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0432\u0430\u0448\u0435\u0439 \u0434\u0435\u0432\u0443\u0448\u043a\u0435 \u0438 \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u0447\u043d\u0443\u044e \u043a\u043e\u0440\u043e\u0431\u043a\u0443 \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0443. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u044b\u0431\u0435\u0440\u0435\u043c \u043e\u0431\u043b\u043e\u0436\u043a\u0443, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u044f \u0432\u044b\u0431\u0440\u0430\u043b \u0442\u0430\u043a\u0443\u044e:")),c(1),g("ngIf","us"===e.locationService.location().country.code),c(1),g("ngIf","ru"===e.locationService.location().country.code),c(2),O(e.locationService.translate("Let's write a poem","\u041d\u0430\u043f\u0438\u0448\u0435\u043c \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435")),c(2),O(e.locationService.translate("We also need some kind of poem that we will write on the back side, for example, I get it from the internet, not bad, right?","\u0422\u0430\u043a\u0436\u0435 \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043a\u0430\u043a\u043e\u0435-\u043d\u0438\u0431\u0443\u0434\u044c \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0442\u0430\u043a\u043e\u0435 \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435 (\u044f \u0443\u043a\u0440\u0430\u043b \u0443 \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430 \u0421\u0435\u0440\u0433\u0435\u0435\u0432\u0438\u0447\u0430):")),c(2),Ae(" ",e.locationService.translate("Amazing and beautiful,","\u041f\u0440\u0435\u0434 \u043d\u0435\u0439 \u0437\u0430\u0434\u0443\u043c\u0447\u0438\u0432\u043e \u0441\u0442\u043e\u044e,"),""),c(2),Ae(" ",e.locationService.translate("not a flower or a tree.","\u0421\u0432\u0435\u0441\u0442\u0438 \u043e\u0447\u0435\u0439 \u0441 \u043d\u0435\u0435 \u043d\u0435\u0442 \u0441\u0438\u043b\u044b;"),""),c(2),Ae(" ",e.locationService.translate("Much prettier than that,","\u0418 \u0433\u043e\u0432\u043e\u0440\u044e \u0435\u0439: \u043a\u0430\u043a \u0432\u044b \u043c\u0438\u043b\u044b!"),""),c(2),Ae(" ",e.locationService.translate("and only I can see.","\u0418 \u043c\u044b\u0441\u043b\u044e: \u043a\u0430\u043a \u0442\u0435\u0431\u044f \u043b\u044e\u0431\u043b\u044e!"),""),c(3),O(e.locationService.translate("What does it look like:","\u0412\u043e\u0442 \u043a\u0430\u043a \u044d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442:")),c(1),g("ngIf","us"===e.locationService.location().country.code),c(1),g("ngIf","ru"===e.locationService.location().country.code),c(2),O(e.locationService.translate("The most magic","\u0421\u0430\u043c\u043e\u0435 \u0432\u043e\u043b\u0448\u0435\u0431\u0441\u0442\u0432\u043e")),c(2),O(e.locationService.translate("For a congratulation to be truly sincere, it must be signed, otherwise it looks like it was written by a robot, you can pass the captcha, right?","\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u044b\u043b\u0438 \u043f\u043e-\u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u043c\u0443 \u0438\u0441\u043a\u0440\u0435\u043d\u043d\u0438\u043c\u0438 \u043d\u0443\u0436\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0443 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0440\u0443\u043a\u043e\u0439. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u044f \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043b \u0441\u0435\u0440\u0434\u0435\u0447\u043a\u0438 \u0438 \u0447\u0451\u0440\u0442\u043e\u0447\u043a\u0438, \u044d\u0442\u043e\u0433\u043e \u0432\u043f\u043e\u043b\u043d\u0435 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e.")),c(1),g("ngIf","us"===e.locationService.location().country.code),c(1),g("ngIf","ru"===e.locationService.location().country.code),c(2),O(e.locationService.translate("Wow this looks really great, the recipient is sure to be delighted.","\u0412\u0410\u0423!!! \u042d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043f\u043e\u0442\u0440\u044f\u0441\u0430\u044e\u0449\u0435, \u043c\u043d\u0435 \u043a\u0430\u0436\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u0442\u043e\u0447\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0434."))}}function TL(i,n){1&i&&_(0,"img",79)}function OL(i,n){1&i&&_(0,"img",80)}function IL(i,n){1&i&&_(0,"img",81)}function AL(i,n){1&i&&_(0,"img",82)}function RL(i,n){1&i&&_(0,"img",83)}function FL(i,n){1&i&&_(0,"img",84)}function NL(i,n){if(1&i&&(d(0,"div",53),d(1,"div",54),P(2),p(),d(3,"div",55),P(4),p(),d(5,"div",54),P(6),p(),d(7,"div",69),P(8),p(),d(9,"div",55),P(10),p(),_(11,"img",70),d(12,"div",55),P(13),p(),d(14,"div",55),P(15),p(),T(16,TL,1,0,"img",71),T(17,OL,1,0,"img",72),d(18,"div",54),P(19),p(),d(20,"div",55),P(21),p(),T(22,IL,1,0,"img",73),T(23,AL,1,0,"img",74),d(24,"div",55),P(25),p(),d(26,"div",75),T(27,RL,1,0,"img",76),T(28,FL,1,0,"img",77),_(29,"img",78),p(),d(30,"div",55),P(31),p(),p()),2&i){const e=b();c(2),O(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),O(e.locationService.translate("This is a video game box. If the recipient loves games, you can gift a video game redeem key, which he/she can enter and get a video game.","\u042d\u0442\u043e \u043a\u043e\u0440\u043e\u0431\u043a\u0430 \u0441 \u0432\u0438\u0434\u0435\u043e\u0438\u0433\u0440\u043e\u0439. \u0415\u0441\u043b\u0438 \u0447\u0435\u043b\u043e\u0432\u0435\u043a, \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a, \u043b\u044e\u0431\u0438\u0442 \u0438\u0433\u0440\u0430\u0442\u044c \u0432 \u0438\u0433\u0440\u044b, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0435\u043c\u0443/\u0435\u0439 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0438\u0433\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u043d/\u043e\u043d\u0430 \u0441\u043c\u043e\u0436\u0435\u0442 \u0432\u0432\u0435\u0441\u0442\u0438 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u0433\u0440\u0443.")),c(2),O(e.locationService.translate("Redeem key","\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447")),c(2),O(e.locationService.translate("!!! IMPORTANT !!! To gift a game, you need a redeem key. You must buy a card. On the back side, erase the area where you can find the key and enter it on our site so that we transfer it to your recipient.","!!! \u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415 !!! \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0438\u0433\u0440\u0443, \u0432\u0430\u043c \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0432 \u043b\u044e\u0431\u043e\u043c \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 DNS, \u041c\u0432\u0438\u0434\u0435\u043e \u0438 \u0442. \u0434.), \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0441\u0442\u0435\u0440\u0435\u0442\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u044b\u0439 \u0441\u043b\u043e\u0439 \u0438 \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0435\u0442 \u0438 \u0432\u0432\u0451\u0434\u0435\u0442 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e. \u0412\u0432\u043e\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447 \u0438\u043c\u0435\u043d\u043d\u043e \u043d\u0430 \u044d\u0442\u043e\u043c \u0441\u0430\u0439\u0442\u0435, \u043d\u0438\u0433\u0434\u0435 \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0439\u0442\u0435 \u0438\u0433\u0440\u0443.")),c(2),O(e.locationService.translate("This is what redeem key looks like:","\u041f\u0440\u0438\u043c\u0435\u0440\u043d\u043e \u0442\u0430\u043a \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0441 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u043e\u043d\u043d\u044b\u043c \u043a\u043b\u044e\u0447\u043e\u043c \u0434\u043b\u044f \u0438\u0433\u0440\u044b:")),c(3),O(e.locationService.translate("If you bought a game for playstation or xbox or nintendo switch, we will tell the recipient how to activate the game. In other cases, we will ask you to write instructions on how to activate the game. The instructions are almost always written on the back of the card.","\u0415\u0441\u043b\u0438 \u0432\u044b \u043a\u0443\u043f\u0438\u0442\u0435 \u0438\u0433\u0440\u0443 \u0434\u043b\u044f playstation, xbox \u0438\u043b\u0438 nintendo switch, \u0442\u043e \u043c\u044b \u0441\u0430\u043c\u0438 \u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0435\u043c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044e \u043a\u0430\u043a \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0433\u0440\u0443. \u0412 \u0434\u0440\u0443\u0433\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043c\u044b \u043f\u043e\u043f\u0440\u043e\u0441\u0438\u043c \u0432\u0430\u0441 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e \u043f\u043e \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u043a\u043b\u044e\u0447\u0430, \u043f\u043e\u0447\u0442\u0438 \u0432\u0441\u0435\u0433\u0434\u0430 \u043e\u043d\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0430 \u043d\u0430 \u0437\u0430\u0434\u043d\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0438 \u0441\u043e\u0441\u0442\u043e\u0438\u0442 \u0438\u0437 3-5 \u0448\u0430\u0433\u043e\u0432.")),c(2),O(e.locationService.translate("Let's say i bought the game 'little nightmares' for playstation 5. I entered the redeem key:","\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c \u044f \u043a\u0443\u043f\u0438\u043b \u043a\u043b\u044e\u0447 \u043a \u0438\u0433\u0440\u0435 'little nightmares'. \u0418 \u0441\u0440\u0430\u0437\u0443 \u0432\u0432\u043e\u0436\u0443 \u043a\u043e\u0434:")),c(1),g("ngIf","us"===e.locationService.location().country.code),c(1),g("ngIf","ru"===e.locationService.location().country.code),c(2),O(e.locationService.translate("Set cover","\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c \u043e\u0431\u043b\u043e\u0436\u043a\u0443")),c(2),O(e.locationService.translate("Now i need to set cover. I google 'little nightmares cover' and download the picture.","\u0414\u0430\u043b\u0435\u0435 \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u0430 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0430\u044f \u043e\u0431\u043b\u043e\u0436\u043a\u0430. \u0412 \u0433\u0443\u0433\u043b \u043f\u043e\u0438\u0441\u043a\u0435 \u0432\u0432\u043e\u0436\u0443 'little nightmares \u043e\u0431\u043b\u043e\u0436\u043a\u0430' \u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u044e \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443.")),c(1),g("ngIf","us"===e.locationService.location().country.code),c(1),g("ngIf","ru"===e.locationService.location().country.code),c(2),O(e.locationService.translate("Now just install it. Here's what we got:","\u0422\u0435\u043f\u0435\u0440\u044c \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043e\u0431\u043b\u043e\u0436\u043a\u0443. \u0412\u043e\u0442 \u0447\u0442\u043e \u0443 \u043c\u0435\u043d\u044f \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c:")),c(2),g("ngIf","us"===e.locationService.location().country.code),c(1),g("ngIf","ru"===e.locationService.location().country.code),c(3),O(e.locationService.translate("That's all, you can gift the game.","\u041d\u0430 \u044d\u0442\u043e\u043c \u0432\u0441\u0451, \u0442\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0438\u0433\u0440\u0443."))}}function LL(i,n){1&i&&_(0,"img",87)}function BL(i,n){1&i&&_(0,"img",88)}function VL(i,n){if(1&i&&(d(0,"div",53),d(1,"div",54),P(2),p(),d(3,"div",55),P(4),p(),d(5,"div",69),P(6),p(),d(7,"div",54),P(8),p(),d(9,"div",55),P(10),p(),T(11,LL,1,0,"img",85),T(12,BL,1,0,"img",86),p()),2&i){const e=b();c(2),O(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),O(e.locationService.translate("This is a speaker where you can record your own greeting voice (any other sound can also be recorded up to 50 seconds).","\u042d\u0442\u043e \u043a\u043e\u043b\u043e\u043d\u043a\u0430. \u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043d\u0435\u0451 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0433\u043e\u043b\u043e\u0441 \u0441 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438 \u0438\u043b\u0438 \u0436\u0435 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0437\u0432\u0443\u043a. (\u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u0437\u0430\u043f\u0438\u0441\u0438 50 \u0441\u0435\u043a.)")),c(2),O(e.locationService.translate("For this gift you will need a microphone. If you use a phone or laptop, it is already built into your device.","\u0414\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0434\u0430\u0440\u043a\u0430, \u0443 \u0432\u0430\u0441 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043d\u043e\u0443\u0442\u0431\u0443\u043a \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d/\u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u0442\u043e \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u043e\u043d \u0432\u0441\u0442\u0440\u043e\u0435\u043d.")),c(2),O(e.locationService.translate("Sound recording","\u0417\u0430\u043f\u0438\u0441\u044c \u0437\u0432\u0443\u043a\u0430")),c(2),O(e.locationService.translate("All you need is to record the sound you want to send to the recipient. This is what the settings panel for sound recording looks like:","\u0412\u0441\u0435 \u0447\u0442\u043e \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e, \u044d\u0442\u043e \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0437\u0432\u0443\u043a, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044e. \u0412\u043e\u0442 \u043a\u0430\u043a \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043f\u0430\u043d\u0435\u043b\u044c \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0438 \u0433\u043e\u043b\u043e\u0441\u0430:")),c(1),g("ngIf","us"===e.locationService.location().country.code),c(1),g("ngIf","ru"===e.locationService.location().country.code)}}function zL(i,n){if(1&i&&(d(0,"div",53),d(1,"div",54),P(2),p(),d(3,"div",55),P(4),p(),d(5,"div",69),P(6),p(),_(7,"img",89),p()),2&i){const e=b();c(2),O(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),O(e.locationService.translate("Here you can record video with congratulations. All this will be designed as a tablet on which the recipient can watch your self made video (maximum duration up to 30 seconds).","\u042d\u0442\u043e \u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e\u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435. (\u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 30 \u0441\u0435\u043a.)")),c(2),O(e.locationService.translate("For this gift you will need a microphone and webcam. If you use a phone or laptop, it is already built into your device.","\u0414\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0434\u0430\u0440\u043a\u0430 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u044b \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d \u0438 \u0432\u0435\u0431\u043a\u0430\u043c\u0435\u0440\u0430. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043d\u043e\u0443\u0442\u0431\u0443\u043a \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d/\u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u0442\u043e \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u043e\u043d\u0438 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u044b."))}}function jL(i,n){if(1&i&&(d(0,"div",53),d(1,"div",54),P(2),p(),d(3,"div",55),P(4),d(5,"b"),P(6),p(),P(7,"."),p(),d(8,"div",69),P(9),p(),d(10,"div",54),P(11),p(),d(12,"div",55),P(13),p(),_(14,"img",90),d(15,"div",54),P(16),p(),d(17,"div",55),P(18),p(),_(19,"img",91),d(20,"div",55),P(21),p(),p()),2&i){const e=b();c(2),O(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),Ae("",e.locationService.translate("This is a photo taken by you. And most importantly, on the back side, ","\u042d\u0442\u043e \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f, \u043d\u0430 \u0437\u0430\u0434\u043d\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435")," "),c(2),O(e.locationService.translate("you can sign it with YOUR OWN HAND","\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u0421\u041e\u0411\u0422\u0412\u0415\u041d\u041d\u041e\u0419 \u0420\u0423\u041a\u041e\u0419")),c(3),O(e.locationService.translate("For this gift you will need a webcam. If you use a phone or laptop, it is already built into your device.","\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u0434\u0430\u0440\u043a\u0430 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u0430 \u0432\u0435\u0431 \u043a\u0430\u043c\u0435\u0440\u0430. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043d\u043e\u0443\u0442\u0431\u0443\u043a \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d/\u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u0442\u043e \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u043e\u043d\u0430 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u0430.")),c(2),O(e.locationService.translate("Take a photo","\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f")),c(2),O(e.locationService.translate("Imagine that you want to give your boyfriend a gift and put your photo there. First, let's take a photo, you can make it on this web-site. (Attention! this photo is just an example). Here's what we got:","\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0432\u0430\u0448\u0435\u043c\u0443 \u043f\u0430\u0440\u043d\u044e \u0438 \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u043b\u043e\u0436\u0438\u0442\u044c \u0442\u0443\u0434\u0430 \u0441\u0432\u043e\u044e \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0444\u043e\u0442\u043e. (\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u042d\u0442\u043e \u043d\u0435 \u043c\u043e\u0451 \u0444\u043e\u0442\u043e \u044f \u0435\u0433\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u0437\u044f\u043b \u0441 pixabay.com):")),c(3),O(e.locationService.translate("Sign with all your heart","\u0420\u0430\u0441\u043f\u0438\u0448\u0435\u043c\u0441\u044f \u043e\u0442 \u0432\u0441\u0435\u0433\u043e \u0441\u0435\u0440\u0434\u0446\u0430")),c(2),O(e.locationService.translate("Now to make the photo really worthwhile, let's sign it on the back side with our own hand. Here's what it looks like:","\u0422\u0435\u043f\u0435\u0440\u044c \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u044d\u0442\u043e \u0444\u043e\u0442\u043e \u0441\u0442\u043e\u044f\u0449\u0438\u043c. \u0420\u0430\u0441\u043f\u0438\u0448\u0435\u043c\u0441\u044f \u043d\u0430 \u0437\u0430\u0434\u043d\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435. \u0412\u043e\u0442 \u0447\u0442\u043e \u0443 \u043c\u0435\u043d\u044f \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c:")),c(3),O(e.locationService.translate("Wow this looks very attractive the recipient will definitely be pleased.","\u0412\u0430\u0443! \u042d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043e\u0447\u0435\u043d\u044c \u043f\u0440\u0438\u0432\u043b\u0435\u043a\u0430\u0442\u0435\u043b\u044c\u043d\u043e! \u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0432\u043e\u043b\u0435\u043d."))}}let GL=(()=>{class i{constructor(e,t,s,o,r,a,l,u){this.touchservice=e,this.gettargethtml=t,this.asyncservice=s,this.host=o,this.readfileservice=r,this.linersvgservice=a,this.locationService=l,this.route=u,this.subs=[],this.touches={giftslist:null,menu:null,screenadd:null,screenviewgift:null,screentrim:null,screenlisttrim:null,screensigngreeting:null,screenplatformgame:null,screenrecordaudio:null,screenlistenaudio:null,screencolorplate:null,screenrecordvideo:null,screenwatchvideo:null,screentakephoto:null,screensignphoto:null,screenhowitworks:null},this.disableds={giftslist:!1,menu:!1,screenadd:!0,screenviewgift:!0,screentrim:!0,screenlisttrim:!0,screensigngreeting:!0,screenplatformgame:!0,screenrecordaudio:!0,screenlistenaudio:!0,screencolorplate:!0,screenrecordvideo:!0,screenwatchvideo:!0,screentakephoto:!0,screensignphoto:!0,screenhowitworks:!0},this.stats={menu:"close",screenadd:"close",screenviewgift:"close",screentitle:"close",screentrim:"close",screenlisttrim:"close",screensigngreeting:"close",screenplatformgame:"close",screenrecordaudio:"close",screenlistenaudio:"close",screencolorplate:"close",screenrecordvideo:"close",screenwatchvideo:"close",screentakephoto:"close",screensignphoto:"close",screenhowitworks:"close"},this.menu=[{title:this.locationService.translate("add","\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),ico:"../../assets/plus.svg",value:"add"}],this.menusublimeshow=!1,this.gifts=[],this.activeGift=null,this.moveWithWaiting=!1,this.timeoutMoveWithWaiting=setTimeout(()=>{},0),this.valerror="",this.timeoutError=setTimeout(()=>{},0),this.sublimerefreshviewgift=!1,this.renamemax=1e3,this.renamemin=3,this.renamewhat="",this.renamevalue="",this.optionListGiftAnimated=!1,this.modeviewgift="usual",this.modetrim="usual",this.imgtrim="",this.sublimesavetrim=!1,this.hashedtrim=null,this.listtrim="",this.ratiotrim=1,this.enterablerename=!1,this.refreshsnapshots=!1,this.sublimerefreshplatform=!1,this.sublimerefreshcolorplate=!1,this.sublimestoprecordaudio=!1,this.signgreetingtool="pen",this.signgreetingcolor="#ffffff",this.signgreetingsublimereset=!1,this.signgreetingsublimesave=!1,this.signphotosublimereset=!1,this.signphotosublimesave=!1,this.initrecordvideo=!1,this.activewatchvideo=!1,this.activetakephoto=!1,this.activesignphoto=!1,this.confirm={value:"",type:""},this.showSelectLanguage=!1,this.flagdbl=!1,this.timeoutdbl=setTimeout(()=>{},0)}processtouch(e){this.setdisableds(e),Object.keys(this.touches).forEach(t=>{this.touches[t]=null}),this.disableds.giftslist||(this.touches.giftslist=e),this.disableds.menu||(this.touches.menu=e),this.disableds.screenadd||(this.touches.screenadd=e),this.disableds.screenviewgift||(this.touches.screenviewgift=e),this.disableds.screentrim||(this.touches.screentrim=e),this.disableds.screenlisttrim||(this.touches.screenlisttrim=e),this.disableds.screensigngreeting||(this.touches.screensigngreeting=e),this.disableds.screenplatformgame||(this.touches.screenplatformgame=e),this.disableds.screenrecordaudio||(this.touches.screenrecordaudio=e),this.disableds.screenlistenaudio||(this.touches.screenlistenaudio=e),this.disableds.screencolorplate||(this.touches.screencolorplate=e),this.disableds.screenrecordvideo||(this.touches.screenrecordvideo=e),this.disableds.screenwatchvideo||(this.touches.screenwatchvideo=e),this.disableds.screentakephoto||(this.touches.screentakephoto=e),this.disableds.screensignphoto||(this.touches.screensignphoto=e),this.disableds.screenhowitworks||(this.touches.screenhowitworks=e),"start"===e.action&&(clearTimeout(this.timeoutMoveWithWaiting),this.timeoutMoveWithWaiting=setTimeout(()=>{this.moveWithWaiting=!0},400)),"move"===e.action&&clearTimeout(this.timeoutMoveWithWaiting),"end"===e.action&&(this.moveWithWaiting=!1,this.optionListGiftAnimated=!1),"end"===e.action&&!1===e.drag&&(this.flagdbl?(this.dbltap(),this.flagdbl=!1):(clearTimeout(this.timeoutdbl),this.flagdbl=!0,this.timeoutdbl=setTimeout(()=>{this.flagdbl=!1},200)))}dbltap(){"open"===this.stats.screenviewgift&&("usual"==this.modeviewgift?(this.modeviewgift="review",this.menu=[]):"review"==this.modeviewgift&&(this.modeviewgift="usual",this.setmenuviewgift()))}getGiftId(){let e=0;return this.gifts.forEach(t=>{t.id>e&&(e=t.id)}),e+1}addgifttolist(e){let t={};t.id=this.getGiftId(),"greetingcard"===e?(t.title=this.locationService.translate("Greeting card","\u041e\u0442\u043a\u0440\u044b\u0442\u043a\u0430"),t.front=this.locationService.translate("../../assets/greetingcard/front/1.png","../../assets/greetingcard/front/21.png"),t.back="../../assets/greetingcard/back/5.jpg",t.text=this.locationService.translate("May you be gifted with life\u2019s\nbiggest joys and never-ending bliss.\nAfter all, you yourself are a gift to earth, so you deserve the best.\nHappy birthday.","\u0416\u0435\u043b\u0430\u044e \u0441\u0447\u0430\u0441\u0442\u044c\u044f, \u0440\u0430\u0434\u043e\u0441\u0442\u0438, \u043b\u044e\u0431\u0432\u0438,\n\u0415\u0449\u0435 \u043c\u0435\u0447\u0442\u044b \u0437\u0430\u0432\u0435\u0442\u043d\u043e\u0439 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u044c\u044f,\n\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u044f \u043a\u0440\u0435\u043f\u043a\u043e\u0433\u043e, \u0443\u0434\u0430\u0447 \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u043e \u0432\u0441\u0435\u043c\n\u0418 \u0434\u043e\u0431\u0440\u044b\u0445 \u0441\u043b\u043e\u0432 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u044c\u044f!"),t.sign=[],t.color="#ffffff"):"game"===e?(t.title=this.locationService.translate("Game","\u0418\u0433\u0440\u0430"),t.color="#003791",t.front="../../assets/game/example.jpg",t.inside="../../assets/game/game.png",t.side="../../assets/game/gameleft.png",t.code="WERB-NBHP-DXCV-ZZKL-UIFM",t.platform="ps",t.open=!1):"speaker"===e?(t.title=this.locationService.translate("Audio","\u0410\u0443\u0434\u0438\u043e\u0437\u0430\u043f\u0438\u0441\u044c"),t.grill="../../assets/speaker/grill/0.png",t.color="#ff5722",t.value=[]):"tablet"===e?(t.title=this.locationService.translate("Audio","\u0412\u0438\u0434\u0435\u043e\u0437\u0430\u043f\u0438\u0441\u044c"),t.color="#c0c0c0",t.value=""):"photo"===e&&(t.title=this.locationService.translate("Photo","\u0424\u043e\u0442\u043e"),t.photo="../../assets/photo/example.jpg",t.sign=[]),t.type=e,this.gifts.push(t),this.saveUpdate()}setdisableds(e){if("open"===this.stats.menu)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!1,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screensignphoto)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!1,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screentakephoto)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!1,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screenwatchvideo)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!1,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screenrecordvideo)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!1,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screencolorplate)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!1,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screenlistenaudio)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!1,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screenrecordaudio)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.menu=!0,this.disableds.screenrecordaudio=!1,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screenplatformgame)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!1,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screensigngreeting)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.screentrim=!0,this.disableds.menu=!0,this.disableds.screensigngreeting=!1,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screenlisttrim)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.screentrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0,"move"===e.action&&"start"===e.prev.action&&(Math.abs(e.y-e.prev.y)>Math.abs(e.x-e.prev.x)?(this.disableds.screenlisttrim=!1,this.disableds.menu=!0):e.x-e.prev.x<0?(this.disableds.screenlisttrim=!0,this.disableds.menu=!1):(this.disableds.screenlisttrim=!1,this.disableds.menu=!0));else if("open"===this.stats.screentrim)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.screenlisttrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0,"usual"===this.modetrim?"move"===e.action&&"start"===e.prev.action&&(e.x-e.prev.x<0?(this.disableds.menu=!1,this.disableds.screentrim=!0):(this.disableds.menu=!0,this.disableds.screentrim=!1)):(this.disableds.menu=!0,this.disableds.screentrim=!1);else if("open"===this.stats.screenadd)this.disableds.giftslist=!0,this.disableds.screenadd=!1,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screenlisttrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0;else if("open"===this.stats.screenviewgift){if(this.disableds.screenlisttrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0,"review"===this.modeviewgift)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!1,this.disableds.menu=!0,this.disableds.screentrim=!0;else if("move"===e.action&&null!==e.prev&&"start"===e.prev.action){const t=[e.x-e.prev.x,e.y-e.prev.y];Math.abs(t[1])>Math.abs(t[0])?(this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!1,this.disableds.menu=!0,this.disableds.screentrim=!0):t[0]<0?(this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!1,this.disableds.screentrim=!0):(this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!1,this.disableds.menu=!0,this.disableds.screentrim=!0)}}else if("open"===this.stats.screenhowitworks)this.disableds.giftslist=!0,this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.menu=!0,this.disableds.screentrim=!0,this.disableds.screenlisttrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!1;else if(this.disableds.screenadd=!0,this.disableds.screenviewgift=!0,this.disableds.screenlisttrim=!0,this.disableds.screensigngreeting=!0,this.disableds.screenplatformgame=!0,this.disableds.screenrecordaudio=!0,this.disableds.screenlistenaudio=!0,this.disableds.screencolorplate=!0,this.disableds.screenrecordvideo=!0,this.disableds.screenwatchvideo=!0,this.disableds.screentakephoto=!0,this.disableds.screensignphoto=!0,this.disableds.screenhowitworks=!0,this.disableds.screentrim=!0,"move"===e.action&&null!==e.prev&&"start"===e.prev.action)if(this.disableds.giftslist=!0,this.disableds.menu=!0,!this.moveWithWaiting||this.gifts.length<2){const t=[e.x-e.prev.x,e.y-e.prev.y];Math.abs(t[1])>Math.abs(t[0])?(this.disableds.giftslist=!1,this.disableds.menu=!0):(this.disableds.giftslist=!0,t[0]>0?this.disableds.menu=!0:t[0]<0&&(this.disableds.menu=!1))}else this.optionListGiftAnimated=!0}dropListGifts(e){let t=this.gifts[e.previousIndex];this.gifts.splice(e.previousIndex,1),this.gifts.splice(e.currentIndex,0,t),this.saveUpdate()}closesignturegreeting(){this.menusublimeshow=!this.menusublimeshow,"photo"===this.activeGift.type&&(this.activesignphoto=!1)}chooseaddlist(e){this.addgifttolist(e),this.stats.screenadd="close",this.setmenuhome()}changecolor(e){"greetingcard"===this.activeGift.type?"open"===this.stats.screensigngreeting?this.signgreetingcolor=e.target.value:this.activeGift.color=e.target.value:"game"===this.activeGift.type||"speaker"===this.activeGift.type?(this.activeGift.color=e.target.value,this.refreshsnapshots=!this.refreshsnapshots):"photo"===this.activeGift.type&&(this.signgreetingcolor=e.target.value),this.saveUpdate()}menuwaschoosen(e){var t;"add"===e?(this.menu=[],this.stats.screenadd="open"):"howitworks"===e?this.activeGift&&(this.stats.screenviewgift="close",this.stats.screenhowitworks="open"):"delete"===e?(this.confirm.value=this.locationService.translate("Are you sure?","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?"),this.confirm.type="deleteGift"):"code"===e?"game"===(null===(t=this.activeGift)||void 0===t?void 0:t.type)&&(this.renamewhat="gamecode",this.renamevalue=this.activeGift.code,this.enterablerename=!1,this.stats.screenviewgift="close",this.stats.screentitle="open"):"photo"===e?"photo"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screentakephoto="open",this.activetakephoto=!0,this.menu=[]):"watch"===e?"tablet"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screenwatchvideo="open",this.activewatchvideo=!0):"case"===e?"tablet"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screencolorplate="open",this.sublimerefreshcolorplate=!this.sublimerefreshcolorplate):"listen"===e?"speaker"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screenlistenaudio="open"):"record"===e?"speaker"===this.activeGift.type?(this.stats.screenviewgift="close",this.stats.screenrecordaudio="open",this.menu=[]):"tablet"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screenrecordvideo="open",this.initrecordvideo=!0,this.menu=[]):"open"===e?"game"===this.activeGift.type&&(this.activeGift.open=!0,this.setmenuviewgift()):"close"===e?"game"===this.activeGift.type&&(this.activeGift.open=!1,this.setmenuviewgift()):"eraser"===e?("open"===this.stats.screensigngreeting||"open"===this.stats.screensignphoto)&&(this.signgreetingtool="eraser",this.menu=[{title:this.locationService.translate("pen","\u0440\u0443\u0447\u043a\u0430"),ico:"../../assets/pen.svg",value:"pen"},{title:this.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"},{title:this.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"}]):"pen"===e?("open"===this.stats.screensigngreeting||"open"===this.stats.screensignphoto)&&(this.signgreetingtool="pen",this.menu=[{title:this.locationService.translate("eraser","\u043b\u0430\u0441\u0442\u0438\u043a"),ico:"../../assets/eraser.svg",value:"eraser"},{title:this.locationService.translate("color","\u0446\u0432\u0435\u0442"),ico:"../../assets/palette.svg",value:"color"},{title:this.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"},{title:this.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"}]):"sign"===e?"greetingcard"===this.activeGift.type?(this.stats.screenviewgift="close",this.stats.screensigngreeting="open",this.signgreetingcolor="#ffffff",this.menu=[{title:this.locationService.translate("eraser","\u043b\u0430\u0441\u0442\u0438\u043a"),ico:"../../assets/eraser.svg",value:"eraser"},{title:this.locationService.translate("color","\u0446\u0432\u0435\u0442"),ico:"../../assets/palette.svg",value:"color"},{title:this.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"},{title:this.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"}]):"photo"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screensignphoto="open",this.activesignphoto=!0,this.signgreetingcolor="#000000",this.menu=[{title:this.locationService.translate("eraser","\u043b\u0430\u0441\u0442\u0438\u043a"),ico:"../../assets/eraser.svg",value:"eraser"},{title:this.locationService.translate("color","\u0446\u0432\u0435\u0442"),ico:"../../assets/palette.svg",value:"color"},{title:this.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"},{title:this.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"}]):"chgtitle"===e?(this.menu=[],this.stats.screenviewgift="close",this.stats.screentitle="open",this.renamewhat="title",setTimeout(()=>{this.renamemin=3,this.renamemax=100,this.renamevalue=this.activeGift.title,this.enterablerename=!1},10)):"color"===e?"greetingcard"===this.activeGift.type?(this.host.nativeElement.querySelector("#inputcolor").value="open"===this.stats.screensigngreeting?this.signgreetingcolor:this.activeGift.color,this.host.nativeElement.querySelector("#inputcolor").click()):"game"===this.activeGift.type||"speaker"===this.activeGift.type?(this.host.nativeElement.querySelector("#inputcolor").value=this.activeGift.color,this.host.nativeElement.querySelector("#inputcolor").click()):"photo"===this.activeGift.type&&(this.host.nativeElement.querySelector("#inputcolor").value=this.signgreetingcolor,this.host.nativeElement.querySelector("#inputcolor").click()):"text"===e?"greetingcard"===this.activeGift.type&&(this.menu=[],this.stats.screenviewgift="close",this.stats.screentitle="open",this.renamewhat="greetingcardtext",this.renamemin=10,this.renamemax=200,this.enterablerename=!0,setTimeout(()=>{this.renamevalue=this.activeGift.text},200)):"grill"===e?"speaker"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screentrim="open",this.imgtrim=this.activeGift.grill,this.ratiotrim=1,this.listtrim="speakergrill",this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/image.svg",value:"chgimage"}]):"front"===e?"greetingcard"===this.activeGift.type?(this.stats.screenviewgift="close",this.stats.screentrim="open",this.imgtrim=this.activeGift.front,this.ratiotrim=297/420,this.listtrim="greetingcardfront",this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/image.svg",value:"chgimage"}]):"game"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screentrim="open",this.imgtrim=this.activeGift.front,this.ratiotrim=256/310,this.listtrim="gamefront",this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("upload","\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"),ico:"../../assets/upload-mini.svg",value:"uploadimage"}]):"inside"===e?"game"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screentrim="open",this.imgtrim=this.activeGift.inside,this.ratiotrim=1,this.listtrim="gameinside",this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("upload","\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"),ico:"../../assets/upload-mini.svg",value:"uploadimage"}]):"side"===e?"game"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screentrim="open",this.imgtrim=this.activeGift.side,this.ratiotrim=79/828,this.listtrim="gameside",this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("upload","\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"),ico:"../../assets/upload-mini.svg",value:"uploadimage"}]):"uploadimage"===e?"game"===this.activeGift.type&&this.inputUploadImageTrim():"back"===e?("greetingcard"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screentrim="open",this.imgtrim=this.activeGift.back,this.ratiotrim=1,this.listtrim="greetingcardback"),this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change image","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),ico:"../../assets/image.svg",value:"chgimage"}]):"trim"===e?(this.modetrim="trim",this.menu=[{title:this.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"},{title:this.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"}]):"save"===e?"open"===this.stats.screentrim?(null!==this.hashedtrim&&(this.hashedtrim=null),this.sublimesavetrim=!this.sublimesavetrim,this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change image","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),ico:"../../assets/image.svg",value:"chgimage"}]):"open"===this.stats.screensigngreeting?(this.stats.screensigngreeting="close",this.stats.screenviewgift="open",this.signgreetingsublimesave=!this.signgreetingsublimesave,this.signgreetingtool="pen",this.setmenuviewgift()):"open"===this.stats.screensignphoto&&(this.stats.screensignphoto="close",this.stats.screenviewgift="open",this.signphotosublimesave=!this.signphotosublimesave,this.signgreetingtool="pen",this.setmenuviewgift()):"cancel"===e?"open"===this.stats.screentrim?(null!==this.hashedtrim&&(this.imgtrim=this.hashedtrim,this.hashedtrim=null),this.modetrim="usual",this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change image","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),ico:"../../assets/image.svg",value:"chgimage"}]):"open"===this.stats.screensigngreeting?(this.signgreetingsublimereset=!this.signgreetingsublimereset,this.stats.screensigngreeting="close",this.stats.screenviewgift="open",this.signgreetingtool="pen",this.setmenuviewgift()):"open"===this.stats.screensignphoto&&(this.signphotosublimereset=!this.signphotosublimereset,this.stats.screensignphoto="close",this.stats.screenviewgift="open",this.signgreetingtool="pen",this.setmenuviewgift()):"chgimage"===e?"open"===this.stats.screentrim&&(this.stats.screentrim="close",this.stats.screenlisttrim="open",this.menu=[]):"platform"===e&&"game"===this.activeGift.type&&(this.stats.screenviewgift="close",this.stats.screenplatformgame="open",this.sublimerefreshplatform=!this.sublimerefreshplatform,this.menu=[])}closescreenadd(){this.stats.screenadd="close",this.setmenuhome()}showviewgift(e){this.activeGift=e,this.stats.screenviewgift="open",this.sublimerefreshviewgift=!this.sublimerefreshviewgift,this.setmenuviewgift()}closescreenviewgift(){"open"===this.stats.screentitle||"open"===this.stats.screentrim||"open"===this.stats.screenlisttrim||"open"===this.stats.screensigngreeting||"open"===this.stats.screenplatformgame||"open"===this.stats.screenrecordaudio||"open"===this.stats.screenlistenaudio||"open"===this.stats.screencolorplate||"open"===this.stats.screenrecordvideo||"open"===this.stats.screenwatchvideo||"open"===this.stats.screentakephoto||"open"===this.stats.screensignphoto||"open"===this.stats.screenhowitworks||(this.activeGift=null,this.stats.screenviewgift="close",this.modeviewgift="usual",this.setmenuhome())}closehowitworks(){this.stats.screenviewgift="open",this.stats.screenhowitworks="close",this.setmenuviewgift()}closescreenrecordaudio(){this.stats.screenviewgift="open",this.stats.screenrecordaudio="close",this.sublimestoprecordaudio=!this.sublimestoprecordaudio,this.setmenuviewgift()}closescreencolorplate(){this.stats.screencolorplate="close",this.stats.screenviewgift="open",this.setmenuviewgift()}closescreentrim(){this.stats.screentrim="close","close"===this.stats.screenlisttrim&&(this.listtrim="",this.stats.screenviewgift="open",this.setmenuviewgift())}closescreentrimlist(){this.stats.screenlisttrim="close",this.stats.screentrim="open",this.menu=[{title:"trim",ico:"../../assets/scissors.svg",value:"trim"},{title:"change",ico:"../../assets/image.svg",value:"chgimage"}]}saveaudio(e){this.activeGift.value=e,"open"===this.stats.screenviewgift&&this.setmenuviewgift(),this.saveUpdate()}setmenuviewgift(){if(null===this.activeGift&&"close"===this.stats.screenviewgift)return;let e=[{title:this.locationService.translate("title","\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),ico:"../../assets/rename.svg",value:"chgtitle"},{title:this.locationService.translate("how it works","\u043a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442"),ico:"../../assets/question-mark.svg",value:"howitworks"}];"greetingcard"===this.activeGift.type?(e.push({title:this.locationService.translate("front","\u043e\u0431\u043b\u043e\u0436\u043a\u0430"),ico:"../../assets/front.svg",value:"front"}),e.push({title:this.locationService.translate("back","\u0437\u0430\u0434\u043d\u044f\u044f \u0441\u0442\u043e\u0440\u043e\u043d\u0430"),ico:"../../assets/background.svg",value:"back"}),e.push({title:this.locationService.translate("text","\u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435"),ico:"../../assets/text.svg",value:"text"}),e.push({title:this.locationService.translate("color","\u0446\u0432\u0435\u0442"),ico:"../../assets/palette.svg",value:"color"}),e.push({title:this.locationService.translate("signature","\u043f\u043e\u0434\u043f\u0438\u0441\u044c"),ico:"../../assets/signature.svg",value:"sign"})):"game"===this.activeGift.type?(e.push(this.activeGift.open?{title:this.locationService.translate("close","\u0437\u0430\u043a\u0440\u044b\u0442\u044c"),ico:"../../assets/open.svg",value:"close"}:{title:this.locationService.translate("open","\u043e\u0442\u043a\u0440\u044b\u0442\u044c"),ico:"../../assets/open.svg",value:"open"}),e.push({title:this.locationService.translate("redeem key","\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447"),ico:"../../assets/password.svg",value:"code"}),e.push({title:this.locationService.translate("platform","\u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430"),ico:"../../assets/controller.svg",value:"platform"}),e.push({title:this.locationService.translate("front","\u043e\u0431\u043b\u043e\u0436\u043a\u0430"),ico:"../../assets/front.svg",value:"front"}),"custom"===this.activeGift.platform&&(e.push({title:this.locationService.translate("color","\u0446\u0432\u0435\u0442"),ico:"../../assets/palette.svg",value:"color"}),e.push({title:this.locationService.translate("inside","\u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0431\u0451\u0440\u0442\u043a\u0430"),ico:"../../assets/inside.svg",value:"inside"}),e.push({title:this.locationService.translate("left side","\u0431\u043e\u043a\u043e\u0432\u0430\u044f \u043d\u0430\u0434\u043f\u0438\u0441\u044c"),ico:"../../assets/left-side.svg",value:"side"}))):"speaker"===this.activeGift.type?(e.push({title:this.locationService.translate("record","\u0437\u0430\u043f\u0438\u0441\u044c"),ico:"../../assets/microphone.svg",value:"record"}),this.activeGift.value[0]&&e.push({title:this.locationService.translate("listen","\u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0430\u0442\u044c"),ico:"../../assets/speaker.svg",value:"listen"}),e.push({title:this.locationService.translate("grill","\u0441\u0435\u0442\u043a\u0430"),ico:"../../assets/grill.svg",value:"grill"}),e.push({title:this.locationService.translate("color","\u0446\u0432\u0435\u0442"),ico:"../../assets/palette.svg",value:"color"})):"tablet"===this.activeGift.type?(e.push({title:this.locationService.translate("case","\u043a\u043e\u0440\u043f\u0443\u0441"),ico:"../../assets/case.svg",value:"case"}),e.push({title:this.locationService.translate("record","\u0437\u0430\u043f\u0438\u0441\u044c"),ico:"../../assets/webcam.svg",value:"record"}),null!==this.activeGift.value&&""!==this.activeGift.value&&e.push({title:this.locationService.translate("watch","\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"),ico:"../../assets/eye.svg",value:"watch"})):"photo"===this.activeGift.type&&(e.push({title:this.locationService.translate("photo","\u0444\u043e\u0442\u043e"),ico:"../../assets/photo.svg",value:"photo"}),e.push({title:this.locationService.translate("sign","\u043f\u043e\u0434\u043f\u0438\u0441\u044c"),ico:"../../assets/signature.svg",value:"sign"})),e.push({title:this.locationService.translate("delete gift","\u0443\u0434\u0430\u043b\u0438\u0442\u044c"),ico:"../../assets/trash.svg",value:"delete"}),this.menu=e}setmenuhome(){let e=[{title:this.locationService.translate("add","\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),ico:"../../assets/plus.svg",value:"add"}];this.gifts.length&&e.push({title:this.locationService.translate("next stage","\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u044d\u0442\u0430\u043f"),ico:"../../assets/checkmark.svg",value:"accept"}),this.menu=e}screentitlewasclosed(){"close"!==this.stats.screentitle&&(this.setmenuviewgift(),this.stats.screentitle="close",this.stats.screenviewgift="open")}screentitlewassaved(e){"title"===this.renamewhat?this.activeGift.title=e:"greetingcardtext"===this.renamewhat?this.activeGift.text=e:"gamecode"===this.renamewhat&&(this.activeGift.code=e),this.saveUpdate()}closetrim(){this.menusublimeshow=!this.menusublimeshow}savetrim(e){this.imgtrim=e,this.modetrim="usual","greetingcardfront"===this.listtrim?this.activeGift.front=e:"greetingcardback"===this.listtrim?this.activeGift.back=e:"gamefront"===this.listtrim?this.activeGift.front=e:"gameinside"===this.listtrim?this.activeGift.inside=e:"gameside"===this.listtrim?this.activeGift.side=e:"speakergrill"===this.listtrim&&(this.activeGift.grill=e),this.refreshsnapshots=!this.refreshsnapshots,this.saveUpdate()}uploadImageTrim(e){var t=this;return N(function*(){return t.hashedtrim=t.imgtrim,t.imgtrim=e,t.stats.screenlisttrim="close",t.stats.screentrim="open",yield t.asyncservice.delay(300),t.modetrim="trim",t.menu=[{title:t.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"},{title:t.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"}],new Promise(s=>s())})()}inputUploadImageTrim(){this.host.nativeElement.querySelector("#inputuploadtrim").click()}tryuploadimage(e){var t=this;return N(function*(){const s=e.target.files[0];let o=[],r={};return s.size/1048576>3&&o.push("should be less than 3 MB"),"image/png"!==s.type&&"image/jpeg"!==s.type&&"image/webp"!==s.type&&"image/x-icon"!==s.type&&"image/gif"!==s.type&&o.push("should be type of png, jpeg, webp, gif, icon"),o[0]||(r=yield t.readfileservice.getImageFromFile(s),(r.naturalWidth>1920||r.naturalHeight>1080)&&o.push("should be less than 1920x1080")),o[0]?(t.showerror(o.join("; ")),e.target.value=null):t.uploadImageTrim(r.src),new Promise(a=>a())})()}showerror(e){var t=this;return N(function*(){return clearTimeout(t.timeoutError),t.valerror="",yield t.asyncservice.delay(250),t.valerror=e,t.timeoutError=setTimeout(()=>{t.valerror=""},5e3),new Promise(s=>s())})()}savegreetingsign(e){this.activeGift.sign=[...e],this.sublimerefreshviewgift=!this.sublimerefreshviewgift,this.saveUpdate()}setPlatformGame(e){this.activeGift.platform=e,this.stats.screenplatformgame="close",this.stats.screenviewgift="open","pc"===e?(this.activeGift.color="#000000",this.activeGift.inside="../../assets/game/game.png",this.activeGift.side="../../assets/game/gameleft.png"):"ps"===e?(this.activeGift.color="#003791",this.activeGift.inside="../../assets/game/ps.png",this.activeGift.side="../../assets/game/psleft.png"):"xbox"===e?(this.activeGift.color="#107C10",this.activeGift.inside="../../assets/game/xbox.png",this.activeGift.side="../../assets/game/xboxleft.png"):"switch"===e&&(this.activeGift.color="#e60012",this.activeGift.inside="../../assets/game/switch.png",this.activeGift.side="../../assets/game/switchleft.png"),"custom"===e&&(this.activeGift.color="#000000",this.activeGift.inside="../../assets/game/game.png",this.activeGift.side="../../assets/game/gameleft.png"),this.refreshsnapshots=!this.refreshsnapshots,this.setmenuviewgift(),this.saveUpdate()}setColorTablet(e){this.activeGift.color=e,this.closescreencolorplate(),this.saveUpdate()}screenplatformgamewasclose(){this.stats.screenplatformgame="close",this.stats.screenviewgift="open",this.setmenuviewgift()}closescreenlistenaudio(){this.stats.screenlistenaudio="close",this.stats.screenviewgift="open"}closerecordvideo(){this.stats.screenrecordvideo="close",this.stats.screenviewgift="open",this.initrecordvideo=!1,this.setmenuviewgift()}saverecordvideo(e){this.activeGift.value=URL.createObjectURL(e[0]),this.saveUpdate()}closewatchvideo(){this.stats.screenwatchvideo="close",this.stats.screenviewgift="open",this.activewatchvideo=!1}closetakephoto(){this.stats.screentakephoto="close",this.stats.screenviewgift="open",this.activetakephoto=!1,this.setmenuviewgift()}savephoto(e){this.activeGift.photo=e,this.refreshsnapshots=!this.refreshsnapshots,this.saveUpdate()}closesignphoto(){this.activesignphoto&&(this.activesignphoto=!1)}actionmenu(e){this.stats.menu=e,"close"===e&&"open"===this.stats.screensignphoto&&(this.activesignphoto=!0)}deleteGift(e){for(let t=0;t<this.gifts.length;t++)if(this.gifts[t].id===e){this.gifts.splice(t,1);break}this.saveUpdate()}resultConfirm(e){"agree"===e&&"deleteGift"===this.confirm.type&&(this.deleteGift(this.activeGift.id),this.stats.screenviewgift="close"),this.confirm.value="",this.confirm.type=""}saveUpdate(){console.log(this.gifts),window.localStorage.setItem("gifts",JSON.stringify(this.gifts))}ngOnInit(){this.gifts=JSON.parse(window.localStorage.getItem("gifts")||"[]"),this.subs.push(this.touchservice.stream$.subscribe(e=>{this.processtouch(e)})),this.subs.push(this.route.queryParams.subscribe(e=>{const t=e.l;this.showSelectLanguage="us"!==t&&"ru"!==t,this.menu=[{title:this.locationService.translate("add","\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),ico:"../../assets/plus.svg",value:"add"}]}))}ngOnDestroy(){this.subs.forEach(e=>{e.unsubscribe()})}}return i.\u0275fac=function(e){return new(e||i)(D(bg),D(Bi),D(Pe),D(W),D(us),D($r),D(Fe),D(as))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-page-create-stage1"]],decls:117,vars:126,consts:[[4,"ngIf"],[3,"value","result"],[3,"value"],[3,"touch","options","sublimeshow","action","choose"],[3,"touch",4,"ngIf"],["cdkDropList","",3,"cdkDropListAutoScrollDisabled","touch","refreshable","cdkDropListDropped",4,"ngIf"],[3,"touch","show","close"],[3,"display","click"],[1,"title"],[1,"description"],[3,"touch","show","scrollable","backable","close"],[3,"touch","gift","mode","sublimerefresh"],[3,"show","value","enterable","max","min","close","save"],[3,"touch","ratio","img","mode","sublimesave","closetrim","save"],["type","file","id","inputuploadtrim","accept","image/png, image/jpeg, image/webp, image/x-icon, image/gif",2,"display","none",3,"change"],["type","color","id","inputcolor",2,"display","none",3,"change"],["class","listimages",4,"ngIf"],[3,"show","backable","scrollable"],[3,"touch","tool","color","gift","sublimereset","sublimesave","close","save"],[3,"show","backable","scrollable","touch","close"],[3,"touch","sublimerefresh"],["matRipple","","matRippleColor","#00000011",3,"click"],[1,"icon-platform",2,"background-image","url(../../assets/pc-logo.svg)","background-size","50%"],[1,"text-platform"],[1,"icon-platform",2,"background-image","url(../../assets/ps-logo.svg)"],[1,"icon-platform",2,"background-image","url(../../assets/xbox-logo.svg)"],[1,"icon-platform",2,"background-image","url(../../assets/nintendo-switch-logo.svg)"],[1,"icon-platform",2,"background-image","url(../../assets/tools.svg)","background-size","50%"],[3,"show","touch","backable","scrollable","close"],[3,"sublimestop","save"],[3,"touch","gift","value","close"],[1,"icon-tablet"],[1,"tablet-demo",2,"background-color","#C0C0C0"],[1,"tablet-gradient"],[1,"tablet-demo",2,"background-color","#69abce"],[1,"tablet-demo",2,"background-color","#005f56"],[1,"tablet-demo",2,"background-color","#FFDF4F"],[1,"icon-tablet",2,"transform","translateY(180deg)"],[1,"tablet-demo",2,"background-color","#2b2031"],[3,"setinit","save"],[3,"active","video"],[3,"active","save"],[3,"show","backable","scrollable","close"],[3,"active","tool","color","gift","sublimereset","sublimesave","close","save"],["class","dialog",4,"ngIf"],[3,"touch"],["cdkDropList","",3,"cdkDropListAutoScrollDisabled","touch","refreshable","cdkDropListDropped"],["cdkDrag","",3,"option-list-gift-animated","cdkDragDisabled","cdkDragStartDelay","gift","refresh","click",4,"ngFor","ngForOf"],["cdkDrag","",3,"cdkDragDisabled","cdkDragStartDelay","gift","refresh","click"],["class","placeholder-list-gift",4,"cdkDragPlaceholder"],[1,"placeholder-list-gift"],[1,"listimages"],[3,"value","click"],[1,"dialog"],[1,"dialog-title"],[1,"dialog-text"],["width","70%","class","dialog-img","src","assets/greetingcard/front/12.png",4,"ngIf"],["width","70%","class","dialog-img","src","assets/greetingcard/front/26.png",4,"ngIf"],[1,"dialog-quote"],["width","70%","class","dialog-img","src","assets/greetingcard/example1.png",4,"ngIf"],["width","70%","class","dialog-img","src","assets/greetingcard/example3.png",4,"ngIf"],["width","70%","class","dialog-img","src","assets/greetingcard/example2.png",4,"ngIf"],["width","70%","class","dialog-img","src","assets/greetingcard/example4.png",4,"ngIf"],["width","70%","src","assets/greetingcard/front/12.png",1,"dialog-img"],["width","70%","src","assets/greetingcard/front/26.png",1,"dialog-img"],["width","70%","src","assets/greetingcard/example1.png",1,"dialog-img"],["width","70%","src","assets/greetingcard/example3.png",1,"dialog-img"],["width","70%","src","assets/greetingcard/example2.png",1,"dialog-img"],["width","70%","src","assets/greetingcard/example4.png",1,"dialog-img"],[1,"dialog-warning"],["width","80%","src","assets/game/example1.png",1,"dialog-img"],["width","80%","class","dialog-img","src","assets/game/example5.png",4,"ngIf"],["width","80%","class","dialog-img","src","assets/game/example7.png",4,"ngIf"],["width","90%","class","dialog-img","src","assets/game/example2.png",4,"ngIf"],["width","90%","class","dialog-img","src","assets/game/example6.png",4,"ngIf"],[1,"dialog-row"],["width","80%","class","dialog-img","src","assets/game/example3.png",4,"ngIf"],["width","80%","class","dialog-img","src","assets/game/example8.png",4,"ngIf"],["width","80%","src","assets/game/example4.png",1,"dialog-img"],["width","80%","src","assets/game/example5.png",1,"dialog-img"],["width","80%","src","assets/game/example7.png",1,"dialog-img"],["width","90%","src","assets/game/example2.png",1,"dialog-img"],["width","90%","src","assets/game/example6.png",1,"dialog-img"],["width","80%","src","assets/game/example3.png",1,"dialog-img"],["width","80%","src","assets/game/example8.png",1,"dialog-img"],["width","80%","class","dialog-img","src","assets/speaker/example1.png",4,"ngIf"],["width","80%","class","dialog-img","src","assets/speaker/example2.png",4,"ngIf"],["width","80%","src","assets/speaker/example1.png",1,"dialog-img"],["width","80%","src","assets/speaker/example2.png",1,"dialog-img"],["width","80%","src","assets/tablet/example1.png",1,"dialog-img"],["width","60%","src","assets/photo/example1.png",1,"dialog-img"],["width","60%","src","assets/photo/example2.png",1,"dialog-img"]],template:function(e,t){1&e&&(T(0,gL,1,0,"app-touch-select-location",0),d(1,"app-touch-confirm",1),C("result",function(o){return t.resultConfirm(o)}),p(),_(2,"app-touch-error",2),d(3,"app-touch-menu",3),C("action",function(o){return t.actionmenu(o)})("choose",function(o){return t.menuwaschoosen(o)}),p(),T(4,mL,1,1,"app-touch-empty-giftslist",4),T(5,yL,2,4,"app-touch-scroll",5),d(6,"app-touch-screen",6),C("close",function(){return t.closescreenadd()}),d(7,"app-touch-giftlistadd-option",7),C("click",function(){return t.chooseaddlist("greetingcard")}),d(8,"div",8),P(9),p(),d(10,"div",9),P(11),p(),p(),d(12,"app-touch-giftlistadd-option",7),C("click",function(){return t.chooseaddlist("game")}),Be(13,8),P(14),Ve(),Be(15,9),P(16),Ve(),p(),d(17,"app-touch-giftlistadd-option",7),C("click",function(){return t.chooseaddlist("speaker")}),Be(18,8),P(19),Ve(),Be(20,9),P(21),Ve(),p(),d(22,"app-touch-giftlistadd-option",7),C("click",function(){return t.chooseaddlist("tablet")}),Be(23,8),P(24),Ve(),Be(25,9),P(26),Ve(),p(),d(27,"app-touch-giftlistadd-option",7),C("click",function(){return t.chooseaddlist("photo")}),Be(28,8),P(29),Ve(),Be(30,9),P(31),Ve(),p(),p(),d(32,"app-touch-screen",10),C("close",function(){return t.closescreenviewgift()}),_(33,"app-touch-view-gift",11),p(),d(34,"app-touch-rename",12),C("close",function(){return t.screentitlewasclosed()})("save",function(o){return t.screentitlewassaved(o)}),p(),d(35,"app-touch-screen",10),C("close",function(){return t.closescreentrim()}),d(36,"app-touch-trim",13),C("closetrim",function(){return t.closetrim()})("save",function(o){return t.savetrim(o)}),p(),p(),d(37,"input",14),C("change",function(o){return t.tryuploadimage(o)}),p(),d(38,"input",15),C("change",function(o){return t.changecolor(o)}),p(),d(39,"app-touch-screen",10),C("close",function(){return t.closescreentrimlist()}),T(40,CL,42,41,"div",16),T(41,bL,22,21,"div",16),T(42,wL,9,8,"div",16),p(),d(43,"app-touch-screen",17),d(44,"app-touch-sign-greetingcard",18),C("close",function(){return t.closesignturegreeting()})("save",function(o){return t.savegreetingsign(o)}),p(),p(),d(45,"app-touch-screen",19),C("close",function(){return t.screenplatformgamewasclose()}),d(46,"app-touch-scroll-fragments",20),d(47,"div",21),C("click",function(){return t.setPlatformGame("pc")}),_(48,"div",22),d(49,"div",23),P(50,"PC"),p(),p(),d(51,"div",21),C("click",function(){return t.setPlatformGame("ps")}),_(52,"div",24),d(53,"div",23),P(54,"Playstation"),p(),p(),d(55,"div",21),C("click",function(){return t.setPlatformGame("xbox")}),_(56,"div",25),d(57,"div",23),P(58,"Xbox"),p(),p(),d(59,"div",21),C("click",function(){return t.setPlatformGame("switch")}),_(60,"div",26),d(61,"div",23),P(62,"Nintendo switch"),p(),p(),d(63,"div",21),C("click",function(){return t.setPlatformGame("custom")}),_(64,"div",27),d(65,"div",23),P(66),p(),p(),p(),p(),d(67,"app-touch-screen",28),C("close",function(){return t.closescreenrecordaudio()}),d(68,"app-touch-micro",29),C("save",function(o){return t.saveaudio(o)}),p(),p(),d(69,"app-touch-screen",17),d(70,"app-touch-listen",30),C("close",function(){return t.closescreenlistenaudio()}),p(),p(),d(71,"app-touch-screen",19),C("close",function(){return t.closescreencolorplate()}),d(72,"app-touch-scroll-fragments",20),d(73,"div",21),C("click",function(){return t.setColorTablet("#c0c0c0")}),d(74,"div",31),d(75,"div",32),_(76,"div",33),p(),p(),d(77,"div",23),P(78),p(),p(),d(79,"div",21),C("click",function(){return t.setColorTablet("#69abce")}),d(80,"div",31),d(81,"div",34),_(82,"div",33),p(),p(),d(83,"div",23),P(84),p(),p(),d(85,"div",21),C("click",function(){return t.setColorTablet("#005f56")}),d(86,"div",31),d(87,"div",35),_(88,"div",33),p(),p(),d(89,"div",23),P(90),p(),p(),d(91,"div",21),C("click",function(){return t.setColorTablet("#FFDF4F")}),d(92,"div",31),d(93,"div",36),_(94,"div",33),p(),p(),d(95,"div",23),P(96),p(),p(),d(97,"div",21),C("click",function(){return t.setColorTablet("#2b2031")}),d(98,"div",37),d(99,"div",38),_(100,"div",33),p(),p(),d(101,"div",23),P(102),p(),p(),p(),p(),d(103,"app-touch-screen",28),C("close",function(){return t.closerecordvideo()}),d(104,"app-web-camera",39),C("save",function(o){return t.saverecordvideo(o)}),p(),p(),d(105,"app-touch-screen",28),C("close",function(){return t.closewatchvideo()}),_(106,"app-touch-watch",40),p(),d(107,"app-touch-screen",28),C("close",function(){return t.closetakephoto()}),d(108,"app-touch-take-picture",41),C("save",function(o){return t.savephoto(o)}),p(),p(),d(109,"app-touch-screen",42),C("close",function(){return t.closesignphoto()}),d(110,"app-touch-sign-photo",43),C("close",function(){return t.closesignturegreeting()})("save",function(o){return t.savegreetingsign(o)}),p(),p(),d(111,"app-touch-screen",28),C("close",function(){return t.closehowitworks()}),T(112,EL,39,21,"div",44),T(113,NL,32,17,"div",44),T(114,VL,13,7,"div",44),T(115,zL,8,3,"div",44),T(116,jL,22,9,"div",44),p()),2&e&&(g("ngIf",t.showSelectLanguage),c(1),g("value",t.confirm.value),c(1),g("value",t.valerror),c(1),g("touch",t.touches.menu)("options",t.menu)("sublimeshow",t.menusublimeshow),c(1),g("ngIf",!t.gifts.length),c(1),g("ngIf",t.gifts.length),c(1),g("touch",t.touches.screenadd)("show","open"==t.stats.screenadd),c(1),g("display","greetingcard"),c(2),O(t.locationService.translate("Greeting card","\u041e\u0442\u043a\u0440\u044b\u0442\u043a\u0430")),c(2),O(t.locationService.translate("Congratulate with a quatrain and sign with your own hand","\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u043d\u043e\u0439 \u0444\u043e\u0440\u043c\u0435 \u0438 \u043f\u043e\u0434\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0440\u0443\u043a\u043e\u0439")),c(1),g("display","game"),c(2),O(t.locationService.translate("Game","\u0412\u0438\u0434\u0435\u043e\u0438\u0433\u0440\u0430")),c(2),O(t.locationService.translate("Buy a game redemption code and give it as a gift{{ locationService.translate","\u041a\u0443\u043f\u0438\u0442\u0435 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0434\u043b\u044f \u0438\u0433\u0440\u044b \u0438 \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u0435 \u0438\u0433\u0440\u0443")),c(1),g("display","speaker"),c(2),O(t.locationService.translate("Audio","\u041a\u043e\u043b\u043e\u043d\u043a\u0430")),c(2),O(t.locationService.translate("Record your voice","\u0417\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0433\u043e\u043b\u043e\u0441 \u0441 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438")),c(1),g("display","tablet"),c(2),O(t.locationService.translate("Video","\u041f\u043b\u0430\u043d\u0448\u0435\u0442")),c(2),O(t.locationService.translate("Record your video","\u0417\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043d\u0430 \u0432\u0435\u0431\u043a\u0430\u043c\u0435\u0440\u0443 \u0441 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438")),c(1),g("display","photo"),c(2),O(t.locationService.translate("Photo","\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f")),c(2),O(t.locationService.translate("Take a photo","\u0421\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e \u0438 \u043f\u043e\u0434\u043f\u0438\u0448\u0438\u0442\u0435 \u0435\u0451 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0440\u0443\u043a\u043e\u0439")),c(1),g("touch",t.touches.screenviewgift)("show","open"==t.stats.screenviewgift)("scrollable",!1)("backable","usual"===t.modeviewgift),c(1),g("touch",t.touches.screenviewgift)("gift",t.activeGift)("mode",t.modeviewgift)("sublimerefresh",t.sublimerefreshviewgift),c(1),g("show","open"===t.stats.screentitle)("value",t.renamevalue)("enterable",t.enterablerename)("max",t.renamemax)("min",t.renamemin),c(1),g("touch",t.touches.screentrim)("show","open"===t.stats.screentrim)("scrollable",!1)("backable","usual"===t.modetrim),c(1),g("touch",t.touches.screentrim)("ratio",t.ratiotrim)("img",t.imgtrim)("mode",t.modetrim)("sublimesave",t.sublimesavetrim),c(3),g("touch",t.touches.screenlisttrim)("show","open"===t.stats.screenlisttrim)("scrollable",!0)("backable",!0),c(1),g("ngIf","greetingcardfront"===t.listtrim),c(1),g("ngIf","greetingcardback"===t.listtrim),c(1),g("ngIf","speakergrill"===t.listtrim),c(1),g("show","open"===t.stats.screensigngreeting)("backable",!1)("scrollable",!1),c(1),g("touch",t.touches.screensigngreeting)("tool",t.signgreetingtool)("color",t.signgreetingcolor)("gift",t.activeGift)("sublimereset",t.signgreetingsublimereset)("sublimesave",t.signgreetingsublimesave),c(1),g("show","open"===t.stats.screenplatformgame)("backable",!0)("scrollable",!1)("touch",t.touches.screenplatformgame),c(1),g("touch",t.touches.screenplatformgame)("sublimerefresh",t.sublimerefreshplatform),c(20),O(t.locationService.translate("Custom","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e")),c(1),g("show","open"===t.stats.screenrecordaudio)("touch",t.touches.screenrecordaudio)("backable",!0)("scrollable",!1),c(1),g("sublimestop",t.sublimestoprecordaudio),c(1),g("show","open"===t.stats.screenlistenaudio)("backable",!1)("scrollable",!1),c(1),g("touch",t.touches.screenlistenaudio)("gift",t.activeGift)("value","speaker"===(null==t.activeGift?null:t.activeGift.type)?null==t.activeGift?null:t.activeGift.value:null),c(1),g("show","open"===t.stats.screencolorplate)("backable",!0)("scrollable",!1)("touch",t.touches.screencolorplate),c(1),g("touch",t.touches.screencolorplate)("sublimerefresh",t.sublimerefreshcolorplate),c(6),O(t.locationService.translate("Pure silver","\u0427\u0438\u0441\u0442\u043e\u0435 \u0441\u0435\u0440\u0435\u0431\u0440\u043e")),c(6),O(t.locationService.translate("Sierra blue","\u0421\u044c\u0435\u0440\u0440\u0430 \u0441\u0438\u043d\u0438\u0439")),c(6),O(t.locationService.translate("Alpine green","\u0410\u043b\u044c\u043f\u0438\u0439\u0441\u043a\u0438\u0439 \u0437\u0435\u043b\u0435\u043d\u044b\u0439")),c(6),O(t.locationService.translate("Shining gold","\u0421\u0438\u044f\u044e\u0449\u0435\u0435 \u0437\u043e\u043b\u043e\u0442\u043e")),c(6),O(t.locationService.translate("Dark matter","\u0422\u0451\u043c\u043d\u0430\u044f \u043c\u0430\u0442\u0435\u0440\u0438\u044f")),c(1),g("show","open"===t.stats.screenrecordvideo)("touch",t.touches.screenrecordvideo)("backable",!0)("scrollable",!1),c(1),g("setinit",t.initrecordvideo),c(1),g("show","open"===t.stats.screenwatchvideo)("touch",t.touches.screenwatchvideo)("backable",!0)("scrollable",!1),c(1),g("active",t.activewatchvideo)("video",null==t.activeGift?null:t.activeGift.value),c(1),g("show","open"===t.stats.screentakephoto)("touch",t.touches.screentakephoto)("backable",!0)("scrollable",!1),c(1),g("active",t.activetakephoto),c(1),g("show","open"===t.stats.screensignphoto)("backable",!1)("scrollable",!1),c(1),g("active",t.activesignphoto)("tool",t.signgreetingtool)("color",t.signgreetingcolor)("gift",t.activeGift)("sublimereset",t.signphotosublimereset)("sublimesave",t.signphotosublimesave),c(1),g("show","open"===t.stats.screenhowitworks)("touch",t.touches.screenhowitworks)("backable",!0)("scrollable",!0),c(1),g("ngIf","greetingcard"===(null==t.activeGift?null:t.activeGift.type)),c(1),g("ngIf","game"===(null==t.activeGift?null:t.activeGift.type)),c(1),g("ngIf","speaker"===(null==t.activeGift?null:t.activeGift.type)),c(1),g("ngIf","tablet"===(null==t.activeGift?null:t.activeGift.type)),c(1),g("ngIf","photo"===(null==t.activeGift?null:t.activeGift.type)))},directives:[ot,wg,wb,Nw,h0,J9,oN,Lw,Bw,uN,hN,ni,mN,_N,bN,xN,MN,TN,IN,AN,kg,lL,zt,_2,hL,m2,v2],pipes:[y2],styles:["[_nghost-%COMP%]{position:absolute;left:0px;top:0px;width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .option-list-gift-animated[_ngcontent-%COMP%]{transition:transform .25s ease}[_nghost-%COMP%]   .placeholder-list-gift[_ngcontent-%COMP%]{width:100%;height:120px;opacity:0;transition:transform .25s ease}[_nghost-%COMP%]   .listimages[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around;flex-wrap:wrap}[_nghost-%COMP%]   .icon-platform[_ngcontent-%COMP%]{margin:10px 0;width:90%;height:50%;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%]   .text-platform[_ngcontent-%COMP%]{margin:10px;text-align:center;user-select:none;font-size:18px;font-weight:bold;color:#333}[_nghost-%COMP%]   .tablet-demo[_ngcontent-%COMP%]{width:80%;height:60%;border-radius:10px;overflow:hidden}[_nghost-%COMP%]   .tablet-demo[_ngcontent-%COMP%] > .tablet-gradient[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(45deg,#00000066,#00000000)}[_nghost-%COMP%]   .icon-tablet[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:10px 0;width:90%;height:50%;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]{padding-bottom:40px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{text-align:center;font-size:26px;font-weight:bold;color:#333;margin:50px 50px 10px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-text[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#333;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-quote[_ngcontent-%COMP%]{text-align:center;font-style:italic;color:#999;font-size:16px;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-img[_ngcontent-%COMP%]{margin:10px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-warning[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#f44336;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around;flex-wrap:wrap}"]}),i})(),HL=(()=>{class i{constructor(e,t){this.host=e,this.locationService=t,this.first=!0,this.text="",this.result=new U,this.slideTop="show",this.left=0,this.top=0}onClick(e){this.first?this.first=!1:this.host.nativeElement.contains(e.target)||this.result.emit(!1)}onResize(){this.setCoord()}setCoord(){let e=this.target.getBoundingClientRect();!e.x&&!e.y&&!e.width&&!e.height||(this.left=e.x+window.scrollX-40,this.top=e.y+window.scrollY+30)}ngOnInit(){this.setCoord()}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-confirm"]],hostVars:5,hostBindings:function(e,t){1&e&&C("click",function(o){return t.onClick(o)},!1,Ie)("resize",function(){return t.onResize()},!1,Ie),2&e&&(Er("@slideTop",t.slideTop),y("left",t.left,"px")("top",t.top,"px"))},inputs:{text:"text",target:"target"},outputs:{result:"result"},decls:7,vars:3,consts:[[1,"confirm-text"],[1,"confirm-buttons"],[1,"confirm-button","confirm-button__disagree",3,"click"],[1,"confirm-button","confirm-button__agree",3,"click"]],template:function(e,t){1&e&&(d(0,"div",0),P(1),p(),d(2,"div",1),d(3,"div",2),C("click",function(){return t.result.emit(!1)}),P(4),p(),d(5,"div",3),C("click",function(){return t.result.emit(!0)}),P(6),p(),p()),2&e&&(c(1),O(t.text),c(3),O(t.locationService.translate("no","\u043d\u0435\u0442")),c(2),O(t.locationService.translate("yes","\u0434\u0430")))},styles:["[_nghost-%COMP%]{position:absolute;left:0px;top:0px;z-index:1000;box-shadow:0 0 5px #ddd;border-radius:10px;background-color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:300px}[_nghost-%COMP%] > .confirm-text[_ngcontent-%COMP%]{margin:10px;color:#333;font-size:16px}[_nghost-%COMP%] > .confirm-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%] > .confirm-buttons[_ngcontent-%COMP%] > .confirm-button[_ngcontent-%COMP%]{margin:0 10px 5px;background-color:#0000;cursor:pointer;border-radius:5px;padding:10px;transition:background-color ease .2s}[_nghost-%COMP%] > .confirm-buttons[_ngcontent-%COMP%] > .confirm-button__agree[_ngcontent-%COMP%]{color:#4caf50}[_nghost-%COMP%] > .confirm-buttons[_ngcontent-%COMP%] > .confirm-button__disagree[_ngcontent-%COMP%]{color:#f44336}[_nghost-%COMP%] > .confirm-buttons[_ngcontent-%COMP%] > .confirm-button[_ngcontent-%COMP%]:hover{background-color:#0001}"],data:{animation:[ut("slideTop",[me(":enter",[Y({opacity:0,transform:"translateY(-40px)"}),le("200ms ease",Y({opacity:1,transform:"translateY(0px)"}))]),me(":leave",[le("200ms ease",Y({opacity:0,transform:"translateY(-40px)"}))])])]}}),i})(),UL=(()=>{class i{constructor(e,t){this.appRef=e,this.cfr=t}show(e,t,s,o){const r=this.cfr.resolveComponentFactory(HL);this.component=e.createComponent(r),this.component.instance.text=s,this.component.instance.target=t,this.component.instance.result.subscribe(o)}hide(){this.component.destroy()}}return i.\u0275fac=function(e){return new(e||i)(z(Br),z(Es))},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$L=(()=>{class i{constructor(){}get(e){let t,s,o,r,a=e;return a.match(/^rgb/)?(a=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),t=a[1],s=a[2],o=a[3]):(a=+("0x"+a.slice(1).replace(a.length<5&&/./g,"$&$&")),t=a>>16,s=a>>8&255,o=255&a),r=Math.sqrt(.299*t**2+.587*s**2+.114*o**2),r>127.5?"light":"dark"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function YL(i,n){if(1&i&&(d(0,"div",2),_(1,"div",3),d(2,"div",4),P(3),p(),p()),2&i){const e=b();y("background-color",e.background),g("matRippleColor",e.colorRipple),c(1),y("background-image","url("+e.icon+")"),H("button__icon_empty",""===e.icon),c(1),y("color",e.color),H("button__text_empty",""===e.text)("button__text_with-margin-left",""===e.icon),c(1),Ae(" ",e.text," ")}}function WL(i,n){if(1&i&&(d(0,"div",5),_(1,"div",3),d(2,"div",4),P(3),p(),p()),2&i){const e=b();y("background-color",e.background),c(1),y("background-image","url("+e.icon+")"),H("button__icon_empty",""===e.icon),c(1),y("color",e.color),H("button__text_empty",""===e.text)("button__text_with-margin-left",""===e.icon),c(1),Ae(" ",e.text," ")}}let js=(()=>{class i{constructor(e){this.lightOrDark=e,this.text="",this.icon="",this.background="#333333",this.color="#ffffff",this.disabled=!1,this.colorRipple="#00000022"}setColorRipple(){this.colorRipple="light"===this.lightOrDark.get(this.background)?"#00000022":"#ffffff22"}ngOnInit(){this.setColorRipple()}}return i.\u0275fac=function(e){return new(e||i)(D($L))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-button"]],inputs:{text:"text",icon:"icon",background:"background",color:"color",disabled:"disabled"},decls:2,vars:2,consts:[["class","wrap","matRipple","",3,"background-color","matRippleColor",4,"ngIf"],["class","wrap disabled",3,"background-color",4,"ngIf"],["matRipple","",1,"wrap",3,"matRippleColor"],[1,"button__icon"],[1,"button__text"],[1,"wrap","disabled"]],template:function(e,t){1&e&&(T(0,YL,4,14,"div",0),T(1,WL,4,13,"div",1)),2&e&&(g("ngIf",!t.disabled),c(1),g("ngIf",t.disabled))},directives:[ot,ni],styles:["[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;cursor:pointer;border-radius:5px;background-color:#333;opacity:.7;transition:all ease .3s}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .button__icon[_ngcontent-%COMP%]{margin:10px;width:24px;height:24px;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .button__icon.button__icon_empty[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .button__text[_ngcontent-%COMP%]{margin:10px 10px 10px 0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:30px;font-size:16px;color:#fff}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .button__text.button__text_empty[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .button__text.button__text_with-margin-left[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%]:hover > .button__text[_ngcontent-%COMP%]{user-select:none}[_nghost-%COMP%] > .wrap.disabled[_ngcontent-%COMP%]{filter:blur(2px);cursor:default}[_nghost-%COMP%] > .wrap.disabled[_ngcontent-%COMP%]:hover{opacity:.7}"]}),i})();function qL(i,n){if(1&i&&_(0,"app-greeting-card",8),2&i){const e=b();y("transform","rotateY("+e.rotateGifts+"deg)"),H("gift-animated",e.animateGifts),g("size",297/420*190*e.scaleIcon)("front",e.gift.front)("back",e.gift.back)("text",e.gift.text)("color",e.gift.color)("sign",e.gift.sign)}}function ZL(i,n){if(1&i&&_(0,"app-game",9),2&i){const e=b();y("transform","rotateY("+e.rotateGifts+"deg)"),H("gift-animated",e.animateGifts),g("size",135*e.scaleIcon)("color",e.gift.color)("front",e.gift.front)("inside",e.gift.inside)("side",e.gift.side)("code",e.gift.code)}}function XL(i,n){if(1&i&&_(0,"app-speaker",10),2&i){const e=b();y("transform","rotateY("+(e.rotateGifts+180)+"deg)")("animation-name","rotPlus180"),H("gift-animated",e.animateGifts),g("size",170*e.scaleIcon)("grill",e.gift.grill)("color",e.gift.color)}}function QL(i,n){if(1&i&&_(0,"app-tablet",11),2&i){const e=b();y("transform","rotateY("+e.rotateGifts+"deg)"),H("gift-animated",e.animateGifts),g("color",e.gift.color)("size",190*e.scaleIcon)}}function KL(i,n){if(1&i&&_(0,"app-photo",12),2&i){const e=b();y("transform","rotateY("+e.rotateGifts+"deg)"),H("gift-animated",e.animateGifts),g("photo",e.gift.photo)("sign",e.gift.sign)("size",142.5*e.scaleIcon)}}function JL(i,n){if(1&i){const e=J();d(0,"div",16),C("mousedown",function(s){M(e);const o=b(2);return o.buttonsDisabled?null:o.pushMove(s)}),p()}if(2&i){const e=b(2);y("filter",e.buttonsDisabled?"blur(2px)":"")("cursor",e.buttonsDisabled?"default":"pointer")}}function eB(i,n){if(1&i){const e=J();d(0,"div",13),T(1,JL,1,4,"div",14),d(2,"app-desktop-button",15),C("click",function(){M(e);const s=b();return s.buttonsDisabled?null:s.clickAdd()}),p(),d(3,"app-desktop-button",15),C("click",function(s){M(e);const o=b();return o.buttonsDisabled?null:o.clickDelete(s)}),p(),p()}if(2&i){const e=b();c(1),g("ngIf",e.showMove),c(1),g("icon","../../assets/pen.svg")("background","#ffffff")("disabled",e.buttonsDisabled),c(1),g("icon","../../assets/trash.svg")("background","#ffffff")("disabled",e.buttonsDisabled)}}let bh=(()=>{class i{constructor(e,t,s,o,r){this.asyncService=e,this.host=t,this.confirmService=s,this.hostContainer=o,this.locationService=r,this.gift=null,this.showMove=!1,this.sublimeStartRotate=!1,this.sublimeStopRotate=!1,this.showButtons=!0,this.scaleIcon=1,this.startMove=new U,this.edit=new U,this.delete=new U,this.rotateGifts=0,this.intervalRotateGifts=setInterval(()=>{},99999),this.animateGifts=!1,this.buttonsDisabled=!1}pushMove(e){this.startMove.emit({gift:this.gift,rect:this.host.nativeElement.getBoundingClientRect(),event:e})}clickAdd(){this.edit.emit({gift:this.gift,rect:this.host.nativeElement.getBoundingClientRect()})}clickDelete(e){this.buttonsDisabled=!0,this.confirmService.show(this.hostContainer,e.target,this.locationService.translate("Are you sure?","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?"),t=>{t&&this.delete.emit(this.gift),this.buttonsDisabled=!1,this.confirmService.hide()})}startRotateGifts(){clearInterval(this.intervalRotateGifts),this.intervalRotateGifts=setInterval(()=>{this.rotateGifts+=1,this.rotateGifts>360&&(this.rotateGifts-=360)},10)}stopRotateGifts(){var e=this;return N(function*(){return e.animateGifts=!0,yield e.asyncService.delay(10),clearInterval(e.intervalRotateGifts),e.rotateGifts=e.rotateGifts<180?0:360,yield e.asyncService.delay(200),e.animateGifts=!1,new Promise(t=>t())})()}ngOnInit(){}ngOnChanges(e){e.sublimeStartRotate&&void 0!==e.sublimeStartRotate.previousValue&&e.sublimeStartRotate.previousValue!==e.sublimeStartRotate.currentValue&&this.startRotateGifts(),e.sublimeStopRotate&&void 0!==e.sublimeStopRotate.previousValue&&e.sublimeStopRotate.previousValue!==e.sublimeStopRotate.currentValue&&this.stopRotateGifts()}}return i.\u0275fac=function(e){return new(e||i)(D(Pe),D(W),D(UL),D(_n),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-gift-list-option"]],inputs:{gift:"gift",showMove:"showMove",sublimeStartRotate:"sublimeStartRotate",sublimeStopRotate:"sublimeStopRotate",showButtons:"showButtons",scaleIcon:"scaleIcon"},outputs:{startMove:"startMove",edit:"edit",delete:"delete"},features:[ie],decls:9,vars:11,consts:[[1,"icon"],[3,"gift-animated","transform","size","front","back","text","color","sign",4,"ngIf"],[3,"gift-animated","transform","size","color","front","inside","side","code",4,"ngIf"],[3,"gift-animated","transform","size","grill","color","animationName",4,"ngIf"],[3,"gift-animated","transform","color","size",4,"ngIf"],[3,"gift-animated","transform","photo","sign","size",4,"ngIf"],[1,"title"],["class","buttons",4,"ngIf"],[3,"size","front","back","text","color","sign"],[3,"size","color","front","inside","side","code"],[3,"size","grill","color"],[3,"color","size"],[3,"photo","sign","size"],[1,"buttons"],["class","move-button",3,"filter","cursor","mousedown",4,"ngIf"],[1,"button-edit",3,"icon","background","disabled","click"],[1,"move-button",3,"mousedown"]],template:function(e,t){1&e&&(d(0,"div",0),T(1,qL,1,10,"app-greeting-card",1),T(2,ZL,1,10,"app-game",2),T(3,XL,1,9,"app-speaker",3),T(4,QL,1,6,"app-tablet",4),T(5,KL,1,7,"app-photo",5),p(),d(6,"div",6),P(7),p(),T(8,eB,4,7,"div",7)),2&e&&(y("width",200*t.scaleIcon,"px")("height",200*t.scaleIcon,"px"),c(1),g("ngIf","greetingcard"===t.gift.type),c(1),g("ngIf","game"===t.gift.type),c(1),g("ngIf","speaker"===t.gift.type),c(1),g("ngIf","tablet"===t.gift.type),c(1),g("ngIf","photo"===t.gift.type),c(2),O(t.gift.title),c(1),g("ngIf",t.showButtons))},directives:[ot,Vs,Jr,Mo,Eo,zs,js],styles:["[_nghost-%COMP%]{margin:10px;display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .icon[_ngcontent-%COMP%]{flex-shrink:0;margin:10px;width:200px;height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;perspective:2000px}[_nghost-%COMP%] > .icon[_ngcontent-%COMP%] > .gift-animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%] > .title[_ngcontent-%COMP%]{margin:20px;font-size:18px;text-align:left;word-break:break-word}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;flex-shrink:0;margin-left:auto}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px 10px 10px 0}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin-left:10px}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%] > .move-button[_ngcontent-%COMP%]{margin:10px;width:30px;height:30px;cursor:grab;background-image:url(menu.256c1139be19ba43.svg);background-position:center;background-size:contain;background-repeat:no-repeat}"]}),i})();const k0=function(){return["/"]},C2=function(){return{l:"us"}},tB=function(){return{l:"ru"}};let nB=(()=>{class i{constructor(){this.slideTop="show"}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-select-location"]],hostVars:1,hostBindings:function(e,t){2&e&&Er("@slideTop",t.slideTop)},decls:13,vars:12,consts:[[1,"list"],[1,"option",3,"routerLink","queryParams"],[1,"option__icon","option__icon_us"],[1,"option__text"],[1,"option__icon","option__icon_ru"],[1,"option__icon","option__icon_world"]],template:function(e,t){1&e&&(d(0,"div",0),d(1,"a",1),_(2,"div",2),d(3,"div",3),P(4,"I'm from USA"),p(),p(),d(5,"a",1),_(6,"div",4),d(7,"div",3),P(8,"I'm from Russia"),p(),p(),d(9,"a",1),_(10,"div",5),d(11,"div",3),P(12,"I'm from another country"),p(),p(),p()),2&e&&(c(1),g("routerLink",Vt(6,k0))("queryParams",Vt(7,C2)),c(4),g("routerLink",Vt(8,k0))("queryParams",Vt(9,tB)),c(4),g("routerLink",Vt(10,k0))("queryParams",Vt(11,C2)))},directives:[kl],styles:["[_nghost-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:100;background-color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:0 0 10px #ddd;background-color:#0002}[_nghost-%COMP%] > .list[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;flex-direction:column;align-items:stretch;justify-content:flex-start;overflow-y:auto;width:90%;max-width:600px;max-height:min(800px,90%);box-shadow:0 0 5px #ddd}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%]{padding:20px 50px;display:flex;flex-direction:row;text-decoration:none;align-items:center;justify-content:flex-start;cursor:pointer;transition:background-color ease .2s}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon[_ngcontent-%COMP%]{flex-shrink:0;margin-right:0;width:30px;height:20px;background-position:center;background-size:contain;background-repeat:no-repeat;border:1px solid #bbbbbb;border-radius:5px}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon_world[_ngcontent-%COMP%]{background-image:url(world.c4e74befe8e09023.png)}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon_us[_ngcontent-%COMP%]{background-image:url(us.737df2eb1546c000.png)}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__icon_ru[_ngcontent-%COMP%]{background-image:url(ru-wbw.6bd19d822e7111dc.png)}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%] > .option__text[_ngcontent-%COMP%]{margin:10px;text-decoration:none;color:#333;font-size:18px}[_nghost-%COMP%] > .list[_ngcontent-%COMP%] > .option[_ngcontent-%COMP%]:hover{background-color:#0001}"],data:{animation:[ut("slideTop",[me(":enter",[Y({backgroundColor:"#00000000"}),Vi(".list",[Y({transform:"translateY(-100px)",opacity:0})]),le("0.2s ease",Y({backgroundColor:"#00000022"})),Vi(".list",[le("0.2s ease",Y({transform:"translateY(0px)",opacity:1}))])]),me(":leave",[Vi(".list",[le("0.2s ease",Y({transform:"translateY(-100px)",opacity:0}))]),le("0.2s ease",Y({backgroundColor:"#00000000"}))])])]}}),i})(),wh=(()=>{class i{constructor(){this.text="",this.color="#333333",this.visible="hide",this.insideText="",this.timeout=setTimeout(()=>{},0)}ngOnInit(){}ngOnChanges(e){e.text&&void 0!==e.text.previousValue&&(""===this.text?(clearTimeout(this.timeout),this.visible="hide"):(this.insideText=this.text,this.visible="show"))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-error"]],hostVars:1,hostBindings:function(e,t){2&e&&Er("@buttomShow",t.visible)},inputs:{text:"text",color:"color"},features:[ie],decls:4,vars:3,consts:[[1,"wrap"],[1,"close",3,"click"],[1,"text"]],template:function(e,t){1&e&&(d(0,"div",0),d(1,"div",1),C("click",function(){return t.visible="hide",t.text=""}),p(),d(2,"div",2),P(3),p(),p()),2&e&&(c(2),y("color",t.color),c(1),O(t.insideText))},styles:["[_nghost-%COMP%]{position:fixed;bottom:20px;left:50%;margin:0 auto;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;z-index:10}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;background-color:#fff;border-radius:10px;box-shadow:0 0 5px #0003}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .close[_ngcontent-%COMP%]{position:absolute;width:30px;height:30px;align-self:flex-end;background-image:url(/assets/cross.svg);background-position:center;background-size:50%;background-repeat:no-repeat;cursor:pointer;opacity:1;transform:translate(50%) translateY(-50%);background-color:#fff;box-shadow:0 0 5px #0003;border-radius:100%;transition:all ease .2s}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .close[_ngcontent-%COMP%]:hover{background-color:#eee}[_nghost-%COMP%] > .wrap[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:30px 40px;font-size:14px;text-align:center}"],data:{animation:[ut("buttomShow",[Ns("show",Y({transform:"translateX(-50%) translateY(0px)"})),Ns("hide",Y({transform:"translateX(-50%) translateY(200px)"})),me("hide => show",[le("200ms ease")]),me("show => hide",[le("200ms ease")])])]}}),i})();const iB=["confirm"],sB=["progress"];function oB(i,n){1&i&&_(0,"div",12),2&i&&y("height",n.$implicit,"px")}function rB(i,n){if(1&i&&(d(0,"div",13),P(1),p()),2&i){const e=b();c(1),O(e.timer)}}let aB=(()=>{class i{constructor(e,t,s,o){this.asyncService=e,this.host=t,this.getTargetHtmlService=s,this.locationService=o,this.status="waiting",this.error="",this.sounds=[],this.chunks=[],this.showConfirm="close",this.playing=!1,this.timer=0,this.interval=setInterval(()=>{},1e6),this.progress=0,this.intervalPlaying=setInterval(()=>{},1e6),this.widthProgress=0,this.audioDuration=0,this.trackConfig={active:!1,wasPlaying:!1},this.textError="",this.timeoutError=setTimeout(()=>{},0),this.sublimeValue=null,this.sublimeSounds=null,this.sublimeDuration=null,this.sublimestop=!1,this.save=new U}showError(e){clearTimeout(this.timeoutError),this.textError=e,this.timeoutError=setTimeout(()=>{this.textError=""},5e3)}init(){return N(function*(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}):new Promise((e,t)=>t("Your browser does not support microphone recording"))})()}onMouseClick(e){"open"===this.showConfirm&&!this.confirmRef.nativeElement.contains(e.target)&&(this.showConfirm="close")}onMouseDownTrack(e){this.trackConfig.active=!0,this.trackConfig.wasPlaying=this.playing,this.playing&&this.stopPlaying();let t=this.progressRef.nativeElement.getBoundingClientRect();this.progress=(e.clientX-t.x)/t.width,this.widthProgress=this.progress*t.width,this.widthProgress>t.width&&(this.widthProgress=t.width),this.audio.currentTime=this.progress*this.audioDuration}onMouseMoveTrack(e){if(!this.trackConfig.active)return;let t=this.progressRef.nativeElement.getBoundingClientRect();this.progress=(e.clientX-t.x)/t.width,this.widthProgress=this.progress*t.width,this.widthProgress>t.width&&(this.widthProgress=t.width),this.audio.currentTime=this.progress*this.audioDuration}onMouseUpTrack(e){this.trackConfig.active=!1,this.trackConfig.wasPlaying&&this.startPlaying()}onMouseLeave(){this.trackConfig.active=!1}startRecord(){var e=this;return N(function*(){if(e.chunks[0])setTimeout(()=>{e.showConfirm="open"},30);else try{e.widthProgress=0;let t=yield e.init();e.audioCtx=new AudioContext,e.analyser=e.audioCtx.createAnalyser(),e.analyser.fftSize=2048,e.audioCtx.createMediaStreamSource(t).connect(e.analyser),e.recorder=new MediaRecorder(t),e.status="recording",e.recorder.ondataavailable=s=>{e.chunks.push(s.data),e.save.emit({chunks:e.chunks,sounds:e.sounds,duration:e.audioDuration})},e.recorder.start(),e.listen(),e.timer=50,e.interval=setInterval(()=>{e.timer--,e.timer<=0&&e.stopRecord()},1e3)}catch(t){e.error="NotAllowedError: Permission denied"===t.toString()||"NotAllowedError: Permission dismissed"===t.toString()?"Microphone not allowed":t,e.showError(e.error)}})()}stopRecord(){var e=this;return N(function*(){e.audioDuration=50-e.timer,e.timer=0,clearInterval(e.interval),e.status="waiting",e.recorder.stop(),e.recorder.stream.getTracks().forEach(o=>o.stop());let[t,s]=[0,10];for(;!(e.chunks[0]||(yield e.asyncService.delay(500),t++,t>s)););return t<s&&(e.audio=new Audio(URL.createObjectURL(e.chunks[0])),e.audio.onended=()=>{e.stopPlaying()}),new Promise(o=>o())})()}listen(){var e=this;return N(function*(){for(;"recording"===e.status;){let s=new Uint8Array(e.analyser.frequencyBinCount);e.analyser.getByteFrequencyData(s);let o=0;for(var t=0;t<s.length;t++)o+=s[t]**2;o/=s.length,o=Math.sqrt(o),e.addSound(o),yield e.asyncService.delay(200)}})()}addSound(e){if(this.sounds.push(e/=2),this.sounds.length>150)for(let t=0;t<this.sounds.length;t+=2)this.sounds.splice(t,1)}resultconfirm(e){"agree"===e&&(this.chunks=[],this.sounds=[],this.startRecord()),this.showConfirm="close"}switchRecord(){this.playing||"open"===this.showConfirm||("waiting"===this.status?this.startRecord():this.stopRecord())}switchPlay(){!this.chunks[0]||"recording"===this.status||"open"===this.showConfirm||(this.playing?this.stopPlaying():this.startPlaying())}startPlaying(){this.playing=!0,this.audio.play(),this.intervalPlaying=setInterval(()=>{this.progress=this.audio.currentTime/this.audioDuration;let e=this.progressRef.nativeElement.getBoundingClientRect();this.widthProgress=this.progress*e.width,this.widthProgress>e.width&&(this.widthProgress=e.width)},100)}stopPlaying(){this.playing=!1,this.audio.pause(),clearInterval(this.intervalPlaying)}ngOnInit(){}ngOnChanges(e){e.sublimestop&&e.sublimestop.previousValue!==e.sublimestop.currentValue&&void 0!==e.sublimestop.previousValue&&this.stopRecord(),e.sublimeValue&&e.sublimeValue.previousValue!==e.sublimeValue.currentValue&&this.sublimeValue[0]&&(this.chunks=this.sublimeValue,this.audio=new Audio(URL.createObjectURL(this.chunks[0])),this.audio.onended=()=>{this.stopPlaying()}),e.sublimeSounds&&e.sublimeSounds.previousValue!==e.sublimeSounds.currentValue&&this.sublimeSounds&&(this.sounds=this.sublimeSounds),e.sublimeDuration&&e.sublimeDuration.previousValue!==e.sublimeDuration.currentValue&&this.sublimeDuration&&(this.audioDuration=this.sublimeDuration)}}return i.\u0275fac=function(e){return new(e||i)(D(Pe),D(W),D(Bi),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-micro"]],viewQuery:function(e,t){if(1&e&&(ht(iB,5),ht(sB,5)),2&e){let s;qe(s=Ze())&&(t.confirmRef=s.first),qe(s=Ze())&&(t.progressRef=s.first)}},hostBindings:function(e,t){1&e&&C("click",function(o){return t.onMouseClick(o)},!1,Ie)},inputs:{sublimeValue:"sublimeValue",sublimeSounds:"sublimeSounds",sublimeDuration:"sublimeDuration",sublimestop:"sublimestop"},outputs:{save:"save"},features:[ie],decls:17,vars:20,consts:[[1,"confirm"],["confirm",""],[1,"confirm__text"],[1,"confirm__buttons"],[1,"confirm__button",3,"click"],[3,"icon","background","disabled","click"],[1,"track",3,"mousedown","mouseup","mousemove","mouseleave"],["progress",""],[1,"progress"],["class","sound",3,"height",4,"ngFor","ngForOf"],["class","timer",4,"ngIf"],[3,"text","color"],[1,"sound"],[1,"timer"]],template:function(e,t){1&e&&(d(0,"div",0,1),d(2,"div",2),P(3),p(),d(4,"div",3),d(5,"div",4),C("click",function(){return t.resultconfirm("reject")}),P(6),p(),d(7,"div",4),C("click",function(){return t.resultconfirm("agree")}),P(8),p(),p(),p(),d(9,"app-desktop-button",5),C("click",function(){return t.switchRecord()}),p(),d(10,"app-desktop-button",5),C("click",function(){return t.switchPlay()}),p(),d(11,"div",6,7),C("mousedown",function(o){return t.onMouseDownTrack(o)})("mouseup",function(o){return t.onMouseUpTrack(o)})("mousemove",function(o){return t.onMouseMoveTrack(o)})("mouseleave",function(){return t.onMouseLeave()}),_(13,"div",8),T(14,oB,1,2,"div",9),p(),T(15,rB,2,1,"div",10),_(16,"app-desktop-error",11)),2&e&&(g("@popup",t.showConfirm),c(3),O(t.locationService.translate("Overwrite?","\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c?")),c(2),y("color","#f44336"),c(1),O(t.locationService.translate("no","\u043d\u0435\u0442")),c(1),y("color","#4caf50"),c(1),O(t.locationService.translate("yes","\u0434\u0430")),c(1),g("icon","recording"===t.status?"../../assets/stop.svg":"../../assets/record.svg")("background","#fafafa")("disabled",t.playing||"open"===t.showConfirm),c(1),g("icon",t.playing?"../../assets/pause-icon.svg":"../../assets/play-icon.svg")("background","#fafafa")("disabled",!t.chunks[0]||"recording"===t.status||"open"===t.showConfirm),c(3),y("width",t.widthProgress,"px"),c(1),g("ngForOf",t.sounds),c(1),g("ngIf","recording"===t.status),c(1),g("text",t.textError)("color","#f44336"))},directives:[js,zt,ot,wh],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .confirm[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;box-shadow:0 0 5px #ddd;border-radius:10px;background-color:#fff;z-index:10;transform:translate(-30px) translateY(80px)}[_nghost-%COMP%] > .confirm[_ngcontent-%COMP%] > .confirm__text[_ngcontent-%COMP%]{font-size:14px;color:#333;text-align:center;margin:10px 20px}[_nghost-%COMP%] > .confirm[_ngcontent-%COMP%] > .confirm__buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%] > .confirm[_ngcontent-%COMP%] > .confirm__buttons[_ngcontent-%COMP%] > .confirm__button[_ngcontent-%COMP%]{margin:5px 10px;padding:10px;cursor:pointer;border-radius:5px;background-color:#eee0;transition:background-color ease .2s}[_nghost-%COMP%] > .confirm[_ngcontent-%COMP%] > .confirm__buttons[_ngcontent-%COMP%] > .confirm__button[_ngcontent-%COMP%]:hover{background-color:#eee}[_nghost-%COMP%] > .track[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-end;justify-content:flex-start;height:30px;overflow:hidden;user-select:none;margin:0 10px}[_nghost-%COMP%] > .track[_ngcontent-%COMP%] > .progress[_ngcontent-%COMP%]{position:absolute;height:5px;width:0px;background-color:#f006;user-select:none}[_nghost-%COMP%] > .track[_ngcontent-%COMP%] > .sound[_ngcontent-%COMP%]{margin-right:1px;width:1px;min-height:5px;max-height:30px;background-color:#333;user-select:none}[_nghost-%COMP%] > .timer[_ngcontent-%COMP%]{font-size:14px;color:#333}"],data:{animation:[ut("popup",[Ns("open",Y({display:"flex",transform:"translateX(-30px) translateY(80px)",opacity:"1"})),Ns("close",Y({transform:"translateX(-30px) translateY(50px)",opacity:"0",display:"none"})),me("open <=> close",le("0.2s ease"))])]}}),i})();function lB(i,n){if(1&i){const e=J();d(0,"div",4),C("click",function(){const o=M(e).$implicit;return b().choose.emit(o)}),_(1,"div",5),p()}if(2&i){const e=n.$implicit;g("matRippleColor","#00000022"),c(1),y("background-image","url("+e+")")}}let uB=(()=>{class i{constructor(e,t){this.readfileservice=e,this.asyncService=t,this.images=[],this.choose=new U,this.textError="",this.timeoutError=setTimeout(()=>{},0)}tryuploadimage(e){var t=this;return N(function*(){const s=e.target.files[0];let o=[],r={};return s.size/1048576>3&&o.push("should be less than 3 MB"),"image/png"!==s.type&&"image/jpeg"!==s.type&&"image/webp"!==s.type&&"image/x-icon"!==s.type&&"image/gif"!==s.type&&o.push("should be type of png, jpeg, webp, gif, icon"),o[0]||(r=yield t.readfileservice.getImageFromFile(s),(r.naturalWidth>1920||r.naturalHeight>1080)&&o.push("should be less than 1920x1080")),o[0]?(t.showError(o.join("; ")),e.target.value=null):t.choose.emit(r.src),new Promise(a=>a(!0))})()}showError(e){var t=this;return N(function*(){return clearTimeout(t.timeoutError),t.textError="",yield t.asyncService.delay(100),t.textError=e,t.timeoutError=setTimeout(()=>{t.textError=""},5e3),new Promise(s=>s())})()}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(D(us),D(Pe))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-list-images"]],inputs:{images:"images"},outputs:{choose:"choose"},decls:10,vars:7,consts:[[1,"list-images-background"],[1,"list-images-display"],[1,"list-images-close",3,"click"],[1,"list-images-list"],["matRipple","",1,"list-images-option",3,"matRippleColor","click"],[1,"list-images-option__image"],["class","list-images-option","matRipple","",3,"matRippleColor","click",4,"ngFor","ngForOf"],["type","file","accept","image/png, image/jpeg",2,"display","none",3,"input"],["inputFile",""],[3,"text","color"]],template:function(e,t){if(1&e){const s=J();d(0,"div",0),d(1,"div",1),d(2,"div",2),C("click",function(){return t.choose.emit("")}),p(),d(3,"div",3),d(4,"div",4),C("click",function(){return M(s),Ki(8).click()}),_(5,"div",5),p(),T(6,lB,2,3,"div",6),p(),p(),p(),d(7,"input",7,8),C("input",function(r){return t.tryuploadimage(r)}),p(),_(9,"app-desktop-error",9)}2&e&&(c(1),g("@rightShow",void 0),c(3),g("matRippleColor","#00000022"),c(1),y("background-image","url(../../assets/upload.svg)"),c(1),g("ngForOf",t.images),c(3),g("text",t.textError)("color","#f44336"))},directives:[ni,zt,wh],styles:["[_nghost-%COMP%] > .list-images-background[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;background-color:#0006;display:flex;flex-direction:row;align-items:stretch;justify-content:flex-end;z-index:1}[_nghost-%COMP%] > .list-images-background[_ngcontent-%COMP%] > .list-images-display[_ngcontent-%COMP%]{width:100%;max-width:600px;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;overflow-y:auto;background-color:#fff}[_nghost-%COMP%] > .list-images-background[_ngcontent-%COMP%] > .list-images-display[_ngcontent-%COMP%] > .list-images-close[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:10px;right:10px;align-self:flex-end;background-image:url(cross.0bf1b6052953de20.svg);background-position:center;background-size:contain;background-repeat:no-repeat;cursor:pointer;opacity:.5;transition:all ease .3s}[_nghost-%COMP%] > .list-images-background[_ngcontent-%COMP%] > .list-images-display[_ngcontent-%COMP%] > .list-images-close[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%] > .list-images-background[_ngcontent-%COMP%] > .list-images-display[_ngcontent-%COMP%] > .list-images-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;flex-wrap:wrap}[_nghost-%COMP%] > .list-images-background[_ngcontent-%COMP%] > .list-images-display[_ngcontent-%COMP%] > .list-images-list[_ngcontent-%COMP%] > .list-images-option[_ngcontent-%COMP%]{margin:30px;width:150px;height:150px;border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%] > .list-images-background[_ngcontent-%COMP%] > .list-images-display[_ngcontent-%COMP%] > .list-images-list[_ngcontent-%COMP%] > .list-images-option[_ngcontent-%COMP%] > .list-images-option__image[_ngcontent-%COMP%]{width:120px;height:120px;background-position:center;background-repeat:no-repeat;background-size:contain}"],data:{animation:[ut("rightShow",[me(":enter",[Y({transform:"translateX(min(600px, 100%))"}),le("200ms ease",Y({transform:"translateX(0px)"}))]),me(":leave",[le("200ms ease",Y({transform:"translateX(min(600px, 100%))"}))])])]}}),i})(),cB=(()=>{class i{constructor(){this.choose=new U}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-list-platforms"]],outputs:{choose:"choose"},decls:23,vars:2,consts:[[1,"list-platforms-background"],[1,"list-platforms-display"],[1,"list-platforms-display__close",3,"click"],["matRipple","","matRippleColor","#00000022",1,"list-platforms-display__option",3,"click"],[1,"list-platforms-display__icon","list-platforms-display__icon_pc"],[1,"list-platforms-display__text"],[1,"list-platforms-display__icon","list-platforms-display__icon_playstation"],[1,"list-platforms-display__icon","list-platforms-display__icon_xbox"],[1,"list-platforms-display__icon","list-platforms-display__icon_nintendo-switch"],[1,"list-platforms-display__icon","list-platforms-display__icon_custom"]],template:function(e,t){1&e&&(_(0,"div",0),d(1,"div",1),d(2,"div",2),C("click",function(){return t.choose.emit("")}),p(),d(3,"div",3),C("click",function(){return t.choose.emit("pc")}),_(4,"div",4),d(5,"div",5),P(6,"PC"),p(),p(),d(7,"div",3),C("click",function(){return t.choose.emit("ps")}),_(8,"div",6),d(9,"div",5),P(10,"Playstation"),p(),p(),d(11,"div",3),C("click",function(){return t.choose.emit("xbox")}),_(12,"div",7),d(13,"div",5),P(14,"Xbox"),p(),p(),d(15,"div",3),C("click",function(){return t.choose.emit("switch")}),_(16,"div",8),d(17,"div",5),P(18,"Nintendo switch"),p(),p(),d(19,"div",3),C("click",function(){return t.choose.emit("custom")}),_(20,"div",9),d(21,"div",5),P(22,"Custom"),p(),p(),p()),2&e&&(g("@opacity",void 0),c(1),g("@slideRight",void 0))},directives:[ni],styles:["[_nghost-%COMP%] > .list-platforms-background[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;background-color:#0006}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%]{position:fixed;top:0px;right:0px;width:100%;height:100%;max-width:600px;background-color:#fff;overflow-y:auto;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-shrink:0}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__close[_ngcontent-%COMP%]{position:fixed;right:0px;top:0px;width:30px;height:30px;margin:20px;cursor:pointer;opacity:.7;background-image:url(cross.0bf1b6052953de20.svg);background-position:center;background-size:contain;background-repeat:no-repeat;transition:all ease .3s}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__close[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%]{width:300px;height:300px;border-radius:10px;margin:50px 0;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%] > .list-platforms-display__icon[_ngcontent-%COMP%]{width:200px;height:200px;background-position:center;background-repeat:no-repeat;background-size:contain}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%] > .list-platforms-display__icon_pc[_ngcontent-%COMP%]{background-size:70%;background-image:url(pc-logo.6d54122594d07bdd.svg)}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%] > .list-platforms-display__icon_playstation[_ngcontent-%COMP%]{background-image:url(ps-logo.967abfd9cf77474c.svg)}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%] > .list-platforms-display__icon_xbox[_ngcontent-%COMP%]{background-image:url(xbox-logo.62030c0107d258ac.svg)}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%] > .list-platforms-display__icon_nintendo-switch[_ngcontent-%COMP%]{background-image:url(nintendo-switch-logo.a3b0c6616231ce07.svg)}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%] > .list-platforms-display__icon_custom[_ngcontent-%COMP%]{background-size:70%;background-image:url(tools.74f73ba7b140b239.svg)}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%] > .list-platforms-display__text[_ngcontent-%COMP%]{margin:10px;text-align:center;font-size:20px;color:#333}"],data:{animation:[ut("opacity",[me(":enter",[Y({opacity:"0"}),le("200ms",Y({opacity:"1"}))]),me(":leave",[le("200ms",Y({opacity:"0"}))])]),ut("slideRight",[me(":enter",[Y({transform:"translateX(min(100%, 600px))"}),le("200ms ease",Y({transform:"0px"}))]),me(":leave",[le("200ms ease",Y({transform:"translateX(min(100%, 600px))"}))])])]}}),i})();const hB=["projection"];function dB(i,n){if(1&i){const e=J();d(0,"div",6),C("click",function(){const o=M(e).$implicit;return b().choose.emit(o.getAttribute("value"))}),p()}2&i&&g("innerHTML",n.$implicit.outerHTML,Ud)}const pB=["*"];let fB=(()=>{class i{constructor(){this.optionsDOMs=[],this.choose=new U}checkChange(e,t){if(e.length!==t.length)return!0;for(let s=0;s<e.length;s++)if(e[s].outerHTML!==t[s].outerHTML)return!0;return!1}ngOnInit(){}ngAfterViewChecked(){let e=this.projectionRef.nativeElement.querySelectorAll(":scope > *");this.checkChange(e,this.optionsDOMs)&&(this.optionsDOMs=e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-list-side"]],viewQuery:function(e,t){if(1&e&&ht(hB,5),2&e){let s;qe(s=Ze())&&(t.projectionRef=s.first)}},outputs:{choose:"choose"},ngContentSelectors:pB,decls:7,vars:3,consts:[[1,"list-platforms-background"],[1,"list-platforms-display"],[1,"list-platforms-display__close",3,"click"],["matRipple","","matRippleColor","#00000022","class","list-platforms-display__option",3,"innerHTML","click",4,"ngFor","ngForOf"],[2,"display","none"],["projection",""],["matRipple","","matRippleColor","#00000022",1,"list-platforms-display__option",3,"innerHTML","click"]],template:function(e,t){1&e&&(vi(),_(0,"div",0),d(1,"div",1),d(2,"div",2),C("click",function(){return t.choose.emit("")}),p(),T(3,dB,1,1,"div",3),p(),d(4,"div",4,5),Zn(6),p()),2&e&&(g("@opacity",void 0),c(1),g("@slideRight",void 0),c(2),g("ngForOf",t.optionsDOMs))},directives:[zt,ni],styles:["[_nghost-%COMP%] > .list-platforms-background[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;background-color:#0006}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%]{position:fixed;top:0px;right:0px;width:100%;height:100%;max-width:600px;background-color:#fff;overflow-y:auto;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-shrink:0}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__close[_ngcontent-%COMP%]{position:fixed;right:0px;top:0px;width:30px;height:30px;margin:20px;cursor:pointer;opacity:.7;background-image:url(cross.0bf1b6052953de20.svg);background-position:center;background-size:contain;background-repeat:no-repeat;transition:all ease .3s}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__close[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%] > .list-platforms-display[_ngcontent-%COMP%] > .list-platforms-display__option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}"],data:{animation:[ut("opacity",[me(":enter",[Y({opacity:"0"}),le("200ms",Y({opacity:"1"}))]),me(":leave",[le("200ms",Y({opacity:"0"}))])]),ut("slideRight",[me(":enter",[Y({transform:"translateX(min(100%, 600px))"}),le("200ms ease",Y({transform:"0px"}))]),me(":leave",[le("200ms ease",Y({transform:"translateX(min(100%, 600px))"}))])])]}}),i})(),b2=(()=>{class i{constructor(e,t,s){this.linerSvgService=e,this.host=t,this.asyncService=s,this.width=0,this.height=0,this.points=[],this.tool="pen",this.color="#000",this.ban=[],this.sublimereset=!1,this.sublimesave=!1,this.save=new U,this.cachedPoints=[],this.inn="",this.toolActive=!1,this.timeoutSave=setTimeout(()=>{},0)}onResize(){this.setImage()}onMouseDown(e){const t=this.host.nativeElement.getBoundingClientRect(),s=(e.clientX-t.x)/this.width,o=(e.clientY-t.y)/this.height;"pen"===this.tool?(this.points.push([this.color]),this.checkBan(s,o)&&(this.points[this.points.length-1].push([s+3/this.width,o]),this.points[this.points.length-1].push([s,o]))):"eraser"===this.tool&&this.doErase(s,o),this.setImage(),this.toolActive=!0}onMousemove(e){if(!this.toolActive)return;const t=this.host.nativeElement.getBoundingClientRect(),s=(e.clientX-t.x)/this.width,o=(e.clientY-t.y)/this.height;"pen"===this.tool?this.checkBan(s,o)&&this.points[this.points.length-1].push([s,o]):"eraser"===this.tool&&this.doErase(s,o),this.setImage(),clearTimeout(this.timeoutSave),this.timeoutSave=setTimeout(()=>{this.save.emit(this.points)},300)}onMouseup(){let e=this.host.nativeElement.querySelectorAll("svg");for(let t=0;t<e.length-1;t++)e[t].remove();this.toolActive=!1}onMouseleaveWindow(){let e=this.host.nativeElement.querySelectorAll("svg");for(let t=0;t<e.length-1;t++)e[t].remove();this.toolActive=!1}onMouseleave(){let e=this.host.nativeElement.querySelectorAll("svg");for(let t=0;t<e.length-1;t++)e[t].remove();this.toolActive=!1}insideRect(e,t){return t.x>e[0]&&t.x<e[2]&&t.y>e[1]&&t.y<e[3]}checkBan(e,t){for(let s=0;s<this.ban.length;s++)if(this.insideRect(this.ban[s],{x:e,y:t}))return!1;return!0}doErase(e,t){const o=.1*this.width/this.height;for(let r=0;this.points[r]&&r<this.points.length;r++)for(let a=1;this.points[r]&&this.points[r][a]&&a<this.points[r].length;a++)if(this.insideRect([e-.05,t-o/2,e+.05,t+o/2],{x:this.points[r][a][0],y:this.points[r][a][1]})){let l=this.points[r][0],u=this.points[r].slice(1,a),h=this.points[r].slice(a+1,this.points[r].length);u[0]&&!h[0]?(u.splice(0,0,l),this.points.splice(r,1,u),r++):!u[0]&&h[0]?(h.splice(0,0,l),this.points.splice(r,1,h)):u[0]&&h[0]?(u.splice(0,0,l),h.splice(0,0,l),this.points.splice(r,1,u,h),r++):!u[0]&&!h[0]&&this.points.splice(r,1),a=1}}processTouch(){return N(function*(){})()}setImage(){let e=this.linerSvgService.getSvg(this.width,this.height,this.points);e.style.width=`${this.width}px`,e.style.height=`${this.height}px`;let t=this.host.nativeElement.querySelectorAll("svg");for(let s=0;s<t.length;s++)t[s].style.display="none";this.host.nativeElement.appendChild(e)}getImage(){return this.save.emit(this.points),new Promise(e=>e())}ngOnInit(){}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch(),e.points&&e.points.previousValue!==e.points.currentValue&&e.points.currentValue&&e.points.currentValue!==[]&&(this.cachedPoints=[...this.points],this.setImage()),e.sublimereset&&e.sublimereset.previousValue!==e.sublimereset.currentValue&&void 0!==e.sublimereset.previousValue&&(this.points=[...this.cachedPoints],this.setImage()),e.sublimesave&&e.sublimesave.previousValue!==e.sublimesave.currentValue&&void 0!==e.sublimesave.previousValue&&this.getImage()}}return i.\u0275fac=function(e){return new(e||i)(D($r),D(W),D(Pe))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-draw-svg"]],hostVars:4,hostBindings:function(e,t){1&e&&C("resize",function(){return t.onResize()},!1,Ie)("mousedown",function(o){return t.onMouseDown(o)})("mousemove",function(o){return t.onMousemove(o)})("mouseup",function(){return t.onMouseup()},!1,Ie)("mouseleave",function(){return t.onMouseleaveWindow()},!1,Ie)("mouseleave",function(){return t.onMouseleave()}),2&e&&y("width",t.width,"px")("height",t.height,"px")},inputs:{width:"width",height:"height",points:"points",tool:"tool",color:"color",ban:"ban",sublimereset:"sublimereset",sublimesave:"sublimesave"},outputs:{save:"save"},features:[ie],decls:0,vars:0,template:function(e,t){},styles:[""]}),i})(),gB=(()=>{class i{constructor(e,t,s){this.touch2Service=e,this.host=t,this.getTargetHtmlService=s,this.tool="pen",this.color="#000000",this.gift=null,this.sublimereset=!1,this.sublimesave=!1,this.close=new U,this.save=new U,this.touch=null,this.xcoord=0,this.ycoord=0,this.width=0,this.height=0,this.actionTouch="",this.memory=[0,0]}onResize(){this.setSize()}setSize(){window.innerWidth/window.innerHeight>.75?(this.height=.9*window.innerHeight,this.width=.9*window.innerHeight*.75):window.innerWidth/window.innerHeight<=.75&&(this.width=.9*window.innerWidth,this.height=.9*window.innerWidth/.75),this.xcoord=(window.innerWidth-this.width)/2,this.ycoord=(window.innerHeight-this.height)/2}processTouch(e){if("start"===e.action&&(null===this.getTargetHtmlService.get(e.target,"bright")?(this.actionTouch="shift",this.memory=[this.xcoord,this.ycoord]):this.actionTouch="draw"),"start"===e.action||"move"===e.action)if("shift"===this.actionTouch&&"move"===e.action){let t=this.memory[0]+(e.x-e.start.x),s=this.memory[1]+(e.y-e.start.y);t<-this.width&&(t=-this.width),t>window.innerWidth&&(t=window.innerWidth),s<-this.height&&(s=-this.height),s>window.innerHeight&&(s=window.innerHeight),this.xcoord=t,this.ycoord=s}else"draw"===this.actionTouch&&(this.touch=e)}savedraw(e){this.save.emit(e)}ngOnInit(){this.setSize()}ngOnChanges(e){}}return i.\u0275fac=function(e){return new(e||i)(D(Yr),D(W),D(Bi))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-sign-photo"]],hostBindings:function(e,t){1&e&&C("resize",function(){return t.onResize()},!1,Ie)},inputs:{tool:"tool",color:"color",gift:"gift",sublimereset:"sublimereset",sublimesave:"sublimesave"},outputs:{close:"close",save:"save"},features:[ie],decls:5,vars:18,consts:[[1,"canvas",3,"tool","color","width","height","points","sublimereset","sublimesave","save"],[1,"wrap"],[1,"photo",3,"size"],[1,"mask"],[1,"bright"]],template:function(e,t){1&e&&(d(0,"app-desktop-draw-svg",0),C("save",function(o){return t.savedraw(o)}),p(),d(1,"div",1),_(2,"app-photo",2),p(),d(3,"div",3),_(4,"div",4),p()),2&e&&(y("transform","translateX("+t.xcoord+"px) translateY("+t.ycoord+"px) translateZ(1000px)"),g("tool",t.tool)("color",t.color)("width",t.width)("height",t.height)("points",null==t.gift?null:t.gift.sign)("sublimereset",t.sublimereset)("sublimesave",t.sublimesave),c(1),y("transform","translateX("+(t.xcoord+t.width/2)+"px) translateY("+(t.ycoord+t.height/2)+"px) rotateY(180deg)"),c(1),g("size",t.width),c(2),y("width",t.width,"px")("height",t.height,"px")("transform","translateX("+t.xcoord+"px) translateY("+t.ycoord+"px)"))},directives:[b2,zs],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;background-color:#fff}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]{position:absolute;transform-style:preserve-3d}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%]   .mask[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:#0006;z-index:10}[_nghost-%COMP%]   .mask[_ngcontent-%COMP%] > .bright[_ngcontent-%COMP%]{backdrop-filter:brightness(1.7)}[_nghost-%COMP%] > .canvas[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;z-index:15}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{position:absolute;width:100%;color:#fff;font-size:12px;text-align:center;display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;z-index:10;bottom:10px}"]}),i})(),mB=(()=>{class i{constructor(){this.gift={},this.tool="pen",this.color="#ffffff",this.sublimereset=!1,this.sublimesave=!1,this.close=new U,this.save=new U,this.under={x:0,y:0,w:0,h:0},this.canvas={x:0,y:0,w:0,h:0}}onResize(){this.setSize()}setSize(){this.under.w=.4*window.innerWidth,this.under.h=this.under.w/(297/420),this.under.x=this.under.w/2+(window.innerWidth-this.under.w)/2,this.under.y=(window.innerHeight-this.under.h)/2+.1*this.under.h,this.canvas.w=this.under.w,this.canvas.h=.2*this.under.h,this.canvas.x=this.under.x-this.under.w/2,this.canvas.y=this.under.y+this.under.h/2-this.canvas.h+1}ngOnInit(){this.setSize()}savedraw(e){this.save.emit(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-sign-greetingcard"]],hostBindings:function(e,t){1&e&&C("resize",function(){return t.onResize()},!1,Ie)},inputs:{gift:"gift",tool:"tool",color:"color",sublimereset:"sublimereset",sublimesave:"sublimesave"},outputs:{close:"close",save:"save"},decls:4,vars:23,consts:[[1,"greetingcard",3,"size","back","text","color"],[1,"canvas",3,"tool","color","width","height","points","sublimereset","sublimesave","save"],[1,"background"],[1,"bright"]],template:function(e,t){1&e&&(_(0,"app-greeting-card",0),d(1,"app-desktop-draw-svg",1),C("save",function(o){return t.savedraw(o)}),p(),_(2,"div",2),_(3,"div",3)),2&e&&(y("transform","translateX("+t.under.x+"px) translateY("+t.under.y+"px) translateZ(0px) rotateY(180deg)"),g("size",t.under.w)("back",null==t.gift?null:t.gift.back)("text",null==t.gift?null:t.gift.text)("color",null==t.gift?null:t.gift.color),c(1),y("transform","translateX("+t.canvas.x+"px) translateY("+t.canvas.y+"px) translateZ(1000px)"),g("tool",t.tool)("color",t.color)("width",t.canvas.w)("height",t.canvas.h)("points",null==t.gift?null:t.gift.sign)("sublimereset",t.sublimereset)("sublimesave",t.sublimesave),c(1),y("transform","translateZ(998px)"),c(1),y("width",t.canvas.w+"px")("height",t.canvas.h+"px")("transform","translateX("+t.canvas.x+"px) translateY("+t.canvas.y+"px) translateZ(999px)"))},directives:[Vs,b2],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d;background:#ffffff}[_nghost-%COMP%] > .greetingcard[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px}[_nghost-%COMP%] > .canvas[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px}[_nghost-%COMP%] > .background[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;width:100%;height:100%;background-color:#0009}[_nghost-%COMP%] > .bright[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;backdrop-filter:brightness(2.5)}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:0px;width:100%;text-align:center;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:12px;color:#fff;user-select:none}"]}),i})();const _B=["progressRef"];function vB(i,n){if(1&i&&_(0,"video",5),2&i){const e=b();g("@verticalShow",void 0)("muted","muted"),Ue("width",e.width+"px")("height",e.height+"px")}}function yB(i,n){if(1&i&&_(0,"video",6),2&i){const e=b();g("@verticalShow",void 0),Ue("width",e.width+"px")("height",e.height+"px")}}function CB(i,n){1&i&&_(0,"div",7)}function bB(i,n){if(1&i&&(d(0,"div",8),_(1,"div",9),d(2,"div",10),P(3),p(),p()),2&i){const e=b();c(3),O(e.error)}}function wB(i,n){if(1&i){const e=J();d(0,"div",11),d(1,"app-desktop-button",12),C("click",function(){return M(e),b().switchPlaying()}),p(),d(2,"div",13,14),C("mousedown",function(s){return M(e),b().onMouseDownProgress(s)}),_(4,"div",15),p(),p()}if(2&i){const e=b();g("@verticalShow",void 0),c(1),g("icon",e.playing?"../../assets/pause-icon-white.svg":"../../assets/play-icon-white.svg")("background","#00000033")("color","#333333"),c(3),y("width",100*e.progress.value+"%")}}let kB=(()=>{class i{constructor(e,t){this.host=e,this.asyncService=t,this.recording=!1,this.screen="recording",this.duration=0,this.value=[],this.sublimeuninit=!1,this.loading=!0,this.error="",this.width=0,this.height=0,this.text="",this.status="none",this.confirm="",this.chunks=[],this.timer=0,this.interval=setInterval(()=>{},1e6),this.playing=!1,this.progress={active:!1,playing:!1,value:0,interval:setInterval(()=>{},1e6)},this.save=new U,this.backgroundColor="#ffffff"}onMouseDownProgress(e){this.progress.active=!0,this.progress.playing=this.playing,this.stopPlaying();let t=this.host.nativeElement.querySelector(".result"),s=this.progressRef.nativeElement.getBoundingClientRect();this.progress.value=(e.clientX-s.x)/s.width,this.progress.value>1&&(this.progress.value=1),this.progress.value<0&&(this.progress.value=0),t.currentTime=this.progress.value*this.duration}onMouseMoveProgress(e){if(!this.progress.active)return;let t=this.host.nativeElement.querySelector(".result"),s=this.progressRef.nativeElement.getBoundingClientRect();this.progress.value=(e.clientX-s.x)/s.width,this.progress.value>1&&(this.progress.value=1),this.progress.value<0&&(this.progress.value=0),t.currentTime=this.progress.value*this.duration}onMouseUpProgress(e){!this.progress.active||(this.progress.active=!1,this.progress.playing&&this.startPlaying())}onMouseLeaveProgress(e){!this.progress.active||(this.progress.active=!1,this.stopPlaying())}init(){return N(function*(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!0}):new Promise((e,t)=>t("Your browser does not support video recording"))})()}setSize(){let e=this.host.nativeElement.querySelector(".preview"),t=e.videoWidth/e.videoHeight,s=window.innerWidth/window.innerHeight;s>t?(this.height=window.innerHeight,this.width=window.innerHeight*t):s<=t&&(this.width=window.innerWidth,this.height=window.innerWidth/t)}startRecord(){var e=this;return N(function*(){e.recorder&&(yield e.initRecord()),e.chunks=[],e.timer=30,e.interval=setInterval(()=>{e.timer--,e.timer<=0&&e.stopRecord()},1e3),e.status="recording",e.text="tap to stop record",setTimeout(()=>{e.recorder.start()},100)})()}stopRecord(){this.duration=30-this.timer,clearInterval(this.interval),this.status="waiting",this.timer=0,this.text="tap to start record",this.recorder.stop()}resultconfirm(e){"agree"===e?(this.chunks=[],setTimeout(()=>{this.confirm="",this.startRecord()},100)):"reject"===e&&(this.confirm="")}initRecord(){var e=this;return N(function*(){e.stream&&e.uninit();try{e.stream=yield e.init();let t=e.host.nativeElement.querySelector(".preview");t.setAttribute("muted","true"),t.srcObject=e.stream,t.captureStream=t.captureStream||t.mozCaptureStream,t.onplay=()=>{e.text="tap to start record",e.backgroundColor="#000000",e.setSize(),e.status="waiting",e.loading=!1},e.recorder=new MediaRecorder(e.stream),e.recorder.ondataavailable=s=>{e.chunks.push(s.data),e.save.emit({value:e.chunks,duration:e.duration})}}catch(t){e.error="NotAllowedError: Permission denied"===t.toString()||"NotAllowedError: Permission dismissed"===t.toString()?"Webcam not allowed":t}})()}uninit(){var e;let t=this.host.nativeElement.querySelector(".preview");(null==t?void 0:t.srcObject)&&t.srcObject.getTracks().forEach(s=>s.stop()),this.stream&&this.stream.getTracks().forEach(s=>s.stop()),(null===(e=this.recorder)||void 0===e?void 0:e.stream)&&this.recorder.stream.getTracks().forEach(s=>s.stop())}createVideo(){this.uninit();let e=this.host.nativeElement.querySelector(".result");e.setAttribute("control","");let t=new Blob(this.chunks,{type:"video/webm"});e.src=URL.createObjectURL(t)}switchPlaying(){this.playing?this.stopPlaying():this.startPlaying()}startPlaying(){let e=this.host.nativeElement.querySelector(".result");this.playing=!0,e.play(),this.progress.interval=setInterval(()=>{let t=this.host.nativeElement.querySelector(".result");this.progress.value=t.currentTime/this.duration},100)}stopPlaying(){let e=this.host.nativeElement.querySelector(".result");this.playing=!1,e.pause(),clearInterval(this.progress.interval)}ngOnInit(){this.initRecord()}ngOnDestroy(){this.uninit()}ngOnChanges(e){e.recording&&e.recording.previousValue!==e.recording.currentValue&&void 0!==e.recording.previousValue&&(this.recording?this.startRecord():this.stopRecord()),e.value&&e.value.previousValue!==e.value.currentValue&&this.value[0]&&(this.chunks=this.value),e.screen&&e.screen.previousValue!==e.screen.currentValue&&("recording"===this.screen?this.initRecord():"watching"===this.screen&&setTimeout(()=>{this.createVideo()},100)),e.sublimeuninit&&e.sublimeuninit.previousValue!==e.sublimeuninit.currentValue&&void 0!==e.sublimeuninit.previousValue&&this.uninit()}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(Pe))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-webcam-video"]],viewQuery:function(e,t){if(1&e&&ht(_B,5),2&e){let s;qe(s=Ze())&&(t.progressRef=s.first)}},hostVars:2,hostBindings:function(e,t){1&e&&C("mousemove",function(o){return t.onMouseMoveProgress(o)},!1,Ie)("mouseup",function(o){return t.onMouseUpProgress(o)},!1,Ie)("mouseleave",function(o){return t.onMouseLeaveProgress(o)},!1,Ie),2&e&&y("background-color",t.backgroundColor)},inputs:{recording:"recording",screen:"screen",duration:"duration",value:"value",sublimeuninit:"sublimeuninit"},outputs:{save:"save"},features:[ie],decls:7,vars:8,consts:[["class","preview","autoplay","",3,"muted",4,"ngIf"],["class","result",4,"ngIf"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],["class","wrap-progress",4,"ngIf"],["autoplay","",1,"preview",3,"muted"],[1,"result"],[1,"loading"],[1,"error"],[1,"icon"],[1,"text"],[1,"wrap-progress"],[3,"icon","background","color","click"],[1,"progress",3,"mousedown"],["progressRef",""],[1,"progress-past"]],template:function(e,t){1&e&&(d(0,"div"),P(1),p(),T(2,vB,1,4,"video",0),T(3,yB,1,3,"video",1),T(4,CB,1,0,"div",2),T(5,bB,4,1,"div",3),T(6,wB,5,6,"div",4)),2&e&&(Ms(t.timer>0?t.timer<=5?"timer hurryup":"timer":"timer hidden"),c(1),Ae(" ",t.timer," "),c(1),g("ngIf",""===t.error&&"recording"===t.screen),c(1),g("ngIf",""===t.error&&"watching"===t.screen),c(1),g("ngIf",t.loading&&!t.error),c(1),g("ngIf",""!==t.error),c(1),g("ngIf","watching"===t.screen))},directives:[ot,js],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all ease .3s}[_nghost-%COMP%] > .loading[_ngcontent-%COMP%]{width:100px;height:100px;background-image:url(loading.07aa785054084df7.svg);background-position:center;background-size:contain;background-repeat:no-repeat;z-index:100}[_nghost-%COMP%] > .timer[_ngcontent-%COMP%]{position:absolute;top:50px;width:100%;text-align:center;display:flex;color:#fff;flex-direction:row;align-items:center;justify-content:center;font-size:60px;z-index:10;transition:all ease .3s}[_nghost-%COMP%] > .timer.hidden[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%] > .timer.hurryup[_ngcontent-%COMP%]{animation-name:hurryup;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;color:#d93025}[_nghost-%COMP%] > .preview[_ngcontent-%COMP%], [_nghost-%COMP%] > .result[_ngcontent-%COMP%]{position:absolute;transition:all ease .3s}[_nghost-%COMP%] > .error[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:50px;background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(cross.0bf1b6052953de20.svg)}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:14px;color:#000;text-align:center}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{opacity:0;position:absolute;bottom:20px;display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .rec[_ngcontent-%COMP%]{width:30px;height:30px;margin:10px}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{color:#fff;font-size:12px;text-align:center;user-select:none}[_nghost-%COMP%] > .wrap-progress[_ngcontent-%COMP%]{position:fixed;bottom:30px;width:100%;max-width:600px;display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none}[_nghost-%COMP%] > .wrap-progress[_ngcontent-%COMP%] > .progress[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;justify-content:flex-start;margin:20px;background-color:#0003;border-radius:10px;height:6px;flex:1;cursor:pointer}[_nghost-%COMP%] > .wrap-progress[_ngcontent-%COMP%] > .progress[_ngcontent-%COMP%] > .progress-past[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;width:0%}@keyframes hurryup{0%{transform:scale(1)}50%{transform:scale(2)}to{transform:scale(1)}}"],data:{animation:[ut("verticalShow",[me(":enter",[Y({transform:"translateY(-20px)",opacity:"0"}),le("200ms",Y({transform:"translateY(0px)",opacity:"1"}))]),me(":leave",[le("200ms",Y({transform:"translateY(0px)",opacity:"0"}))])])]}}),i})();function xB(i,n){1&i&&_(0,"div",4)}function DB(i,n){if(1&i&&_(0,"video",5),2&i){const e=b();y("opacity",e.opacityVideo)("animation-name",e.chickchick?"takephoto":"none"),g("muted","muted"),Ue("width",e.width+"px")("height",e.height+"px")}}function PB(i,n){if(1&i&&(d(0,"div",6),_(1,"div",7),d(2,"div",8),P(3),p(),p()),2&i){const e=b();c(3),O(e.error)}}let SB=(()=>{class i{constructor(e,t,s){this.asyncService=e,this.host=t,this.touch2Service=s,this.value="",this.sublimeTakePicture=!1,this.sublimeSave=!1,this.sublimeCancel=!1,this.save=new U,this.width=0,this.height=0,this.picture="",this.chickchick=!1,this.opacityVideo="0",this.opacityPhoto="0",this.error="",this.canMove=!1,this.ycoord=0,this.memory=0,this.velocity=0,this.timeoutvelocity=setTimeout(()=>{},0),this.loading=!0}init(){return N(function*(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!0}):new Promise((e,t)=>t("Your browser does not support microphone recording"))})()}takePhoto(){var e=this;return N(function*(){return e.chickchick=!0,yield e.asyncService.delay(1e3),e.chickchick=!1,e.opacityPhoto="1",e.opacityVideo="0",e.ycoord=0,yield e.asyncService.delay(300),new Promise(t=>t())})()}start(){var e=this;return N(function*(){try{e.stream=yield e.init();let t=e.host.nativeElement.querySelector(".preview");t.srcObject=e.stream,t.captureStream=t.captureStream||t.mozCaptureStream,t.onplay=()=>{e.setSize(),e.opacityVideo="1",e.loading=!1}}catch(t){e.error="NotAllowedError: Permission denied"===t.toString()||"NotAllowedError: Permission dismissed"===t.toString()?"Webcam not allowed":t}})()}setSize(){let e=this.host.nativeElement.querySelector(".preview"),t=e.videoWidth/e.videoHeight,s=window.innerWidth/window.innerHeight;s>t?(this.height=window.innerHeight,this.width=window.innerHeight*t):s<=t&&(this.width=window.innerWidth,this.height=window.innerWidth/t)}uninit(){let e=this.host.nativeElement.querySelector(".preview");(null==e?void 0:e.srcObject)&&e.srcObject.getTracks().forEach(t=>t.stop()),this.stream&&this.stream.getTracks().forEach(t=>t.stop())}closePhoto(){var e=this;return N(function*(){return e.host.nativeElement.querySelector(".photo").style.transition="all ease 0.3s",e.ycoord=-window.innerHeight,yield e.asyncService.delay(300),e.opacityPhoto="0",e.picture="",e.opacityVideo="1",yield e.asyncService.delay(300),e.host.nativeElement.querySelector(".photo").style.removeProperty("transition"),new Promise(t=>t())})()}remainPhoto(){var e=this;return N(function*(){return e.host.nativeElement.querySelector(".photo").style.transition="all ease 0.3s",yield e.asyncService.delay(10),e.ycoord=0,yield e.asyncService.delay(300),e.host.nativeElement.querySelector(".photo").style.removeProperty("transition"),new Promise(t=>t())})()}processTouch(e){if("move"===e.action&&"start"===e.prev.action&&(Math.abs(e.x-e.prev.x)<Math.abs(e.y-e.prev.y)?(this.canMove=!0,this.memory=this.ycoord):this.canMove=!1),"move"===e.action&&this.canMove&&"1"===this.opacityPhoto){this.velocity=e.y-e.prev.y,clearTimeout(this.timeoutvelocity),this.timeoutvelocity=setTimeout(()=>{this.velocity=0},100);let t=this.memory+(e.y-e.start.y);t>0&&(t=0),t<-window.innerHeight/2&&(t=-window.innerHeight/2),this.ycoord=t}"end"===e.action&&this.canMove&&"1"===this.opacityPhoto&&(0===this.velocity?this.ycoord<-window.innerHeight/4?this.closePhoto():this.ycoord>-window.innerHeight/4&&this.remainPhoto():this.velocity>0?this.remainPhoto():this.velocity<0&&this.closePhoto())}ngOnInit(){this.start()}ngOnDestroy(){this.uninit()}ngOnChanges(e){if(e.sublimeTakePicture&&e.sublimeTakePicture.previousValue!==e.sublimeTakePicture.currentValue&&null!=e.sublimeTakePicture.previousValue){const t=this.host.nativeElement.querySelector(".preview");this.host.nativeElement.querySelector(".photo"),this.takePhoto();const o=document.createElement("canvas"),r=o.getContext("2d");o.setAttribute("width",t.videoWidth+"px"),o.setAttribute("height",t.videoHeight+"px"),r.drawImage(t,0,0,t.videoWidth,t.videoHeight),this.picture=o.toDataURL("png/image",1)}e.sublimeSave&&e.sublimeSave.previousValue!==e.sublimeSave.currentValue&&null!=e.sublimeSave.previousValue&&(this.opacityPhoto="0",this.opacityVideo="1",this.save.emit(this.picture)),e.sublimeCancel&&e.sublimeCancel.previousValue!==e.sublimeCancel.currentValue&&null!=e.sublimeCancel.previousValue&&(this.opacityPhoto="0",this.opacityVideo="1",this.save.emit(""))}}return i.\u0275fac=function(e){return new(e||i)(D(Pe),D(W),D(Yr))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-take-picture"]],inputs:{value:"value",sublimeTakePicture:"sublimeTakePicture",sublimeSave:"sublimeSave",sublimeCancel:"sublimeCancel"},outputs:{save:"save"},features:[ie],decls:4,vars:15,consts:[["class","loading",4,"ngIf"],["class","preview","autoplay","",3,"muted","opacity","animationName",4,"ngIf"],[1,"photo"],["class","error",4,"ngIf"],[1,"loading"],["autoplay","",1,"preview",3,"muted"],[1,"error"],[1,"icon"],[1,"text"]],template:function(e,t){1&e&&(T(0,xB,1,0,"div",0),T(1,DB,1,7,"video",1),_(2,"div",2),T(3,PB,4,1,"div",3)),2&e&&(g("ngIf",t.loading&&!t.error),c(1),g("ngIf",""===t.error),c(1),y("width",t.width+"px")("height",t.height+"px")("opacity",t.opacityPhoto)("animation-name",t.chickchick?"takephoto":"none")("transform","translateY("+t.ycoord+"px)")("background-image","url("+t.picture+")"),c(1),g("ngIf",""!==t.error))},directives:[ot],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#fff}[_nghost-%COMP%] > .loading[_ngcontent-%COMP%]{width:100px;height:100px;background-image:url(loading.07aa785054084df7.svg);background-position:center;background-size:contain;background-repeat:no-repeat;z-index:100}[_nghost-%COMP%] > .preview[_ngcontent-%COMP%]{position:absolute;animation-name:none;animation-duration:1s;animation-iteration-count:1;animation-timing-function:linear;transition:all ease .3s}[_nghost-%COMP%] > .photo[_ngcontent-%COMP%]{background-size:contain;position:absolute;animation-name:none;animation-duration:1s;animation-iteration-count:1;animation-timing-function:linear}[_nghost-%COMP%] > .hint[_ngcontent-%COMP%]{padding:10px 0;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;bottom:0px;text-align:center;font-size:12px;color:#fff;opacity:0;user-select:none;background-color:#0009;transition:all ease .3s}[_nghost-%COMP%] > .hintCancel[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;top:20px;text-align:center;font-size:12px;color:#fff;opacity:0;background-color:#0009;border-radius:10px;user-select:none;transition:all ease .3s}[_nghost-%COMP%] > .hintSave[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;transition:all ease .3s}[_nghost-%COMP%] > .hintSave[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:center;text-align:center;font-size:18px;color:#fff;background-color:#0009;border-radius:10px;user-select:none}[_nghost-%COMP%] > .hintSave[_ngcontent-%COMP%] > .subtext[_ngcontent-%COMP%]{margin:10px;padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:center;text-align:center;font-size:12px;color:#fff;background-color:#0009;border-radius:10px;user-select:none}[_nghost-%COMP%] > .error[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%]{width:100px;height:100px;margin:50px;background-position:center;background-repeat:no-repeat;background-size:contain;background-image:url(cross.0bf1b6052953de20.svg)}[_nghost-%COMP%] > .error[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:14px;color:#000;text-align:center}@keyframes takephoto{0%{opacity:1}10%{opacity:0}to{opacity:1}}"]}),i})(),w2=(()=>{class i{constructor(e,t,s){this.readfileservice=e,this.host=t,this.gettargethtmlservice=s,this.img="",this.ratio=16/9,this.mode="usual",this.touch=null,this.sublimesave=!1,this.closetrim=new U,this.save=new U,this.imgobj=new Image,this.modemove="none",this.startposimage=[0,0],this.startposframe=[0,0],this.width=0,this.height=0,this.x=0,this.y=0,this.mouseStart={x:0,y:0},this.frame={w:0,h:0,x:0,y:0},this.timeoutResize=setTimeout(()=>{},0)}onResize(){this.setsize(),clearTimeout(this.timeoutResize),this.timeoutResize=setTimeout(()=>{this.turnontrim()},300)}setobjectimg(){var e=this;return N(function*(){return e.imgobj=yield e.readfileservice.getImageByUrl(e.img),new Promise(t=>t())})()}setsize(){this.imgobj.naturalWidth/this.imgobj.naturalHeight>=window.innerWidth/window.innerHeight?(this.width=.8*window.innerWidth,this.width>this.imgobj.naturalWidth&&(this.width=this.imgobj.naturalWidth),this.height=this.width/(this.imgobj.naturalWidth/this.imgobj.naturalHeight)):this.imgobj.naturalWidth/this.imgobj.naturalHeight<window.innerWidth/window.innerHeight&&(this.height=.8*window.innerHeight,this.height>this.imgobj.naturalHeight&&(this.height=this.imgobj.naturalHeight),this.width=this.height*(this.imgobj.naturalWidth/this.imgobj.naturalHeight)),this.x=(window.innerWidth-this.width)/2,this.y=(window.innerHeight-this.height)/2-20}turnontrim(){const e=this.host.nativeElement.querySelector(".image").getBoundingClientRect();this.ratio>=this.width/this.height?(this.frame.w=this.width,this.frame.h=this.frame.w/this.ratio):this.ratio<this.width/this.height&&(this.frame.h=this.height,this.frame.w=this.frame.h*this.ratio),this.frame.x=e.x+(this.width-this.frame.w)/2,this.frame.y=e.y+(this.height-this.frame.h)/2}dotrim(){const e=document.createElement("canvas"),t=e.getContext("2d");e.setAttribute("width",this.imgobj.naturalWidth*(this.frame.w/this.width)+"px"),e.setAttribute("height",this.imgobj.naturalHeight*(this.frame.h/this.height)+"px"),t.drawImage(this.imgobj,this.imgobj.naturalWidth*(this.frame.x-this.x)/this.width,this.imgobj.naturalHeight*(this.frame.y-this.y)/this.height,this.imgobj.naturalWidth*(this.frame.w/this.width),this.imgobj.naturalHeight*(this.frame.h/this.height),0,0,this.imgobj.naturalWidth*(this.frame.w/this.width),this.imgobj.naturalHeight*(this.frame.h/this.height));let s=e.toDataURL("image/jpg",1);this.img=s,this.setobjectimg().then(()=>{this.setsize(),this.save.emit(s)})}onMouseDown(e){"trim"===this.mode&&(this.gettargethtmlservice.get(e.target,"screen-image-upload__close")||(this.mouseStart.x=e.clientX,this.mouseStart.y=e.clientY,this.gettargethtmlservice.get(e.target,"resize")?this.modemove="resize":this.gettargethtmlservice.get(e.target,"frame")?(this.startposframe=[this.frame.x,this.frame.y],this.modemove="frame"):(this.startposimage=[this.x,this.y],this.startposframe=[this.frame.x,this.frame.y],this.modemove="shift")))}onMouseMove(e){"trim"===this.mode&&("resize"===this.modemove?(this.frame.w=e.clientX-this.frame.x,this.frame.h=this.frame.w/this.ratio,this.frame.w<30&&(this.frame.w=30,this.frame.h=this.frame.w/this.ratio),this.frame.h<30&&(this.frame.h=30,this.frame.w=this.frame.h*this.ratio),this.frame.x+this.frame.w>this.x+this.width&&(this.frame.w=this.x+this.width-this.frame.x,this.frame.h=this.frame.w/this.ratio),this.frame.y+this.frame.h>this.y+this.height&&(this.frame.h=this.y+this.height-this.frame.y,this.frame.w=this.frame.h*this.ratio)):"frame"===this.modemove&&(this.frame.x=this.startposframe[0]+e.clientX-this.mouseStart.x,this.frame.y=this.startposframe[1]+e.clientY-this.mouseStart.y,this.frame.x<this.x&&(this.frame.x=this.x),this.frame.y<this.y&&(this.frame.y=this.y),this.frame.x+this.frame.w>this.x+this.width&&(this.frame.x=this.x+this.width-this.frame.w),this.frame.y+this.frame.h>this.y+this.height&&(this.frame.y=this.y+this.height-this.frame.h)))}onMouseUp(){this.modemove="none"}processTouch(){"trim"===this.mode&&("start"===this.touch.action&&(this.gettargethtmlservice.get(this.touch.target,"resize")?this.modemove="resize":this.gettargethtmlservice.get(this.touch.target,"frame")?(this.startposframe=[this.frame.x,this.frame.y],this.modemove="frame"):(this.startposimage=[this.x,this.y],this.startposframe=[this.frame.x,this.frame.y],this.modemove="shift")),"move"===this.touch.action&&("resize"===this.modemove?(this.frame.w=this.touch.x-this.frame.x,this.frame.h=this.frame.w/this.ratio,this.frame.w<30&&(this.frame.w=30,this.frame.h=this.frame.w/this.ratio),this.frame.h<30&&(this.frame.h=30,this.frame.w=this.frame.h*this.ratio),this.frame.x+this.frame.w>this.x+this.width&&(this.frame.w=this.x+this.width-this.frame.x,this.frame.h=this.frame.w/this.ratio),this.frame.y+this.frame.h>this.y+this.height&&(this.frame.h=this.y+this.height-this.frame.y,this.frame.w=this.frame.h*this.ratio)):"frame"===this.modemove?(this.frame.x=this.startposframe[0]+this.touch.x-this.touch.start.x,this.frame.y=this.startposframe[1]+this.touch.y-this.touch.start.y,this.frame.x<this.x&&(this.frame.x=this.x),this.frame.y<this.y&&(this.frame.y=this.y),this.frame.x+this.frame.w>this.x+this.width&&(this.frame.x=this.x+this.width-this.frame.w),this.frame.y+this.frame.h>this.y+this.height&&(this.frame.y=this.y+this.height-this.frame.h)):"shift"===this.modemove&&(this.frame.x=this.startposframe[0]+this.touch.x-this.touch.start.x,this.frame.y=this.startposframe[1]+this.touch.y-this.touch.start.y,this.x=this.startposimage[0]+this.touch.x-this.touch.start.x,this.y=this.startposimage[1]+this.touch.y-this.touch.start.y,this.x<-this.width&&(this.x=-this.width,this.frame.x=this.x+(this.startposframe[0]-this.startposimage[0])),this.x>window.innerWidth&&(this.x=window.innerWidth,this.frame.x=this.x+(this.startposframe[0]-this.startposimage[0])),this.y<-this.height&&(this.y=-this.height,this.frame.y=this.y+(this.startposframe[1]-this.startposimage[1])),this.y>window.innerHeight&&(this.y=window.innerHeight,this.frame.y=this.y+(this.startposframe[1]-this.startposimage[1])))))}ngOnInit(){this.closetrim=this.closetrim}ngOnChanges(e){e.img&&e.img.previousValue!==e.img.currentValue&&""!==e.img.currentValue&&this.setobjectimg().then(()=>{this.setsize()}),e.mode&&e.mode.previousValue!==e.mode.currentValue&&("usual"===e.mode.currentValue?this.setsize():"trim"===e.mode.currentValue&&this.turnontrim()),e.sublimesave&&e.sublimesave.previousValue!==e.sublimesave.currentValue&&void 0!==e.sublimesave.previousValue&&this.dotrim()}}return i.\u0275fac=function(e){return new(e||i)(D(us),D(W),D(Bi))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-trim"]],hostBindings:function(e,t){1&e&&C("resize",function(){return t.onResize()},!1,Ie)("mousedown",function(o){return t.onMouseDown(o)},!1,Ie)("mousemove",function(o){return t.onMouseMove(o)},!1,Ie)("mouseup",function(){return t.onMouseUp()},!1,Ie)},inputs:{img:"img",ratio:"ratio",mode:"mode",touch:"touch",sublimesave:"sublimesave"},outputs:{closetrim:"closetrim",save:"save"},features:[ie],decls:5,vars:22,consts:[[1,"image"],[1,"trimtools"],[1,"back"],[1,"frame"],[1,"resize"]],template:function(e,t){1&e&&(_(0,"div",0),d(1,"div",1),_(2,"div",2),d(3,"div",3),_(4,"div",4),p(),p()),2&e&&(y("width",t.width,"px")("height",t.height,"px")("transform","translateX("+t.x+"px) translateY("+t.y+"px)")("background-image","url("+t.img+")"),c(1),y("display","trim"===t.mode?"flex":"none"),c(1),y("width","100%")("height","100%")("transform","translateX(0px) translateY(0px)"),c(1),y("width",t.frame.w,"px")("height",t.frame.h,"px")("transform","translateX("+t.frame.x+"px) translateY("+t.frame.y+"px)"))},styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-image:url(transparent.1234cf35f41c1d9e.svg);background-size:20px;background-repeat:repeat;background-position:0px 0px;user-select:none}[_nghost-%COMP%] > .image[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%] > .back[_ngcontent-%COMP%]{left:0px;top:0px;position:absolute;background-color:#0009}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%] > .frame[_ngcontent-%COMP%]{position:absolute;left:0px;top:0px;outline-color:#fff;outline-style:solid;outline-width:5px;display:flex;flex-direction:row;align-items:flex-end;justify-content:flex-end;backdrop-filter:brightness(2.5);z-index:1;cursor:grab}[_nghost-%COMP%] > .trimtools[_ngcontent-%COMP%] > .frame[_ngcontent-%COMP%] > .resize[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;transform:translate(20px) translateY(20px);border-radius:500px;background-color:#fff;z-index:2;background-position:center;background-size:contain;background-repeat:no-repeat;background-image:url(resize.ee042e9d80a38daf.svg);box-shadow:0 0 2px #000;cursor:nw-resize}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:0px;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#0009;transition:all ease .2s}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:10px;font-size:12px;color:#fff;text-align:right;user-select:none}[_nghost-%COMP%] > .hintsidebar[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:10px 10px 10px 0;width:20px;height:20px;background-position:center;background-size:contain;background-repeat:no-repeat}"]}),i})();const MB=["mockButtons"],EB=["confirmWebcamVideo"];function TB(i,n){if(1&i&&_(0,"app-greeting-card",24),2&i){const e=b();y("transform","rotateY("+e.rotateGift.angle+"deg)"),H("gift-animated",e.rotateGift.animate),g("size",e.giftDOM.size*(297/420))("front",e.gift.front)("back",e.gift.back)("text",e.gift.text)("color",e.gift.color)("sign",e.gift.sign)("smooth",e.animate)}}function OB(i,n){if(1&i&&_(0,"app-game",25),2&i){const e=b();y("transform","rotateY("+e.rotateGift.angle+"deg)"),H("gift-animated",e.rotateGift.animate),g("size",e.giftDOM.size*(135/190))("color",e.gift.color)("front",e.gift.front)("inside",e.gift.inside)("side",e.gift.side)("code",e.gift.code)("open",e.openGame)("smooth",e.animate)}}function IB(i,n){if(1&i&&_(0,"app-speaker",26),2&i){const e=b();y("transform","rotateY("+(e.rotateGift.angle+180)+"deg)")("animation-name","rotPlus180"),H("gift-animated",e.rotateGift.animate),g("size",e.giftDOM.size-20)("grill",e.gift.grill)("color",e.gift.color)("smooth",e.animate)}}function AB(i,n){if(1&i&&_(0,"app-tablet",27),2&i){const e=b();y("transform","rotateY("+e.rotateGift.angle+"deg)"),H("gift-animated",e.rotateGift.animate),g("size",e.giftDOM.size)("color",e.gift.color)("smooth",e.animate)}}function RB(i,n){if(1&i&&_(0,"app-photo",28),2&i){const e=b();y("transform","rotateY("+e.rotateGift.angle+"deg)"),H("gift-animated",e.rotateGift.animate),g("size",.75*e.giftDOM.size)("photo",e.gift.photo)("sign",e.gift.sign)("smooth",e.animate)}}function FB(i,n){if(1&i){const e=J();Be(0),d(1,"div",29),_(2,"div",30),d(3,"div",31),P(4),p(),d(5,"app-desktop-button",32),C("click",function(){return M(e),b().showUploadImageFrontGreetingCard()}),p(),p(),d(6,"div",29),_(7,"div",33),d(8,"div",31),P(9),p(),d(10,"app-desktop-button",32),C("click",function(){return M(e),b().showUploadImageBack()}),p(),p(),d(11,"div",29),_(12,"div",34),d(13,"div",31),P(14),p(),d(15,"app-desktop-button",32),C("click",function(){M(e);const s=b();return s.showTextGreetingcard=!s.showTextGreetingcard}),p(),p(),d(16,"textarea",35),C("input",function(s){return M(e),b().inputTextGreetingcard(s)}),p(),d(17,"div",29),_(18,"div",36),d(19,"div",31),P(20),p(),d(21,"app-desktop-button",32),C("click",function(){return M(e),Ki(23).click()}),p(),d(22,"input",37,38),C("input",function(s){return M(e),b().setColorTextGreetingCard(s)}),p(),p(),d(24,"div",29),_(25,"div",39),d(26,"div",31),P(27),p(),d(28,"app-desktop-button",32),C("click",function(){return M(e),b().signGreetingcard.visible=!0}),p(),p(),Ve()}if(2&i){const e=b();c(4),O(e.locationService.translate("front","\u043e\u0431\u043b\u043e\u0436\u043a\u0430")),c(1),g("icon","../../assets/pen.svg")("background","#fafafa"),c(4),O(e.locationService.translate("back","\u0437\u0430\u0434\u043d\u044f\u044f \u0441\u0442\u043e\u0440\u043e\u043d\u0430")),c(1),g("icon","../../assets/pen.svg")("background","#fafafa"),c(4),O(e.locationService.translate("text","\u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435")),c(1),g("icon",e.showTextGreetingcard?"../../assets/checkmark.svg":"../../assets/pen.svg")("background","#fafafa"),c(1),H("edit-gift-textarea_collapsed",!e.showTextGreetingcard),g("value",e.gift.text),c(4),O(e.locationService.translate("color","\u0446\u0432\u0435\u0442")),c(1),g("icon","../../assets/pen.svg")("background","#fafafa"),c(1),g("value",e.gift.color),c(5),O(e.locationService.translate("signature","\u043f\u043e\u0434\u043f\u0438\u0441\u044c")),c(1),g("icon","../../assets/pen.svg")("background","#fafafa")}}function NB(i,n){if(1&i){const e=J();d(0,"div",29),_(1,"div",36),d(2,"div",31),P(3),p(),d(4,"app-desktop-button",32),C("click",function(){return M(e),Ki(6).click()}),p(),d(5,"input",37,44),C("input",function(s){return M(e),b(2).setColorTextGreetingCard(s)}),p(),p()}if(2&i){const e=b(2);c(3),O(e.locationService.translate("color","\u0446\u0432\u0435\u0442")),c(1),g("icon","../../assets/pen.svg")("background","#fafafa"),c(1),g("value",e.gift.color)}}function LB(i,n){if(1&i){const e=J();d(0,"div",29),_(1,"div",45),d(2,"div",31),P(3),p(),d(4,"app-desktop-button",32),C("click",function(){return M(e),b(2).showUploadImageInside()}),p(),p()}if(2&i){const e=b(2);c(3),O(e.locationService.translate("inside","\u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0431\u0451\u0440\u0442\u043a\u0430")),c(1),g("icon","../../assets/pen.svg")("background","#fafafa")}}function BB(i,n){if(1&i){const e=J();d(0,"div",29),_(1,"div",46),d(2,"div",31),P(3),p(),d(4,"app-desktop-button",32),C("click",function(){return M(e),b(2).showUploadImageLeftSide()}),p(),p()}if(2&i){const e=b(2);c(3),O(e.locationService.translate("left side","\u0431\u043e\u043a\u043e\u0432\u0430\u044f \u043d\u0430\u0434\u043f\u0438\u0441\u044c")),c(1),g("icon","../../assets/pen.svg")("background","#fafafa")}}function VB(i,n){if(1&i){const e=J();Be(0),d(1,"div",29),_(2,"div",40),d(3,"div",31),P(4),p(),d(5,"app-desktop-button",32),C("click",function(){return M(e),b().switchTextCodeGame()}),p(),p(),d(6,"input",41),C("input",function(s){return M(e),b().setCodeGame(s)}),p(),d(7,"div",29),_(8,"div",30),d(9,"div",31),P(10),p(),d(11,"app-desktop-button",32),C("click",function(){return M(e),b().showUploadImageFrontGame()}),p(),p(),d(12,"div",29),_(13,"div",42),d(14,"div",31),P(15),p(),d(16,"app-desktop-button",32),C("click",function(){return M(e),b().showListPlatformsGame=!0}),p(),p(),T(17,NB,7,4,"div",43),T(18,LB,5,3,"div",43),T(19,BB,5,3,"div",43),Ve()}if(2&i){const e=b();c(4),O(e.locationService.translate("code","\u043a\u043e\u0434")),c(1),g("icon",e.showTextCodeGame?"../../assets/checkmark.svg":"../../assets/pen.svg")("background","#fafafa"),c(1),H("edit-gift-input_collapsed",!e.showTextCodeGame),g("value",e.gift.code),c(4),O(e.locationService.translate("front","\u043e\u0431\u043b\u043e\u0436\u043a\u0430")),c(1),g("icon","../../assets/pen.svg")("background","#fafafa"),c(4),O(e.locationService.translate("platform","\u0438\u0433\u0440\u043e\u0432\u0430\u044f \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430")),c(1),g("icon","../../assets/pen.svg")("background","#fafafa"),c(1),g("ngIf","custom"===e.gift.platform),c(1),g("ngIf","custom"===e.gift.platform),c(1),g("ngIf","custom"===e.gift.platform)}}function zB(i,n){if(1&i){const e=J();Be(0),d(1,"div",29),_(2,"div",47),d(3,"div",31),P(4),p(),d(5,"app-desktop-button",32),C("click",function(){return M(e),b().switchShowRecordAudioSpeaker()}),p(),p(),d(6,"app-desktop-micro",48),C("save",function(s){return M(e),b().saveSpeaker(s)}),p(),d(7,"div",29),_(8,"div",49),d(9,"div",31),P(10),p(),d(11,"app-desktop-button",32),C("click",function(){return M(e),b().showUploadImageGrill()}),p(),p(),d(12,"div",29),_(13,"div",36),d(14,"div",31),P(15),p(),d(16,"app-desktop-button",32),C("click",function(){return M(e),Ki(18).click()}),p(),d(17,"input",37,50),C("input",function(s){return M(e),b().setColorTextGreetingCard(s)}),p(),p(),Ve()}if(2&i){const e=b();c(4),O(e.locationService.translate("record","\u0437\u0430\u043f\u0438\u0441\u044c")),c(1),g("icon",e.audioSpeaker.visible?"../../assets/checkmark.svg":"../../assets/pen.svg")("background","#fafafa"),c(1),y("height",e.audioSpeaker.visible?50:0,"px")("opacity",e.audioSpeaker.visible?"1":"0"),g("sublimeValue",e.gift.value)("sublimeDuration",e.gift.duration)("sublimeSounds",e.gift.sounds)("sublimestop",e.audioSpeaker.sublimestop),c(4),O(e.locationService.translate("grill","\u0441\u0435\u0442\u043a\u0430")),c(1),g("icon","../../assets/pen.svg")("background","#fafafa"),c(4),O(e.locationService.translate("color","\u0446\u0432\u0435\u0442")),c(1),g("icon","../../assets/pen.svg")("background","#fafafa"),c(1),g("value",e.gift.color)}}function jB(i,n){if(1&i){const e=J();Be(0),d(1,"div",29),_(2,"div",51),d(3,"div",31),P(4),p(),d(5,"app-desktop-button",32),C("click",function(){return M(e),b().webcamVideo.visible=!0}),p(),p(),d(6,"div",29),_(7,"div",52),d(8,"div",31),P(9),p(),d(10,"app-desktop-button",32),C("click",function(){return M(e),b().showSideListTableCase=!0}),p(),p(),Ve()}if(2&i){const e=b();c(4),O(e.locationService.translate("record","\u0437\u0430\u043f\u0438\u0441\u044c")),c(1),g("icon","../../assets/pen.svg")("background","#fafafa"),c(4),O(e.locationService.translate("case","\u043a\u043e\u0440\u043f\u0443\u0441")),c(1),g("icon","../../assets/pen.svg")("background","#fafafa")}}function GB(i,n){if(1&i){const e=J();Be(0),d(1,"div",29),_(2,"div",53),d(3,"div",31),P(4),p(),d(5,"app-desktop-button",32),C("click",function(){M(e);const s=b();return s.takePicture.visible=!0,s.takePicture.preview=!1}),p(),p(),d(6,"div",29),_(7,"div",39),d(8,"div",31),P(9),p(),d(10,"app-desktop-button",32),C("click",function(){return M(e),b().signPhoto.visible=!0}),p(),p(),Ve()}if(2&i){const e=b();c(4),O(e.locationService.translate("photo","\u0444\u043e\u0442\u043e")),c(1),g("icon","../../assets/pen.svg")("background","#fafafa"),c(4),O(e.locationService.translate("sign","\u043f\u043e\u0434\u043f\u0438\u0441\u044c")),c(1),g("icon","../../assets/pen.svg")("background","#fafafa")}}function HB(i,n){if(1&i){const e=J();d(0,"app-desktop-list-images",54),C("choose",function(s){return M(e),b().selectUploadImage(s)}),p()}2&i&&g("images",b().getListUploadImages())}function UB(i,n){if(1&i){const e=J();d(0,"app-desktop-list-platforms",55),C("choose",function(s){return M(e),b().onChoosePlatformGame(s)}),p()}}function $B(i,n){if(1&i){const e=J();d(0,"app-desktop-list-side",55),C("choose",function(s){return M(e),b().onChooseTabletCase(s)}),d(1,"div",56),d(2,"div",57),_(3,"div",58),p(),d(4,"div",59),P(5),p(),p(),d(6,"div",60),d(7,"div",61),_(8,"div",58),p(),d(9,"div",59),P(10),p(),p(),d(11,"div",62),d(12,"div",63),_(13,"div",58),p(),d(14,"div",59),P(15),p(),p(),d(16,"div",64),d(17,"div",65),_(18,"div",58),p(),d(19,"div",59),P(20),p(),p(),d(21,"div",66),d(22,"div",67),_(23,"div",58),p(),d(24,"div",59),P(25),p(),p(),p()}if(2&i){const e=b();c(5),O(e.locationService.translate("Pure silver","\u0427\u0438\u0441\u0442\u043e\u0435 \u0441\u0435\u0440\u0435\u0431\u0440\u043e")),c(5),O(e.locationService.translate("Sierra blue","\u0421\u044c\u0435\u0440\u0440\u0430 \u0441\u0438\u043d\u0438\u0439")),c(5),O(e.locationService.translate("Alpine green","\u0410\u043b\u044c\u043f\u0438\u0439\u0441\u043a\u0438\u0439 \u0437\u0435\u043b\u0435\u043d\u044b\u0439")),c(5),O(e.locationService.translate("Shining gold","\u0421\u0438\u044f\u044e\u0449\u0435\u0435 \u0437\u043e\u043b\u043e\u0442\u043e")),c(5),O(e.locationService.translate("Dark matter","\u0422\u0451\u043c\u043d\u0430\u044f \u043c\u0430\u0442\u0435\u0440\u0438\u044f"))}}function YB(i,n){if(1&i){const e=J();d(0,"app-desktop-button",75),C("click",function(){return M(e),b(2).signPhoto.tool="eraser"}),p()}2&i&&g("text",b(2).locationService.translate("eraser","\u043b\u0430\u0441\u0442\u0438\u043a"))("icon","../../assets/eraser.svg")("background","#ffffff")("color","#333333")}function WB(i,n){if(1&i){const e=J();d(0,"app-desktop-button",75),C("click",function(){return M(e),b(2).signPhoto.tool="pen"}),p()}2&i&&g("text",b(2).locationService.translate("pen","\u0440\u0443\u0447\u043a\u0430"))("icon","../../assets/pen.svg")("background","#ffffff")("color","#333333")}function qB(i,n){if(1&i){const e=J();d(0,"app-desktop-button",75),C("click",function(){return M(e),b(),Ki(8).click()}),p()}2&i&&g("text",b(2).locationService.translate("color","\u0446\u0432\u0435\u0442"))("icon","../../assets/palette.svg")("background","#ffffff")("color","#333333")}function ZB(i,n){if(1&i){const e=J();d(0,"div",68),d(1,"div",69),C("click",function(){return M(e),b().signPhoto.visible=!1}),p(),d(2,"app-desktop-sign-photo",70),C("save",function(s){return M(e),b().saveSignGreetingcard(s)}),p(),d(3,"div",71),T(4,YB,1,4,"app-desktop-button",72),T(5,WB,1,4,"app-desktop-button",72),T(6,qB,1,4,"app-desktop-button",72),d(7,"input",73,74),C("input",function(s){return M(e),b().setColorSignPhoto(s)}),p(),p(),p()}if(2&i){const e=b();g("@verticalShow",void 0),c(2),g("gift",e.gift)("tool",e.signPhoto.tool)("color",e.signPhoto.color),c(2),g("ngIf","pen"===e.signPhoto.tool),c(1),g("ngIf","eraser"===e.signPhoto.tool),c(1),g("ngIf","pen"===e.signPhoto.tool),c(1),g("value",e.signPhoto.color)}}function XB(i,n){if(1&i){const e=J();d(0,"app-desktop-button",75),C("click",function(){return M(e),b(2).signGreetingcard.tool="eraser"}),p()}2&i&&g("text",b(2).locationService.translate("eraser","\u043b\u0430\u0441\u0442\u0438\u043a"))("icon","../../assets/eraser.svg")("background","#ffffff")("color","#333333")}function QB(i,n){if(1&i){const e=J();d(0,"app-desktop-button",75),C("click",function(){return M(e),b(2).signGreetingcard.tool="pen"}),p()}2&i&&g("text",b(2).locationService.translate("pen","\u0440\u0443\u0447\u043a\u0430"))("icon","../../assets/pen.svg")("background","#ffffff")("color","#333333")}function KB(i,n){if(1&i){const e=J();d(0,"app-desktop-button",75),C("click",function(){return M(e),b(),Ki(8).click()}),p()}2&i&&g("text",b(2).locationService.translate("color","\u0446\u0432\u0435\u0442"))("icon","../../assets/palette.svg")("background","#ffffff")("color","#333333")}function JB(i,n){if(1&i){const e=J();d(0,"div",68),d(1,"div",69),C("click",function(){return M(e),b().signGreetingcard.visible=!1}),p(),d(2,"app-desktop-sign-greetingcard",70),C("save",function(s){return M(e),b().saveSignGreetingcard(s)}),p(),d(3,"div",71),T(4,XB,1,4,"app-desktop-button",72),T(5,QB,1,4,"app-desktop-button",72),T(6,KB,1,4,"app-desktop-button",72),d(7,"input",73,76),C("input",function(s){return M(e),b().setColorSignGreetingcard(s)}),p(),p(),p()}if(2&i){const e=b();g("@verticalShow",void 0),c(2),g("gift",e.gift)("tool",e.signGreetingcard.tool)("color",e.signGreetingcard.color),c(2),g("ngIf","pen"===e.signGreetingcard.tool),c(1),g("ngIf","eraser"===e.signGreetingcard.tool),c(1),g("ngIf","pen"===e.signGreetingcard.tool),c(1),g("value",e.signGreetingcard.color)}}function eV(i,n){if(1&i){const e=J();d(0,"app-desktop-button",79),C("click",function(){return M(e),b(2).switchWebcamRecord()}),p()}if(2&i){const e=b(2);g("text",e.webcamVideo.recording?e.locationService.translate("stop","\u0441\u0442\u043e\u043f"):e.locationService.translate("record","\u0437\u0430\u043f\u0438\u0441\u044c"))("icon",e.webcamVideo.recording?"../../assets/stop.svg":"../../assets/record.svg")("background","#ffffff")("color","#333333")("disabled","open"===e.webcamVideo.showConfirm)}}function tV(i,n){if(1&i){const e=J();d(0,"div",68),d(1,"app-desktop-webcam-video",77),C("save",function(s){return M(e),b().saveWebcamVideo(s)}),p(),d(2,"div",78),C("click",function(){return M(e),b().closeWebcamVideo()}),p(),d(3,"div",71),d(4,"app-desktop-button",79),C("click",function(){return M(e),b().switchWebcamVideoMode()}),p(),T(5,eV,1,5,"app-desktop-button",80),d(6,"div",81,82),d(8,"div",83),P(9),p(),d(10,"div",84),d(11,"div",85),C("click",function(){return M(e),b().resultWebcamConfirm("reject")}),P(12),p(),d(13,"div",85),C("click",function(){return M(e),b().resultWebcamConfirm("agree")}),P(14),p(),p(),p(),p(),p()}if(2&i){const e=b();g("@verticalShow",void 0),c(1),g("value",e.gift.value)("duration",e.gift.duration)("recording",e.webcamVideo.recording)("screen",e.webcamVideo.screen)("sublimeuninit",e.webcamVideo.sublimeUninit),c(3),g("text","recording"===e.webcamVideo.screen?e.locationService.translate("to watching","\u043a \u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443"):e.locationService.translate("to recording","\u043a \u0437\u0430\u043f\u0438\u0441\u0438"))("icon","recording"===e.webcamVideo.screen?"../../assets/eye.svg":"../../assets/webcam.svg")("background","#ffffff")("color","#333333")("disabled",!e.gift.value[0]||"open"===e.webcamVideo.showConfirm||e.webcamVideo.recording),c(1),g("ngIf","recording"===e.webcamVideo.screen),c(1),g("@popup",e.webcamVideo.showConfirm),c(3),O(e.locationService.translate("Overwrite?","\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c?")),c(2),y("color","#f44336"),c(1),O(e.locationService.translate("no","\u043d\u0435\u0442")),c(1),y("color","#4caf50"),c(1),O(e.locationService.translate("yes","\u0434\u0430"))}}function nV(i,n){if(1&i){const e=J();d(0,"app-desktop-button",75),C("click",function(){M(e);const s=b(2);return s.takePicture.sublimeTakePicture=!s.takePicture.sublimeTakePicture,s.takePicture.preview=!0}),p()}2&i&&g("text",b(2).locationService.translate("take a picture","\u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0444\u043e\u0442\u043e"))("icon","../../assets/photo.svg")("background","#ffffff")("color","#333333")}function iV(i,n){if(1&i){const e=J();d(0,"app-desktop-button",75),C("click",function(){M(e);const s=b(2);return s.takePicture.sublimeSave=!s.takePicture.sublimeSave}),p()}if(2&i){const e=b(2);g("text",e.gift.photo&&""!==e.gift.photo?e.locationService.translate("overwrite","\u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c"):e.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))("icon","../../assets/checkmark.svg")("background","#ffffff")("color","#333333")}}function sV(i,n){if(1&i){const e=J();d(0,"app-desktop-button",75),C("click",function(){M(e);const s=b(2);return s.takePicture.sublimeCancel=!s.takePicture.sublimeCancel}),p()}2&i&&g("text",b(2).locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0430"))("icon","../../assets/cross.svg")("background","#ffffff")("color","#333333")}function oV(i,n){if(1&i){const e=J();d(0,"div",68),d(1,"app-desktop-take-picture",86),C("save",function(s){return M(e),b().saveTakePicture(s)}),p(),d(2,"div",78),C("click",function(){return M(e),b().takePicture.visible=!1}),p(),d(3,"div",71),T(4,nV,1,4,"app-desktop-button",72),T(5,iV,1,4,"app-desktop-button",72),T(6,sV,1,4,"app-desktop-button",72),p(),p()}if(2&i){const e=b();g("@verticalShow",void 0),c(1),g("value",e.gift.value)("sublimeTakePicture",e.takePicture.sublimeTakePicture)("sublimeSave",e.takePicture.sublimeSave)("sublimeCancel",e.takePicture.sublimeCancel),c(3),g("ngIf",!e.takePicture.preview),c(1),g("ngIf",e.takePicture.preview),c(1),g("ngIf",e.takePicture.preview)}}function rV(i,n){if(1&i){const e=J();d(0,"app-desktop-button",75),C("click",function(){return M(e),b(2).imageUpload.mode="trim"}),p()}2&i&&g("text",b(2).locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"))("icon","../../assets/scissors.svg")("background","#ffffff")("color","#333333")}function aV(i,n){if(1&i){const e=J();d(0,"app-desktop-button",75),C("click",function(){return M(e),b(2).imageUpload.showList=!0}),p()}2&i&&g("text",b(2).locationService.translate("change","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"))("icon","../../assets/image.svg")("background","#ffffff")("color","#333333")}function lV(i,n){if(1&i){const e=J();d(0,"app-desktop-button",75),C("click",function(){return M(e),b(2),Ki(33).click()}),p()}2&i&&g("text",b(2).locationService.translate("upload","\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"))("icon","../../assets/upload-mini.svg")("background","#ffffff")("color","#333333")}function uV(i,n){if(1&i){const e=J();d(0,"app-desktop-button",75),C("click",function(){M(e);const s=b(2);return s.imageUpload.sublimesave=!s.imageUpload.sublimesave}),p()}2&i&&g("text",b(2).locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))("icon","../../assets/checkmark.svg")("background","#ffffff")("color","#333333")}function cV(i,n){if(1&i){const e=J();d(0,"app-desktop-button",75),C("click",function(){return M(e),b(2).cancelTrim()}),p()}2&i&&g("text",b(2).locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"))("icon","../../assets/cross.svg")("background","#ffffff")("color","#333333")}function hV(i,n){if(1&i){const e=J();d(0,"div",68),d(1,"app-desktop-trim",87),C("save",function(s){return M(e),b().saveUploadImage(s)}),p(),d(2,"div",69),C("click",function(){return M(e),b().imageUpload.visible=!1}),p(),d(3,"div",71),T(4,rV,1,4,"app-desktop-button",72),T(5,aV,1,4,"app-desktop-button",72),T(6,lV,1,4,"app-desktop-button",72),T(7,uV,1,4,"app-desktop-button",72),T(8,cV,1,4,"app-desktop-button",72),p(),p()}if(2&i){const e=b();g("@verticalShow",void 0),c(1),g("img",e.imageUpload.img)("ratio",e.imageUpload.ratio)("mode",e.imageUpload.mode)("sublimesave",e.imageUpload.sublimesave),c(1),H("screen-image-upload__close_background","usual"===e.imageUpload.mode),c(2),g("ngIf","usual"===e.imageUpload.mode),c(1),g("ngIf",!e.noListUploadImage()&&"usual"===e.imageUpload.mode),c(1),g("ngIf",e.noListUploadImage()&&"usual"===e.imageUpload.mode),c(1),g("ngIf","trim"===e.imageUpload.mode),c(1),g("ngIf","trim"===e.imageUpload.mode)}}let dV=(()=>{class i{constructor(e,t,s,o){this.asyncService=e,this.host=t,this.readfileservice=s,this.locationService=o,this.animate=!1,this.gift=null,this.initialRect=null,this.close=new U,this.editingTitle=!1,this.insideWrapDOM={maxWidth:"800px"},this.mockButtonsDOM={display:"flex",opacity:"0",maxWidth:"400px"},this.viewDOM={width:"200px",height:"200px"},this.giftDOM={size:190},this.closeDOM={opacity:"0",transform:"translateY(-50px)"},this.contentAdditionDOM={opacity:"0",maxHeight:"0px"},this.editIconTitleDOM={opacity:"0"},this.imageUpload={visible:!1,type:"none",img:"",cancelImg:"",ratio:16/9,mode:"usual",sublimesave:!1,showList:!1},this.webcamVideo={visible:!1,recording:!1,screen:"recording",showConfirm:"close",sublimeUninit:!1},this.takePicture={visible:!1,preview:!1,sublimeTakePicture:!1,sublimeSave:!1,sublimeCancel:!1},this.signGreetingcard={visible:!1,tool:"pen",color:"#ffffff"},this.signPhoto={visible:!1,tool:"pen",color:"#000000"},this.rotateGift={angle:0,pause:!1,interval:setInterval(()=>{},9999),animate:!1,startMouse:0,startRotate:0},this.showTextGreetingcard=!1,this.textError="",this.timeoutError=setTimeout(()=>{},0),this.showTextCodeGame=!1,this.openGame=!1,this.showListPlatformsGame=!1,this.audioSpeaker={visible:!1,sublimestop:!1},this.showSideListTableCase=!1}startRotate(){clearInterval(this.rotateGift.interval),this.rotateGift.interval=setInterval(()=>{this.rotateGift.pause||(this.rotateGift.angle+=1,this.rotateGift.angle>360&&(this.rotateGift.angle-=360),this.rotateGift.angle<0&&(this.rotateGift.angle+=360))},10)}onMouseClick(e){"open"===this.webcamVideo.showConfirm&&!this.confirmWebcamVideoRef.nativeElement.contains(e.target)&&(this.webcamVideo.showConfirm="close")}stopRotate(){var e=this;return N(function*(){return e.rotateGift.animate=!0,yield e.asyncService.delay(10),clearInterval(e.rotateGift.interval),e.rotateGift.angle=e.rotateGift.angle<180?0:360,yield e.asyncService.delay(200),e.rotateGift.animate=!1,new Promise(t=>t())})()}mousedownIcon(e){this.rotateGift.pause=!0,this.rotateGift.startMouse=e.clientX,this.rotateGift.startRotate=this.rotateGift.angle,document.body.style.userSelect="none"}onMouseMove(e){!this.rotateGift.pause||"game"===this.gift.type&&this.openGame||(this.rotateGift.angle=this.rotateGift.startRotate+(e.clientX-this.rotateGift.startMouse),this.rotateGift.angle>360&&(this.rotateGift.angle-=360),this.rotateGift.angle<0&&(this.rotateGift.angle+=360))}onMouseUp(){this.rotateGift.pause&&clearInterval(this.rotateGift.interval),this.rotateGift.pause=!1,this.rotateGift.startMouse=0,this.rotateGift.startRotate=0,document.body.style.userSelect="auto"}onMouseLeave(){this.rotateGift.pause=!1,this.rotateGift.startMouse=0,this.rotateGift.startRotate=0,document.body.style.userSelect="auto"}show(){var e=this;return N(function*(){const t=e.host.nativeElement;return t.style.left=e.initialRect.x+10+"px",t.style.top=e.initialRect.y+"px",t.style.width=e.initialRect.width+"px",t.style.height=e.initialRect.height+"px",t.style.borderRadius="20px",e.mockButtonsDOM.display="flex",e.mockButtonsDOM.opacity="1",e.mockButtonsDOM.maxWidth="400px",e.viewDOM.width="200px",e.viewDOM.height="200px",e.giftDOM.size=190,e.closeDOM.opacity="0",e.closeDOM.transform="translateY(-50px)",e.contentAdditionDOM.opacity="0",e.contentAdditionDOM.maxHeight="0px",e.insideWrapDOM.maxWidth="800px",yield e.asyncService.delay(10),e.animate=!0,yield e.asyncService.delay(10),t.style.left="0px",t.style.top="0px",t.style.width="100%",t.style.height="100%",t.style.borderRadius="0px",e.mockButtonsDOM.opacity="0",e.mockButtonsDOM.maxWidth="0px",e.closeDOM.opacity="1",e.closeDOM.transform="translateY(0px)",e.viewDOM.width="500px",e.viewDOM.height="500px",e.contentAdditionDOM.maxHeight="4000px",e.contentAdditionDOM.opacity="1",e.insideWrapDOM.maxWidth="1000px",yield e.asyncService.delay(300),e.giftDOM.size=390,e.editIconTitleDOM.opacity="1",yield e.asyncService.delay(300),e.mockButtonsDOM.display="none",yield e.asyncService.delay(100),e.animate=!1,e.startRotate(),new Promise(s=>s())})()}hide(){var e=this;return N(function*(){e.audioSpeaker.visible&&(e.audioSpeaker.sublimestop=!e.audioSpeaker.sublimestop);const t=e.host.nativeElement;return yield e.stopRotate(),t.style.left="0px",t.style.top="0px",t.style.width="100%",t.style.height="100%",t.style.borderRadius="0px",e.mockButtonsDOM.opacity="0",e.mockButtonsDOM.maxWidth="0px",e.closeDOM.opacity="1",e.closeDOM.transform="translateY(0px)",e.viewDOM.width="500px",e.viewDOM.height="500px",e.contentAdditionDOM.maxHeight="4000px",e.contentAdditionDOM.opacity="1",e.giftDOM.size=390,e.insideWrapDOM.maxWidth="1000px",e.mockButtonsDOM.display="flex",e.editIconTitleDOM.opacity="0",yield e.asyncService.delay(10),e.animate=!0,yield e.asyncService.delay(10),e.giftDOM.size=190,e.closeDOM.opacity="0",e.closeDOM.transform="translateY(-50px)",e.contentAdditionDOM.opacity="0",e.contentAdditionDOM.maxHeight="0px",yield e.asyncService.delay(300),t.style.left=e.initialRect.x+10+"px",t.style.top=e.initialRect.y+"px",t.style.width=e.initialRect.width+"px",t.style.height=e.initialRect.height+"px",t.style.borderRadius="20px",e.mockButtonsDOM.display="flex",e.mockButtonsDOM.opacity="1",e.mockButtonsDOM.maxWidth="400px",e.viewDOM.width="200px",e.viewDOM.height="200px",e.insideWrapDOM.maxWidth="800px",yield e.asyncService.delay(300),e.animate=!1,e.close.emit(),new Promise(s=>s())})()}onChoosePlatformGame(e){this.showListPlatformsGame=!1,""!==e&&(this.gift.platform=e,"pc"===e?(this.gift.color="#000000",this.gift.inside="../../assets/game/game.png",this.gift.side="../../assets/game/gameleft.png"):"ps"===e?(this.gift.color="#003791",this.gift.inside="../../assets/game/ps.png",this.gift.side="../../assets/game/psleft.png"):"xbox"===e?(this.gift.color="#107C10",this.gift.inside="../../assets/game/xbox.png",this.gift.side="../../assets/game/xboxleft.png"):"switch"===e&&(this.gift.color="#e60012",this.gift.inside="../../assets/game/switch.png",this.gift.side="../../assets/game/switchleft.png"),"custom"===e&&(this.gift.color="#000000",this.gift.inside="../../assets/game/game.png",this.gift.side="../../assets/game/gameleft.png"))}saveSignGreetingcard(e){this.gift.sign=[...e]}inputTitle(e){this.gift.title=e.target.value}inputTextGreetingcard(e){this.gift.text=e.target.value}setColorTextGreetingCard(e){this.gift.color=e.target.value}setColorSignGreetingcard(e){this.signGreetingcard.color=e.target.value}setColorSignPhoto(e){this.signPhoto.color=e.target.value}setCodeGame(e){this.gift.code=e.target.value}switchTextCodeGame(){var e=this;return N(function*(){return e.showTextCodeGame?(e.animate=!0,yield e.asyncService.delay(100),e.openGame=!1,yield e.asyncService.delay(300),e.animate=!1):(e.stopRotate(),e.openGame=!0),e.showTextCodeGame=!e.showTextCodeGame,new Promise(t=>t())})()}inputUploadImage(e){this.saveUploadImage(e.target.files[0])}tryuploadimage(e){var t=this;return N(function*(){const s=e.target.files[0];let o=[],r={};return s.size/1048576>3&&o.push("should be less than 3 MB"),"image/png"!==s.type&&"image/jpeg"!==s.type&&"image/webp"!==s.type&&"image/x-icon"!==s.type&&"image/gif"!==s.type&&o.push("should be type of png, jpeg, webp, gif, icon"),o[0]||(r=yield t.readfileservice.getImageFromFile(s),(r.naturalWidth>1920||r.naturalHeight>1080)&&o.push("should be less than 1920x1080")),o[0]?(t.showError(o.join("; ")),e.target.value=null):(t.imageUpload.mode="trim",t.imageUpload.cancelImg=t.imageUpload.img,t.imageUpload.img=r.src),new Promise(a=>a(!0))})()}showError(e){var t=this;return N(function*(){return clearTimeout(t.timeoutError),t.textError="",yield t.asyncService.delay(100),t.textError=e,t.timeoutError=setTimeout(()=>{t.textError=""},5e3),new Promise(s=>s())})()}saveUploadImage(e){this.imageUpload.mode="usual","greetingcard"===this.gift.type&&"front"===this.imageUpload.type?this.gift.front=e:"greetingcard"===this.gift.type&&"back"===this.imageUpload.type?this.gift.back=e:"game"===this.gift.type&&"front"===this.imageUpload.type?this.gift.front=e:"game"===this.gift.type&&"inside"===this.imageUpload.type?this.gift.inside=e:"game"===this.gift.type&&"left-side"===this.imageUpload.type?this.gift.side=e:"speaker"===this.gift.type&&"grill"===this.imageUpload.type&&(this.gift.grill=e),this.imageUpload.cancelImg=""}showUploadImageFrontGreetingCard(){this.imageUpload.visible=!0,this.imageUpload.img=this.gift.front,this.imageUpload.type="front",this.imageUpload.ratio=297/420,this.imageUpload.mode="usual"}showUploadImageFrontGame(){this.imageUpload.visible=!0,this.imageUpload.img=this.gift.front,this.imageUpload.type="front",this.imageUpload.ratio=.828,this.imageUpload.mode="usual"}showUploadImageBack(){this.imageUpload.visible=!0,this.imageUpload.img=this.gift.back,this.imageUpload.type="back",this.imageUpload.ratio=1,this.imageUpload.mode="usual"}showUploadImageInside(){this.imageUpload.visible=!0,this.imageUpload.img=this.gift.inside,this.imageUpload.type="inside",this.imageUpload.ratio=1,this.imageUpload.mode="usual"}showUploadImageLeftSide(){this.imageUpload.visible=!0,this.imageUpload.img=this.gift.side,this.imageUpload.type="left-side",this.imageUpload.ratio=15/190,this.imageUpload.mode="usual"}showUploadImageGrill(){this.imageUpload.visible=!0,this.imageUpload.img=this.gift.grill,this.imageUpload.type="grill",this.imageUpload.ratio=1,this.imageUpload.mode="usual"}noListUploadImage(){if("greetingcard"===this.gift.type){if("front"===this.imageUpload.type||"back"===this.imageUpload.type)return!1}else if("game"===this.gift.type&&("front"===this.imageUpload.type||"left-side"===this.imageUpload.type||"inside"===this.imageUpload.type))return!0;return!1}getListUploadImages(){return"greetingcard"===this.gift.type&&"front"===this.imageUpload.type?["../../assets/greetingcard/front/1.png","../../assets/greetingcard/front/2.png","../../assets/greetingcard/front/3.png","../../assets/greetingcard/front/4.png","../../assets/greetingcard/front/5.png","../../assets/greetingcard/front/6.png","../../assets/greetingcard/front/7.png","../../assets/greetingcard/front/8.png","../../assets/greetingcard/front/9.png","../../assets/greetingcard/front/10.png","../../assets/greetingcard/front/11.png","../../assets/greetingcard/front/12.png","../../assets/greetingcard/front/13.png","../../assets/greetingcard/front/14.png","../../assets/greetingcard/front/15.png","../../assets/greetingcard/front/16.png","../../assets/greetingcard/front/17.png","../../assets/greetingcard/front/18.png","../../assets/greetingcard/front/19.png","../../assets/greetingcard/front/20.png","../../assets/greetingcard/front/21.png","../../assets/greetingcard/front/22.png","../../assets/greetingcard/front/23.png","../../assets/greetingcard/front/24.png","../../assets/greetingcard/front/25.png","../../assets/greetingcard/front/26.png","../../assets/greetingcard/front/27.png","../../assets/greetingcard/front/28.png","../../assets/greetingcard/front/29.png","../../assets/greetingcard/front/30.png","../../assets/greetingcard/front/31.png","../../assets/greetingcard/front/32.png","../../assets/greetingcard/front/33.png","../../assets/greetingcard/front/34.png","../../assets/greetingcard/front/35.png","../../assets/greetingcard/front/36.png","../../assets/greetingcard/front/37.png","../../assets/greetingcard/front/38.png","../../assets/greetingcard/front/39.png","../../assets/greetingcard/front/40.png"]:"greetingcard"===this.gift.type&&"back"===this.imageUpload.type?["../../assets/greetingcard/back/1.jpg","../../assets/greetingcard/back/2.jpg","../../assets/greetingcard/back/3.jpg","../../assets/greetingcard/back/4.jpg","../../assets/greetingcard/back/5.jpg","../../assets/greetingcard/back/6.jpg","../../assets/greetingcard/back/7.jpg","../../assets/greetingcard/back/8.jpg","../../assets/greetingcard/back/9.jpg","../../assets/greetingcard/back/10.jpg","../../assets/greetingcard/back/11.jpg","../../assets/greetingcard/back/12.jpg","../../assets/greetingcard/back/13.jpg","../../assets/greetingcard/back/14.jpg","../../assets/greetingcard/back/15.jpg","../../assets/greetingcard/back/16.jpg","../../assets/greetingcard/back/17.jpg","../../assets/greetingcard/back/18.jpg","../../assets/greetingcard/back/19.jpg","../../assets/greetingcard/back/20.jpg"]:"speaker"===this.gift.type&&"grill"===this.imageUpload.type?["../../assets/speaker/grill/0.png","../../assets/speaker/grill/1.png","../../assets/speaker/grill/2.png","../../assets/speaker/grill/3.png","../../assets/speaker/grill/4.png","../../assets/speaker/grill/5.png","../../assets/speaker/grill/6.png"]:[]}saveSpeaker(e){this.gift.value=e.chunks,this.gift.sounds=e.sounds,this.gift.duration=e.duration}selectUploadImage(e){this.imageUpload.showList=!1,""!==e&&(this.imageUpload.cancelImg=this.imageUpload.img,this.imageUpload.img=e,setTimeout(()=>{this.imageUpload.mode="trim"},100))}cancelTrim(){this.imageUpload.mode="usual",""!==this.imageUpload.cancelImg&&(this.imageUpload.img=this.imageUpload.cancelImg),this.imageUpload.cancelImg=""}saveWebcamVideo(e){this.gift.value=e.value,this.gift.duration=e.duration,this.webcamVideo.screen="watching"}resultWebcamConfirm(e){"agree"===e&&(this.gift.value=[],this.gift.duration=0,this.webcamVideo.recording=!0),this.webcamVideo.showConfirm="close"}switchWebcamRecord(){"open"!==this.webcamVideo.showConfirm&&(this.webcamVideo.recording?this.webcamVideo.recording=!1:this.gift.value?setTimeout(()=>{this.webcamVideo.showConfirm="open"},100):this.webcamVideo.recording=!0)}switchWebcamVideoMode(){!this.gift.value[0]||"open"===this.webcamVideo.showConfirm||this.webcamVideo.recording||(this.webcamVideo.screen="recording"===this.webcamVideo.screen?"watching":"recording")}onChooseTabletCase(e){if(this.showSideListTableCase=!1,""===e)return;let t="#C0C0C0";"pure-silver"===e?t="#C0C0C0":"sierra-blue"===e?t="#69abce":"alpine-green"===e?t="#005f56":"shining-gold"===e?t="#FFDF4F":"dark-matter"===e&&(t="#2b2031"),this.gift.color=t}saveTakePicture(e){this.takePicture.preview=!1,""!==e&&(this.gift.photo=e)}switchShowRecordAudioSpeaker(){this.audioSpeaker.visible&&(this.audioSpeaker.sublimestop=!this.audioSpeaker.sublimestop),this.audioSpeaker.visible=!this.audioSpeaker.visible}closeWebcamVideo(){var e=this;return N(function*(){return e.webcamVideo.screen="recording",e.webcamVideo.visible=!1,new Promise(t=>t())})()}ngAfterViewInit(){this.show()}ngOnInit(){}ngOnChanges(e){}}return i.\u0275fac=function(e){return new(e||i)(D(Pe),D(W),D(us),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-edit-gift"]],viewQuery:function(e,t){if(1&e&&(ht(MB,5,W),ht(EB,5)),2&e){let s;qe(s=Ze())&&(t.mockButtonsRef=s.first),qe(s=Ze())&&(t.confirmWebcamVideoRef=s.first)}},hostVars:2,hostBindings:function(e,t){1&e&&C("click",function(o){return t.onMouseClick(o)},!1,Ie)("mousemove",function(o){return t.onMouseMove(o)},!1,Ie)("mouseup",function(o){return t.onMouseUp(o)},!1,Ie)("mouseleave",function(o){return t.onMouseLeave(o)},!1,Ie),2&e&&H("animate",t.animate)},inputs:{gift:"gift",initialRect:"initialRect"},outputs:{close:"close"},features:[ie],decls:35,vars:56,consts:[[1,"inside-wrap"],[1,"close",3,"click"],[1,"view",3,"mousedown"],[3,"transform","gift-animated","size","front","back","text","color","sign","smooth",4,"ngIf"],[3,"transform","gift-animated","size","color","front","inside","side","code","open","smooth",4,"ngIf"],[3,"transform","gift-animated","size","animationName","grill","color","smooth",4,"ngIf"],[3,"transform","gift-animated","size","color","smooth",4,"ngIf"],[3,"transform","gift-animated","size","photo","sign","smooth",4,"ngIf"],[1,"info"],[1,"content"],[1,"title"],[1,"text"],["type","text","maxlength","100",1,"title-edit-input",3,"input","keyup.enter"],[1,"button-change-title",3,"icon","background","click"],[1,"content-addition"],[4,"ngIf"],[1,"mockButtons"],[1,"button-edit",3,"icon","background"],[3,"images","choose",4,"ngIf"],[3,"choose",4,"ngIf"],["class","screen-image-upload",4,"ngIf"],["type","file","accept","image/png, image/jpeg",2,"display","none",3,"input"],["inputUploadImage",""],[3,"text","color"],[3,"size","front","back","text","color","sign","smooth"],[3,"size","color","front","inside","side","code","open","smooth"],[3,"size","grill","color","smooth"],[3,"size","color","smooth"],[3,"size","photo","sign","smooth"],[1,"edit-gift-option"],[1,"edit-gift-option__icon","edit-gift-option__icon-front"],[1,"edit-gift-option__text"],[1,"edit-gift-option__button-edit",3,"icon","background","click"],[1,"edit-gift-option__icon","edit-gift-option__icon-back"],[1,"edit-gift-option__icon","edit-gift-option__icon-text"],[1,"edit-gift-textarea",3,"value","input"],[1,"edit-gift-option__icon","edit-gift-option__icon-color"],["type","color",1,"colorTextGreetingCard",3,"value","input"],["colorTextGreetingCard",""],[1,"edit-gift-option__icon","edit-gift-option__icon-signature"],[1,"edit-gift-option__icon","edit-gift-option__icon-password"],[1,"edit-gift-input",3,"value","input"],[1,"edit-gift-option__icon","edit-gift-option__icon-platform"],["class","edit-gift-option",4,"ngIf"],["colorGame",""],[1,"edit-gift-option__icon","edit-gift-option__icon-inside"],[1,"edit-gift-option__icon","edit-gift-option__icon-left-side"],[1,"edit-gift-option__icon","edit-gift-option__icon-speaker"],[1,"micro-speaker",3,"sublimeValue","sublimeDuration","sublimeSounds","sublimestop","save"],[1,"edit-gift-option__icon","edit-gift-option__icon-grill"],["colorSpeaker",""],[1,"edit-gift-option__icon","edit-gift-option__icon-webcam"],[1,"edit-gift-option__icon","edit-gift-option__icon-case"],[1,"edit-gift-option__icon","edit-gift-option__icon-photo"],[3,"images","choose"],[3,"choose"],["value","pure-silver",1,"table-case-option"],[1,"table-case-option__image","table-case-option__image_pure-silver"],[1,"table-case-option__tablet-gradient"],[1,"table-case-option__text"],["value","sierra-blue",1,"table-case-option"],[1,"table-case-option__image","table-case-option__image_sierra-blue"],["value","alpine-green",1,"table-case-option"],[1,"table-case-option__image","table-case-option__image_alpine-green"],["value","shining-gold",1,"table-case-option"],[1,"table-case-option__image","table-case-option__image_shining-gold"],["value","dark-matter",1,"table-case-option"],[1,"table-case-option__image","table-case-option__image_dark-matter"],[1,"screen-image-upload"],[1,"screen-image-upload__close",3,"click"],[3,"gift","tool","color","save"],[1,"screen-image-upload__menu"],[3,"text","icon","background","color","click",4,"ngIf"],["type","color",1,"input-color-sign-greetingcard",3,"value","input"],["inputColorSignPhoto",""],[3,"text","icon","background","color","click"],["inputColorSignGreetingcard",""],[3,"value","duration","recording","screen","sublimeuninit","save"],[1,"screen-image-upload__close","screen-image-upload__close_background",3,"click"],[3,"text","icon","background","color","disabled","click"],[3,"text","icon","background","color","disabled","click",4,"ngIf"],[1,"webcam-video-confirm"],["confirmWebcamVideo",""],[1,"webcam-video-confirm__text"],[1,"webcam-video-confirm__buttons"],[1,"webcam-video-confirm__button",3,"click"],[3,"value","sublimeTakePicture","sublimeSave","sublimeCancel","save"],[3,"img","ratio","mode","sublimesave","save"]],template:function(e,t){1&e&&(d(0,"div",0),d(1,"div",1),C("click",function(){return t.hide()}),p(),d(2,"div",2),C("mousedown",function(o){return t.mousedownIcon(o)}),T(3,TB,1,11,"app-greeting-card",3),T(4,OB,1,12,"app-game",4),T(5,IB,1,10,"app-speaker",5),T(6,AB,1,7,"app-tablet",6),T(7,RB,1,8,"app-photo",7),p(),d(8,"div",8),d(9,"div",9),d(10,"div",10),d(11,"div",11),P(12),p(),d(13,"input",12),C("input",function(o){return t.inputTitle(o)})("keyup.enter",function(){return t.editingTitle=!t.editingTitle}),p(),d(14,"app-desktop-button",13),C("click",function(){return t.editingTitle=!t.editingTitle}),p(),p(),d(15,"div",14),T(16,FB,29,19,"ng-container",15),T(17,VB,20,15,"ng-container",15),T(18,zB,19,18,"ng-container",15),T(19,jB,11,6,"ng-container",15),T(20,GB,11,6,"ng-container",15),p(),p(),d(21,"div",16),_(22,"app-desktop-button",17),_(23,"app-desktop-button",17),p(),p(),p(),T(24,HB,1,1,"app-desktop-list-images",18),T(25,UB,1,0,"app-desktop-list-platforms",19),T(26,$B,26,5,"app-desktop-list-side",19),T(27,ZB,9,8,"div",20),T(28,JB,9,8,"div",20),T(29,tV,15,20,"div",20),T(30,oV,7,8,"div",20),T(31,hV,9,12,"div",20),d(32,"input",21,22),C("input",function(o){return t.tryuploadimage(o)}),p(),_(34,"app-desktop-error",23)),2&e&&(y("max-width",t.insideWrapDOM.maxWidth),c(1),y("opacity",t.closeDOM.opacity)("transform",t.closeDOM.transform),c(1),y("width",t.viewDOM.width)("height",t.viewDOM.height),c(1),g("ngIf","greetingcard"===t.gift.type),c(1),g("ngIf","game"===t.gift.type),c(1),g("ngIf","speaker"===t.gift.type),c(1),g("ngIf","tablet"===t.gift.type),c(1),g("ngIf","photo"===t.gift.type),c(4),y("margin",t.editingTitle?"0px":"0px 20px")("display",t.editingTitle?"none":"flex"),c(1),O(t.gift.title),c(1),y("margin",t.editingTitle?"0px 9px":"0px")("display",t.editingTitle?"flex":"none"),Ue("value",t.gift.title),c(1),y("opacity",t.editIconTitleDOM.opacity),g("icon",t.editingTitle?"../../assets/checkmark.svg":"../../assets/pen.svg")("background","#fafafa"),c(1),y("max-height",t.contentAdditionDOM.maxHeight)("opacity",t.contentAdditionDOM.opacity),c(1),g("ngIf","greetingcard"===t.gift.type),c(1),g("ngIf","game"===t.gift.type),c(1),g("ngIf","speaker"===t.gift.type),c(1),g("ngIf","tablet"===t.gift.type),c(1),g("ngIf","photo"===t.gift.type),c(1),y("max-width",t.mockButtonsDOM.maxWidth)("opacity",t.mockButtonsDOM.opacity),c(1),g("icon","../../assets/pen.svg")("background","#ffffff"),c(1),g("icon","../../assets/trash.svg")("background","#ffffff"),c(1),g("ngIf",t.imageUpload.showList),c(1),g("ngIf",t.showListPlatformsGame),c(1),g("ngIf",t.showSideListTableCase),c(1),g("ngIf",t.signPhoto.visible),c(1),g("ngIf",t.signGreetingcard.visible),c(1),g("ngIf",t.webcamVideo.visible),c(1),g("ngIf",t.takePicture.visible),c(1),g("ngIf",t.imageUpload.visible),c(3),g("text",t.textError)("color","#f44336"))},directives:[ot,js,wh,Vs,Jr,Mo,Eo,zs,aB,uB,cB,fB,gB,mB,kB,SB,w2],styles:['[_nghost-%COMP%]{position:fixed;display:flex;flex-direction:row;align-items:stretch;justify-content:center;background-color:#fafafa;z-index:10}[_nghost-%COMP%]   .gift-animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;max-width:800px}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .close[_ngcontent-%COMP%]{right:0px;top:0px;margin:20px;position:fixed;width:30px;height:30px;background-image:url(cross.0bf1b6052953de20.svg);background-position:center;background-size:contain;background-repeat:no-repeat;cursor:pointer;opacity:.1;transition:all ease .3s}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .close[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .view[_ngcontent-%COMP%]{flex-shrink:0;margin:10px;width:200px;height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:grab;perspective:2000px}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{padding-right:20px;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;flex:1;max-height:100vh;overflow-y:auto}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;height:60px}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:20px;font-size:18px;text-align:left;overflow:hidden;word-break:break-word;transition:all ease .3s}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%] > .button-change-title[_ngcontent-%COMP%]{margin-left:auto;transition:all ease .3s}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%] > .title-edit-input[_ngcontent-%COMP%]{flex:1;padding:10px;font-size:18px;color:#333;margin:20px;border-radius:10px;border:1px solid #eee;outline:none;font-family:"Comfortaa",cursive;overflow:hidden;transition:all ease .3s}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%]{overflow-y:hidden;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;flex-shrink:0}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-textarea[_ngcontent-%COMP%], [_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-input[_ngcontent-%COMP%]{padding:10px;font-size:18px;color:#333;flex-shrink:0;margin:0;border-radius:10px;border:1px solid #eee;outline:none;font-family:"Comfortaa",cursive;height:150px;text-align:center;resize:none;overflow-y:auto;transition:all ease .3s}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-input[_ngcontent-%COMP%]{height:20px}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-textarea_collapsed[_ngcontent-%COMP%], [_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%]   .edit-gift-input_collapsed[_ngcontent-%COMP%]{height:0px;padding:0;margin:0;border:0px solid #eee}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .micro-speaker[_ngcontent-%COMP%]{overflow:hidden;transition:all ease .2s}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon[_ngcontent-%COMP%]{width:30px;height:30px;margin:10px;background-size:contain;background-position:center;background-repeat:no-repeat}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-front[_ngcontent-%COMP%]{background-image:url(front.52b9f3c5e1f2cfcc.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-back[_ngcontent-%COMP%]{background-image:url(background.076b4b8093997417.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-text[_ngcontent-%COMP%]{background-image:url(text.99953cbe21fd94da.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-color[_ngcontent-%COMP%]{background-image:url(palette.e779d1aac46cc465.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-signature[_ngcontent-%COMP%]{background-image:url(signature.bc4b1dcb33c0b7ad.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-password[_ngcontent-%COMP%]{background-image:url(password.1803c7dd55c2663d.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-platform[_ngcontent-%COMP%]{background-image:url(controller.baac382b952f543a.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-inside[_ngcontent-%COMP%]{background-image:url(inside.ff786a08e7146afc.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-left-side[_ngcontent-%COMP%]{background-image:url(left-side.932e89d692e31b9c.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-speaker[_ngcontent-%COMP%]{background-image:url(speaker.c32b5ce159db4012.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-grill[_ngcontent-%COMP%]{background-image:url(grill.930d1a56372649d9.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-webcam[_ngcontent-%COMP%]{background-image:url(webcam.88ce2f1f7037b83c.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-case[_ngcontent-%COMP%]{background-image:url(case.676ad90f7fdba5cd.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-photo[_ngcontent-%COMP%]{background-image:url(photo.6281a9128e483ae7.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__icon-signature[_ngcontent-%COMP%]{background-image:url(signature.bc4b1dcb33c0b7ad.svg)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__text[_ngcontent-%COMP%]{font-size:14px;color:#000;maring:10px}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .edit-gift-option__button-edit[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%] > .edit-gift-option[_ngcontent-%COMP%] > .colorTextGreetingCard[_ngcontent-%COMP%]{width:0px;border:none;padding:0;outline:none;background:unset;height:0px;overflow:hidden;transform:translate(-20px)}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .mockButtons[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex-direction:row;align-items:center;justify-content:center;flex-shrink:0;margin-left:auto;opacity:1;max-width:400px}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .mockButtons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px 10px 10px 0}[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .mockButtons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin-left:10px}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__close[_ngcontent-%COMP%]{position:fixed;top:0px;right:0px;margin:20px;width:40px;height:40px;z-index:15;cursor:pointer;border-radius:100px;background-image:url(cross_white.3cfbf2db249143ad.svg);background-position:center;background-size:70%;background-repeat:no-repeat}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__close_background[_ngcontent-%COMP%]{background-color:#0006}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;border-radius:10px;box-shadow:0 0 5px #0003;background-color:#fff;display:flex;flex-direction:row;align-items:center;justify-content:center;z-index:15}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px 10px 10px 0}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin-left:10px}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%] > .input-color-sign-greetingcard[_ngcontent-%COMP%]{margin:0;width:0px;height:0px;border:none;outline:none;transform:translate(-90px)}[_nghost-%COMP%]   .webcam-video-confirm[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;box-shadow:0 0 5px #999;border-radius:10px;background-color:#fff;z-index:10;transform:translate(-30px) translateY(80px)}[_nghost-%COMP%]   .webcam-video-confirm[_ngcontent-%COMP%] > .webcam-video-confirm__text[_ngcontent-%COMP%]{font-size:14px;color:#333;text-align:center;margin:10px 20px}[_nghost-%COMP%]   .webcam-video-confirm[_ngcontent-%COMP%] > .webcam-video-confirm__buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%]   .webcam-video-confirm[_ngcontent-%COMP%] > .webcam-video-confirm__buttons[_ngcontent-%COMP%] > .webcam-video-confirm__button[_ngcontent-%COMP%]{margin:5px 10px;padding:10px;cursor:pointer;border-radius:5px;background-color:#eee0;transition:background-color ease .2s}[_nghost-%COMP%]   .webcam-video-confirm[_ngcontent-%COMP%] > .webcam-video-confirm__buttons[_ngcontent-%COMP%] > .webcam-video-confirm__button[_ngcontent-%COMP%]:hover{background-color:#eee}[_nghost-%COMP%]     .table-case-option{margin:50px 0;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:10px}[_nghost-%COMP%]     .table-case-option>.table-case-option__image{margin:10px;width:300px;height:216.1943319838px;border-radius:10px;overflow:hidden}[_nghost-%COMP%]     .table-case-option>.table-case-option__image>.table-case-option__tablet-gradient{width:100%;height:100%;background:linear-gradient(45deg,#00000066,#00000000)}[_nghost-%COMP%]     .table-case-option>.table-case-option__text{margin:10px;font-size:16px;text-align:center}[_nghost-%COMP%]     .table-case-option>.table-case-option__image_pure-silver{background-color:silver}[_nghost-%COMP%]     .table-case-option>.table-case-option__image_sierra-blue{background-color:#69abce}[_nghost-%COMP%]     .table-case-option>.table-case-option__image_alpine-green{background-color:#005f56}[_nghost-%COMP%]     .table-case-option>.table-case-option__image_shining-gold{background-color:#ffdf4f}[_nghost-%COMP%]     .table-case-option>.table-case-option__image_dark-matter{background-color:#2b2031}.animate[_nghost-%COMP%]{transition:all ease .3s}.animate[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%]{transition:all ease .3s}.animate[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .view[_ngcontent-%COMP%]{transition:all ease .3s}.animate[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%]{transition:all ease .3s}.animate[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{transition:all ease .3s}.animate[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%] > .content-addition[_ngcontent-%COMP%]{transition:all ease .3s}.animate[_nghost-%COMP%] > .inside-wrap[_ngcontent-%COMP%] > .info[_ngcontent-%COMP%] > .mockButtons[_ngcontent-%COMP%]{transition:all ease .3s}'],data:{animation:[ut("verticalShow",[me(":enter",[Y({transform:"translateY(-100%)"}),le("200ms",Y({transform:"translateY(0%)"}))]),me(":leave",[le("200ms",Y({transform:"translateY(-100%)"}))])]),ut("popup",[Ns("open",Y({display:"flex",transform:"translateX(70px) translateY(-60px)",opacity:"1"})),Ns("close",Y({transform:"translateX(70px) translateY(-80px)",opacity:"0",display:"none"})),me("open <=> close",le("0.2s ease"))])]}}),i})();function ps(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function k2(i,n){i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n}var x0,pt,ji,E0,T0,T2,A2,ra,jl,l,u,h,f,m,v,i,n,e,t,s,o,r,a,k,Bn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ta={duration:.5,overwrite:!1,delay:0},ii=1e8,et=1e-8,D0=2*Math.PI,pV=D0/4,fV=0,x2=Math.sqrt,gV=Math.cos,mV=Math.sin,jt=function(n){return"string"==typeof n},Gt=function(n){return"function"==typeof n},fs=function(n){return"number"==typeof n},P0=function(n){return void 0===n},gs=function(n){return"object"==typeof n},wn=function(n){return!1!==n},D2=function(){return"undefined"!=typeof window},kh=function(n){return Gt(n)||jt(n)},P2="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},en=Array.isArray,S0=/(?:-?\.?\d|\.)+/gi,S2=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,na=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,M0=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,M2=/[+-]=-?[.\d]+/,E2=/[^,'"\[\]\s]+/gi,_V=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Vn={},xh={},O2=function(n){return(xh=Oo(n,Vn))&&xi},O0=function(n,e){return console.warn("Invalid property",n,"set to",e,"Missing plugin? gsap.registerPlugin()")},Dh=function(n,e){return!e&&console.warn(n)},I2=function(n,e){return n&&(Vn[n]=e)&&xh&&(xh[n]=e)||Vn},Rl=function(){return 0},I0={},Gs=[],A0={},zn={},R0={},R2=30,Ph=[],F0="",N0=function(n){var t,s,e=n[0];if(gs(e)||Gt(e)||(n=[n]),!(t=(e._gsap||{}).harness)){for(s=Ph.length;s--&&!Ph[s].targetTest(e););t=Ph[s]}for(s=n.length;s--;)n[s]&&(n[s]._gsap||(n[s]._gsap=new ak(n[s],t)))||n.splice(s,1);return n},To=function(n){return n._gsap||N0(ri(n))[0]._gsap},F2=function(n,e,t){return(t=n[e])&&Gt(t)?n[e]():P0(t)&&n.getAttribute&&n.getAttribute(e)||t},kn=function(n,e){return(n=n.split(",")).forEach(e)||n},Ct=function(n){return Math.round(1e5*n)/1e5||0},tn=function(n){return Math.round(1e7*n)/1e7||0},ia=function(n,e){var t=e.charAt(0),s=parseFloat(e.substr(2));return n=parseFloat(n),"+"===t?n+s:"-"===t?n-s:"*"===t?n*s:n/s},vV=function(n,e){for(var t=e.length,s=0;n.indexOf(e[s])<0&&++s<t;);return s<t},Sh=function(){var t,s,n=Gs.length,e=Gs.slice(0);for(A0={},Gs.length=0,t=0;t<n;t++)(s=e[t])&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},N2=function(n,e,t,s){Gs.length&&Sh(),n.render(e,t,s),Gs.length&&Sh()},L2=function(n){var e=parseFloat(n);return(e||0===e)&&(n+"").match(E2).length<2?e:jt(n)?n.trim():n},B2=function(n){return n},si=function(n,e){for(var t in e)t in n||(n[t]=e[t]);return n},Oo=function(n,e){for(var t in e)n[t]=e[t];return n},V2=function i(n,e){for(var t in e)"__proto__"!==t&&"constructor"!==t&&"prototype"!==t&&(n[t]=gs(e[t])?i(n[t]||(n[t]={}),e[t]):e[t]);return n},Mh=function(n,e){var s,t={};for(s in n)s in e||(t[s]=n[s]);return t},Fl=function(n){var e=n.parent||pt,t=n.keyframes?function(n){return function(e,t){for(var s in t)s in e||"duration"===s&&n||"ease"===s||(e[s]=t[s])}}(en(n.keyframes)):si;if(wn(n.inherit))for(;e;)t(n,e.vars.defaults),e=e.parent||e._dp;return n},z2=function(n,e,t,s,o){void 0===t&&(t="_first"),void 0===s&&(s="_last");var a,r=n[s];if(o)for(a=e[o];r&&r[o]>a;)r=r._prev;return r?(e._next=r._next,r._next=e):(e._next=n[t],n[t]=e),e._next?e._next._prev=e:n[s]=e,e._prev=r,e.parent=e._dp=n,e},Eh=function(n,e,t,s){void 0===t&&(t="_first"),void 0===s&&(s="_last");var o=e._prev,r=e._next;o?o._next=r:n[t]===e&&(n[t]=r),r?r._prev=o:n[s]===e&&(n[s]=o),e._next=e._prev=e.parent=null},ms=function(n,e){n.parent&&(!e||n.parent.autoRemoveChildren)&&n.parent.remove(n),n._act=0},Io=function(n,e){if(n&&(!e||e._end>n._dur||e._start<0))for(var t=n;t;)t._dirty=1,t=t.parent;return n},bV=function(n){for(var e=n.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return n},wV=function i(n){return!n||n._ts&&i(n.parent)},j2=function(n){return n._repeat?sa(n._tTime,n=n.duration()+n._rDelay)*n:0},sa=function(n,e){var t=Math.floor(n/=e);return n&&t===n?t-1:t},Th=function(n,e){return(n-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Oh=function(n){return n._end=tn(n._start+(n._tDur/Math.abs(n._ts||n._rts||et)||0))},L0=function(n,e){var t=n._dp;return t&&t.smoothChildTiming&&n._ts&&(n._start=tn(t._time-(n._ts>0?e/n._ts:((n._dirty?n.totalDuration():n._tDur)-e)/-n._ts)),Oh(n),t._dirty||Io(t,n)),n},G2=function(n,e){var t;if((e._time||e._initted&&!e._dur)&&(t=Th(n.rawTime(),e),(!e._dur||Ll(0,e.totalDuration(),t)-e._tTime>et)&&e.render(t,!0)),Io(n,e)._dp&&n._initted&&n._time>=n._dur&&n._ts){if(n._dur<n.duration())for(t=n;t._dp;)t.rawTime()>=0&&t.totalTime(t._tTime),t=t._dp;n._zTime=-et}},Gi=function(n,e,t,s){return e.parent&&ms(e),e._start=tn((fs(t)?t:t||n!==pt?oi(n,t,e):n._time)+e._delay),e._end=tn(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),z2(n,e,"_first","_last",n._sort?"_start":0),B0(e)||(n._recent=e),s||G2(n,e),n},H2=function(n,e){return(Vn.ScrollTrigger||O0("scrollTrigger",e))&&Vn.ScrollTrigger.create(e,n)},U2=function(n,e,t,s){return Y0(n,e),n._initted?!t&&n._pt&&(n._dur&&!1!==n.vars.lazy||!n._dur&&n.vars.lazy)&&A2!==jn.frame?(Gs.push(n),n._lazy=[e,s],1):void 0:1},kV=function i(n){var e=n.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||i(e))},B0=function(n){var e=n.data;return"isFromStart"===e||"isStart"===e},oa=function(n,e,t,s){var o=n._repeat,r=tn(e)||0,a=n._tTime/n._tDur;return a&&!s&&(n._time*=r/n._dur),n._dur=r,n._tDur=o?o<0?1e10:tn(r*(o+1)+n._rDelay*o):r,a>0&&!s?L0(n,n._tTime=n._tDur*a):n.parent&&Oh(n),t||Io(n.parent,n),n},$2=function(n){return n instanceof xn?Io(n):oa(n,n._dur)},PV={_start:0,endTime:Rl,totalDuration:Rl},oi=function i(n,e,t){var a,l,u,s=n.labels,o=n._recent||PV,r=n.duration()>=ii?o.endTime(!1):n._dur;return jt(e)&&(isNaN(e)||e in s)?(l=e.charAt(0),u="%"===e.substr(-1),a=e.indexOf("="),"<"===l||">"===l?(a>=0&&(e=e.replace(/=/,"")),("<"===l?o._start:o.endTime(o._repeat>=0))+(parseFloat(e.substr(1))||0)*(u?(a<0?o:t).totalDuration()/100:1)):a<0?(e in s||(s[e]=r),s[e]):(l=parseFloat(e.charAt(a-1)+e.substr(a+1)),u&&t&&(l=l/100*(en(t)?t[0]:t).totalDuration()),a>1?i(n,e.substr(0,a-1),t)+l:r+l)):null==e?r:+e},Nl=function(n,e,t){var a,l,s=fs(e[1]),o=(s?2:1)+(n<2?0:1),r=e[o];if(s&&(r.duration=e[1]),r.parent=t,n){for(a=r,l=t;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=wn(l.vars.inherit)&&l.parent;r.immediateRender=wn(a.immediateRender),n<2?r.runBackwards=1:r.startAt=e[o-1]}return new Ht(e[0],r,e[o+1])},Hs=function(n,e){return n||0===n?e(n):e},Ll=function(n,e,t){return t<n?n:t>e?e:t},nn=function(n,e){return jt(n)&&(e=_V.exec(n))?e[1]:""},V0=[].slice,Y2=function(n,e){return n&&gs(n)&&"length"in n&&(!e&&!n.length||n.length-1 in n&&gs(n[0]))&&!n.nodeType&&n!==ji},ri=function(n,e,t){return!jt(n)||t||!E0&&aa()?en(n)?function(n,e,t){return void 0===t&&(t=[]),n.forEach(function(s){var o;return jt(s)&&!e||Y2(s,1)?(o=t).push.apply(o,ri(s)):t.push(s)})||t}(n,t):Y2(n)?V0.call(n,0):n?[n]:[]:V0.call((e||T0).querySelectorAll(n),0)},W2=function(n){return n.sort(function(){return.5-Math.random()})},q2=function(n){if(Gt(n))return n;var e=gs(n)?n:{each:n},t=Ao(e.ease),s=e.from||0,o=parseFloat(e.base)||0,r={},a=s>0&&s<1,l=isNaN(s)||a,u=e.axis,h=s,f=s;return jt(s)?h=f={center:.5,edges:.5,end:1}[s]||0:!a&&l&&(h=s[0],f=s[1]),function(m,v,k){var E,S,I,R,F,L,V,$,G,w=(k||e).length,x=r[w];if(!x){if(!(G="auto"===e.grid?0:(e.grid||[1,ii])[1])){for(V=-ii;V<(V=k[G++].getBoundingClientRect().left)&&G<w;);G--}for(x=r[w]=[],E=l?Math.min(G,w)*h-.5:s%G,S=G===ii?0:l?w*f/G-.5:s/G|0,V=0,$=ii,L=0;L<w;L++)I=L%G-E,R=S-(L/G|0),x[L]=F=u?Math.abs("y"===u?R:I):x2(I*I+R*R),F>V&&(V=F),F<$&&($=F);"random"===s&&W2(x),x.max=V-$,x.min=$,x.v=w=(parseFloat(e.amount)||parseFloat(e.each)*(G>w?w-1:u?"y"===u?w/G:G:Math.max(G,w/G))||0)*("edges"===s?-1:1),x.b=w<0?o-w:o,x.u=nn(e.amount||e.each)||0,t=t&&w<0?sk(t):t}return w=(x[m]-x.min)/x.max||0,tn(x.b+(t?t(w):w)*x.v)+x.u}},z0=function(n){var e=Math.pow(10,((n+"").split(".")[1]||"").length);return function(t){var s=Math.round(parseFloat(t)/n)*n*e;return(s-s%1)/e+(fs(t)?0:nn(t))}},Z2=function(n,e){var s,o,t=en(n);return!t&&gs(n)&&(s=t=n.radius||ii,n.values?(n=ri(n.values),(o=!fs(n[0]))&&(s*=s)):n=z0(n.increment)),Hs(e,t?Gt(n)?function(r){return o=n(r),Math.abs(o-r)<=s?o:r}:function(r){for(var m,v,a=parseFloat(o?r.x:r),l=parseFloat(o?r.y:0),u=ii,h=0,f=n.length;f--;)(m=o?(m=n[f].x-a)*m+(v=n[f].y-l)*v:Math.abs(n[f]-a))<u&&(u=m,h=f);return h=!s||u<=s?n[h]:r,o||h===r||fs(r)?h:h+nn(r)}:z0(n))},X2=function(n,e,t,s){return Hs(en(n)?!e:!0===t?!!(t=0):!s,function(){return en(n)?n[~~(Math.random()*n.length)]:(t=t||1e-5)&&(s=t<1?Math.pow(10,(t+"").length-2):1)&&Math.floor(Math.round((n-t/2+Math.random()*(e-n+.99*t))/t)*t*s)/s})},Q2=function(n,e,t){return Hs(t,function(s){return n[~~e(s)]})},Bl=function(n){for(var s,o,r,a,e=0,t="";~(s=n.indexOf("random(",e));)r=n.indexOf(")",s),a="["===n.charAt(s+7),o=n.substr(s+7,r-s-7).match(a?E2:S0),t+=n.substr(e,s-e)+X2(a?o:+o[0],a?0:+o[1],+o[2]||1e-5),e=r+1;return t+n.substr(e,n.length-e)},K2=function(n,e,t,s,o){var r=e-n,a=s-t;return Hs(o,function(l){return t+((l-n)/r*a||0)})},J2=function(n,e,t){var r,a,l,s=n.labels,o=ii;for(r in s)(a=s[r]-e)<0==!!t&&a&&o>(a=Math.abs(a))&&(l=r,o=a);return l},ai=function(n,e,t){var r,a,s=n.vars,o=s[e];if(o)return r=s[e+"Params"],a=s.callbackScope||n,t&&Gs.length&&Sh(),r?o.apply(a,r):o.call(a)},Vl=function(n){return ms(n),n.scrollTrigger&&n.scrollTrigger.kill(!1),n.progress()<1&&ai(n,"onInterrupt"),n},NV=function(n){var e=(n=!n.name&&n.default||n).name,t=Gt(n),s=e&&!t&&n.init?function(){this._props=[]}:n,o={init:Rl,render:Z0,add:U0,kill:KV,modifier:QV,rawVars:0},r={targetTest:0,get:0,getSetter:q0,aliases:{},register:0};if(aa(),n!==s){if(zn[e])return;si(s,si(Mh(n,o),r)),Oo(s.prototype,Oo(o,Mh(n,r))),zn[s.prop=e]=s,n.targetTest&&(Ph.push(s),I0[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}I2(e,s),n.register&&n.register(xi,s,Dn)},tt=255,zl={aqua:[0,tt,tt],lime:[0,tt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,tt],navy:[0,0,128],white:[tt,tt,tt],olive:[128,128,0],yellow:[tt,tt,0],orange:[tt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[tt,0,0],pink:[tt,192,203],cyan:[0,tt,tt],transparent:[tt,tt,tt,0]},j0=function(n,e,t){return(6*(n+=n<0?1:n>1?-1:0)<1?e+(t-e)*n*6:n<.5?t:3*n<2?e+(t-e)*(2/3-n)*6:e)*tt+.5|0},ek=function(n,e,t){var o,r,a,l,u,h,f,m,v,k,s=n?fs(n)?[n>>16,n>>8&tt,n&tt]:0:zl.black;if(!s){if(","===n.substr(-1)&&(n=n.substr(0,n.length-1)),zl[n])s=zl[n];else if("#"===n.charAt(0)){if(n.length<6&&(o=n.charAt(1),r=n.charAt(2),a=n.charAt(3),n="#"+o+o+r+r+a+a+(5===n.length?n.charAt(4)+n.charAt(4):"")),9===n.length)return[(s=parseInt(n.substr(1,6),16))>>16,s>>8&tt,s&tt,parseInt(n.substr(7),16)/255];s=[(n=parseInt(n.substr(1),16))>>16,n>>8&tt,n&tt]}else if("hsl"===n.substr(0,3))if(s=k=n.match(S0),e){if(~n.indexOf("="))return s=n.match(S2),t&&s.length<4&&(s[3]=1),s}else l=+s[0]%360/360,u=+s[1]/100,o=2*(h=+s[2]/100)-(r=h<=.5?h*(u+1):h+u-h*u),s.length>3&&(s[3]*=1),s[0]=j0(l+1/3,o,r),s[1]=j0(l,o,r),s[2]=j0(l-1/3,o,r);else s=n.match(S0)||zl.transparent;s=s.map(Number)}return e&&!k&&(o=s[0]/tt,r=s[1]/tt,a=s[2]/tt,h=((f=Math.max(o,r,a))+(m=Math.min(o,r,a)))/2,f===m?l=u=0:(v=f-m,u=h>.5?v/(2-f-m):v/(f+m),l=f===o?(r-a)/v+(r<a?6:0):f===r?(a-o)/v+2:(o-r)/v+4,l*=60),s[0]=~~(l+.5),s[1]=~~(100*u+.5),s[2]=~~(100*h+.5)),t&&s.length<4&&(s[3]=1),s},tk=function(n){var e=[],t=[],s=-1;return n.split(Us).forEach(function(o){var r=o.match(na)||[];e.push.apply(e,r),t.push(s+=r.length+1)}),e.c=t,e},nk=function(n,e,t){var l,u,h,f,s="",o=(n+s).match(Us),r=e?"hsla(":"rgba(",a=0;if(!o)return n;if(o=o.map(function(m){return(m=ek(m,e,1))&&r+(e?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),t&&(h=tk(n),(l=t.c).join(s)!==h.c.join(s)))for(f=(u=n.replace(Us,"1").split(na)).length-1;a<f;a++)s+=u[a]+(~l.indexOf(a)?o.shift()||r+"0,0,0,0)":(h.length?h:o.length?o:t).shift());if(!u)for(f=(u=n.split(Us)).length-1;a<f;a++)s+=u[a]+o[a];return s+u[f]},Us=function(){var n,i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(n in zl)i+="|"+n+"\\b";return new RegExp(i+")","gi")}(),LV=/hsl[a]?\(/,ik=function(n){var t,e=n.join(" ");if(Us.lastIndex=0,Us.test(e))return t=LV.test(e),n[1]=nk(n[1],t),n[0]=nk(n[0],t,tk(n[1])),!0},jn=(i=Date.now,n=500,e=33,t=i(),s=t,r=o=1e3/240,k=function w(x){var I,R,F,L,E=i()-s,S=!0===x;if(E>n&&(t+=E-e),((I=(F=(s+=E)-t)-r)>0||S)&&(L=++f.frame,m=F-1e3*f.time,f.time=F/=1e3,r+=I+(I>=o?4:o-I),R=1),S||(l=u(w)),R)for(v=0;v<a.length;v++)a[v](F,m,L,x)},f={time:0,frame:0,tick:function(){k(!0)},deltaRatio:function(x){return m/(1e3/(x||60))},wake:function(){T2&&(!E0&&D2()&&(ji=E0=window,T0=ji.document||{},Vn.gsap=xi,(ji.gsapVersions||(ji.gsapVersions=[])).push(xi.version),O2(xh||ji.GreenSockGlobals||!ji.gsap&&ji||{}),h=ji.requestAnimationFrame),l&&f.sleep(),u=h||function(x){return setTimeout(x,r-1e3*f.time+1|0)},jl=1,k(2))},sleep:function(){(h?ji.cancelAnimationFrame:clearTimeout)(l),jl=0,u=Rl},lagSmoothing:function(x,E){n=x||1/et,e=Math.min(E,n,0)},fps:function(x){r=1e3*f.time+(o=1e3/(x||240))},add:function(x,E,S){var I=E?function(R,F,L,V){x(R,F,L,V),f.remove(I)}:x;return f.remove(x),a[S?"unshift":"push"](I),aa(),I},remove:function(x,E){~(E=a.indexOf(x))&&a.splice(E,1)&&v>=E&&v--},_listeners:a=[]}),aa=function(){return!jl&&jn.wake()},Se={},BV=/^[\d.\-M][\d.\-,\s]/,VV=/["']/g,zV=function(n){for(var a,l,u,e={},t=n.substr(1,n.length-3).split(":"),s=t[0],o=1,r=t.length;o<r;o++)l=t[o],a=o!==r-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),e[s]=isNaN(u)?u.replace(VV,"").trim():+u,s=l.substr(a+1).trim();return e},sk=function(n){return function(e){return 1-n(1-e)}},ok=function i(n,e){for(var s,t=n._first;t;)t instanceof xn?i(t,e):t.vars.yoyoEase&&(!t._yoyo||!t._repeat)&&t._yoyo!==e&&(t.timeline?i(t.timeline,e):(s=t._ease,t._ease=t._yEase,t._yEase=s,t._yoyo=e)),t=t._next},Ao=function(n,e){return n&&(Gt(n)?n:Se[n]||function(n){var e=(n+"").split("("),t=Se[e[0]];return t&&e.length>1&&t.config?t.config.apply(null,~n.indexOf("{")?[zV(e[1])]:function(n){var e=n.indexOf("(")+1,t=n.indexOf(")"),s=n.indexOf("(",e);return n.substring(e,~s&&s<t?n.indexOf(")",t+1):t)}(n).split(",").map(L2)):Se._CE&&BV.test(n)?Se._CE("",n):t}(n))||e},Ro=function(n,e,t,s){void 0===t&&(t=function(l){return 1-e(1-l)}),void 0===s&&(s=function(l){return l<.5?e(2*l)/2:1-e(2*(1-l))/2});var r,o={easeIn:e,easeOut:t,easeInOut:s};return kn(n,function(a){for(var l in Se[a]=Vn[a]=o,Se[r=a.toLowerCase()]=t,o)Se[r+("easeIn"===l?".in":"easeOut"===l?".out":".inOut")]=Se[a+"."+l]=o[l]}),o},rk=function(n){return function(e){return e<.5?(1-n(1-2*e))/2:.5+n(2*(e-.5))/2}},G0=function i(n,e,t){var s=e>=1?e:1,o=(t||(n?.3:.45))/(e<1?e:1),r=o/D0*(Math.asin(1/s)||0),a=function(h){return 1===h?1:s*Math.pow(2,-10*h)*mV((h-r)*o)+1},l="out"===n?a:"in"===n?function(u){return 1-a(1-u)}:rk(a);return o=D0/o,l.config=function(u,h){return i(n,u,h)},l},H0=function i(n,e){void 0===e&&(e=1.70158);var t=function(r){return r?--r*r*((e+1)*r+e)+1:0},s="out"===n?t:"in"===n?function(o){return 1-t(1-o)}:rk(t);return s.config=function(o){return i(n,o)},s};kn("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,n){var e=n<5?n+1:n;Ro(i+",Power"+(e-1),n?function(t){return Math.pow(t,e)}:function(t){return t},function(t){return 1-Math.pow(1-t,e)},function(t){return t<.5?Math.pow(2*t,e)/2:1-Math.pow(2*(1-t),e)/2})}),Se.Linear.easeNone=Se.none=Se.Linear.easeIn,Ro("Elastic",G0("in"),G0("out"),G0()),function(i,n){var o=function(a){return a<.36363636363636365?i*a*a:a<.7272727272727273?i*Math.pow(a-1.5/n,2)+.75:a<.9090909090909092?i*(a-=2.25/n)*a+.9375:i*Math.pow(a-2.625/n,2)+.984375};Ro("Bounce",function(r){return 1-o(1-r)},o)}(7.5625,2.75),Ro("Expo",function(i){return i?Math.pow(2,10*(i-1)):0}),Ro("Circ",function(i){return-(x2(1-i*i)-1)}),Ro("Sine",function(i){return 1===i?1:1-gV(i*pV)}),Ro("Back",H0("in"),H0("out"),H0()),Se.SteppedEase=Se.steps=Vn.SteppedEase={config:function(n,e){void 0===n&&(n=1);var t=1/n,s=n+(e?0:1),o=e?1:0;return function(a){return((s*Ll(0,.99999999,a)|0)+o)*t}}},ta.ease=Se["quad.out"],kn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return F0+=i+","+i+"Params,"});var ak=function(n,e){this.id=fV++,n._gsap=this,this.target=n,this.harness=e,this.get=e?e.get:F2,this.set=e?e.getSetter:q0},Gl=function(){function i(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,oa(this,+e.duration,1,1),this.data=e.data,jl||jn.wake()}var n=i.prototype;return n.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},n.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},n.totalDuration=function(t){return arguments.length?(this._dirty=0,oa(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},n.totalTime=function(t,s){if(aa(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(L0(this,t),!o._dp||o.parent||G2(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Gi(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===et||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),N2(this,t,s)),this},n.time=function(t,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+j2(this))%(this._dur+this._rDelay)||(t?this._dur:0),s):this._time},n.totalProgress=function(t,s){return arguments.length?this.totalTime(this.totalDuration()*t,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},n.progress=function(t,s){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+j2(this),s):this.duration()?Math.min(1,this._time/this._dur):this.ratio},n.iteration=function(t,s){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*o,s):this._repeat?sa(this._tTime,o)+1:1},n.timeScale=function(t){if(!arguments.length)return this._rts===-et?0:this._rts;if(this._rts===t)return this;var s=this.parent&&this._ts?Th(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-et?0:this._rts,this.totalTime(Ll(-this._delay,this._tDur,s),!0),Oh(this),bV(this)},n.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(aa(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==et&&(this._tTime-=et)))),this):this._ps},n.startTime=function(t){if(arguments.length){this._start=t;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Gi(s,this,t-this._delay),this}return this._start},n.endTime=function(t){return this._start+(wn(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},n.rawTime=function(t){var s=this.parent||this._dp;return s?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Th(s.rawTime(t),this):this._tTime:this._tTime},n.globalTime=function(t){for(var s=this,o=arguments.length?t:s.rawTime();s;)o=s._start+o/(s._ts||1),s=s._dp;return o},n.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,$2(this)):-2===this._repeat?1/0:this._repeat},n.repeatDelay=function(t){if(arguments.length){var s=this._time;return this._rDelay=t,$2(this),s?this.time(s):this}return this._rDelay},n.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},n.seek=function(t,s){return this.totalTime(oi(this,t),wn(s))},n.restart=function(t,s){return this.play().totalTime(t?-this._delay:0,wn(s))},n.play=function(t,s){return null!=t&&this.seek(t,s),this.reversed(!1).paused(!1)},n.reverse=function(t,s){return null!=t&&this.seek(t||this.totalDuration(),s),this.reversed(!0).paused(!1)},n.pause=function(t,s){return null!=t&&this.seek(t,s),this.paused(!0)},n.resume=function(){return this.paused(!1)},n.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-et:0)),this):this._rts<0},n.invalidate=function(){return this._initted=this._act=0,this._zTime=-et,this},n.isActive=function(){var o,t=this.parent||this._dp,s=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(o=t.rawTime(!0))>=s&&o<this.endTime(!0)-et))},n.eventCallback=function(t,s,o){var r=this.vars;return arguments.length>1?(s?(r[t]=s,o&&(r[t+"Params"]=o),"onUpdate"===t&&(this._onUpdate=s)):delete r[t],this):r[t]},n.then=function(t){var s=this;return new Promise(function(o){var r=Gt(t)?t:B2,a=function(){var u=s.then;s.then=null,Gt(r)&&(r=r(s))&&(r.then||r===s)&&(s.then=u),o(r),s.then=u};s._initted&&1===s.totalProgress()&&s._ts>=0||!s._tTime&&s._ts<0?a():s._prom=a})},n.kill=function(){Vl(this)},i}();si(Gl.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-et,_prom:0,_ps:!1,_rts:1});var xn=function(i){function n(t,s){var o;return void 0===t&&(t={}),(o=i.call(this,t)||this).labels={},o.smoothChildTiming=!!t.smoothChildTiming,o.autoRemoveChildren=!!t.autoRemoveChildren,o._sort=wn(t.sortChildren),pt&&Gi(t.parent||pt,ps(o),s),t.reversed&&o.reverse(),t.paused&&o.paused(!0),t.scrollTrigger&&H2(ps(o),t.scrollTrigger),o}k2(n,i);var e=n.prototype;return e.to=function(s,o,r){return Nl(0,arguments,this),this},e.from=function(s,o,r){return Nl(1,arguments,this),this},e.fromTo=function(s,o,r,a){return Nl(2,arguments,this),this},e.set=function(s,o,r){return o.duration=0,o.parent=this,Fl(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new Ht(s,o,oi(this,r),1),this},e.call=function(s,o,r){return Gi(this,Ht.delayedCall(0,s,o),r)},e.staggerTo=function(s,o,r,a,l,u,h){return r.duration=o,r.stagger=r.stagger||a,r.onComplete=u,r.onCompleteParams=h,r.parent=this,new Ht(s,r,oi(this,l)),this},e.staggerFrom=function(s,o,r,a,l,u,h){return r.runBackwards=1,Fl(r).immediateRender=wn(r.immediateRender),this.staggerTo(s,o,r,a,l,u,h)},e.staggerFromTo=function(s,o,r,a,l,u,h,f){return a.startAt=r,Fl(a).immediateRender=wn(a.immediateRender),this.staggerTo(s,o,a,l,u,h,f)},e.render=function(s,o,r){var m,v,k,w,x,E,S,I,R,F,L,V,a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,h=s<=0?0:tn(s),f=this._zTime<0!=s<0&&(this._initted||!u);if(this!==pt&&h>l&&s>=0&&(h=l),h!==this._tTime||r||f){if(a!==this._time&&u&&(h+=this._time-a,s+=this._time-a),m=h,R=this._start,E=!(I=this._ts),f&&(u||(a=this._zTime),(s||!o)&&(this._zTime=s)),this._repeat){if(L=this._yoyo,x=u+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(100*x+s,o,r);if(m=tn(h%x),h===l?(w=this._repeat,m=u):((w=~~(h/x))&&w===h/x&&(m=u,w--),m>u&&(m=u)),F=sa(this._tTime,x),!a&&this._tTime&&F!==w&&(F=w),L&&1&w&&(m=u-m,V=1),w!==F&&!this._lock){var $=L&&1&F,G=$===(L&&1&w);if(w<F&&($=!$),a=$?0:u,this._lock=1,this.render(a||(V?0:tn(w*x)),o,!u)._lock=0,this._tTime=h,!o&&this.parent&&ai(this,"onRepeat"),this.vars.repeatRefresh&&!V&&(this.invalidate()._lock=1),a&&a!==this._time||E!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,G&&(this._lock=2,this.render(a=$?u:-1e-4,!0),this.vars.repeatRefresh&&!V&&this.invalidate()),this._lock=0,!this._ts&&!E)return this;ok(this,V)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(S=function(n,e,t){var s;if(t>e)for(s=n._first;s&&s._start<=t;){if("isPause"===s.data&&s._start>e)return s;s=s._next}else for(s=n._last;s&&s._start>=t;){if("isPause"===s.data&&s._start<e)return s;s=s._prev}}(this,tn(a),tn(m)),S&&(h-=m-(m=S._start))),this._tTime=h,this._time=m,this._act=!I,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,a=0),!a&&m&&!o&&(ai(this,"onStart"),this._tTime!==h))return this;if(m>=a&&s>=0)for(v=this._first;v;){if(k=v._next,(v._act||m>=v._start)&&v._ts&&S!==v){if(v.parent!==this)return this.render(s,o,r);if(v.render(v._ts>0?(m-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(m-v._start)*v._ts,o,r),m!==this._time||!this._ts&&!E){S=0,k&&(h+=this._zTime=-et);break}}v=k}else{v=this._last;for(var ue=s<0?s:m;v;){if(k=v._prev,(v._act||ue<=v._end)&&v._ts&&S!==v){if(v.parent!==this)return this.render(s,o,r);if(v.render(v._ts>0?(ue-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(ue-v._start)*v._ts,o,r),m!==this._time||!this._ts&&!E){S=0,k&&(h+=this._zTime=ue?-et:et);break}}v=k}}if(S&&!o&&(this.pause(),S.render(m>=a?0:-et)._zTime=m>=a?1:-1,this._ts))return this._start=R,Oh(this),this.render(s,o,r);this._onUpdate&&!o&&ai(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&a)&&(R===this._start||Math.abs(I)!==Math.abs(this._ts))&&(this._lock||((s||!u)&&(h===l&&this._ts>0||!h&&this._ts<0)&&ms(this,1),!o&&(!(s<0)||a)&&(h||a||!l)&&(ai(this,h===l&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(s,o){var r=this;if(fs(o)||(o=oi(this,o,s)),!(s instanceof Gl)){if(en(s))return s.forEach(function(a){return r.add(a,o)}),this;if(jt(s))return this.addLabel(s,o);if(!Gt(s))return this;s=Ht.delayedCall(0,s)}return this!==s?Gi(this,s,o):this},e.getChildren=function(s,o,r,a){void 0===s&&(s=!0),void 0===o&&(o=!0),void 0===r&&(r=!0),void 0===a&&(a=-ii);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof Ht?o&&l.push(u):(r&&l.push(u),s&&l.push.apply(l,u.getChildren(!0,o,r)))),u=u._next;return l},e.getById=function(s){for(var o=this.getChildren(1,1,1),r=o.length;r--;)if(o[r].vars.id===s)return o[r]},e.remove=function(s){return jt(s)?this.removeLabel(s):Gt(s)?this.killTweensOf(s):(Eh(this,s),s===this._recent&&(this._recent=this._last),Io(this))},e.totalTime=function(s,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=tn(jn.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),i.prototype.totalTime.call(this,s,o),this._forcing=0,this):this._tTime},e.addLabel=function(s,o){return this.labels[s]=oi(this,o),this},e.removeLabel=function(s){return delete this.labels[s],this},e.addPause=function(s,o,r){var a=Ht.delayedCall(0,o||Rl,r);return a.data="isPause",this._hasPause=1,Gi(this,a,oi(this,s))},e.removePause=function(s){var o=this._first;for(s=oi(this,s);o;)o._start===s&&"isPause"===o.data&&ms(o),o=o._next},e.killTweensOf=function(s,o,r){for(var a=this.getTweensOf(s,r),l=a.length;l--;)$s!==a[l]&&a[l].kill(s,o);return this},e.getTweensOf=function(s,o){for(var h,r=[],a=ri(s),l=this._first,u=fs(o);l;)l instanceof Ht?vV(l._targets,a)&&(u?(!$s||l._initted&&l._ts)&&l.globalTime(0)<=o&&l.globalTime(l.totalDuration())>o:!o||l.isActive())&&r.push(l):(h=l.getTweensOf(a,o)).length&&r.push.apply(r,h),l=l._next;return r},e.tweenTo=function(s,o){o=o||{};var v,r=this,a=oi(r,s),u=o.startAt,h=o.onStart,f=o.onStartParams,m=o.immediateRender,k=Ht.to(r,si({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:o.duration||Math.abs((a-(u&&"time"in u?u.time:r._time))/r.timeScale())||et,onStart:function(){if(r.pause(),!v){var x=o.duration||Math.abs((a-(u&&"time"in u?u.time:r._time))/r.timeScale());k._dur!==x&&oa(k,x,0,1).render(k._time,!0,!0),v=1}h&&h.apply(k,f||[])}},o));return m?k.render(0):k},e.tweenFromTo=function(s,o,r){return this.tweenTo(o,si({startAt:{time:oi(this,s)}},r))},e.recent=function(){return this._recent},e.nextLabel=function(s){return void 0===s&&(s=this._time),J2(this,oi(this,s))},e.previousLabel=function(s){return void 0===s&&(s=this._time),J2(this,oi(this,s),1)},e.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+et)},e.shiftChildren=function(s,o,r){void 0===r&&(r=0);for(var u,a=this._first,l=this.labels;a;)a._start>=r&&(a._start+=s,a._end+=s),a=a._next;if(o)for(u in l)l[u]>=r&&(l[u]+=s);return Io(this)},e.invalidate=function(){var s=this._first;for(this._lock=0;s;)s.invalidate(),s=s._next;return i.prototype.invalidate.call(this)},e.clear=function(s){void 0===s&&(s=!0);for(var r,o=this._first;o;)r=o._next,this.remove(o),o=r;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Io(this)},e.totalDuration=function(s){var u,h,f,o=0,r=this,a=r._last,l=ii;if(arguments.length)return r.timeScale((r._repeat<0?r.duration():r.totalDuration())/(r.reversed()?-s:s));if(r._dirty){for(f=r.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),(h=a._start)>l&&r._sort&&a._ts&&!r._lock?(r._lock=1,Gi(r,a,h-a._delay,1)._lock=0):l=h,h<0&&a._ts&&(o-=h,(!f&&!r._dp||f&&f.smoothChildTiming)&&(r._start+=h/r._ts,r._time-=h,r._tTime-=h),r.shiftChildren(-h,!1,-1/0),l=0),a._end>o&&a._ts&&(o=a._end),a=u;oa(r,r===pt&&r._time>o?r._time:o,1,1),r._dirty=0}return r._tDur},n.updateRoot=function(s){if(pt._ts&&(N2(pt,Th(s,pt)),A2=jn.frame),jn.frame>=R2){R2+=Bn.autoSleep||120;var o=pt._first;if((!o||!o._ts)&&Bn.autoSleep&&jn._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||jn.sleep()}}},n}(Gl);si(xn.prototype,{_lock:0,_hasPause:0,_forcing:0});var $s,$0,HV=function(n,e,t,s,o,r,a){var f,m,v,k,w,x,E,S,l=new Dn(this._pt,n,e,0,1,pk,null,o),u=0,h=0;for(l.b=t,l.e=s,t+="",(E=~(s+="").indexOf("random("))&&(s=Bl(s)),r&&(r(S=[t,s],n,e),t=S[0],s=S[1]),m=t.match(M0)||[];f=M0.exec(s);)k=f[0],w=s.substring(u,f.index),v?v=(v+1)%5:"rgba("===w.substr(-5)&&(v=1),k!==m[h++]&&(x=parseFloat(m[h-1])||0,l._pt={_next:l._pt,p:w||1===h?w:",",s:x,c:"="===k.charAt(1)?ia(x,k)-x:parseFloat(k)-x,m:v&&v<4?Math.round:0},u=M0.lastIndex);return l.c=u<s.length?s.substring(u,s.length):"",l.fp=a,(M2.test(s)||E)&&(l.e=0),this._pt=l,l},U0=function(n,e,t,s,o,r,a,l,u){Gt(s)&&(s=s(o||0,n,r));var v,h=n[e],f="get"!==t?t:Gt(h)?u?n[e.indexOf("set")||!Gt(n["get"+e.substr(3)])?e:"get"+e.substr(3)](u):n[e]():h,m=Gt(h)?u?qV:hk:W0;if(jt(s)&&(~s.indexOf("random(")&&(s=Bl(s)),"="===s.charAt(1)&&((v=ia(f,s)+(nn(f)||0))||0===v)&&(s=v)),f!==s||$0)return isNaN(f*s)||""===s?(!h&&!(e in n)&&O0(e,s),HV.call(this,n,e,f,s,m,l||Bn.stringFilter,u)):(v=new Dn(this._pt,n,e,+f||0,s-(f||0),"boolean"==typeof h?XV:dk,0,m),u&&(v.fp=u),a&&v.modifier(a,this,n),this._pt=v)},lk=function(n,e,t,s,o,r){var a,l,u,h;if(zn[n]&&!1!==(a=new zn[n]).init(o,a.rawVars?e[n]:function(n,e,t,s,o){if(Gt(n)&&(n=Hl(n,o,e,t,s)),!gs(n)||n.style&&n.nodeType||en(n)||P2(n))return jt(n)?Hl(n,o,e,t,s):n;var a,r={};for(a in n)r[a]=Hl(n[a],o,e,t,s);return r}(e[n],s,o,r,t),t,s,r)&&(t._pt=l=new Dn(t._pt,o,n,0,1,a.render,a,0,a.priority),t!==ra))for(u=t._ptLookup[t._targets.indexOf(o)],h=a._props.length;h--;)u[a._props[h]]=l;return a},Y0=function i(n,e){var L,V,$,G,ue,ze,$e,Ne,Ge,nt,j,ee,oe,t=n.vars,s=t.ease,o=t.startAt,r=t.immediateRender,a=t.lazy,l=t.onUpdate,u=t.onUpdateParams,h=t.callbackScope,f=t.runBackwards,m=t.yoyoEase,v=t.keyframes,k=t.autoRevert,w=n._dur,x=n._startAt,E=n._targets,S=n.parent,I=S&&"nested"===S.data?S.parent._targets:E,R="auto"===n._overwrite&&!x0,F=n.timeline;if(F&&(!v||!s)&&(s="none"),n._ease=Ao(s,ta.ease),n._yEase=m?sk(Ao(!0===m?s:m,ta.ease)):0,m&&n._yoyo&&!n._repeat&&(m=n._yEase,n._yEase=n._ease,n._ease=m),n._from=!F&&!!t.runBackwards,!F||v&&!t.stagger){if(ee=(Ne=E[0]?To(E[0]).harness:0)&&t[Ne.prop],L=Mh(t,I0),x&&(ms(x.render(-1,!0)),x._lazy=0),o)if(ms(n._startAt=Ht.set(E,si({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:wn(a),startAt:null,delay:0,onUpdate:l,onUpdateParams:u,callbackScope:h,stagger:0},o))),e<0&&!r&&!k&&n._startAt.render(-1,!0),r){if(e>0&&!k&&(n._startAt=0),w&&e<=0)return void(e&&(n._zTime=e))}else!1===k&&(n._startAt=0);else if(f&&w)if(x)!k&&(n._startAt=0);else if(e&&(r=!1),$=si({overwrite:!1,data:"isFromStart",lazy:r&&wn(a),immediateRender:r,stagger:0,parent:S},L),ee&&($[Ne.prop]=ee),ms(n._startAt=Ht.set(E,$)),e<0&&n._startAt.render(-1,!0),n._zTime=e,r){if(!e)return}else i(n._startAt,et);for(n._pt=n._ptCache=0,a=w&&wn(a)||a&&!w,V=0;V<E.length;V++){if($e=(ue=E[V])._gsap||N0(E)[V]._gsap,n._ptLookup[V]=nt={},A0[$e.id]&&Gs.length&&Sh(),j=I===E?V:I.indexOf(ue),Ne&&!1!==(Ge=new Ne).init(ue,ee||L,n,j,I)&&(n._pt=G=new Dn(n._pt,ue,Ge.name,0,1,Ge.render,Ge,0,Ge.priority),Ge._props.forEach(function(be){nt[be]=G}),Ge.priority&&(ze=1)),!Ne||ee)for($ in L)zn[$]&&(Ge=lk($,L,n,j,ue,I))?Ge.priority&&(ze=1):nt[$]=G=U0.call(n,ue,$,"get",L[$],j,I,0,t.stringFilter);n._op&&n._op[V]&&n.kill(ue,n._op[V]),R&&n._pt&&($s=n,pt.killTweensOf(ue,nt,n.globalTime(e)),oe=!n.parent,$s=0),n._pt&&a&&(A0[$e.id]=1)}ze&&fk(n),n._onInit&&n._onInit(n)}n._onUpdate=l,n._initted=(!n._op||n._pt)&&!oe,v&&e<=0&&F.render(ii,!0,!0)},WV=function(n,e,t,s){var r,a,o=e.ease||s||"power1.inOut";if(en(e))a=t[n]||(t[n]=[]),e.forEach(function(l,u){return a.push({t:u/(e.length-1)*100,v:l,e:o})});else for(r in e)a=t[r]||(t[r]=[]),"ease"===r||a.push({t:parseFloat(n),v:e[r],e:o})},Hl=function(n,e,t,s,o){return Gt(n)?n.call(e,t,s,o):jt(n)&&~n.indexOf("random(")?Bl(n):n},uk=F0+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",ck={};kn(uk+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return ck[i]=1});var Ht=function(i){function n(t,s,o,r){var a;"number"==typeof s&&(o.duration=s,s=o,o=null);var R,F,L,V,$,G,ue,ze,l=(a=i.call(this,r?s:Fl(s))||this).vars,u=l.duration,h=l.delay,f=l.immediateRender,m=l.stagger,v=l.overwrite,k=l.keyframes,w=l.defaults,x=l.scrollTrigger,E=l.yoyoEase,S=s.parent||pt,I=(en(t)||P2(t)?fs(t[0]):"length"in s)?[t]:ri(t);if(a._targets=I.length?N0(I):Dh("GSAP target "+t+" not found. https://greensock.com",!Bn.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=v,k||m||kh(u)||kh(h)){if(s=a.vars,(R=a.timeline=new xn({data:"nested",defaults:w||{}})).kill(),R.parent=R._dp=ps(a),R._start=0,m||kh(u)||kh(h)){if(V=I.length,ue=m&&q2(m),gs(m))for($ in m)~uk.indexOf($)&&(ze||(ze={}),ze[$]=m[$]);for(F=0;F<V;F++)(L=Mh(s,ck)).stagger=0,E&&(L.yoyoEase=E),ze&&Oo(L,ze),G=I[F],L.duration=+Hl(u,ps(a),F,G,I),L.delay=(+Hl(h,ps(a),F,G,I)||0)-a._delay,!m&&1===V&&L.delay&&(a._delay=h=L.delay,a._start+=h,L.delay=0),R.to(G,L,ue?ue(F,G,I):0),R._ease=Se.none;R.duration()?u=h=0:a.timeline=0}else if(k){Fl(si(R.vars.defaults,{ease:"none"})),R._ease=Ao(k.ease||s.ease||"none");var Ne,Ge,nt,$e=0;if(en(k))k.forEach(function(j){return R.to(I,j,">")});else{for($ in L={},k)"ease"===$||"easeEach"===$||WV($,k[$],L,k.easeEach);for($ in L)for(Ne=L[$].sort(function(j,ee){return j.t-ee.t}),$e=0,F=0;F<Ne.length;F++)(nt={ease:(Ge=Ne[F]).e,duration:(Ge.t-(F?Ne[F-1].t:0))/100*u})[$]=Ge.v,R.to(I,nt,$e),$e+=nt.duration;R.duration()<u&&R.to({},{duration:u-R.duration()})}}u||a.duration(u=R.duration())}else a.timeline=0;return!0===v&&!x0&&($s=ps(a),pt.killTweensOf(I),$s=0),Gi(S,ps(a),o),s.reversed&&a.reverse(),s.paused&&a.paused(!0),(f||!u&&!k&&a._start===tn(S._time)&&wn(f)&&wV(ps(a))&&"nested"!==S.data)&&(a._tTime=-et,a.render(Math.max(0,-h))),x&&H2(ps(a),x),a}k2(n,i);var e=n.prototype;return e.render=function(s,o,r){var f,m,v,k,w,x,E,S,I,a=this._time,l=this._tDur,u=this._dur,h=s>l-et&&s>=0?l:s<et?0:s;if(u){if(h!==this._tTime||!s||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=s<0){if(f=h,S=this.timeline,this._repeat){if(k=u+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(100*k+s,o,r);if(f=tn(h%k),h===l?(v=this._repeat,f=u):((v=~~(h/k))&&v===h/k&&(f=u,v--),f>u&&(f=u)),(x=this._yoyo&&1&v)&&(I=this._yEase,f=u-f),w=sa(this._tTime,k),f===a&&!r&&this._initted)return this._tTime=h,this;v!==w&&(S&&this._yEase&&ok(S,x),this.vars.repeatRefresh&&!x&&!this._lock&&(this._lock=r=1,this.render(tn(k*v),!0).invalidate()._lock=0))}if(!this._initted){if(U2(this,s<0?s:f,r,o))return this._tTime=0,this;if(a!==this._time)return this;if(u!==this._dur)return this.render(s,o,r)}if(this._tTime=h,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(I||this._ease)(f/u),this._from&&(this.ratio=E=1-E),f&&!a&&!o&&(ai(this,"onStart"),this._tTime!==h))return this;for(m=this._pt;m;)m.r(E,m.d),m=m._next;S&&S.render(s<0?s:!f&&x?-et:S._dur*S._ease(f/this._dur),o,r)||this._startAt&&(this._zTime=s),this._onUpdate&&!o&&(s<0&&this._startAt&&this._startAt.render(s,!0,r),ai(this,"onUpdate")),this._repeat&&v!==w&&this.vars.onRepeat&&!o&&this.parent&&ai(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(s<0&&this._startAt&&!this._onUpdate&&this._startAt.render(s,!0,!0),(s||!u)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&ms(this,1),!o&&(!(s<0)||a)&&(h||a)&&(ai(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}}else!function(n,e,t,s){var u,h,f,o=n.ratio,r=e<0||!e&&(!n._start&&kV(n)&&(n._initted||!B0(n))||(n._ts<0||n._dp._ts<0)&&!B0(n))?0:1,a=n._rDelay,l=0;if(a&&n._repeat&&(l=Ll(0,n._tDur,e),h=sa(l,a),n._yoyo&&1&h&&(r=1-r),h!==sa(n._tTime,a)&&(o=1-r,n.vars.repeatRefresh&&n._initted&&n.invalidate())),r!==o||s||n._zTime===et||!e&&n._zTime){if(!n._initted&&U2(n,e,s,t))return;for(f=n._zTime,n._zTime=e||(t?et:0),t||(t=e&&!f),n.ratio=r,n._from&&(r=1-r),n._time=0,n._tTime=l,u=n._pt;u;)u.r(r,u.d),u=u._next;n._startAt&&e<0&&n._startAt.render(e,!0,!0),n._onUpdate&&!t&&ai(n,"onUpdate"),l&&n._repeat&&!t&&n.parent&&ai(n,"onRepeat"),(e>=n._tDur||e<0)&&n.ratio===r&&(r&&ms(n,1),t||(ai(n,r?"onComplete":"onReverseComplete",!0),n._prom&&n._prom()))}else n._zTime||(n._zTime=e)}(this,s,o,r);return this},e.targets=function(){return this._targets},e.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),i.prototype.invalidate.call(this)},e.resetTo=function(s,o,r,a){jl||jn.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Y0(this,l),function(n,e,t,s,o,r,a){var u,h,f,l=(n._pt&&n._ptCache||(n._ptCache={}))[e];if(!l)for(l=n._ptCache[e]=[],h=n._ptLookup,f=n._targets.length;f--;){if((u=h[f][e])&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==e;)u=u._next;if(!u)return $0=1,n.vars[e]="+=0",Y0(n,a),$0=0,1;l.push(u)}for(f=l.length;f--;)(u=l[f]).s=!s&&0!==s||o?u.s+(s||0)+r*u.c:s,u.c=t-u.s,u.e&&(u.e=Ct(t)+nn(u.e)),u.b&&(u.b=u.s+nn(u.b))}(this,s,o,r,a,this._ease(l/this._dur),l)?this.resetTo(s,o,r,a):(L0(this,0),this.parent||z2(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(s,o){if(void 0===o&&(o="all"),!(s||o&&"all"!==o))return this._lazy=this._pt=0,this.parent?Vl(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(s,o,$s&&!0!==$s.vars.overwrite)._first||Vl(this),this.parent&&r!==this.timeline.totalDuration()&&oa(this,this._dur*this.timeline._tDur/r,0,1),this}var f,m,v,k,w,x,E,a=this._targets,l=s?ri(s):a,u=this._ptLookup,h=this._pt;if((!o||"all"===o)&&function(n,e){for(var t=n.length,s=t===e.length;s&&t--&&n[t]===e[t];);return t<0}(a,l))return"all"===o&&(this._pt=0),Vl(this);for(f=this._op=this._op||[],"all"!==o&&(jt(o)&&(w={},kn(o,function(S){return w[S]=1}),o=w),o=function(n,e){var o,r,a,l,t=n[0]?To(n[0]).harness:0,s=t&&t.aliases;if(!s)return e;for(r in o=Oo({},e),s)if(r in o)for(a=(l=s[r].split(",")).length;a--;)o[l[a]]=o[r];return o}(a,o)),E=a.length;E--;)if(~l.indexOf(a[E]))for(w in m=u[E],"all"===o?(f[E]=o,k=m,v={}):(v=f[E]=f[E]||{},k=o),k)(x=m&&m[w])&&((!("kill"in x.d)||!0===x.d.kill(w))&&Eh(this,x,"_pt"),delete m[w]),"all"!==v&&(v[w]=1);return this._initted&&!this._pt&&h&&Vl(this),this},n.to=function(s,o){return new n(s,o,arguments[2])},n.from=function(s,o){return Nl(1,arguments)},n.delayedCall=function(s,o,r,a){return new n(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:o,onReverseComplete:o,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:a})},n.fromTo=function(s,o,r){return Nl(2,arguments)},n.set=function(s,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new n(s,o)},n.killTweensOf=function(s,o,r){return pt.killTweensOf(s,o,r)},n}(Gl);si(Ht.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),kn("staggerTo,staggerFrom,staggerFromTo",function(i){Ht[i]=function(){var n=new xn,e=V0.call(arguments,0);return e.splice("staggerFromTo"===i?5:4,0,0),n[i].apply(n,e)}});var W0=function(n,e,t){return n[e]=t},hk=function(n,e,t){return n[e](t)},qV=function(n,e,t,s){return n[e](s.fp,t)},ZV=function(n,e,t){return n.setAttribute(e,t)},q0=function(n,e){return Gt(n[e])?hk:P0(n[e])&&n.setAttribute?ZV:W0},dk=function(n,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*n))/1e6,e)},XV=function(n,e){return e.set(e.t,e.p,!!(e.s+e.c*n),e)},pk=function(n,e){var t=e._pt,s="";if(!n&&e.b)s=e.b;else if(1===n&&e.e)s=e.e;else{for(;t;)s=t.p+(t.m?t.m(t.s+t.c*n):Math.round(1e4*(t.s+t.c*n))/1e4)+s,t=t._next;s+=e.c}e.set(e.t,e.p,s,e)},Z0=function(n,e){for(var t=e._pt;t;)t.r(n,t.d),t=t._next},QV=function(n,e,t,s){for(var r,o=this._pt;o;)r=o._next,o.p===s&&o.modifier(n,e,t),o=r},KV=function(n){for(var t,s,e=this._pt;e;)s=e._next,e.p===n&&!e.op||e.op===n?Eh(this,e,"_pt"):e.dep||(t=1),e=s;return!t},JV=function(n,e,t,s){s.mSet(n,e,s.m.call(s.tween,t,s.mt),s)},fk=function(n){for(var t,s,o,r,e=n._pt;e;){for(t=e._next,s=o;s&&s.pr>e.pr;)s=s._next;(e._prev=s?s._prev:r)?e._prev._next=e:o=e,(e._next=s)?s._prev=e:r=e,e=t}n._pt=o},Dn=function(){function i(e,t,s,o,r,a,l,u,h){this.t=t,this.s=o,this.c=r,this.p=s,this.r=a||dk,this.d=l||this,this.set=u||W0,this.pr=h||0,this._next=e,e&&(e._prev=this)}return i.prototype.modifier=function(t,s,o){this.mSet=this.mSet||this.set,this.set=JV,this.m=t,this.mt=o,this.tween=s},i}();kn(F0+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return I0[i]=1}),Vn.TweenMax=Vn.TweenLite=Ht,Vn.TimelineLite=Vn.TimelineMax=xn,pt=new xn({sortChildren:!1,defaults:ta,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Bn.stringFilter=ik;var Ih={registerPlugin:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e.forEach(function(s){return NV(s)})},timeline:function(n){return new xn(n)},getTweensOf:function(n,e){return pt.getTweensOf(n,e)},getProperty:function(n,e,t,s){jt(n)&&(n=ri(n)[0]);var o=To(n||{}).get,r=t?B2:L2;return"native"===t&&(t=""),n&&(e?r((zn[e]&&zn[e].get||o)(n,e,t,s)):function(a,l,u){return r((zn[a]&&zn[a].get||o)(n,a,l,u))})},quickSetter:function(n,e,t){if((n=ri(n)).length>1){var s=n.map(function(h){return xi.quickSetter(h,e,t)}),o=s.length;return function(h){for(var f=o;f--;)s[f](h)}}var r=zn[e],a=To(n=n[0]||{}),l=a.harness&&(a.harness.aliases||{})[e]||e,u=r?function(h){var f=new r;ra._pt=0,f.init(n,t?h+t:h,ra,0,[n]),f.render(1,f),ra._pt&&Z0(1,ra)}:a.set(n,l);return r?u:function(h){return u(n,l,t?h+t:h,a,1)}},quickTo:function(n,e,t){var s,o=xi.to(n,Oo(((s={})[e]="+=0.1",s.paused=!0,s),t||{})),r=function(l,u,h){return o.resetTo(e,l,u,h)};return r.tween=o,r},isTweening:function(n){return pt.getTweensOf(n,!0).length>0},defaults:function(n){return n&&n.ease&&(n.ease=Ao(n.ease,ta.ease)),V2(ta,n||{})},config:function(n){return V2(Bn,n||{})},registerEffect:function(n){var e=n.name,t=n.effect,o=n.defaults,r=n.extendTimeline;(n.plugins||"").split(",").forEach(function(a){return a&&!zn[a]&&!Vn[a]&&Dh(e+" effect requires "+a+" plugin.")}),R0[e]=function(a,l,u){return t(ri(a),si(l||{},o),u)},r&&(xn.prototype[e]=function(a,l,u){return this.add(R0[e](a,gs(l)?l:(u=l)&&{},this),u)})},registerEase:function(n,e){Se[n]=Ao(e)},parseEase:function(n,e){return arguments.length?Ao(n,e):Se},getById:function(n){return pt.getById(n)},exportRoot:function(n,e){void 0===n&&(n={});var s,o,t=new xn(n);for(t.smoothChildTiming=wn(n.smoothChildTiming),pt.remove(t),t._dp=0,t._time=t._tTime=pt._time,s=pt._first;s;)o=s._next,(e||!(!s._dur&&s instanceof Ht&&s.vars.onComplete===s._targets[0]))&&Gi(t,s,s._start-s._delay),s=o;return Gi(pt,t,0),t},utils:{wrap:function i(n,e,t){var s=e-n;return en(n)?Q2(n,i(0,n.length),e):Hs(t,function(o){return(s+(o-n)%s)%s+n})},wrapYoyo:function i(n,e,t){var s=e-n,o=2*s;return en(n)?Q2(n,i(0,n.length-1),e):Hs(t,function(r){return n+((r=(o+(r-n)%o)%o||0)>s?o-r:r)})},distribute:q2,random:X2,snap:Z2,normalize:function(n,e,t){return K2(n,e,0,1,t)},getUnit:nn,clamp:function(n,e,t){return Hs(t,function(s){return Ll(n,e,s)})},splitColor:ek,toArray:ri,selector:function(n){return n=ri(n)[0]||Dh("Invalid scope")||{},function(e){var t=n.current||n.nativeElement||n;return ri(e,t.querySelectorAll?t:t===n?Dh("Invalid scope")||T0.createElement("div"):n)}},mapRange:K2,pipe:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(s){return e.reduce(function(o,r){return r(o)},s)}},unitize:function(n,e){return function(t){return n(parseFloat(t))+(e||nn(t))}},interpolate:function i(n,e,t,s){var o=isNaN(n+e)?0:function(v){return(1-v)*n+v*e};if(!o){var l,u,h,f,m,r=jt(n),a={};if(!0===t&&(s=1)&&(t=null),r)n={p:n},e={p:e};else if(en(n)&&!en(e)){for(h=[],m=(f=n.length)-2,u=1;u<f;u++)h.push(i(n[u-1],n[u]));f--,o=function(k){k*=f;var w=Math.min(m,~~k);return h[w](k-w)},t=e}else s||(n=Oo(en(n)?[]:{},n));if(!h){for(l in e)U0.call(a,n,l,"get",e[l]);o=function(k){return Z0(k,a)||(r?n.p:n)}}}return Hs(t,o)},shuffle:W2},install:O2,effects:R0,ticker:jn,updateRoot:xn.updateRoot,plugins:zn,globalTimeline:pt,core:{PropTween:Dn,globals:I2,Tween:Ht,Timeline:xn,Animation:Gl,getCache:To,_removeLinkedListItem:Eh,suppressOverwrites:function(n){return x0=n}}};kn("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return Ih[i]=Ht[i]}),jn.add(xn.updateRoot),ra=Ih.to({},{duration:0});var ez=function(n,e){for(var t=n._pt;t&&t.p!==e&&t.op!==e&&t.fp!==e;)t=t._next;return t},X0=function(n,e){return{name:n,rawVars:1,init:function(s,o,r){r._onInit=function(a){var l,u;if(jt(o)&&(l={},kn(o,function(h){return l[h]=1}),o=l),e){for(u in l={},o)l[u]=e(o[u]);o=l}!function(n,e){var s,o,r,t=n._targets;for(s in e)for(o=t.length;o--;)(r=n._ptLookup[o][s])&&(r=r.d)&&(r._pt&&(r=ez(r,s)),r&&r.modifier&&r.modifier(e[s],n,t[o],s))}(a,o)}}}},xi=Ih.registerPlugin({name:"attr",init:function(n,e,t,s,o){var r,a;for(r in e)(a=this.add(n,"setAttribute",(n.getAttribute(r)||0)+"",e[r],s,o,0,0,r))&&(a.op=r),this._props.push(r)}},{name:"endArray",init:function(n,e){for(var t=e.length;t--;)this.add(n,t,n[t]||0,e[t])}},X0("roundProps",z0),X0("modifiers"),X0("snap",Z2))||Ih;Ht.version=xn.version=xi.version="3.10.4",T2=1,D2()&&aa();var gk,Ys,la,Q0,Fo,mk,wk,Ws={},No=180/Math.PI,ua=Math.PI/180,ca=Math.atan2,_k=1e8,vk=/([A-Z])/g,sz=/(left|right|width|margin|padding|x)/i,oz=/[\s,\(]\S/,qs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},yk=function(n,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*n))/1e4+e.u,e)},rz=function(n,e){return e.set(e.t,e.p,1===n?e.e:Math.round(1e4*(e.s+e.c*n))/1e4+e.u,e)},az=function(n,e){return e.set(e.t,e.p,n?Math.round(1e4*(e.s+e.c*n))/1e4+e.u:e.b,e)},lz=function(n,e){var t=e.s+e.c*n;e.set(e.t,e.p,~~(t+(t<0?-.5:.5))+e.u,e)},Ck=function(n,e){return e.set(e.t,e.p,n?e.e:e.b,e)},bk=function(n,e){return e.set(e.t,e.p,1!==n?e.b:e.e,e)},uz=function(n,e,t){return n.style[e]=t},cz=function(n,e,t){return n.style.setProperty(e,t)},hz=function(n,e,t){return n._gsap[e]=t},dz=function(n,e,t){return n._gsap.scaleX=n._gsap.scaleY=t},pz=function(n,e,t,s,o){var r=n._gsap;r.scaleX=r.scaleY=t,r.renderTransform(o,r)},fz=function(n,e,t,s,o){var r=n._gsap;r[e]=t,r.renderTransform(o,r)},qt="transform",Zs=qt+"Origin",K0=function(n,e){var t=Ys.createElementNS?Ys.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),n):Ys.createElement(n);return t.style?t:Ys.createElement(n)},_s=function i(n,e,t){var s=getComputedStyle(n);return s[e]||s.getPropertyValue(e.replace(vk,"-$1").toLowerCase())||s.getPropertyValue(e)||!t&&i(n,ha(e)||e,1)||""},kk="O,Moz,ms,Ms,Webkit".split(","),ha=function(n,e,t){var o=(e||Fo).style,r=5;if(n in o&&!t)return n;for(n=n.charAt(0).toUpperCase()+n.substr(1);r--&&!(kk[r]+n in o););return r<0?null:(3===r?"ms":r>=0?kk[r]:"")+n},J0=function(){"undefined"!=typeof window&&window.document&&(gk=window,la=(Ys=gk.document).documentElement,Fo=K0("div")||{style:{}},K0("div"),qt=ha(qt),Zs=qt+"Origin",Fo.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",wk=!!ha("perspective"),Q0=1)},em=function i(n){var r,e=K0("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),t=this.parentNode,s=this.nextSibling,o=this.style.cssText;if(la.appendChild(e),e.appendChild(this),this.style.display="block",n)try{r=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=i}catch(a){}else this._gsapBBox&&(r=this._gsapBBox());return t&&(s?t.insertBefore(this,s):t.appendChild(this)),la.removeChild(e),this.style.cssText=o,r},xk=function(n,e){for(var t=e.length;t--;)if(n.hasAttribute(e[t]))return n.getAttribute(e[t])},Dk=function(n){var e;try{e=n.getBBox()}catch(t){e=em.call(n,!0)}return e&&(e.width||e.height)||n.getBBox===em||(e=em.call(n,!0)),!e||e.width||e.x||e.y?e:{x:+xk(n,["x","cx","x1"])||0,y:+xk(n,["y","cy","y1"])||0,width:0,height:0}},Pk=function(n){return!(!n.getCTM||n.parentNode&&!n.ownerSVGElement||!Dk(n))},Ul=function(n,e){if(e){var t=n.style;e in Ws&&e!==Zs&&(e=qt),t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(vk,"-$1").toLowerCase())):t.removeAttribute(e)}},Xs=function(n,e,t,s,o,r){var a=new Dn(n._pt,e,t,0,1,r?bk:Ck);return n._pt=a,a.b=s,a.e=o,n._props.push(t),a},Sk={deg:1,rad:1,turn:1},Qs=function i(n,e,t,s){var k,w,x,E,o=parseFloat(t)||0,r=(t+"").trim().substr((o+"").length)||"px",a=Fo.style,l=sz.test(e),u="svg"===n.tagName.toLowerCase(),h=(u?"client":"offset")+(l?"Width":"Height"),f=100,m="px"===s,v="%"===s;return s===r||!o||Sk[s]||Sk[r]?o:("px"!==r&&!m&&(o=i(n,e,t,"px")),E=n.getCTM&&Pk(n),!v&&"%"!==r||!Ws[e]&&!~e.indexOf("adius")?(a[l?"width":"height"]=f+(m?r:s),w=~e.indexOf("adius")||"em"===s&&n.appendChild&&!u?n:n.parentNode,E&&(w=(n.ownerSVGElement||{}).parentNode),(!w||w===Ys||!w.appendChild)&&(w=Ys.body),(x=w._gsap)&&v&&x.width&&l&&x.time===jn.time?Ct(o/x.width*f):((v||"%"===r)&&(a.position=_s(n,"position")),w===n&&(a.position="static"),w.appendChild(Fo),k=Fo[h],w.removeChild(Fo),a.position="absolute",l&&v&&((x=To(w)).time=jn.time,x.width=w[h]),Ct(m?k*o/f:k&&o?f/k*o:0))):(k=E?n.getBBox()[l?"width":"height"]:n[h],Ct(v?o/k*f:o/100*k)))},Lo=function(n,e,t,s){var o;return Q0||J0(),e in qs&&"transform"!==e&&~(e=qs[e]).indexOf(",")&&(e=e.split(",")[0]),Ws[e]&&"transform"!==e?(o=Yl(n,s),o="transformOrigin"!==e?o[e]:o.svg?o.origin:Rh(_s(n,Zs))+" "+o.zOrigin+"px"):(!(o=n.style[e])||"auto"===o||s||~(o+"").indexOf("calc("))&&(o=Ah[e]&&Ah[e](n,e,t)||_s(n,e)||F2(n,e)||("opacity"===e?1:0)),t&&!~(o+"").trim().indexOf(" ")?Qs(n,e,o,t)+t:o},gz=function(n,e,t,s){if(!t||"none"===t){var o=ha(e,n,1),r=o&&_s(n,o,1);r&&r!==t?(e=o,t=r):"borderColor"===e&&(t=_s(n,"borderTopColor"))}var h,f,m,v,k,w,x,E,S,I,R,a=new Dn(this._pt,n.style,e,0,1,pk),l=0,u=0;if(a.b=t,a.e=s,t+="","auto"==(s+="")&&(n.style[e]=s,s=_s(n,e)||s,n.style[e]=t),ik(h=[t,s]),s=h[1],m=(t=h[0]).match(na)||[],(s.match(na)||[]).length){for(;f=na.exec(s);)x=f[0],S=s.substring(l,f.index),k?k=(k+1)%5:("rgba("===S.substr(-5)||"hsla("===S.substr(-5))&&(k=1),x!==(w=m[u++]||"")&&(v=parseFloat(w)||0,R=w.substr((v+"").length),"="===x.charAt(1)&&(x=ia(v,x)+R),E=parseFloat(x),I=x.substr((E+"").length),l=na.lastIndex-I.length,I||(I=I||Bn.units[e]||R,l===s.length&&(s+=I,a.e+=I)),R!==I&&(v=Qs(n,e,w,I)||0),a._pt={_next:a._pt,p:S||1===u?S:",",s:v,c:E-v,m:k&&k<4||"zIndex"===e?Math.round:0});a.c=l<s.length?s.substring(l,s.length):""}else a.r="display"===e&&"none"===s?bk:Ck;return M2.test(s)&&(a.e=0),this._pt=a,a},Mk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},mz=function(n){var e=n.split(" "),t=e[0],s=e[1]||"50%";return("top"===t||"bottom"===t||"left"===s||"right"===s)&&(n=t,t=s,s=n),e[0]=Mk[t]||t,e[1]=Mk[s]||s,e.join(" ")},_z=function(n,e){if(e.tween&&e.tween._time===e.tween._dur){var a,l,u,t=e.t,o=e.u,r=t._gsap;if("all"===o||!0===o)t.style.cssText="",l=1;else for(u=(o=o.split(",")).length;--u>-1;)Ws[a=o[u]]&&(l=1,a="transformOrigin"===a?Zs:qt),Ul(t,a);l&&(Ul(t,qt),r&&(r.svg&&t.removeAttribute("transform"),Yl(t,1),r.uncache=1))}},Ah={clearProps:function(n,e,t,s,o){if("isFromStart"!==o.data){var r=n._pt=new Dn(n._pt,e,t,0,0,_z);return r.u=s,r.pr=-10,r.tween=o,n._props.push(t),1}}},$l=[1,0,0,1,0,0],Ek={},Tk=function(n){return"matrix(1, 0, 0, 1, 0, 0)"===n||"none"===n||!n},Ok=function(n){var e=_s(n,qt);return Tk(e)?$l:e.substr(7).match(S2).map(Ct)},tm=function(n,e){var r,a,l,u,t=n._gsap||To(n),s=n.style,o=Ok(n);return t.svg&&n.getAttribute("transform")?"1,0,0,1,0,0"===(o=[(l=n.transform.baseVal.consolidate().matrix).a,l.b,l.c,l.d,l.e,l.f]).join(",")?$l:o:(o===$l&&!n.offsetParent&&n!==la&&!t.svg&&(l=s.display,s.display="block",(!(r=n.parentNode)||!n.offsetParent)&&(u=1,a=n.nextSibling,la.appendChild(n)),o=Ok(n),l?s.display=l:Ul(n,"display"),u&&(a?r.insertBefore(n,a):r?r.appendChild(n):la.removeChild(n))),e&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},nm=function(n,e,t,s,o,r){var L,V,G,a=n._gsap,l=o||tm(n,!0),u=a.xOrigin||0,h=a.yOrigin||0,f=a.xOffset||0,m=a.yOffset||0,v=l[0],k=l[1],w=l[2],x=l[3],E=l[4],S=l[5],I=e.split(" "),R=parseFloat(I[0])||0,F=parseFloat(I[1])||0;t?l!==$l&&(V=v*x-k*w)&&(G=R*(-k/V)+F*(v/V)-(v*S-k*E)/V,R=R*(x/V)+F*(-w/V)+(w*S-x*E)/V,F=G):(R=(L=Dk(n)).x+(~I[0].indexOf("%")?R/100*L.width:R),F=L.y+(~(I[1]||I[0]).indexOf("%")?F/100*L.height:F)),s||!1!==s&&a.smooth?(a.xOffset=f+((E=R-u)*v+(S=F-h)*w)-E,a.yOffset=m+(E*k+S*x)-S):a.xOffset=a.yOffset=0,a.xOrigin=R,a.yOrigin=F,a.smooth=!!s,a.origin=e,a.originIsAbsolute=!!t,n.style[Zs]="0px 0px",r&&(Xs(r,a,"xOrigin",u,R),Xs(r,a,"yOrigin",h,F),Xs(r,a,"xOffset",f,a.xOffset),Xs(r,a,"yOffset",m,a.yOffset)),n.setAttribute("data-svg-origin",R+" "+F)},Yl=function(n,e){var t=n._gsap||new ak(n);if("x"in t&&!e&&!t.uncache)return t;var u,h,f,m,v,k,w,x,E,S,I,R,F,L,V,$,G,ue,ze,$e,Ne,Ge,nt,j,ee,oe,be,ct,Ut,on,$t,He,s=n.style,o=t.scaleX<0,r="px",a="deg",l=_s(n,Zs)||"0";return u=h=f=k=w=x=E=S=I=0,m=v=1,t.svg=!(!n.getCTM||!Pk(n)),L=tm(n,t.svg),t.svg&&(j=(!t.uncache||"0px 0px"===l)&&!e&&n.getAttribute("data-svg-origin"),nm(n,j||l,!!j||t.originIsAbsolute,!1!==t.smooth,L)),R=t.xOrigin||0,F=t.yOrigin||0,L!==$l&&(ue=L[0],ze=L[1],$e=L[2],Ne=L[3],u=Ge=L[4],h=nt=L[5],6===L.length?(m=Math.sqrt(ue*ue+ze*ze),v=Math.sqrt(Ne*Ne+$e*$e),k=ue||ze?ca(ze,ue)*No:0,(E=$e||Ne?ca($e,Ne)*No+k:0)&&(v*=Math.abs(Math.cos(E*ua))),t.svg&&(u-=R-(R*ue+F*$e),h-=F-(R*ze+F*Ne))):(on=L[7],be=L[8],ct=L[9],$t=L[11],u=L[12],h=L[13],f=L[14],w=(V=ca(He=L[6],Ut=L[10]))*No,V&&(j=Ge*($=Math.cos(-V))+be*(G=Math.sin(-V)),ee=nt*$+ct*G,oe=He*$+Ut*G,be=Ge*-G+be*$,ct=nt*-G+ct*$,Ut=He*-G+Ut*$,$t=on*-G+$t*$,Ge=j,nt=ee,He=oe),x=(V=ca(-$e,Ut))*No,V&&($=Math.cos(-V),$t=Ne*(G=Math.sin(-V))+$t*$,ue=j=ue*$-be*G,ze=ee=ze*$-ct*G,$e=oe=$e*$-Ut*G),k=(V=ca(ze,ue))*No,V&&(j=ue*($=Math.cos(V))+ze*(G=Math.sin(V)),ee=Ge*$+nt*G,ze=ze*$-ue*G,nt=nt*$-Ge*G,ue=j,Ge=ee),w&&Math.abs(w)+Math.abs(k)>359.9&&(w=k=0,x=180-x),m=Ct(Math.sqrt(ue*ue+ze*ze+$e*$e)),v=Ct(Math.sqrt(nt*nt+He*He)),V=ca(Ge,nt),E=Math.abs(V)>2e-4?V*No:0,I=$t?1/($t<0?-$t:$t):0),t.svg&&(j=n.getAttribute("transform"),t.forceCSS=n.setAttribute("transform","")||!Tk(_s(n,qt)),j&&n.setAttribute("transform",j))),Math.abs(E)>90&&Math.abs(E)<270&&(o?(m*=-1,E+=k<=0?180:-180,k+=k<=0?180:-180):(v*=-1,E+=E<=0?180:-180)),e=e||t.uncache,t.x=u-((t.xPercent=u&&(!e&&t.xPercent||(Math.round(n.offsetWidth/2)===Math.round(-u)?-50:0)))?n.offsetWidth*t.xPercent/100:0)+r,t.y=h-((t.yPercent=h&&(!e&&t.yPercent||(Math.round(n.offsetHeight/2)===Math.round(-h)?-50:0)))?n.offsetHeight*t.yPercent/100:0)+r,t.z=f+r,t.scaleX=Ct(m),t.scaleY=Ct(v),t.rotation=Ct(k)+a,t.rotationX=Ct(w)+a,t.rotationY=Ct(x)+a,t.skewX=E+a,t.skewY=S+a,t.transformPerspective=I+r,(t.zOrigin=parseFloat(l.split(" ")[2])||0)&&(s[Zs]=Rh(l)),t.xOffset=t.yOffset=0,t.force3D=Bn.force3D,t.renderTransform=t.svg?yz:wk?Ik:vz,t.uncache=0,t},Rh=function(n){return(n=n.split(" "))[0]+" "+n[1]},im=function(n,e,t){var s=nn(e);return Ct(parseFloat(e)+parseFloat(Qs(n,"x",t+"px",s)))+s},vz=function(n,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Ik(n,e)},Bo="0deg",Wl="0px",Vo=") ",Ik=function(n,e){var t=e||this,s=t.xPercent,o=t.yPercent,r=t.x,a=t.y,l=t.z,u=t.rotation,h=t.rotationY,f=t.rotationX,m=t.skewX,v=t.skewY,k=t.scaleX,w=t.scaleY,x=t.transformPerspective,E=t.force3D,S=t.target,I=t.zOrigin,R="",F="auto"===E&&n&&1!==n||!0===E;if(I&&(f!==Bo||h!==Bo)){var G,L=parseFloat(h)*ua,V=Math.sin(L),$=Math.cos(L);L=parseFloat(f)*ua,G=Math.cos(L),r=im(S,r,V*G*-I),a=im(S,a,-Math.sin(L)*-I),l=im(S,l,$*G*-I+I)}x!==Wl&&(R+="perspective("+x+Vo),(s||o)&&(R+="translate("+s+"%, "+o+"%) "),(F||r!==Wl||a!==Wl||l!==Wl)&&(R+=l!==Wl||F?"translate3d("+r+", "+a+", "+l+") ":"translate("+r+", "+a+Vo),u!==Bo&&(R+="rotate("+u+Vo),h!==Bo&&(R+="rotateY("+h+Vo),f!==Bo&&(R+="rotateX("+f+Vo),(m!==Bo||v!==Bo)&&(R+="skew("+m+", "+v+Vo),(1!==k||1!==w)&&(R+="scale("+k+", "+w+Vo),S.style[qt]=R||"translate(0, 0)"},yz=function(n,e){var F,L,V,$,G,t=e||this,s=t.xPercent,o=t.yPercent,r=t.x,a=t.y,l=t.rotation,u=t.skewX,h=t.skewY,f=t.scaleX,m=t.scaleY,v=t.target,k=t.xOrigin,w=t.yOrigin,x=t.xOffset,E=t.yOffset,S=t.forceCSS,I=parseFloat(r),R=parseFloat(a);l=parseFloat(l),u=parseFloat(u),(h=parseFloat(h))&&(u+=h=parseFloat(h),l+=h),l||u?(l*=ua,u*=ua,F=Math.cos(l)*f,L=Math.sin(l)*f,V=Math.sin(l-u)*-m,$=Math.cos(l-u)*m,u&&(h*=ua,G=Math.tan(u-h),V*=G=Math.sqrt(1+G*G),$*=G,h&&(G=Math.tan(h),F*=G=Math.sqrt(1+G*G),L*=G)),F=Ct(F),L=Ct(L),V=Ct(V),$=Ct($)):(F=f,$=m,L=V=0),(I&&!~(r+"").indexOf("px")||R&&!~(a+"").indexOf("px"))&&(I=Qs(v,"x",r,"px"),R=Qs(v,"y",a,"px")),(k||w||x||E)&&(I=Ct(I+k-(k*F+w*V)+x),R=Ct(R+w-(k*L+w*$)+E)),(s||o)&&(G=v.getBBox(),I=Ct(I+s/100*G.width),R=Ct(R+o/100*G.height)),v.setAttribute("transform",G="matrix("+F+","+L+","+V+","+$+","+I+","+R+")"),S&&(v.style[qt]=G)},Cz=function(n,e,t,s,o){var f,m,r=360,a=jt(o),u=parseFloat(o)*(a&&~o.indexOf("rad")?No:1)-s,h=s+u+"deg";return a&&("short"===(f=o.split("_")[1])&&(u%=r)!=u%180&&(u+=u<0?r:-r),"cw"===f&&u<0?u=(u+r*_k)%r-~~(u/r)*r:"ccw"===f&&u>0&&(u=(u-r*_k)%r-~~(u/r)*r)),n._pt=m=new Dn(n._pt,e,t,s,u,rz),m.e=h,m.u="deg",n._props.push(t),m},Ak=function(n,e){for(var t in e)n[t]=e[t];return n},bz=function(n,e,t){var a,l,u,h,f,m,k,s=Ak({},t._gsap),r=t.style;for(l in s.svg?(u=t.getAttribute("transform"),t.setAttribute("transform",""),r[qt]=e,a=Yl(t,1),Ul(t,qt),t.setAttribute("transform",u)):(u=getComputedStyle(t)[qt],r[qt]=e,a=Yl(t,1),r[qt]=u),Ws)(u=s[l])!==(h=a[l])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(l)<0&&(f=nn(u)!==(k=nn(h))?Qs(t,l,u,k):parseFloat(u),m=parseFloat(h),n._pt=new Dn(n._pt,a,l,f,m-f,yk),n._pt.u=k||0,n._props.push(l));Ak(a,s)};kn("padding,margin,Width,Radius",function(i,n){var e="Top",t="Right",s="Bottom",o="Left",r=(n<3?[e,t,s,o]:[e+o,e+t,s+t,s+o]).map(function(a){return n<2?i+a:"border"+a+i});Ah[n>1?"border"+i:i]=function(a,l,u,h,f){var m,v;if(arguments.length<4)return m=r.map(function(k){return Lo(a,k,u)}),5===(v=m.join(" ")).split(m[0]).length?m[0]:v;m=(h+"").split(" "),v={},r.forEach(function(k,w){return v[k]=m[w]=m[w]||m[(w-1)/2|0]}),a.init(l,v,f)}});var Rk={name:"css",register:J0,targetTest:function(n){return n.style&&n.nodeType},init:function(n,e,t,s,o){var u,h,f,m,v,k,w,x,E,S,I,R,F,L,V,r=this._props,a=n.style,l=t.vars.startAt;for(w in Q0||J0(),e)if("autoRound"!==w&&(h=e[w],!zn[w]||!lk(w,e,t,s,n,o)))if(k=Ah[w],"function"==(v=typeof h)&&(v=typeof(h=h.call(t,s,n,o))),"string"===v&&~h.indexOf("random(")&&(h=Bl(h)),k)k(this,n,w,h,t)&&(V=1);else if("--"===w.substr(0,2))u=(getComputedStyle(n).getPropertyValue(w)+"").trim(),h+="",Us.lastIndex=0,Us.test(u)||(x=nn(u),E=nn(h)),E?x!==E&&(u=Qs(n,w,u,E)+E):x&&(h+=x),this.add(a,"setProperty",u,h,s,o,0,0,w),r.push(w);else if("undefined"!==v){if(l&&w in l?(u="function"==typeof l[w]?l[w].call(t,s,n,o):l[w],jt(u)&&~u.indexOf("random(")&&(u=Bl(u)),nn(u+"")||(u+=Bn.units[w]||nn(Lo(n,w))||""),"="===(u+"").charAt(1)&&(u=Lo(n,w))):u=Lo(n,w),m=parseFloat(u),(S="string"===v&&"="===h.charAt(1)&&h.substr(0,2))&&(h=h.substr(2)),f=parseFloat(h),w in qs&&("autoAlpha"===w&&(1===m&&"hidden"===Lo(n,"visibility")&&f&&(m=0),Xs(this,a,"visibility",m?"inherit":"hidden",f?"inherit":"hidden",!f)),"scale"!==w&&"transform"!==w&&~(w=qs[w]).indexOf(",")&&(w=w.split(",")[0])),I=w in Ws)if(R||((F=n._gsap).renderTransform&&!e.parseTransform||Yl(n,e.parseTransform),L=!1!==e.smoothOrigin&&F.smooth,(R=this._pt=new Dn(this._pt,a,qt,0,1,F.renderTransform,F,0,-1)).dep=1),"scale"===w)this._pt=new Dn(this._pt,F,"scaleY",F.scaleY,(S?ia(F.scaleY,S+f):f)-F.scaleY||0),r.push("scaleY",w),w+="X";else{if("transformOrigin"===w){h=mz(h),F.svg?nm(n,h,0,L,0,this):((E=parseFloat(h.split(" ")[2])||0)!==F.zOrigin&&Xs(this,F,"zOrigin",F.zOrigin,E),Xs(this,a,w,Rh(u),Rh(h)));continue}if("svgOrigin"===w){nm(n,h,1,L,0,this);continue}if(w in Ek){Cz(this,F,w,m,S?ia(m,S+h):h);continue}if("smoothOrigin"===w){Xs(this,F,"smooth",F.smooth,h);continue}if("force3D"===w){F[w]=h;continue}if("transform"===w){bz(this,h,n);continue}}else w in a||(w=ha(w)||w);if(I||(f||0===f)&&(m||0===m)&&!oz.test(h)&&w in a)f||(f=0),(x=(u+"").substr((m+"").length))!==(E=nn(h)||(w in Bn.units?Bn.units[w]:x))&&(m=Qs(n,w,u,E)),this._pt=new Dn(this._pt,I?F:a,w,m,(S?ia(m,S+f):f)-m,I||"px"!==E&&"zIndex"!==w||!1===e.autoRound?yk:lz),this._pt.u=E||0,x!==E&&"%"!==E&&(this._pt.b=u,this._pt.r=az);else if(w in a)gz.call(this,n,w,u,S?S+h:h);else{if(!(w in n)){O0(w,h);continue}this.add(n,w,u||n[w],S?S+h:h,s,o)}r.push(w)}V&&fk(this)},get:Lo,aliases:qs,getSetter:function(n,e,t){var s=qs[e];return s&&s.indexOf(",")<0&&(e=s),e in Ws&&e!==Zs&&(n._gsap.x||Lo(n,"x"))?t&&mk===t?"scale"===e?dz:hz:(mk=t||{})&&("scale"===e?pz:fz):n.style&&!P0(n.style[e])?uz:~e.indexOf("-")?cz:q0(n,e)},core:{_removeProperty:Ul,_getMatrix:tm}};xi.utils.checkPrefix=ha,function(i,n,e,t){var s=kn(i+","+n+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(o){Ws[o]=1});kn(n,function(o){Bn.units[o]="deg",Ek[o]=1}),qs[s[13]]=i+","+n,kn("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(o){var r=o.split(":");qs[r[1]]=s[r[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),kn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){Bn.units[i]="px"}),xi.registerPlugin(Rk);var Fk=xi.registerPlugin(Rk)||xi;const wz=["svg"],kz=["group"];function xz(i,n){1&i&&(fi(),d(0,"svg",2,3),d(2,"g",4,5),_(4,"path",6),p(),p())}function Dz(i,n){1&i&&(fi(),d(0,"svg",7,3),d(2,"g",8,5),_(4,"path",9),p(),p())}let Pz=(()=>{class i{constructor(e,t,s){this.host=e,this.randomColorService=t,this.locationService=s}generatePoints(){this.tl.clear(),this.group.innerHTML="";let e=0;this.paths.forEach(t=>{const s=t.getTotalLength();for(let o=0;o<s;o+=3){const r=Math.random()*s,a=t.getPointAtLength(r),l=document.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("cx",a.x+60*(Math.random()-.5)),l.setAttribute("cy",a.y+60*(Math.random()-.5)),l.setAttribute("stroke","none"),l.setAttribute("r",""+(4*Math.random()+1)),this.group.appendChild(l),this.tl.to(l,{autoRound:!1,fill:this.randomColorService.get(),cx:a.x,cy:a.y,duration:"random(1, 3)",delay:5e-4*(e+r),ease:"power2.out"},0)}e+=s})}ngOnInit(){}ngAfterViewInit(){this.paths=this.svg.nativeElement.querySelectorAll("path"),this.group=this.gr.nativeElement,this.tl=Fk.timeline({}),this.generatePoints()}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(kb),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-empty-giftlist"]],viewQuery:function(e,t){if(1&e&&(ht(wz,5,W),ht(kz,5,W)),2&e){let s;qe(s=Ze())&&(t.svg=s.first),qe(s=Ze())&&(t.gr=s.first)}},decls:2,vars:2,consts:[["width","431.64","height","139.202","viewBox","0 0 431.64 139.202","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","654.001","height","144.002","viewBox","0 0 654.001 144.002","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","431.64","height","139.202","viewBox","0 0 431.64 139.202","xmlns","http://www.w3.org/2000/svg"],["svg",""],["id","svgGroup","stroke-linecap","round","fill-rule","evenodd","font-size","9pt","stroke","#333333","stroke-width","0.2mm","fill","#33333300",2,"stroke","#333333","stroke-width","0.2mm","fill","#33333300"],["group",""],["d","M 107.4 139.202 L 84.8 139.202 Q 84.078 139.202 84.008 138.388 A 2.155 2.155 0 0 1 84 138.202 L 84.4 0.802 Q 84.4 0.167 84.904 0.036 A 1.179 1.179 0 0 1 85.2 0.002 L 109.6 0.002 A 1.538 1.538 0 0 1 110.605 0.38 A 2.472 2.472 0 0 1 111 0.802 L 129.2 27.202 L 147.4 0.802 A 2.472 2.472 0 0 1 147.795 0.38 A 1.538 1.538 0 0 1 148.8 0.002 L 173.4 0.002 Q 174.035 0.002 174.166 0.506 A 1.179 1.179 0 0 1 174.2 0.802 L 174.6 138.202 Q 174.6 139.111 173.938 139.194 A 1.121 1.121 0 0 1 173.8 139.202 L 151.2 139.202 Q 150.478 139.202 150.408 138.388 A 2.155 2.155 0 0 1 150.4 138.202 L 150.2 36.202 L 129.2 66.602 L 108.4 36.202 L 108.2 138.202 Q 108.2 139.111 107.538 139.194 A 1.121 1.121 0 0 1 107.4 139.202 Z M 65.4 139.202 L 0.8 139.202 Q 0.078 139.202 0.008 138.388 A 2.155 2.155 0 0 1 0 138.202 L 0.2 0.802 Q 0.2 0.167 0.704 0.036 A 1.179 1.179 0 0 1 1 0.002 L 65.2 0.002 Q 65.922 0.002 65.992 0.816 A 2.155 2.155 0 0 1 66 1.002 L 66 23.402 Q 66 24.037 65.496 24.168 A 1.179 1.179 0 0 1 65.2 24.202 L 24.2 24.202 L 24.2 55.402 L 65.2 55.402 Q 65.835 55.402 65.966 55.906 A 1.179 1.179 0 0 1 66 56.202 L 66.2 78.802 Q 66.2 79.437 65.696 79.568 A 1.179 1.179 0 0 1 65.4 79.602 L 24.2 79.602 L 24.2 114.602 L 65.4 114.602 Q 66.122 114.602 66.192 115.416 A 2.155 2.155 0 0 1 66.2 115.602 L 66.2 138.402 Q 66.2 139.037 65.696 139.168 A 1.179 1.179 0 0 1 65.4 139.202 Z M 404 139.202 L 381 139.202 A 0.63 0.63 0 0 1 380.724 139.145 Q 380.4 138.989 380.4 138.402 L 380.6 81.602 L 353.8 0.802 Q 353.614 0.058 354.293 0.006 A 1.402 1.402 0 0 1 354.4 0.002 L 376.6 0.002 Q 377.574 0.002 377.789 0.76 A 1.364 1.364 0 0 1 377.8 0.802 L 392.6 54.602 L 407.6 0.802 A 1.313 1.313 0 0 1 407.749 0.433 Q 408.013 0.002 408.6 0.002 L 431 0.002 A 1.16 1.16 0 0 1 431.242 0.025 Q 431.746 0.133 431.612 0.752 A 1.652 1.652 0 0 1 431.6 0.802 L 404.6 80.802 L 404.8 138.402 Q 404.8 139.037 404.296 139.168 A 1.179 1.179 0 0 1 404 139.202 Z M 325 139.202 L 302.4 139.202 Q 301.678 139.202 301.608 138.388 A 2.155 2.155 0 0 1 301.6 138.202 L 301.6 24.202 L 275.6 24.202 Q 274.806 24.202 274.643 23.572 A 1.473 1.473 0 0 1 274.6 23.202 L 274.8 0.802 Q 274.8 0.167 275.304 0.036 A 1.179 1.179 0 0 1 275.6 0.002 L 351.6 0.002 Q 352.51 0.002 352.592 0.664 A 1.121 1.121 0 0 1 352.6 0.802 L 352.6 23.202 Q 352.6 24.111 351.938 24.194 A 1.121 1.121 0 0 1 351.8 24.202 L 325.6 24.202 L 325.8 138.202 Q 325.8 139.111 325.138 139.194 A 1.121 1.121 0 0 1 325 139.202 Z M 214.8 139.202 L 192.4 139.202 Q 191.606 139.202 191.443 138.572 A 1.473 1.473 0 0 1 191.4 138.202 L 191.8 0.802 Q 191.8 0.167 192.304 0.036 A 1.179 1.179 0 0 1 192.6 0.002 L 231 0.002 A 48.763 48.763 0 0 1 243.474 1.512 A 34.788 34.788 0 0 1 260.1 11.202 A 37.378 37.378 0 0 1 269.418 28.835 A 55.641 55.641 0 0 1 270.8 41.602 A 60.613 60.613 0 0 1 269.65 53.69 A 45.241 45.241 0 0 1 265.2 66.202 A 45.21 45.21 0 0 1 258.058 76.141 A 38.468 38.468 0 0 1 250.6 82.202 Q 241.6 87.802 231 87.802 L 215.8 87.802 L 215.8 138.202 Q 215.8 138.995 215.17 139.159 A 1.473 1.473 0 0 1 214.8 139.202 Z M 215.8 24.002 L 215.8 63.602 L 231 63.602 A 12.6 12.6 0 0 0 239.483 60.312 A 19.376 19.376 0 0 0 242.1 57.502 A 21.695 21.695 0 0 0 245.948 49.276 Q 246.693 46.212 246.787 42.635 A 39.66 39.66 0 0 0 246.8 41.602 A 23.722 23.722 0 0 0 246.133 35.831 A 17.291 17.291 0 0 0 242.6 28.802 A 13.724 13.724 0 0 0 233.449 23.95 A 19.672 19.672 0 0 0 231 23.802 L 215.8 24.002 Z","vector-effect","non-scaling-stroke"],["width","654.001","height","144.002","viewBox","0 0 654.001 144.002","xmlns","http://www.w3.org/2000/svg"],["id","svgGroup","stroke-linecap","round","fill-rule","evenodd","font-size","9pt","stroke","#333333","stroke-width","0.25mm","fill","#33333300",2,"stroke","#333333","stroke-width","0.25mm","fill","#33333300"],["d","M 122 2.001 L 122 142.001 L 86 142.001 L 86 30.001 L 36 30.001 L 36 142.001 L 0 142.001 L 0 2.001 L 122 2.001 Z M 388 113.001 L 388 140.001 A 1269.422 1269.422 0 0 1 359.134 142.278 Q 346.214 143.14 334.93 143.57 A 551.294 551.294 0 0 1 314 144.001 A 66.273 66.273 0 0 1 303.538 143.232 Q 298.054 142.354 293.706 140.47 A 27.114 27.114 0 0 1 285.2 134.801 A 28.032 28.032 0 0 1 278.753 124.332 Q 277.161 119.933 276.49 114.493 A 69.439 69.439 0 0 1 276 106.001 L 276 42.001 Q 276 21.001 285.5 11.501 A 28.3 28.3 0 0 1 295.562 5.176 Q 303.859 2.001 316 2.001 L 388 2.001 L 388 30.001 L 324 30.001 Q 314.478 30.001 312.512 37.557 A 17.679 17.679 0 0 0 312 42.001 L 312 106.001 A 12.66 12.66 0 0 0 312.364 109.123 A 8.875 8.875 0 0 0 314.7 113.301 A 9.11 9.11 0 0 0 320.573 115.959 A 12.246 12.246 0 0 0 321.6 116.001 Q 325.8 116.001 330.8 115.901 A 594.385 594.385 0 0 0 338.525 115.695 A 667.047 667.047 0 0 0 341.2 115.601 Q 346.6 115.401 352.1 115.201 Q 357.6 115.001 366.3 114.401 A 1888.095 1888.095 0 0 1 370.919 114.089 Q 378.014 113.617 387.374 113.04 A 5192.703 5192.703 0 0 1 388 113.001 Z M 159 142.001 L 159 115.001 L 177 115.001 Q 182.8 115.001 185 110.401 Q 186 108.401 186 106.101 A 9.033 9.033 0 0 0 185.692 103.703 A 7.666 7.666 0 0 0 185 102.001 L 130 2.001 L 170 2.001 L 206 73.001 L 236 2.001 L 276 2.001 L 225 112.001 A 84.906 84.906 0 0 1 219.607 122.324 Q 214.478 130.604 208.2 135.601 Q 197.4 144.001 179.6 144.001 A 109.031 109.031 0 0 1 162.298 142.577 A 122.955 122.955 0 0 1 159 142.001 Z M 472 30.001 L 472 142.001 L 436 142.001 L 436 30.001 L 394 30.001 L 394 2.001 L 514 2.001 L 514 30.001 L 472 30.001 Z M 654 40.001 L 654 104.001 Q 654 125.001 644.5 134.501 A 28.3 28.3 0 0 1 634.438 140.826 Q 626.141 144.001 614 144.001 L 564 144.001 Q 543 144.001 533.5 134.501 A 28.3 28.3 0 0 1 527.175 124.439 Q 524 116.142 524 104.001 L 524 40.001 Q 524 19.001 533.5 9.501 A 28.3 28.3 0 0 1 543.562 3.176 Q 551.859 0.001 564 0.001 L 614 0.001 Q 635 0.001 644.5 9.501 A 28.3 28.3 0 0 1 650.825 19.564 Q 654 27.861 654 40.001 Z M 618 104.001 L 618 40.001 Q 618 30.479 610.444 28.513 A 17.679 17.679 0 0 0 606 28.001 L 572 28.001 Q 562.478 28.001 560.512 35.557 A 17.679 17.679 0 0 0 560 40.001 L 560 104.001 Q 560 113.523 567.556 115.49 A 17.679 17.679 0 0 0 572 116.001 L 606 116.001 Q 615.522 116.001 617.488 108.445 A 17.679 17.679 0 0 0 618 104.001 Z","vector-effect","non-scaling-stroke"]],template:function(e,t){1&e&&(T(0,xz,5,0,"svg",0),T(1,Dz,5,0,"svg",1)),2&e&&(g("ngIf","us"===t.locationService.location().country.code),c(1),g("ngIf","ru"===t.locationService.location().country.code))},directives:[ot],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{opacity:0}"]}),i})();const Sz=["displayRef"],Mz=["*"];let Ez=(()=>{class i{constructor(){this.close=new U}onClick(e){this.displayRef.nativeElement.contains(e.target)||this.close.emit()}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-dialog"]],viewQuery:function(e,t){if(1&e&&ht(Sz,5),2&e){let s;qe(s=Ze())&&(t.displayRef=s.first)}},hostBindings:function(e,t){1&e&&C("click",function(o){return t.onClick(o)})},outputs:{close:"close"},ngContentSelectors:Mz,decls:5,vars:2,consts:[[1,"background"],[1,"display"],["displayRef",""],[1,"close",3,"click"]],template:function(e,t){1&e&&(vi(),_(0,"div",0),d(1,"div",1,2),d(3,"div",3),C("click",function(){return t.close.emit()}),p(),Zn(4),p()),2&e&&(g("@opacity",void 0),c(1),g("@slideTop",void 0))},styles:["[_nghost-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000}[_nghost-%COMP%] > .background[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;background-color:#0006}[_nghost-%COMP%] > .display[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;width:100%;max-width:600px;max-height:min(100%,800px);background-color:#fff;overflow-y:auto;z-index:1}[_nghost-%COMP%] > .display[_ngcontent-%COMP%] > .close[_ngcontent-%COMP%]{margin:10px;position:fixed;align-self:flex-end;width:30px;height:30px;cursor:pointer;background-image:url(cross.0bf1b6052953de20.svg);background-position:center;background-size:contain;background-repeat:no-repeat;opacity:.7;transition:all ease .2s}[_nghost-%COMP%] > .display[_ngcontent-%COMP%] > .close[_ngcontent-%COMP%]:hover{opacity:1}"],data:{animation:[ut("opacity",[me(":enter",[Y({opacity:0}),le("0.2s ease",Y({opacity:1}))]),me(":leave",[le("0.2s ease",Y({opacity:0}))])]),ut("slideTop",[me(":enter",[Y({opacity:0,transform:"translateY(-40px)"}),le("0.2s ease",Y({opacity:1,transform:"translateY(0px)"}))]),me(":leave",[le("0.2s ease",Y({opacity:0,transform:"translateY(-40px)"}))])])]}}),i})();const Tz=[["#ffffff",[.5286993634259258,.487574462890625],[.519810474537037,.487574462890625],[.5542635543258102,.5119378080822172],[.568044750072338,.5241193208240328],[.5783806694878473,.5241193208240328],[.585271312572338,.5363008335658482],[.5887165889033564,.548482666015625],[.5956072319878473,.572845691499256],[.5990525083188657,.5850275239490328],[.6024978298611111,.5972090366908482],[.6024978298611111,.6093905494326637],[.6059431061921297,.6337538946242559],[.609388427734375,.6459354073660715],[.609388427734375,.6581172398158482],[.609388427734375,.6702987525576637],[.609388427734375,.6824802652994791],[.609388427734375,.7068436104910715],[.609388427734375,.7190251232328869],[.609388427734375,.7433884684244791],[.609388427734375,.7677518136160715],[.6059431061921297,.7799333263578869],[.6024978298611111,.8042966715494791],[.5956072319878473,.8164781842912947],[.5887165889033564,.8408415294828869],[.5818259910300926,.8530230422247024],[.5749353931568287,.8773863874162946],[.5645994737413195,.8895679001581102],[.5508182327835648,.9017494128999256],[.5439276349103009,.913930925641741],[.5335917154947917,.9261127580915178],[.5301463939525463,.9261127580915178],[.5267011176215278,.9261127580915178],[.5232557960792824,.9261127580915178],[.5163651982060186,.9261127580915178],[.5129198766637731,.913930925641741],[.5094745551215277,.913930925641741],[.5060292787905093,.8895679001581102],[.5025839572482639,.8895679001581102],[.5025839572482639,.8773863874162946],[.5025839572482639,.8652045549665178],[.5025839572482639,.8530230422247024],[.5025839572482639,.8408415294828869],[.5060292787905093,.8286596970331102],[.5129198766637731,.8042966715494791],[.5267011176215278,.7799333263578869],[.5370370370370371,.7555699811662947],[.5542635543258102,.7312069556826637],[.5714900716145833,.7068436104910715],[.5921619104456018,.6946620977492559],[.6128337492766204,.6581172398158482],[.6335055881076389,.6337538946242559],[.6472867838541667,.6093905494326637],[.6645133463541667,.5850275239490328]],["#ffffff",[.6492850748697916,.6581172398158482],[.6403961859809028,.6581172398158482],[.6679586226851851,.5972090366908482],[.6714039442274305,.5972090366908482],[.6782945421006944,.5972090366908482],[.6782945421006944,.6093905494326637],[.6782945421006944,.6215723818824405],[.6782945421006944,.6702987525576637],[.6817398636429398,.6946620977492559],[.6817398636429398,.7068436104910715],[.6817398636429398,.7190251232328869],[.6817398636429398,.7312069556826637],[.6851851399739584,.7433884684244791],[.6920757830584491,.7433884684244791],[.7024117024739583,.7433884684244791],[.7058570240162036,.7312069556826637],[.7127475766782407,.7312069556826637],[.7196382197627315,.7190251232328869],[.72308349609375,.7068436104910715],[.7265288628472222,.6946620977492559],[.7299741391782407,.6824802652994791],[.7334194155092593,.6824802652994791],[.7368647822627314,.6824802652994791],[.74031005859375,.6702987525576637],[.7437553349247685,.6702987525576637],[.7472007016782407,.6581172398158482],[.7506459780092593,.6581172398158482],[.7540912543402778,.6581172398158482],[.75753662109375,.6581172398158482],[.7609818974247685,.6702987525576637],[.7609818974247685,.6824802652994791],[.7609818974247685,.6946620977492559],[.7644271737557871,.7068436104910715],[.7644271737557871,.7190251232328869],[.7678724500868056,.7190251232328869],[.7713178168402778,.7190251232328869],[.7747630931712963,.7068436104910715],[.7782083695023149,.7068436104910715],[.781653736255787,.7068436104910715]],["#ffffff",[.8491127748842592,.4266665794735863],[.8402238859953703,.4266665794735863],[.8229974139178241,.5363008335658482],[.8161067708333334,.572845691499256],[.8057708514178241,.6337538946242559],[.7919896556712963,.6946620977492559],[.7850990125868056,.7433884684244791],[.7747630931712963,.8042966715494791],[.7678724500868056,.8408415294828869],[.7644271737557871,.8652045549665178],[.7644271737557871,.8895679001581102],[.7644271737557871,.9017494128999256],[.7609818974247685,.913930925641741]],["#ffffff",[.8284409360532407,.4388480922154018],[.8195520471643518,.4388480922154018],[.8367786096643518,.572845691499256],[.8436692527488426,.6215723818824405],[.8540051721643519,.6946620977492559],[.8608957248263889,.7555699811662947],[.8712316442418981,.8042966715494791],[.8781222873263889,.8530230422247024],[.8815675636574074,.8895679001581102],[.8850129304108796,.913930925641741],[.8884582067418981,.938294270833333]],["#ffffff",[.6665115921585648,.8652045549665178],[.657622703269676,.8652045549665178],[.6886304615162037,.8286596970331102],[.6989663809317129,.8164781842912947],[.7093023003472222,.8042966715494791],[.7161929434317129,.7921148390997024],[.72308349609375,.7921148390997024],[.7265288628472222,.7921148390997024],[.7299741391782407,.7921148390997024],[.7368647822627314,.7921148390997024],[.7472007016782407,.7921148390997024],[.75753662109375,.7921148390997024],[.7678724500868056,.7921148390997024],[.7919896556712963,.7921148390997024],[.8092161277488426,.7677518136160715],[.8298879665798611,.7555699811662947],[.8540051721643519,.7068436104910715],[.8746770109953703,.6702987525576637],[.8953487594039352,.645935407366071]]],Oz=[["#000000",[.5286993634259258,.487574462890625],[.519810474537037,.487574462890625],[.5542635543258102,.5119378080822172],[.568044750072338,.5241193208240328],[.5783806694878473,.5241193208240328],[.585271312572338,.5363008335658482],[.5887165889033564,.548482666015625],[.5956072319878473,.572845691499256],[.5990525083188657,.5850275239490328],[.6024978298611111,.5972090366908482],[.6024978298611111,.6093905494326637],[.6059431061921297,.6337538946242559],[.609388427734375,.6459354073660715],[.609388427734375,.6581172398158482],[.609388427734375,.6702987525576637],[.609388427734375,.6824802652994791],[.609388427734375,.7068436104910715],[.609388427734375,.7190251232328869],[.609388427734375,.7433884684244791],[.609388427734375,.7677518136160715],[.6059431061921297,.7799333263578869],[.6024978298611111,.8042966715494791],[.5956072319878473,.8164781842912947],[.5887165889033564,.8408415294828869],[.5818259910300926,.8530230422247024],[.5749353931568287,.8773863874162946],[.5645994737413195,.8895679001581102],[.5508182327835648,.9017494128999256],[.5439276349103009,.913930925641741],[.5335917154947917,.9261127580915178],[.5301463939525463,.9261127580915178],[.5267011176215278,.9261127580915178],[.5232557960792824,.9261127580915178],[.5163651982060186,.9261127580915178],[.5129198766637731,.913930925641741],[.5094745551215277,.913930925641741],[.5060292787905093,.8895679001581102],[.5025839572482639,.8895679001581102],[.5025839572482639,.8773863874162946],[.5025839572482639,.8652045549665178],[.5025839572482639,.8530230422247024],[.5025839572482639,.8408415294828869],[.5060292787905093,.8286596970331102],[.5129198766637731,.8042966715494791],[.5267011176215278,.7799333263578869],[.5370370370370371,.7555699811662947],[.5542635543258102,.7312069556826637],[.5714900716145833,.7068436104910715],[.5921619104456018,.6946620977492559],[.6128337492766204,.6581172398158482],[.6335055881076389,.6337538946242559],[.6472867838541667,.6093905494326637],[.6645133463541667,.5850275239490328]],["#000000",[.6492850748697916,.6581172398158482],[.6403961859809028,.6581172398158482],[.6679586226851851,.5972090366908482],[.6714039442274305,.5972090366908482],[.6782945421006944,.5972090366908482],[.6782945421006944,.6093905494326637],[.6782945421006944,.6215723818824405],[.6782945421006944,.6702987525576637],[.6817398636429398,.6946620977492559],[.6817398636429398,.7068436104910715],[.6817398636429398,.7190251232328869],[.6817398636429398,.7312069556826637],[.6851851399739584,.7433884684244791],[.6920757830584491,.7433884684244791],[.7024117024739583,.7433884684244791],[.7058570240162036,.7312069556826637],[.7127475766782407,.7312069556826637],[.7196382197627315,.7190251232328869],[.72308349609375,.7068436104910715],[.7265288628472222,.6946620977492559],[.7299741391782407,.6824802652994791],[.7334194155092593,.6824802652994791],[.7368647822627314,.6824802652994791],[.74031005859375,.6702987525576637],[.7437553349247685,.6702987525576637],[.7472007016782407,.6581172398158482],[.7506459780092593,.6581172398158482],[.7540912543402778,.6581172398158482],[.75753662109375,.6581172398158482],[.7609818974247685,.6702987525576637],[.7609818974247685,.6824802652994791],[.7609818974247685,.6946620977492559],[.7644271737557871,.7068436104910715],[.7644271737557871,.7190251232328869],[.7678724500868056,.7190251232328869],[.7713178168402778,.7190251232328869],[.7747630931712963,.7068436104910715],[.7782083695023149,.7068436104910715],[.781653736255787,.7068436104910715]],["#000000",[.8491127748842592,.4266665794735863],[.8402238859953703,.4266665794735863],[.8229974139178241,.5363008335658482],[.8161067708333334,.572845691499256],[.8057708514178241,.6337538946242559],[.7919896556712963,.6946620977492559],[.7850990125868056,.7433884684244791],[.7747630931712963,.8042966715494791],[.7678724500868056,.8408415294828869],[.7644271737557871,.8652045549665178],[.7644271737557871,.8895679001581102],[.7644271737557871,.9017494128999256],[.7609818974247685,.913930925641741]],["#000000",[.8284409360532407,.4388480922154018],[.8195520471643518,.4388480922154018],[.8367786096643518,.572845691499256],[.8436692527488426,.6215723818824405],[.8540051721643519,.6946620977492559],[.8608957248263889,.7555699811662947],[.8712316442418981,.8042966715494791],[.8781222873263889,.8530230422247024],[.8815675636574074,.8895679001581102],[.8850129304108796,.913930925641741],[.8884582067418981,.938294270833333]],["#000000",[.6665115921585648,.8652045549665178],[.657622703269676,.8652045549665178],[.6886304615162037,.8286596970331102],[.6989663809317129,.8164781842912947],[.7093023003472222,.8042966715494791],[.7161929434317129,.7921148390997024],[.72308349609375,.7921148390997024],[.7265288628472222,.7921148390997024],[.7299741391782407,.7921148390997024],[.7368647822627314,.7921148390997024],[.7472007016782407,.7921148390997024],[.75753662109375,.7921148390997024],[.7678724500868056,.7921148390997024],[.7919896556712963,.7921148390997024],[.8092161277488426,.7677518136160715],[.8298879665798611,.7555699811662947],[.8540051721643519,.7068436104910715],[.8746770109953703,.6702987525576637],[.8953487594039352,.645935407366071]]];function Iz(i,n){if(1&i&&_(0,"app-greeting-card",8),2&i){const e=b();g("size",297/420*290)("front",e.locationService.translate("../../assets/greetingcard/front/8.png","../../assets/greetingcard/front/21.png"))("back","../../assets/greetingcard/back/5.jpg")("text",e.locationService.translate("May you be gifted with life\u2019s biggest joys and never-ending bliss. After all, you yourself are a gift to earth, so you deserve the best. Happy birthday.","\u0416\u0435\u043b\u0430\u044e \u0441\u0447\u0430\u0441\u0442\u044c\u044f, \u0440\u0430\u0434\u043e\u0441\u0442\u0438, \u043b\u044e\u0431\u0432\u0438,\n\u0415\u0449\u0435 \u043c\u0435\u0447\u0442\u044b \u0437\u0430\u0432\u0435\u0442\u043d\u043e\u0439 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u044c\u044f,\n\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u044f \u043a\u0440\u0435\u043f\u043a\u043e\u0433\u043e, \u0443\u0434\u0430\u0447 \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u043e \u0432\u0441\u0435\u043c\n\u0418 \u0434\u043e\u0431\u0440\u044b\u0445 \u0441\u043b\u043e\u0432 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u044c\u044f!"))("color","#ffffff")("sign",e.exampleSignGreeting)}}function Az(i,n){1&i&&_(0,"app-game",9),2&i&&g("size",135/190*290)}function Rz(i,n){1&i&&_(0,"app-speaker",9),2&i&&(y("animation-name","rotPlus180"),g("size",270))}function Fz(i,n){1&i&&_(0,"app-tablet",9),2&i&&g("size",290)}function Nz(i,n){if(1&i&&_(0,"app-photo",10),2&i){const e=b();y("position","unset"),g("size",217.5)("sign",e.exampleSignPhoto)}}function Lz(i,n){if(1&i&&(d(0,"div",11),d(1,"div",12),P(2),p(),d(3,"div",13),P(4),p(),p()),2&i){const e=b();g("@fadeScaleInfo",void 0),c(2),O(e.title),c(2),O(e.description)}}function Bz(i,n){if(1&i){const e=J();d(0,"app-desktop-button",14),C("click",function(){return M(e),b().how.emit()}),p()}if(2&i){const e=b();g("@fadeScaleButton1",void 0)("text",e.locationService.translate("how it works","\u0447\u0442\u043e \u044d\u0442\u043e"))("icon","assets/question-mark.svg")("background","#ffffff")("color","#333333")}}function Vz(i,n){if(1&i){const e=J();d(0,"app-desktop-button",14),C("click",function(){return M(e),b().add.emit()}),p()}if(2&i){const e=b();g("@fadeScaleButton2",void 0)("text",e.locationService.translate("add","\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))("icon","assets/plus.svg")("background","#ffffff")("color","#333333")}}let zz=(()=>{class i{constructor(e){this.locationService=e,this.pointer=!1,this.add=new U,this.how=new U,this.type="",this.descr=!1,this.exampleSignGreeting=Tz,this.exampleSignPhoto=Oz}get title(){return"greetingcard"===this.type?this.locationService.translate("Greeting card","\u041e\u0442\u043a\u0440\u044b\u0442\u043a\u0430"):"game"===this.type?this.locationService.translate("Game","\u0412\u0438\u0434\u0435\u043e\u0438\u0433\u0440\u0430"):"speaker"===this.type?this.locationService.translate("Audio","\u041a\u043e\u043b\u043e\u043d\u043a\u0430"):"tablet"===this.type?this.locationService.translate("Video","\u041f\u043b\u0430\u043d\u0448\u0435\u0442"):"photo"===this.type?this.locationService.translate("Photo","\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f"):""}get description(){return"greetingcard"===this.type?this.locationService.translate("Congratulate with a quatrain and sign with your own hand","\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u043d\u043e\u0439 \u0444\u043e\u0440\u043c\u0435 \u0438 \u043f\u043e\u0434\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0440\u0443\u043a\u043e\u0439"):"game"===this.type?this.locationService.translate("Buy a game redemption code and give it as a gift","\u041a\u0443\u043f\u0438\u0442\u0435 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0434\u043b\u044f \u0438\u0433\u0440\u044b \u0438 \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u0435 \u0438\u0433\u0440\u0443"):"speaker"===this.type?this.locationService.translate("Record your voice","\u0417\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0433\u043e\u043b\u043e\u0441 \u0441 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438"):"tablet"===this.type?this.locationService.translate("Record your video","\u0417\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0432\u0438\u0434\u0435\u043e \u043d\u0430 \u0432\u0435\u0431\u043a\u0430\u043c\u0435\u0440\u0443 \u0441 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438"):"photo"===this.type?this.locationService.translate("Take a photo","\u0421\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e \u0438 \u043f\u043e\u0434\u043f\u0438\u0448\u0438\u0442\u0435 \u0435\u0451 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0440\u0443\u043a\u043e\u0439"):""}ngOnInit(){}ngOnChanges(){this.pointer=!this.descr}}return i.\u0275fac=function(e){return new(e||i)(D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-add-gift-list-option"]],hostVars:2,hostBindings:function(e,t){2&e&&H("pointer",t.pointer)},inputs:{type:"type",descr:"descr"},outputs:{add:"add",how:"how"},features:[ie],decls:10,vars:8,consts:[[1,"icon"],[3,"size","front","back","text","color","sign",4,"ngIf"],[3,"size",4,"ngIf"],[3,"size","animationName",4,"ngIf"],[3,"size","sign","position",4,"ngIf"],["class","info",4,"ngIf"],[1,"buttons"],["class","button",3,"text","icon","background","color","click",4,"ngIf"],[3,"size","front","back","text","color","sign"],[3,"size"],[3,"size","sign"],[1,"info"],[1,"title"],[1,"descr"],[1,"button",3,"text","icon","background","color","click"]],template:function(e,t){1&e&&(d(0,"div",0),T(1,Iz,1,6,"app-greeting-card",1),T(2,Az,1,1,"app-game",2),T(3,Rz,1,3,"app-speaker",3),T(4,Fz,1,1,"app-tablet",2),T(5,Nz,1,4,"app-photo",4),p(),T(6,Lz,5,3,"div",5),d(7,"div",6),T(8,Bz,1,5,"app-desktop-button",7),T(9,Vz,1,5,"app-desktop-button",7),p()),2&e&&(c(1),g("ngIf","greetingcard"===t.type),c(1),g("ngIf","game"===t.type),c(1),g("ngIf","speaker"===t.type),c(1),g("ngIf","tablet"===t.type),c(1),g("ngIf","photo"===t.type),c(1),g("ngIf",t.descr),c(2),g("ngIf",t.descr),c(1),g("ngIf",t.descr))},directives:[ot,Vs,Jr,Mo,Eo,zs,js],styles:["[_nghost-%COMP%]{width:300px;height:500px;margin:0;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;border-radius:10px;transition:all ease .3s}[_nghost-%COMP%] > .icon[_ngcontent-%COMP%]{transform:translateY(-90px);position:absolute;flex-shrink:0;width:300px;height:300px;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .icon[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{animation-name:rot;animation-duration:3s;animation-timing-function:linear;animation-iteration-count:infinite}[_nghost-%COMP%] > .info[_ngcontent-%COMP%]{transform:translateY(110px);position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .info[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{margin:10px;font-size:18px;color:#333;text-align:center}[_nghost-%COMP%] > .info[_ngcontent-%COMP%] > .descr[_ngcontent-%COMP%]{margin:0 10px 10px;font-size:14px;color:#333;text-align:center}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]{margin:0 10px;position:absolute}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:first-child{transform:translate(-70px) translateY(220px)}[_nghost-%COMP%] > .buttons[_ngcontent-%COMP%] > .button[_ngcontent-%COMP%]:last-child{transform:translate(70px) translateY(220px)}@keyframes rot{0%{transform:rotateY(0)}to{transform:rotateY(360deg)}}@keyframes rotPlus180{0%{transform:rotateY(-180deg)}to{transform:rotateY(180deg)}}.pointer[_nghost-%COMP%]{cursor:pointer}"],data:{animation:[ut("fadeScaleInfo",[me(":enter",[Y({transform:"translateY(110px) scale(0.2)",opacity:"0"}),le("300ms ease",Y({transform:"translateY(110px) scale(1)",opacity:"1"}))]),me(":leave",[le("300ms ease",Y({transform:"translateY(110px) scale(0.2)",opacity:"0"}))])]),ut("fadeScaleButton1",[me(":enter",[Y({transform:"translateX(-70px) translateY(220px) scale(0.2)",opacity:"0"}),le("300ms ease",Y({transform:"translateX(-70px) translateY(220px) scale(1)",opacity:"1"}))]),me(":leave",[le("300ms ease",Y({transform:"translateX(-70px) translateY(220px) scale(0.2)",opacity:"0"}))])]),ut("fadeScaleButton2",[me(":enter",[Y({transform:"translateX(70px) translateY(220px) scale(0.2)",opacity:"0"}),le("300ms ease",Y({transform:"translateX(70px) translateY(220px) scale(1)",opacity:"1"}))]),me(":leave",[le("300ms ease",Y({transform:"translateX(70px) translateY(220px) scale(0.2)",opacity:"0"}))])])]}}),i})();function jz(i,n){1&i&&_(0,"img",15)}function Gz(i,n){1&i&&_(0,"img",16)}function Hz(i,n){1&i&&_(0,"img",17)}function Uz(i,n){1&i&&_(0,"img",18)}function $z(i,n){1&i&&_(0,"img",19)}function Yz(i,n){1&i&&_(0,"img",20)}function Wz(i,n){if(1&i){const e=J();d(0,"app-desktop-dialog",4),C("close",function(){return M(e),b().closeHowItWorks("greetingcard")}),d(1,"div",5),d(2,"div",6),P(3),p(),d(4,"div",7),P(5),d(6,"b"),P(7),p(),P(8,"."),p(),d(9,"div",6),P(10),p(),d(11,"div",7),P(12),p(),T(13,jz,1,0,"img",8),T(14,Gz,1,0,"img",9),d(15,"div",6),P(16),p(),d(17,"div",7),P(18),p(),d(19,"div",10),P(20),_(21,"br"),P(22),_(23,"br"),P(24),_(25,"br"),P(26),_(27,"br"),p(),d(28,"div",7),P(29),p(),T(30,Hz,1,0,"img",11),T(31,Uz,1,0,"img",12),d(32,"div",6),P(33),p(),d(34,"div",7),P(35),p(),T(36,$z,1,0,"img",13),T(37,Yz,1,0,"img",14),d(38,"div",7),P(39),p(),p(),p()}if(2&i){const e=b();c(3),O(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),Ae("",e.locationService.translate("This is an greeting card that we used to gift on various occasions. The cover for which you choose yourself. On the reverse side, write your wishes in poetic form. And most importantly -","\u042d\u0442\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u044b \u043f\u0440\u0438\u0432\u044b\u043a\u043b\u0438 \u0434\u0430\u0440\u0438\u0442\u044c \u043f\u043e \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c \u043f\u043e\u0432\u043e\u0434\u0430\u043c: \u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f, \u0441\u0432\u0430\u0434\u044c\u0431\u0430, 8 \u043c\u0430\u0440\u0442\u0430 \u0438 \u0442.\u0434. \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u044e \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0443. \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0443\u044e \u043e\u0431\u043b\u043e\u0436\u043a\u0443, \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043b\u043e\u0432\u0430 \u043f\u043e\u0436\u0435\u043b\u0430\u043d\u0438\u044f \u0432 \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u043d\u043e\u0439 \u0444\u043e\u0440\u043c\u0435 \u0438 \u0447\u0442\u043e \u0441\u0430\u043c\u043e\u0435 \u0434\u0443\u0448\u0435\u0432\u043d\u043e\u0435,")," "),c(2),O(e.locationService.translate("you can sign it with YOUR OWN HAND","\u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c \u0435\u0451 \u0421\u041e\u0411\u0421\u0422\u0412\u0415\u041d\u041d\u041e\u0419 \u0420\u0423\u041a\u041e\u0419")),c(3),O(e.locationService.translate("Setting the cover","\u0412\u044b\u0431\u043e\u0440 \u043e\u0431\u043b\u043e\u0436\u043a\u0438")),c(2),O(e.locationService.translate("Imagine the situation you want to give a gift to your girlfriend, and you want to add a greeting card with a love poem to the gift box, let's first choose a cover. For example this one:","\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044e: \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0432\u0430\u0448\u0435\u0439 \u0434\u0435\u0432\u0443\u0448\u043a\u0435 \u0438 \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u0447\u043d\u0443\u044e \u043a\u043e\u0440\u043e\u0431\u043a\u0443 \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0443. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u044b\u0431\u0435\u0440\u0435\u043c \u043e\u0431\u043b\u043e\u0436\u043a\u0443, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u044f \u0432\u044b\u0431\u0440\u0430\u043b \u0442\u0430\u043a\u0443\u044e:")),c(1),g("ngIf","us"===e.locationService.location().country.code),c(1),g("ngIf","ru"===e.locationService.location().country.code),c(2),O(e.locationService.translate("Let's write a poem","\u041d\u0430\u043f\u0438\u0448\u0435\u043c \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435")),c(2),O(e.locationService.translate("We also need some kind of poem that we will write on the back side, for example, I get it from the internet, not bad, right?","\u0422\u0430\u043a\u0436\u0435 \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043a\u0430\u043a\u043e\u0435-\u043d\u0438\u0431\u0443\u0434\u044c \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0442\u0430\u043a\u043e\u0435 \u0441\u0442\u0438\u0445\u043e\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435 (\u044f \u0443\u043a\u0440\u0430\u043b \u0443 \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430 \u0421\u0435\u0440\u0433\u0435\u0435\u0432\u0438\u0447\u0430):")),c(2),Ae(" ",e.locationService.translate("Amazing and beautiful,","\u041f\u0440\u0435\u0434 \u043d\u0435\u0439 \u0437\u0430\u0434\u0443\u043c\u0447\u0438\u0432\u043e \u0441\u0442\u043e\u044e,"),""),c(2),Ae(" ",e.locationService.translate("not a flower or a tree.","\u0421\u0432\u0435\u0441\u0442\u0438 \u043e\u0447\u0435\u0439 \u0441 \u043d\u0435\u0435 \u043d\u0435\u0442 \u0441\u0438\u043b\u044b;"),""),c(2),Ae(" ",e.locationService.translate("Much prettier than that,","\u0418 \u0433\u043e\u0432\u043e\u0440\u044e \u0435\u0439: \u043a\u0430\u043a \u0432\u044b \u043c\u0438\u043b\u044b!"),""),c(2),Ae(" ",e.locationService.translate("and only I can see.","\u0418 \u043c\u044b\u0441\u043b\u044e: \u043a\u0430\u043a \u0442\u0435\u0431\u044f \u043b\u044e\u0431\u043b\u044e!"),""),c(3),O(e.locationService.translate("What does it look like:","\u0412\u043e\u0442 \u043a\u0430\u043a \u044d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442:")),c(1),g("ngIf","us"===e.locationService.location().country.code),c(1),g("ngIf","ru"===e.locationService.location().country.code),c(2),O(e.locationService.translate("The most magic","\u0421\u0430\u043c\u043e\u0435 \u0432\u043e\u043b\u0448\u0435\u0431\u0441\u0442\u0432\u043e")),c(2),O(e.locationService.translate("For a congratulation to be truly sincere, it must be signed, otherwise it looks like it was written by a robot, you can pass the captcha, right?","\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u044b\u043b\u0438 \u043f\u043e-\u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u043c\u0443 \u0438\u0441\u043a\u0440\u0435\u043d\u043d\u0438\u043c\u0438 \u043d\u0443\u0436\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0443 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0440\u0443\u043a\u043e\u0439. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u044f \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043b \u0441\u0435\u0440\u0434\u0435\u0447\u043a\u0438 \u0438 \u0447\u0451\u0440\u0442\u043e\u0447\u043a\u0438, \u044d\u0442\u043e\u0433\u043e \u0432\u043f\u043e\u043b\u043d\u0435 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e.")),c(1),g("ngIf","us"===e.locationService.location().country.code),c(1),g("ngIf","ru"===e.locationService.location().country.code),c(2),O(e.locationService.translate("Wow this looks really great, the recipient is sure to be delighted.","\u0412\u0410\u0423!!! \u042d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043f\u043e\u0442\u0440\u044f\u0441\u0430\u044e\u0449\u0435, \u043c\u043d\u0435 \u043a\u0430\u0436\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u0442\u043e\u0447\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0434."))}}function qz(i,n){1&i&&_(0,"img",31)}function Zz(i,n){1&i&&_(0,"img",32)}function Xz(i,n){1&i&&_(0,"img",33)}function Qz(i,n){1&i&&_(0,"img",34)}function Kz(i,n){1&i&&_(0,"img",35)}function Jz(i,n){1&i&&_(0,"img",36)}function ej(i,n){if(1&i){const e=J();d(0,"app-desktop-dialog",4),C("close",function(){return M(e),b().closeHowItWorks("game")}),d(1,"div",5),d(2,"div",6),P(3),p(),d(4,"div",7),P(5),p(),d(6,"div",6),P(7),p(),d(8,"div",21),P(9),p(),d(10,"div",7),P(11),p(),_(12,"img",22),d(13,"div",7),P(14),p(),d(15,"div",7),P(16),p(),T(17,qz,1,0,"img",23),T(18,Zz,1,0,"img",24),d(19,"div",6),P(20),p(),d(21,"div",7),P(22),p(),T(23,Xz,1,0,"img",25),T(24,Qz,1,0,"img",26),d(25,"div",7),P(26),p(),d(27,"div",27),T(28,Kz,1,0,"img",28),T(29,Jz,1,0,"img",29),_(30,"img",30),p(),d(31,"div",7),P(32),p(),p(),p()}if(2&i){const e=b();c(3),O(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),O(e.locationService.translate("This is a video game box. If the recipient loves games, you can gift a video game redeem key, which he/she can enter and get a video game.","\u042d\u0442\u043e \u043a\u043e\u0440\u043e\u0431\u043a\u0430 \u0441 \u0432\u0438\u0434\u0435\u043e\u0438\u0433\u0440\u043e\u0439. \u0415\u0441\u043b\u0438 \u0447\u0435\u043b\u043e\u0432\u0435\u043a, \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a, \u043b\u044e\u0431\u0438\u0442 \u0438\u0433\u0440\u0430\u0442\u044c \u0432 \u0438\u0433\u0440\u044b, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0435\u043c\u0443/\u0435\u0439 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0438\u0433\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u043d/\u043e\u043d\u0430 \u0441\u043c\u043e\u0436\u0435\u0442 \u0432\u0432\u0435\u0441\u0442\u0438 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u0433\u0440\u0443.")),c(2),O(e.locationService.translate("Redeem key","\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447")),c(2),O(e.locationService.translate("!!! IMPORTANT !!! To gift a game, you need a redeem key. You must buy a card. On the back side, erase the area where you can find the key and enter it on our site so that we transfer it to your recipient.","!!! \u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415 !!! \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0438\u0433\u0440\u0443, \u0432\u0430\u043c \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0443\u0436\u043d\u043e \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0432 \u043b\u044e\u0431\u043e\u043c \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 DNS, \u041c\u0432\u0438\u0434\u0435\u043e \u0438 \u0442. \u0434.), \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0441\u0442\u0435\u0440\u0435\u0442\u044c \u0437\u0430\u0449\u0438\u0442\u043d\u044b\u0439 \u0441\u043b\u043e\u0439 \u0438 \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0435\u0442 \u0438 \u0432\u0432\u0451\u0434\u0435\u0442 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e. \u0412\u0432\u043e\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447 \u0438\u043c\u0435\u043d\u043d\u043e \u043d\u0430 \u044d\u0442\u043e\u043c \u0441\u0430\u0439\u0442\u0435, \u043d\u0438\u0433\u0434\u0435 \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0439\u0442\u0435 \u0438\u0433\u0440\u0443.")),c(2),O(e.locationService.translate("This is what redeem key looks like:","\u041f\u0440\u0438\u043c\u0435\u0440\u043d\u043e \u0442\u0430\u043a \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0441 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u043e\u043d\u043d\u044b\u043c \u043a\u043b\u044e\u0447\u043e\u043c \u0434\u043b\u044f \u0438\u0433\u0440\u044b:")),c(3),O(e.locationService.translate("If you bought a game for playstation or xbox or nintendo switch, we will tell the recipient how to activate the game. In other cases, we will ask you to write instructions on how to activate the game. The instructions are almost always written on the back of the card.","\u0415\u0441\u043b\u0438 \u0432\u044b \u043a\u0443\u043f\u0438\u0442\u0435 \u0438\u0433\u0440\u0443 \u0434\u043b\u044f playstation, xbox \u0438\u043b\u0438 nintendo switch, \u0442\u043e \u043c\u044b \u0441\u0430\u043c\u0438 \u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0435\u043c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044e \u043a\u0430\u043a \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0433\u0440\u0443. \u0412 \u0434\u0440\u0443\u0433\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043c\u044b \u043f\u043e\u043f\u0440\u043e\u0441\u0438\u043c \u0432\u0430\u0441 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e \u043f\u043e \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u043a\u043b\u044e\u0447\u0430, \u043f\u043e\u0447\u0442\u0438 \u0432\u0441\u0435\u0433\u0434\u0430 \u043e\u043d\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0430 \u043d\u0430 \u0437\u0430\u0434\u043d\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0438 \u0441\u043e\u0441\u0442\u043e\u0438\u0442 \u0438\u0437 3-5 \u0448\u0430\u0433\u043e\u0432.")),c(2),O(e.locationService.translate("Let's say i bought the game 'little nightmares' for playstation 5. I entered the redeem key:","\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c \u044f \u043a\u0443\u043f\u0438\u043b \u043a\u043b\u044e\u0447 \u043a \u0438\u0433\u0440\u0435 'little nightmares'. \u0418 \u0441\u0440\u0430\u0437\u0443 \u0432\u0432\u043e\u0436\u0443 \u043a\u043e\u0434:")),c(1),g("ngIf","us"===e.locationService.location().country.code),c(1),g("ngIf","ru"===e.locationService.location().country.code),c(2),O(e.locationService.translate("Set cover","\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c \u043e\u0431\u043b\u043e\u0436\u043a\u0443")),c(2),O(e.locationService.translate("Now i need to set cover. I google 'little nightmares cover' and download the picture.","\u0414\u0430\u043b\u0435\u0435 \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u0430 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0430\u044f \u043e\u0431\u043b\u043e\u0436\u043a\u0430. \u0412 \u0433\u0443\u0433\u043b \u043f\u043e\u0438\u0441\u043a\u0435 \u0432\u0432\u043e\u0436\u0443 'little nightmares \u043e\u0431\u043b\u043e\u0436\u043a\u0430' \u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u044e \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443.")),c(1),g("ngIf","us"===e.locationService.location().country.code),c(1),g("ngIf","ru"===e.locationService.location().country.code),c(2),O(e.locationService.translate("Now just install it. Here's what we got:","\u0422\u0435\u043f\u0435\u0440\u044c \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043e\u0431\u043b\u043e\u0436\u043a\u0443. \u0412\u043e\u0442 \u0447\u0442\u043e \u0443 \u043c\u0435\u043d\u044f \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c:")),c(2),g("ngIf","us"===e.locationService.location().country.code),c(1),g("ngIf","ru"===e.locationService.location().country.code),c(3),O(e.locationService.translate("That's all, you can gift the game.","\u041d\u0430 \u044d\u0442\u043e\u043c \u0432\u0441\u0451, \u0442\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0438\u0433\u0440\u0443."))}}function tj(i,n){1&i&&_(0,"img",39)}function nj(i,n){1&i&&_(0,"img",40)}function ij(i,n){if(1&i){const e=J();d(0,"app-desktop-dialog",4),C("close",function(){return M(e),b().closeHowItWorks("speaker")}),d(1,"div",5),d(2,"div",6),P(3),p(),d(4,"div",7),P(5),p(),d(6,"div",21),P(7),p(),d(8,"div",6),P(9),p(),d(10,"div",7),P(11),p(),T(12,tj,1,0,"img",37),T(13,nj,1,0,"img",38),p(),p()}if(2&i){const e=b();c(3),O(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),O(e.locationService.translate("This is a speaker where you can record your own greeting voice (any other sound can also be recorded up to 50 seconds).","\u042d\u0442\u043e \u043a\u043e\u043b\u043e\u043d\u043a\u0430. \u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043d\u0435\u0451 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0433\u043e\u043b\u043e\u0441 \u0441 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438 \u0438\u043b\u0438 \u0436\u0435 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0437\u0432\u0443\u043a. (\u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u0437\u0430\u043f\u0438\u0441\u0438 50 \u0441\u0435\u043a.)")),c(2),O(e.locationService.translate("For this gift you will need a microphone. If you use a phone or laptop, it is already built into your device.","\u0414\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0434\u0430\u0440\u043a\u0430, \u0443 \u0432\u0430\u0441 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043d\u043e\u0443\u0442\u0431\u0443\u043a \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d/\u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u0442\u043e \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u043e\u043d \u0432\u0441\u0442\u0440\u043e\u0435\u043d.")),c(2),O(e.locationService.translate("Sound recording","\u0417\u0430\u043f\u0438\u0441\u044c \u0437\u0432\u0443\u043a\u0430")),c(2),O(e.locationService.translate("All you need is to record the sound you want to send to the recipient. This is what the settings panel for sound recording looks like:","\u0412\u0441\u0435 \u0447\u0442\u043e \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e, \u044d\u0442\u043e \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0437\u0432\u0443\u043a, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044e. \u0412\u043e\u0442 \u043a\u0430\u043a \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043f\u0430\u043d\u0435\u043b\u044c \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0438 \u0433\u043e\u043b\u043e\u0441\u0430:")),c(1),g("ngIf","us"===e.locationService.location().country.code),c(1),g("ngIf","ru"===e.locationService.location().country.code)}}function sj(i,n){if(1&i){const e=J();d(0,"app-desktop-dialog",4),C("close",function(){return M(e),b().closeHowItWorks("tablet")}),d(1,"div",5),d(2,"div",6),P(3),p(),d(4,"div",7),P(5),p(),d(6,"div",21),P(7),p(),_(8,"img",41),p(),p()}if(2&i){const e=b();c(3),O(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),O(e.locationService.translate("Here you can record video with congratulations. All this will be designed as a tablet on which the recipient can watch your self made video (maximum duration up to 30 seconds).","\u042d\u0442\u043e \u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e\u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435. (\u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 30 \u0441\u0435\u043a.)")),c(2),O(e.locationService.translate("For this gift you will need a microphone and webcam. If you use a phone or laptop, it is already built into your device.","\u0414\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0434\u0430\u0440\u043a\u0430 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u044b \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d \u0438 \u0432\u0435\u0431\u043a\u0430\u043c\u0435\u0440\u0430. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043d\u043e\u0443\u0442\u0431\u0443\u043a \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d/\u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u0442\u043e \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u043e\u043d\u0438 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u044b."))}}function oj(i,n){if(1&i){const e=J();d(0,"app-desktop-dialog",4),C("close",function(){return M(e),b().closeHowItWorks("photo")}),d(1,"div",5),d(2,"div",6),P(3),p(),d(4,"div",7),P(5),d(6,"b"),P(7),p(),P(8,"."),p(),d(9,"div",21),P(10),p(),d(11,"div",6),P(12),p(),d(13,"div",7),P(14),p(),_(15,"img",42),d(16,"div",6),P(17),p(),d(18,"div",7),P(19),p(),_(20,"img",43),d(21,"div",7),P(22),p(),p(),p()}if(2&i){const e=b();c(3),O(e.locationService.translate("What it is?","\u0427\u0442\u043e \u044d\u0442\u043e?")),c(2),Ae("",e.locationService.translate("This is a photo taken by you. And most importantly, on the back side, ","\u042d\u0442\u043e \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f, \u043d\u0430 \u0437\u0430\u0434\u043d\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435")," "),c(2),O(e.locationService.translate("you can sign it with YOUR OWN HAND","\u0440\u0430\u0441\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u0421\u041e\u0411\u0422\u0412\u0415\u041d\u041d\u041e\u0419 \u0420\u0423\u041a\u041e\u0419")),c(3),O(e.locationService.translate("For this gift you will need a webcam. If you use a phone or laptop, it is already built into your device.","\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u0434\u0430\u0440\u043a\u0430 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u0430 \u0432\u0435\u0431 \u043a\u0430\u043c\u0435\u0440\u0430. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043d\u043e\u0443\u0442\u0431\u0443\u043a \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d/\u043f\u043b\u0430\u043d\u0448\u0435\u0442, \u0442\u043e \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u043e\u043d\u0430 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u0430.")),c(2),O(e.locationService.translate("Take a photo","\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f")),c(2),O(e.locationService.translate("Imagine that you want to give your boyfriend a gift and put your photo there. First, let's take a photo, you can make it on this web-site. (Attention! this photo is just an example). Here's what we got:","\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0432\u0430\u0448\u0435\u043c\u0443 \u043f\u0430\u0440\u043d\u044e \u0438 \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u043b\u043e\u0436\u0438\u0442\u044c \u0442\u0443\u0434\u0430 \u0441\u0432\u043e\u044e \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0444\u043e\u0442\u043e. (\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u042d\u0442\u043e \u043d\u0435 \u043c\u043e\u0451 \u0444\u043e\u0442\u043e \u044f \u0435\u0433\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u0437\u044f\u043b \u0441 pixabay.com):")),c(3),O(e.locationService.translate("Sign with all your heart","\u0420\u0430\u0441\u043f\u0438\u0448\u0435\u043c\u0441\u044f \u043e\u0442 \u0432\u0441\u0435\u0433\u043e \u0441\u0435\u0440\u0434\u0446\u0430")),c(2),O(e.locationService.translate("Now to make the photo really worthwhile, let's sign it on the back side with our own hand. Here's what it looks like:","\u0422\u0435\u043f\u0435\u0440\u044c \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u044d\u0442\u043e \u0444\u043e\u0442\u043e \u0441\u0442\u043e\u044f\u0449\u0438\u043c. \u0420\u0430\u0441\u043f\u0438\u0448\u0435\u043c\u0441\u044f \u043d\u0430 \u0437\u0430\u0434\u043d\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435. \u0412\u043e\u0442 \u0447\u0442\u043e \u0443 \u043c\u0435\u043d\u044f \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c:")),c(3),O(e.locationService.translate("Wow this looks very attractive the recipient will definitely be pleased.","\u0412\u0430\u0443! \u042d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043e\u0447\u0435\u043d\u044c \u043f\u0440\u0438\u0432\u043b\u0435\u043a\u0430\u0442\u0435\u043b\u044c\u043d\u043e! \u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0432\u043e\u043b\u0435\u043d."))}}function rj(i,n){if(1&i){const e=J();d(0,"app-desktop-add-gift-list-option",44),C("add",function(){const o=M(e).$implicit;return b().close.emit(o.type)})("how",function(){const o=M(e).$implicit;return b().showHowItWorks(o.type)})("click",function(){const s=M(e),o=s.$implicit,r=s.index;return b().scrollTo(!o.descr,r)}),p()}if(2&i){const e=n.$implicit;y("transform","translateY("+e.position+"px) scale("+e.scale+")")("opacity",e.opacity),g("type",e.type)("descr",e.descr)}}let aj=(()=>{class i{constructor(e){this.locationService=e,this.backgroundColor="#00000066",this.margin=400,this.scroll=0,this.dialogs={greetingcard:{visible:!1},game:{visible:!1},speaker:{visible:!1},tablet:{visible:!1},photo:{visible:!1}},this.gifts=[{type:"greetingcard",position:0,opacity:0,scale:1,descr:!1},{type:"game",position:0,opacity:0,scale:1,descr:!1},{type:"speaker",position:0,opacity:0,scale:1,descr:!1},{type:"tablet",position:0,opacity:0,scale:1,descr:!1},{type:"photo",position:0,opacity:0,scale:1,descr:!1}],this.close=new U}setPositions(e){this.scroll-=e/2,this.scroll>this.gifts.length*this.margin&&(this.scroll-=this.gifts.length*this.margin),this.scroll<0&&(this.scroll+=this.gifts.length*this.margin);for(let t=0;t<this.gifts.length;t++)this.gifts[t].position=this.scroll+t*this.margin,this.gifts[t].position-this.margin/2>window.innerHeight/2&&(this.gifts[t].position=this.scroll-(this.gifts.length-t)*this.margin),Math.abs(this.gifts[t].position)<=100?(this.gifts[t].descr=!0,this.gifts[t].opacity=1,this.gifts[t].scale=1):(this.gifts[t].descr=!1,this.gifts[t].opacity=1-Math.abs(this.gifts[t].position)/(window.innerHeight/2),this.gifts[t].scale=1-Math.abs(this.gifts[t].position)/(window.innerHeight/2))}scrollTo(e,t){!e||(this.scroll=-t*this.margin,this.setPositions(0))}showHowItWorks(e){this.backgroundColor="#00000000",this.dialogs[e].visible=!0}closeHowItWorks(e){this.backgroundColor="#00000066",this.dialogs[e].visible=!1}ngOnInit(){this.setPositions(0)}}return i.\u0275fac=function(e){return new(e||i)(D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-add-gift"]],hostVars:2,hostBindings:function(e,t){2&e&&y("background-color",t.backgroundColor)},outputs:{close:"close"},decls:8,vars:6,consts:[[3,"close",4,"ngIf"],[1,"content",3,"wheel"],[1,"button-cancel",3,"click"],[3,"type","descr","transform","opacity","add","how","click",4,"ngFor","ngForOf"],[3,"close"],[1,"dialog"],[1,"dialog-title"],[1,"dialog-text"],["width","40%","class","dialog-img","src","assets/greetingcard/front/12.png",4,"ngIf"],["width","40%","class","dialog-img","src","assets/greetingcard/front/26.png",4,"ngIf"],[1,"dialog-quote"],["width","40%","class","dialog-img","src","assets/greetingcard/example1.png",4,"ngIf"],["width","40%","class","dialog-img","src","assets/greetingcard/example3.png",4,"ngIf"],["width","40%","class","dialog-img","src","assets/greetingcard/example2.png",4,"ngIf"],["width","40%","class","dialog-img","src","assets/greetingcard/example4.png",4,"ngIf"],["width","40%","src","assets/greetingcard/front/12.png",1,"dialog-img"],["width","40%","src","assets/greetingcard/front/26.png",1,"dialog-img"],["width","40%","src","assets/greetingcard/example1.png",1,"dialog-img"],["width","40%","src","assets/greetingcard/example3.png",1,"dialog-img"],["width","40%","src","assets/greetingcard/example2.png",1,"dialog-img"],["width","40%","src","assets/greetingcard/example4.png",1,"dialog-img"],[1,"dialog-warning"],["width","60%","src","assets/game/example1.png",1,"dialog-img"],["width","90%","class","dialog-img","src","assets/game/example5.png",4,"ngIf"],["width","90%","class","dialog-img","src","assets/game/example7.png",4,"ngIf"],["width","90%","class","dialog-img","src","assets/game/example2.png",4,"ngIf"],["width","90%","class","dialog-img","src","assets/game/example6.png",4,"ngIf"],[1,"dialog-row"],["width","40%","class","dialog-img","src","assets/game/example3.png",4,"ngIf"],["width","40%","class","dialog-img","src","assets/game/example8.png",4,"ngIf"],["width","40%","src","assets/game/example4.png",1,"dialog-img"],["width","90%","src","assets/game/example5.png",1,"dialog-img"],["width","90%","src","assets/game/example7.png",1,"dialog-img"],["width","90%","src","assets/game/example2.png",1,"dialog-img"],["width","90%","src","assets/game/example6.png",1,"dialog-img"],["width","40%","src","assets/game/example3.png",1,"dialog-img"],["width","40%","src","assets/game/example8.png",1,"dialog-img"],["width","80%","class","dialog-img","src","assets/speaker/example1.png",4,"ngIf"],["width","80%","class","dialog-img","src","assets/speaker/example2.png",4,"ngIf"],["width","80%","src","assets/speaker/example1.png",1,"dialog-img"],["width","80%","src","assets/speaker/example2.png",1,"dialog-img"],["width","80%","src","assets/tablet/example1.png",1,"dialog-img"],["width","60%","src","assets/photo/example1.png",1,"dialog-img"],["width","60%","src","assets/photo/example2.png",1,"dialog-img"],[3,"type","descr","add","how","click"]],template:function(e,t){1&e&&(T(0,Wz,40,21,"app-desktop-dialog",0),T(1,ej,33,17,"app-desktop-dialog",0),T(2,ij,14,7,"app-desktop-dialog",0),T(3,sj,9,3,"app-desktop-dialog",0),T(4,oj,23,9,"app-desktop-dialog",0),d(5,"div",1),C("wheel",function(o){return t.setPositions(o.deltaY)}),d(6,"div",2),C("click",function(){return t.close.emit("")}),p(),T(7,rj,1,6,"app-desktop-add-gift-list-option",3),p()),2&e&&(g("ngIf",t.dialogs.greetingcard.visible),c(1),g("ngIf",t.dialogs.game.visible),c(1),g("ngIf",t.dialogs.speaker.visible),c(1),g("ngIf",t.dialogs.tablet.visible),c(1),g("ngIf",t.dialogs.photo.visible),c(3),g("ngForOf",t.gifts))},directives:[ot,zt,Ez,zz],styles:["[_nghost-%COMP%]{left:0px;top:0px;width:100%;height:100%;position:fixed;background-color:#0006;display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-start;z-index:10;transition:background-color ease .2s}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:600px;width:100%;height:100%;overflow:hidden;background-color:#fff;transform:translate(0)}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > app-desktop-add-gift-list-option[_ngcontent-%COMP%]{position:absolute;transition:all ease .2s}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > .button-cancel[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:10px;right:10px;align-self:flex-end;background-image:url(cross.0bf1b6052953de20.svg);background-position:center;background-size:contain;background-repeat:no-repeat;cursor:pointer;opacity:.5;transition:all ease .3s}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > .button-cancel[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-shrink:0}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]{padding:40px 0;display:flex;flex-direction:column;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{text-align:center;font-size:26px;font-weight:bold;color:#333;margin:50px 50px 10px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-text[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#333;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-quote[_ngcontent-%COMP%]{text-align:center;font-style:italic;color:#999;font-size:16px;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-img[_ngcontent-%COMP%]{margin:10px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-warning[_ngcontent-%COMP%]{text-align:center;font-size:16px;color:#f44336;margin:10px 50px}[_nghost-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around}"]}),i})();const lj=["moveGift"];function uj(i,n){1&i&&_(0,"app-desktop-select-location")}function cj(i,n){if(1&i){const e=J();d(0,"app-desktop-edit-gift",7),C("close",function(){return M(e),b().closeEditGift()}),p()}if(2&i){const e=b();g("gift",e.activeGift)("initialRect",e.initialRectViewGift)}}function hj(i,n){1&i&&(d(0,"div",8),_(1,"app-desktop-empty-giftlist"),p()),2&i&&g("@fade",void 0)}function dj(i,n){if(1&i){const e=J();d(0,"app-desktop-gift-list-option",11),C("startMove",function(s){return M(e),b(2).moveGiftStart(s)})("edit",function(s){return M(e),b(2).showEditGift(s)})("delete",function(s){return M(e),b(2).deleteGift(s)}),p()}if(2&i){const e=n.$implicit,t=b(2);g("gift",e)("showMove",t.gifts.length>1)("sublimeStartRotate",t.sublimeStartRotate)("sublimeStopRotate",t.sublimeStopRotate)}}function pj(i,n){if(1&i&&(d(0,"div",9),T(1,dj,1,4,"app-desktop-gift-list-option",10),p()),2&i){const e=b();g("@fade",void 0),c(1),g("ngForOf",e.gifts)}}function fj(i,n){if(1&i){const e=J();d(0,"div",12),d(1,"app-desktop-button",13),C("click",function(){return M(e),b().screens.addGift="open"}),p(),d(2,"app-desktop-button",14),C("click",function(){return M(e),b().mixxxx()}),p(),p()}if(2&i){const e=b();c(1),g("text",e.locationService.translate("add","\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))("icon","assets/plus.svg")("background","#ffffff")("color","#333333"),c(1),g("text",e.locationService.translate("next stage","\u0441\u043b\u0435\u0434. \u044d\u0442\u0430\u043f"))("icon","../../assets/checkmark.svg")("background","#ffffff")("color","#333333")("disabled",0===e.gifts.length)}}function gj(i,n){if(1&i){const e=J();d(0,"app-desktop-add-gift",15),C("close",function(s){return M(e),b().closeAddGift(s)}),p()}2&i&&g("@fadeAdd",void 0)}let mj=(()=>{class i{constructor(e,t,s,o,r){this.locationService=e,this.asyncService=t,this.cfr=s,this.host=o,this.route=r,this.gifts=[],this.activeGift=null,this.screens={listGifts:"open",addGift:"close"},this.moveGift={isMoving:!1,delta:0,container:null,gift:null,index:0,scrolling:!1,intervalScroll:setInterval(()=>{},9999)},this.initialRectViewGift=null,this.sublimeStartRotate=!1,this.sublimeStopRotate=!1,this.subs=[],this.showSelectLanguage=!1}onMousemove(e){if(this.moveGift.isMoving){const t=e.clientY;this.moveGift.container.location.nativeElement.style.top=t-this.moveGift.delta+"px";let o=[];this.optionsGifts.forEach(a=>{a.host.nativeElement.style.removeProperty("border-top"),a.host.nativeElement.style.removeProperty("border-bottom"),o.push(a.host.nativeElement.getBoundingClientRect())});let r=0;if(t<=o[0].y+o[0].height/2)r=-1;else if(t>=o[o.length-1].y+o[o.length-1].height/2)r=o.length-1;else for(let a=0;a<o.length;a++)if(t>=o[a].y+o[a].height/2&&t<=o[a+1].y+o[a+1].height/2){r=a;break}-1===r?this.optionsGifts.first.host.nativeElement.style.borderTop="2px solid #333":this.optionsGifts.get(-1===r?0:r).host.nativeElement.style.borderBottom="2px solid #333",this.moveGift.index=r,t<=.1*window.innerHeight&&!this.moveGift.scrolling?this.startScrolling("up"):t>=.9*window.innerHeight&&!this.moveGift.scrolling?this.startScrolling("down"):t>.1*window.innerHeight&&t<.9*window.innerHeight&&this.stopScrolling()}}onMouseup(){this.moveGift.isMoving&&(document.body.style.userSelect="auto",this.stopScrolling(),this.moveGift.container.location.nativeElement.style.display="none",this.optionsGifts.forEach(t=>{t.host.nativeElement.style.removeProperty("border-top"),t.host.nativeElement.style.removeProperty("border-bottom")}),this.moveGift.isMoving=!1,this.gifts.splice(-1===this.moveGift.index?0:this.moveGift.index+1,0,this.moveGift.gift),setTimeout(()=>{this.sublimeStartRotate=!this.sublimeStartRotate},200))}mixxxx(){const e=this.gifts[0];this.gifts[0]=this.gifts[1],this.gifts[1]=e}startScrolling(e="down"){this.moveGift.scrolling||(this.stopScrolling(),this.moveGift.intervalScroll=setInterval(()=>{"down"===e?this.host.nativeElement.scrollTo(0,this.host.nativeElement.scrollTop+10):"up"===e&&this.host.nativeElement.scrollTo(0,this.host.nativeElement.scrollTop-10)}))}showEditGift(e){var t=this;return N(function*(){return t.sublimeStopRotate=!t.sublimeStopRotate,yield t.asyncService.delay(200),t.initialRectViewGift=e.rect,t.activeGift=e.gift,new Promise(s=>s())})()}closeEditGift(){this.initialRectViewGift=null,this.activeGift=null,this.sublimeStartRotate=!this.sublimeStartRotate}deleteGift(e){this.gifts=this.gifts.filter(t=>t.id!==e.id)}stopScrolling(){this.moveGift.scrolling=!1,clearInterval(this.moveGift.intervalScroll)}closeAllScreens(){Object.keys(this.screens).forEach(e=>{this.screens[e]="close"})}getGiftId(){let e=0;return this.gifts.forEach(t=>{t.id>e&&(e=t.id)}),e+1}getGift(e){this.gifts.forEach(t=>{if(t.id===e)return t})}removeGift(e){for(let t=0;t<this.gifts.length;t++)if(this.gifts[t].id===e)return void this.gifts.splice(t,1)}closeAddGift(e){if(this.screens.addGift="close",""===e)return new Promise(s=>s());let t={};return t.id=this.getGiftId(),"greetingcard"===e?(t.title=this.locationService.translate("Greeting card","\u041e\u0442\u043a\u0440\u044b\u0442\u043a\u0430"),t.front=this.locationService.translate("../../assets/greetingcard/front/1.png","../../assets/greetingcard/front/21.png"),t.back="../../assets/greetingcard/back/5.jpg",t.text=this.locationService.translate("May you be gifted with life\u2019s\nbiggest joys and never-ending bliss.\nAfter all, you yourself are a gift to earth, so you deserve the best.\nHappy birthday.","\u0416\u0435\u043b\u0430\u044e \u0441\u0447\u0430\u0441\u0442\u044c\u044f, \u0440\u0430\u0434\u043e\u0441\u0442\u0438, \u043b\u044e\u0431\u0432\u0438,\n\u0415\u0449\u0435 \u043c\u0435\u0447\u0442\u044b \u0437\u0430\u0432\u0435\u0442\u043d\u043e\u0439 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u044c\u044f,\n\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u044f \u043a\u0440\u0435\u043f\u043a\u043e\u0433\u043e, \u0443\u0434\u0430\u0447 \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u043e \u0432\u0441\u0435\u043c\n\u0418 \u0434\u043e\u0431\u0440\u044b\u0445 \u0441\u043b\u043e\u0432 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0434\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u044c\u044f!"),t.sign=[],t.color="#ffffff"):"game"===e?(t.title=this.locationService.translate("Game","\u0418\u0433\u0440\u0430"),t.color="#003791",t.front="../../assets/game/example.jpg",t.inside="../../assets/game/game.png",t.side="../../assets/game/gameleft.png",t.code="WERB-NBHP-DXCV-ZZKL-UIFM",t.platform="ps",t.open=!1):"speaker"===e?(t.title=this.locationService.translate("Audio","\u0410\u0443\u0434\u0438\u043e\u0437\u0430\u043f\u0438\u0441\u044c"),t.grill="../../assets/speaker/grill/0.png",t.color="#ff5722",t.value=[]):"tablet"===e?(t.title=this.locationService.translate("Audio","\u0412\u0438\u0434\u0435\u043e\u0437\u0430\u043f\u0438\u0441\u044c"),t.color="#c0c0c0",t.value=""):"photo"===e&&(t.title=this.locationService.translate("Photo","\u0424\u043e\u0442\u043e"),t.photo="../../assets/photo/example.jpg",t.sign=[]),t.type=e,this.gifts.push(t),this.gifts.length>0&&setTimeout(()=>{this.sublimeStartRotate=!this.sublimeStartRotate},300),new Promise(s=>s())}moveGiftStart(e){this.sublimeStopRotate=!this.sublimeStopRotate,document.body.style.userSelect="none";const t=this.cfr.resolveComponentFactory(bh);this.moveGift.container=this.moveGiftContainerTemplate.createComponent(t),this.moveGift.container.instance.gift=e.gift,this.moveGift.gift=e.gift;const s=this.moveGift.container.location.nativeElement;s.style.width=e.rect.width+"px",s.style.height=e.rect.height+"px",s.style.position="fixed",s.style.left=e.rect.x-10+"px",s.style.top=e.rect.y+"px",s.style.zIndex="10",s.style.backgroundColor="#ffffff",s.style.boxShadow="0px 0px 5px #ddd",s.style.cursor="grabbing",s.style.opacity="0.5",this.moveGift.isMoving=!0,this.moveGift.delta=e.event.clientY-e.rect.y,this.removeGift(e.gift.id)}ngOnInit(){this.subs.push(this.route.queryParams.subscribe(e=>{const t=e.l;this.showSelectLanguage="us"!==t&&"ru"!==t}))}ngOnDestroy(){this.subs.forEach(e=>{e.unsubscribe()})}}return i.\u0275fac=function(e){return new(e||i)(D(Fe),D(Pe),D(Es),D(W),D(as))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-page-create-stage1"]],viewQuery:function(e,t){if(1&e&&(ht(lj,5,_n),ht(bh,5)),2&e){let s;qe(s=Ze())&&(t.moveGiftContainerTemplate=s.first),qe(s=Ze())&&(t.optionsGifts=s)}},hostBindings:function(e,t){1&e&&C("mousemove",function(o){return t.onMousemove(o)},!1,Ie)("mouseup",function(){return t.onMouseup()},!1,Ie)},decls:8,vars:6,consts:[[4,"ngIf"],[3,"gift","initialRect","close",4,"ngIf"],["moveGift",""],["class","skelet-empty",4,"ngIf"],["class","skelet-giftlist",4,"ngIf"],["class","buttons-gift-list",4,"ngIf"],[3,"close",4,"ngIf"],[3,"gift","initialRect","close"],[1,"skelet-empty"],[1,"skelet-giftlist"],[3,"gift","showMove","sublimeStartRotate","sublimeStopRotate","startMove","edit","delete",4,"ngFor","ngForOf"],[3,"gift","showMove","sublimeStartRotate","sublimeStopRotate","startMove","edit","delete"],[1,"buttons-gift-list"],[3,"text","icon","background","color","click"],[3,"text","icon","background","color","disabled","click"],[3,"close"]],template:function(e,t){1&e&&(T(0,uj,1,0,"app-desktop-select-location",0),T(1,cj,1,2,"app-desktop-edit-gift",1),_(2,"template",null,2),T(4,hj,2,1,"div",3),T(5,pj,2,2,"div",4),T(6,fj,3,9,"div",5),T(7,gj,1,1,"app-desktop-add-gift",6)),2&e&&(g("ngIf",t.showSelectLanguage),c(1),g("ngIf",null!==t.activeGift),c(3),g("ngIf","open"===t.screens.listGifts&&0===t.gifts.length&&!t.showSelectLanguage),c(1),g("ngIf","open"===t.screens.listGifts&&0!==t.gifts.length),c(1),g("ngIf","open"===t.screens.listGifts&&null===t.activeGift),c(1),g("ngIf","open"===t.screens.addGift))},directives:[ot,nB,dV,Pz,zt,bh,js,aj],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;width:100%;height:100%;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex-shrink:0}[_nghost-%COMP%] > .skelet-empty[_ngcontent-%COMP%]{margin:auto 0;max-width:800px;width:100%;max-height:50%;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%] > .skelet-giftlist[_ngcontent-%COMP%]{margin:auto 0;max-width:800px;width:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;flex-wrap:wrap}[_nghost-%COMP%] > .buttons-gift-list[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;border-radius:10px;box-shadow:0 0 5px #0003;background-color:#fff;display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%] > .buttons-gift-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px 10px 10px 0}[_nghost-%COMP%] > .buttons-gift-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin-left:10px}"],data:{animation:[ut("fade",[me(":enter",[Y({display:"none",opacity:0}),le("0ms 320ms ease",Y({display:"flex",opacity:0})),le("300ms ease",Y({display:"flex",opacity:1}))]),me(":leave",[le("300ms ease",Y({opacity:0}))])]),ut("fadeAdd",[me(":enter",[Og([Y({"background-color":"#00000000"}),Vi(".content",Y({transform:"translateX(min(100%, 600px))"}))]),Og([le("300ms ease",Y({"background-color":"#00000066"})),Vi(".content",le("300ms ease",Y({transform:"translateX(0px)"})))])]),me(":leave",[Og([le("300ms ease",Y({"background-color":"#00000000"})),Vi(".content",le("300ms ease",Y({transform:"translateX(min(100%, 600px))"})))])])]),ut("fadeOption",[me(":enter",[Y({transform:"translateY(300px)",opacity:"0","max-height":"0px"}),le("1000ms ease",Y({transform:"translateY(0px)",opacity:"1","max-height":"500px"}))])])]}}),i})();function _j(i,n){if(1&i&&(d(0,"div",3),_(1,"div",4),d(2,"div",5),P(3),p(),p()),2&i){const e=b();c(3),O(e.locationService.translate("back","\u043d\u0430\u0437\u0430\u0434"))}}const vj=["*"];let yj=(()=>{class i{constructor(e,t,s){this.host=e,this.asyncService=t,this.locationService=s,this.touch=null,this.show=null,this.backable=!0,this.close=new U,this.translateX=0,this.canTranstlate=!1,this.animate=!1,this.touchRefresh=null,this.velocity=0,this.timeoutVelocity=setTimeout(()=>{},0),this.stat="hide"}processTouch(){!this.touch||("move"===this.touch.action&&"start"===this.touch.prev.action&&Math.abs(this.touch.x-this.touch.prev.x)>Math.abs(this.touch.y-this.touch.prev.y)&&this.touch.x-this.touch.prev.x>0&&this.backable&&(this.canTranstlate=!0),"move"===this.touch.action&&this.canTranstlate?(this.touch.prev&&(this.velocity=this.touch.x-this.touch.prev.x),clearTimeout(this.timeoutVelocity),this.timeoutVelocity=setTimeout(()=>{this.velocity=0},100),this.translateX=this.touch.x-this.touch.start.x,this.translateX<0&&(this.translateX=0),this.translateX>window.innerWidth&&(this.translateX=window.innerWidth)):this.touchRefresh=this.touch,"end"===this.touch.action&&this.canTranstlate&&(this.canTranstlate=!1,this.velocity>0?this.smoothClose():this.velocity<0?this.smoothShow():0==this.velocity&&(this.touch.x-this.touch.start.x>window.innerWidth/2?this.smoothClose():this.smoothShow())))}smoothShow(){var e=this;return N(function*(){return e.stat="show",e.animate=!0,e.host.nativeElement.style.display="block",yield e.asyncService.delay(10),e.translateX=0,yield e.asyncService.delay(200),e.animate=!1,new Promise(t=>t())})()}smoothClose(){var e=this;return N(function*(){return e.stat="hide",e.animate=!0,yield e.asyncService.delay(10),e.translateX=window.innerWidth,yield e.asyncService.delay(200),e.host.nativeElement.style.display="none",e.animate=!1,e.close.emit(),new Promise(t=>t())})()}ngOnInit(){this.translateX=window.innerWidth}ngOnChanges(e){e.show&&e.show.previousValue!==e.show.currentValue&&(e.show.currentValue&&"hide"===this.stat?this.smoothShow():!e.show.currentValue&&"show"===this.stat&&this.smoothClose()),e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch()}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(Pe),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-screen-static"]],inputs:{touch:"touch",show:"show",backable:"backable"},outputs:{close:"close"},features:[ie],ngContentSelectors:vj,decls:4,vars:6,consts:[[1,"refresh",3,"touch"],[1,"content"],["class","back",4,"ngIf"],[1,"back"],[1,"ico"],[1,"text"]],template:function(e,t){1&e&&(vi(),_(0,"app-touch-refresh",0),d(1,"div",1),T(2,_j,4,1,"div",2),Zn(3),p()),2&e&&(g("touch",t.touchRefresh),c(1),y("transition",t.animate?"all ease 0.2s":"none")("transform","translateX("+t.translateX+"px)"),c(1),g("ngIf",t.backable))},directives:[Uc,ot],styles:["[_nghost-%COMP%]{position:absolute;top:0px;left:0px;width:100%;height:100%;display:none}[_nghost-%COMP%] > .refresh[_ngcontent-%COMP%]{z-index:10}[_nghost-%COMP%] > .content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:0}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > .back[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;z-index:2}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > .back[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:10px 0 10px 10px;width:20px;height:20px;background-image:url(arrow-back.be5ad6ef0f2a3d7b.svg)}[_nghost-%COMP%] > .content[_ngcontent-%COMP%] > .back[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:10px;font-size:12px;color:#999}"]}),i})();function Cj(i,n){if(1&i&&(d(0,"div",7),P(1),p()),2&i){const e=b();c(1),O(e.title)}}const bj=["*"];let wj=(()=>{class i{constructor(e,t,s){this.host=e,this.asyncService=t,this.locationService=s,this.touch=null,this.show=null,this.title="",this.close=new U,this.transform="translateX(100%)",this.animate="none",this.touchRefresh=null,this.scroll=0,this.velocity=0,this.timeoutVelocity=setTimeout(()=>{},0),this.canScroll=!1,this.doScrollBack=!1,this.stat="hide"}setSize(){const e=this.host.nativeElement,t=e.getBoundingClientRect();let s=e.querySelectorAll(".content > *");for(let o of s)o.style.width=`${t.width}px`,o.style.height=`${t.height}px`,o.style.display="flex",o.style.flexDirection="column",o.style.alignItems="center",o.style.justifyContent="center";this.doScrollByPosition(0,!1)}doScrollByPosition(e,t){var s=this;return N(function*(){const o=s.host.nativeElement,r=o.getBoundingClientRect(),a=o.querySelector(".content > *:first-child");return t?(a.style.transition="margin-top ease 0.3s",yield s.asyncService.delay(10),a.style.marginTop=-e*r.height+"px",yield s.asyncService.delay(300),a.style.removeProperty("transition")):a.style.marginTop=-e*r.height+"px",s.scroll=-e*r.height,new Promise(l=>l())})()}doScrollByTouch(e){if(null!==e&&"move"===e.action&&"start"===e.prev.action&&(Math.abs(e.x-e.prev.x)>Math.abs(e.y-e.prev.y)?(this.canScroll=!1,this.doScrollBack=e.x-e.prev.x>0):(this.canScroll=!0,this.doScrollBack=!1)),null!==e&&"move"===e.action&&!this.canScroll&&this.doScrollBack){this.touch.prev&&(this.velocity=this.touch.x-this.touch.prev.x),clearTimeout(this.timeoutVelocity),this.timeoutVelocity=setTimeout(()=>{this.velocity=0},100);let t=this.touch.x-this.touch.start.x;t<0&&(t=0),t>window.innerWidth&&(t=window.innerWidth),this.transform=`translateX(${t}px)`}if(null!==e&&"move"===e.action&&this.canScroll){const t=this.host.nativeElement,s=t.getBoundingClientRect(),o=e.y-e.start.y;this.velocity=e.y-e.prev.y,this.timeoutVelocity=setTimeout(()=>{this.velocity=0},100);const r=t.querySelectorAll(".content > *").length;let a=this.scroll+o;a>0&&(a=0),a<s.height*(r-1)*-1&&(a=s.height*(r-1)*-1),this.scroll+o>0&&(this.touchRefresh=e),this.host.nativeElement.querySelector(".content > *:first-child").style.marginTop=`${a}px`}if(null!==e&&"end"===e.action&&this.canScroll){const t=this.host.nativeElement,s=t.getBoundingClientRect();if(this.scroll+=e.y-e.start.y,0===this.velocity){let r=0;r=-this.scroll%s.height>s.height/2?Math.floor(-this.scroll/s.height):Math.floor(-this.scroll/s.height)-1,r++;const a=t.querySelectorAll(".content > *").length;r<0&&(r=0),r>a-1&&(r=a-1),this.doScrollByPosition(r,!0)}else{let r=0;this.velocity<0?r=Math.floor(-this.scroll/s.height):this.velocity>0&&(r=Math.floor(-this.scroll/s.height)-1),r++;const a=t.querySelectorAll(".content > *").length;r<0&&(r=0),r>a-1&&(r=a-1),this.doScrollByPosition(r,!0)}this.touchRefresh=e}null!==e&&"end"===e.action&&this.doScrollBack&&(this.doScrollBack=!1,this.velocity>0?this.smoothClose():this.velocity<0?this.smoothShow():0==this.velocity&&(this.touch.x-this.touch.start.x>window.innerWidth/2?this.smoothClose():this.smoothShow()))}smoothShow(){var e=this;return N(function*(){return e.stat="show",e.animate="ease 0.2s",e.host.nativeElement.style.display="block",yield e.asyncService.delay(10),e.setSize(),yield e.asyncService.delay(10),e.transform="translateX(0px)",yield e.asyncService.delay(200),e.animate="none",new Promise(t=>t())})()}smoothClose(){var e=this;return N(function*(){return e.stat="hide",e.animate="ease 0.2s",yield e.asyncService.delay(10),e.transform=`translateX(${window.innerWidth}px)`,yield e.asyncService.delay(200),e.host.nativeElement.style.display="none",e.animate="none",e.close.emit(),new Promise(t=>t())})()}ngOnInit(){}ngOnDestroy(){var e=this;return N(function*(){return console.log("one"),yield e.smoothClose(),yield e.asyncService.delay(3e3),console.log("two"),new Promise(t=>t())})()}ngAfterViewInit(){}ngOnChanges(e){e.show&&e.show.previousValue!==e.show.currentValue&&(e.show.currentValue&&"hide"===this.stat?this.smoothShow():!e.show.currentValue&&"show"===this.stat&&this.smoothClose()),e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.doScrollByTouch(e.touch.currentValue)}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(Pe),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-scroll-fragments-refresh"]],hostVars:4,hostBindings:function(e,t){2&e&&y("transform",t.transform)("transition",t.animate)},inputs:{touch:"touch",show:"show",title:"title"},outputs:{close:"close"},features:[ie],ngContentSelectors:bj,decls:10,vars:4,consts:[[1,"refresh",3,"touch"],[1,"back"],[1,"ico"],[1,"text"],["class","title",4,"ngIf"],[1,"content"],[1,"hint"],[1,"title"]],template:function(e,t){1&e&&(vi(),_(0,"app-touch-refresh",0),d(1,"div",1),_(2,"div",2),d(3,"div",3),P(4),p(),p(),T(5,Cj,2,1,"div",4),d(6,"div",5),Zn(7),p(),d(8,"div",6),P(9),p()),2&e&&(g("touch",t.touchRefresh),c(4),O(t.locationService.translate("back","\u043d\u0430\u0437\u0430\u0434")),c(1),g("ngIf",""!==t.title),c(4),O(t.locationService.translate("swipe up/down","\u0441\u0432\u0430\u0439\u043f \u0432\u0432\u0435\u0440\u0445/\u0432\u043d\u0438\u0437")))},directives:[Uc,ot],styles:["[_nghost-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden;display:none}[_nghost-%COMP%] > .refresh[_ngcontent-%COMP%]{z-index:10}[_nghost-%COMP%] > .title[_ngcontent-%COMP%]{position:absolute;top:100px;left:50%;transform:translate(-50%);text-align:center;max-width:100%;font-size:18px}[_nghost-%COMP%] > .back[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;z-index:2}[_nghost-%COMP%] > .back[_ngcontent-%COMP%] > .ico[_ngcontent-%COMP%]{margin:10px 0 10px 10px;width:20px;height:20px;background-image:url(arrow-back.be5ad6ef0f2a3d7b.svg)}[_nghost-%COMP%] > .back[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:10px;font-size:12px;color:#999}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{position:absolute;bottom:10px;font-size:12px;width:100%;color:#999;text-align:center;display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none}"]}),i})();function kj(i,n){if(1&i&&_(0,"div",1),2&i){const e=n.$implicit,t=b();y("transform","translateX("+e.x+"px) translateY("+e.y+"px) translateZ("+e.z+"px)")("width",e.width,"px")("height",e.height,"px")("background-image","url("+t.typesObject[e.type].src+")")}}let xj=(()=>{class i{constructor(e,t){this.host=e,this.asyncService=t,this.value=0,this.show=!1,this.stat="hide",this.objects=[],this.typesObject={money1:{name:"money1",originWidth:340,ratio:340/246,src:"../../assets/pack-of-money/money1.png"},money2:{name:"money2",originWidth:357,ratio:357/276,src:"../../assets/pack-of-money/money2.png"},money3:{name:"money3",originWidth:495,ratio:495/142,src:"../../assets/pack-of-money/money3.png"},tape1:{name:"tape1",originWidth:167,ratio:167/151,src:"../../assets/pack-of-money/tape1.png"},tape2:{name:"tape2",originWidth:212,ratio:212/162,src:"../../assets/pack-of-money/tape2.png"},tape3:{name:"tape3",originWidth:123,ratio:123/189,src:"../../assets/pack-of-money/tape3.png"}}}addObject(e,t=this.typesObject[e].originWidth,s=0,o=0,r=0){this.objects.push({type:e,width:t,height:t/this.typesObject[e].ratio,x:s,y:o,z:r})}getCount(){let e=0;return this.value>0&&this.value<10?e=1:this.value>=10&&this.value<50?e=2:this.value>=50&&this.value<100?e=3:this.value>=100&&this.value<700?e=Math.floor(this.value/100)+3:this.value>=700&&(e=Math.floor(this.value/1e3)+10),e>15&&(e=15),e>=5&&e<10&&e++,e>=10&&e<15&&(e+=2),15===e&&(e+=3),e}getInfo(e){const t=window.innerWidth,s=window.innerHeight;return 0===e?{name:"money1",w:.4*t,x:-.2*t,y:.1*s}:1===e?{name:"money1",w:.4*t,x:-.21*t,y:.09*s}:2===e?{name:"money1",w:.4*t,x:-.2*t,y:.08*s}:3===e?{name:"money1",w:.4*t,x:-.19*t,y:.07*s}:4===e?{name:"money1",w:.4*t,x:-.2*t,y:.06*s}:5===e?{name:"tape1",w:.25*t,x:-.19*t,y:.063*s}:6===e?{name:"money2",w:.38*t,x:.2*t,y:.1*s}:7===e?{name:"money2",w:.38*t,x:.21*t,y:.09*s}:8===e?{name:"money2",w:.38*t,x:.2*t,y:.08*s}:9===e?{name:"money2",w:.38*t,x:.19*t,y:.07*s}:10===e?{name:"money2",w:.38*t,x:.2*t,y:.06*s}:11===e?{name:"tape2",w:.25*t,x:.15*t,y:.05*s}:12===e?{name:"money3",w:.55*t,x:0*t,y:.07*s}:13===e?{name:"money3",w:.55*t,x:.01*t,y:.06*s}:14===e?{name:"money3",w:.55*t,x:0*t,y:.05*s}:15===e?{name:"money3",w:.55*t,x:-.01*t,y:.04*s}:16===e?{name:"money3",w:.55*t,x:0*t,y:.03*s}:17===e?{name:"tape3",w:.16*t,x:-0*t,y:.05*s}:{name:"money1",w:.4*t,x:-.2*t,y:.1*s}}refreshMoney(){var e=this;return N(function*(){const t=e.getCount();if(t>e.objects.length)for(let s=e.objects.length;s<t;s++){const o=e.getInfo(s);e.addObject(o.name,o.w,o.x,o.y,s)}else if(t<e.objects.length)for(let s=e.objects.length-1;s>t;s--)e.objects.splice(s,1);return e.objects.map(e.objects.length<=6?s=>s.x=0:(s,o)=>o<6?s.x=e.getInfo(o).x:null),new Promise(s=>s())})()}smoothShow(){var e=this;return N(function*(){return e.stat="show",e.host.nativeElement.style.transition="all ease 0.2s",e.host.nativeElement.style.display="flex",yield e.asyncService.delay(10),e.host.nativeElement.style.transform="translateY(0px)",e.host.nativeElement.style.opacity="1",yield e.asyncService.delay(200),e.host.nativeElement.style.removeProperty("transition"),new Promise(t=>t())})()}smoothClose(){var e=this;return N(function*(){return e.stat="hide",e.host.nativeElement.style.transition="all ease 0.2s",yield e.asyncService.delay(10),e.host.nativeElement.style.transform="translateY(-100%)",e.host.nativeElement.style.opacity="0",yield e.asyncService.delay(200),e.host.nativeElement.style.display="none",e.host.nativeElement.style.removeProperty("transition"),new Promise(t=>t())})()}ngOnInit(){}ngOnChanges(e){e.show&&e.show.previousValue!==e.show.currentValue&&(e.show.currentValue&&"hide"===this.stat?this.smoothShow():!e.show.currentValue&&"show"===this.stat&&this.smoothClose()),e.value&&e.value.previousValue!==e.value.currentValue&&this.refreshMoney()}ngAfterViewInit(){}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(Pe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-money-pack"]],inputs:{value:"value",show:"show"},features:[ie],decls:1,vars:1,consts:[["class","object",3,"transform","width","height","background-image",4,"ngFor","ngForOf"],[1,"object"]],template:function(e,t){1&e&&T(0,kj,1,8,"div",0),2&e&&g("ngForOf",t.objects)},directives:[zt],styles:["[_nghost-%COMP%]{flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;top:0px;left:0px;transform-style:preserve-3d;display:none;transform:translateY(-100%);opacity:0}[_nghost-%COMP%] > .object[_ngcontent-%COMP%]{position:absolute;background-position:center;background-size:contain;background-repeat:no-repeat;flex-shrink:0;transition:all ease .2s;animation-name:showTop;animation-duration:.2s;animation-timing-function:ease;animation-iteration-count:1}@keyframes showTop{0%{opacity:0;margin-top:-50px}to{opacity:1;margin-top:0}}"]}),i})(),Dj=(()=>{class i{constructor(){}rgbToHex(e,t,s){return e=Math.round(e),t=Math.round(t),s=Math.round(s),"#"+(1==e.toString(16).length?"0"+e.toString(16):e.toString(16))+(1==t.toString(16).length?"0"+t.toString(16):t.toString(16))+(1==s.toString(16).length?"0"+s.toString(16):s.toString(16))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Pj(i,n){if(1&i&&(d(0,"div",6),_(1,"div",7),d(2,"div",8),P(3),p(),p()),2&i){const e=b(2).index,t=b();H("number-first",0===e),c(3),O(t.options[e])}}function Sj(i,n){if(1&i&&(Be(0),d(1,"div",3),T(2,Pj,4,3,"div",4),_(3,"div",5),d(4,"div",6),_(5,"div",7),d(6,"div",8),P(7),p(),p(),p(),d(8,"div",9),P(9),p(),Ve()),2&i){const e=b().index,t=b();c(2),g("ngIf",0===e),c(1),y("background-color",t.getColor(e)),H("round-top",0===e),c(4),O(t.options[e+1]),c(1),y("background-color",e===t.active?t.getColor(e)+"33":"unset"),c(1),Ae(" ",t.options[e]===t.options[e+1]?t.options[e]+" "+t.currencyName:t.options[e]+" "+t.currencyName+" < ... < "+t.options[e+1]+" "+t.currencyName,"")}}function Mj(i,n){if(1&i&&(d(0,"div",6),_(1,"div",7),d(2,"div",8),P(3),p(),p()),2&i){const e=b(2).index,t=b();H("number-first",0===e),c(3),O(t.options[e])}}function Ej(i,n){if(1&i&&(Be(0),d(1,"div",3),T(2,Mj,4,3,"div",4),_(3,"div",5),p(),d(4,"div",9),P(5),p(),Ve()),2&i){const e=b().index,t=b();c(2),g("ngIf",0===e),c(1),y("background-color",t.getColor(e)),H("round-top",0===e)("round-bottom",!0),c(1),y("background-color",e===t.active?t.getColor(e)+"33":"unset"),c(1),Ae("+ ",t.currencyName+t.currencyName+t.currencyName,"")}}function Tj(i,n){if(1&i){const e=J();d(0,"div",1),C("click",function(){const o=M(e).index;return b().onChange.emit(o)}),T(1,Sj,10,9,"ng-container",2),T(2,Ej,6,10,"ng-container",2),p()}if(2&i){const e=n.index,t=b();c(1),g("ngIf",e<t.options.length-1),c(1),g("ngIf",e===t.options.length-1)}}let Oj=(()=>{class i{constructor(e,t,s){this.host=e,this.converColorService=t,this.locationService=s,this.options=[],this.currencyName="$",this.touch=null,this.active=0,this.complete=new U,this.onChange=new U,this.timestampEnd=0}processTouch(){!this.touch||"end"===this.touch.action&&(this.touch.timestamp-this.timestampEnd<=300&&this.complete.emit(),this.timestampEnd=this.touch.timestamp||0)}getColor(e){return this.converColorService.rgbToHex(255*e/this.options.length,255-255*e/this.options.length,255-255*e/this.options.length)}ngOnInit(){this.rectHost=this.host.nativeElement.getBoundingClientRect()}ngOnChanges(e){e.touch&&e.touch.previousValue!==e.touch.currentValue&&this.processTouch()}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(Dj),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-slide-money"]],inputs:{options:"options",currencyName:"currencyName",touch:"touch",active:"active"},outputs:{complete:"complete",onChange:"onChange"},features:[ie],decls:1,vars:1,consts:[["class","option",3,"click",4,"ngFor","ngForOf"],[1,"option",3,"click"],[4,"ngIf"],[1,"left"],["class","number",3,"number-first",4,"ngIf"],[1,"line"],[1,"number"],[1,"tick"],[1,"text"],[1,"title"]],template:function(e,t){1&e&&T(0,Tj,3,2,"div",0),2&e&&g("ngForOf",t.options)},directives:[zt,ot],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;user-select:none}[_nghost-%COMP%] > .option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%] > .number[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;align-self:flex-end;transform:translate(5px) translateY(50%)}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%] > .number[_ngcontent-%COMP%] > .tick[_ngcontent-%COMP%]{margin-right:10px;width:2px;height:1px;background:#00000033}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%] > .number[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{font-size:10px;color:#333}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%] > .number.number-first[_ngcontent-%COMP%]{align-self:flex-start;transform:translate(5px) translateY(-50%)}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%] > .line[_ngcontent-%COMP%]{width:10px;height:50px;background-color:#0003}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%] > .line.round-top[_ngcontent-%COMP%]{border-radius:5px 5px 0 0}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .left[_ngcontent-%COMP%] > .line.round-bottom[_ngcontent-%COMP%]{border-radius:0 0 5px 5px}[_nghost-%COMP%] > .option[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{padding:5px 20px;border-radius:10px;margin-left:20px;flex:1;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;text-align:center;color:#333;font-size:14px;align-self:stretch}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{position:fixed;padding:10px;top:50px;left:50%;transform:translate(-50%);background-color:#fff3;backdrop-filter:blur(5px);border-radius:5px;font-size:10px;color:#333;text-align:center}"]}),i})();const Ij=["moneyRef"];function Aj(i,n){if(1&i){const e=J();Be(0),d(1,"div",19),C("click",function(){return M(e),b().chooseCurrency("dollar")}),_(2,"div",20),d(3,"div",21),P(4,"$ dollar"),p(),p(),d(5,"div",19),C("click",function(){return M(e),b().chooseCurrency("euro")}),_(6,"div",22),d(7,"div",21),P(8,"\u20ac euro"),p(),p(),d(9,"div",19),C("click",function(){return M(e),b().chooseCurrency("ruble")}),_(10,"div",23),d(11,"div",21),P(12,"\u20bd ruble"),p(),p(),d(13,"div",19),C("click",function(){return M(e),b().chooseCurrency("yen")}),_(14,"div",24),d(15,"div",21),P(16,"\xa5 yen"),p(),p(),d(17,"div",19),C("click",function(){return M(e),b().chooseCurrency("pound")}),_(18,"div",25),d(19,"div",21),P(20,"\xa3 pound"),p(),p(),d(21,"div",19),C("click",function(){return M(e),b().chooseCurrency("other")}),_(22,"div",26),d(23,"div",21),P(24,"other currency"),p(),p(),Ve()}}function Rj(i,n){if(1&i){const e=J();Be(0),d(1,"div",19),C("click",function(){return M(e),b().chooseCurrency("ruble")}),_(2,"div",23),d(3,"div",21),P(4,"\u20bd \u0440\u0443\u0431\u043b\u044c"),p(),p(),d(5,"div",19),C("click",function(){return M(e),b().chooseCurrency("dollar")}),_(6,"div",20),d(7,"div",21),P(8,"$ \u0434\u043e\u043b\u043b\u0430\u0440"),p(),p(),d(9,"div",19),C("click",function(){return M(e),b().chooseCurrency("euro")}),_(10,"div",22),d(11,"div",21),P(12,"\u20ac \u0435\u0432\u0440\u043e"),p(),p(),d(13,"div",19),C("click",function(){return M(e),b().chooseCurrency("yen")}),_(14,"div",24),d(15,"div",21),P(16,"\xa5 \u0439\u0435\u043d\u0430"),p(),p(),d(17,"div",19),C("click",function(){return M(e),b().chooseCurrency("pound")}),_(18,"div",25),d(19,"div",21),P(20,"\xa3 \u0444\u0443\u043d\u0442 \u0441\u0442\u0435\u0440\u043b\u0438\u043d\u0433\u043e\u0432"),p(),p(),d(21,"div",19),C("click",function(){return M(e),b().chooseCurrency("other")}),_(22,"div",26),d(23,"div",21),P(24,"other currency"),p(),p(),Ve()}}function Fj(i,n){if(1&i){const e=J();Be(0),d(1,"div",19),C("click",function(){return M(e),b().chooseCurrency("dollar")}),_(2,"div",20),d(3,"div",21),P(4,"$ dollar"),p(),p(),d(5,"div",19),C("click",function(){return M(e),b().chooseCurrency("euro")}),_(6,"div",22),d(7,"div",21),P(8,"\u20ac euro"),p(),p(),d(9,"div",19),C("click",function(){return M(e),b().chooseCurrency("ruble")}),_(10,"div",23),d(11,"div",21),P(12,"\u20bd ruble"),p(),p(),d(13,"div",19),C("click",function(){return M(e),b().chooseCurrency("yen")}),_(14,"div",24),d(15,"div",21),P(16,"\xa5 yen"),p(),p(),d(17,"div",19),C("click",function(){return M(e),b().chooseCurrency("pound")}),_(18,"div",25),d(19,"div",21),P(20,"\xa3 pound"),p(),p(),d(21,"div",19),C("click",function(){return M(e),b().chooseCurrency("other")}),_(22,"div",26),d(23,"div",21),P(24,"other currency"),p(),p(),Ve()}}function Nj(i,n){if(1&i&&(d(0,"div"),P(1),p()),2&i){const e=n.$implicit,t=b();Ms("stage2-coin stage2-coin_"+e.type),y("margin-left",e.x+"px")("margin-top",e.y+"px")("animation-duration",e.speed+"s"),c(1),O(t.coinContent(e.type))}}let Lj=(()=>{class i{constructor(e,t,s){this.touchService=e,this.locationService=t,this.changeDetectorRef=s,this.subs=[],this.call={},this.touches={showPrice:null,hintNo:null,hintYes:null,hint:null,currency:null,currencyName:null,currencyRate:null,currencyValue:null,currencySlide:null},this.stats={showPrice:"close",hintNo:"close",hintYes:"close",hint:"close",currency:"close",currencyName:"close",currencyRate:"close",currencyValue:"close",currencySlide:"close"},this.disableds={showPrice:!0,hintNo:!0,hintYes:!0,hint:!0,currency:!0,currencyName:!0,currencyRate:!0,currencyValue:!0,currencySlide:!0},this.wasChoosen={showPrice:!1,hintNo:!1,hintYes:!1,currency:!1},this.howShowPrice="notAtAll",this.firstChoose="no",this.otherCurrency=!1,this.activeCoin=0,this.typesCoin=["dollar","euro","ruble","yen","pound"],this.coins=[],this.intervalCoins=setTimeout(()=>{},0),this.doscrolltocenter=!1,this.currency={id:"",name:"",rate:1,sign:"",value:0,active:0,options:[]}}onTouchend(){"open"===this.stats.hint&&this.disableds.hint&&(this.disableds.hint=!1)}onTouchcancel(){"open"===this.stats.hint&&this.disableds.hint&&(this.disableds.hint=!1)}processTouch(e){Object.entries(this.disableds).forEach(([t,s])=>{s||(this.touches[t]=e)})}onCloseScreen(e){this.disableds[e]=!0,this.stats[e]="close","showPrice"!==e||this.wasChoosen.showPrice?"hintNo"===e&&!this.wasChoosen.hintNo||"hintYes"===e&&!this.wasChoosen.hintYes?this.showScreen("showPrice"):"currency"!==e||this.wasChoosen.currency?"currencyValue"!==e||this.wasChoosen.currencyValue?"currencyName"!==e||this.wasChoosen.currencyName?"currencyRate"!==e||this.wasChoosen.currencyRate?"currencySlide"===e&&!this.wasChoosen.currencySlide&&("hint"!==this.howShowPrice||this.otherCurrency?"hint"===this.howShowPrice&&this.otherCurrency&&this.showScreen("currencyRate"):this.showScreen("currency")):("exact"===this.howShowPrice||"hint"===this.howShowPrice)&&this.showScreen("currencyName"):(("exact"===this.howShowPrice||"hint"===this.howShowPrice)&&this.showScreen("currency"),this.otherCurrency=!1):"exact"!==this.howShowPrice||this.otherCurrency?"exact"===this.howShowPrice&&this.otherCurrency&&this.showScreen("currencyRate"):this.showScreen("currency"):"yes"===this.firstChoose?this.showScreen("hintYes"):"no"===this.firstChoose&&this.showScreen("hintNo"):console.log("BACK"),this.wasChoosen[e]=!1,this.changeDetectorRef.detectChanges()}showScreen(e){this.disableds[e]=!1,this.stats[e]="open","currencySlide"===e&&setTimeout(()=>{this.doscrolltocenter=!this.doscrolltocenter},0)}chooseCurrency(e){this.wasChoosen.currency=!0,this.stats.currency="close","other"===e?(this.otherCurrency=!0,this.showScreen("currencyName")):(this.currency.id=e,this.currency.name=this.currencyName(e),this.currency.sign=this.coinContent(e),this.currency.rate=this.currencyRate(e),this.currency.options=this.currencyOption(e),"hint"===this.howShowPrice?this.showScreen("currencySlide"):"exact"===this.howShowPrice&&this.showScreen("currencyValue"))}currencyOption(e){return"dollar"===e||"euro"===e?[0,0,10,50,100,500,1e3,1e4,1e5]:"ruble"===e?[0,0,1e3,5e3,1e4,5e4,1e5,1e6,1e7]:"yen"===e?[0,0,1500,7500,15e3,75e3,15e4,15e5,15e6]:"pound"===e?[0,0,10,50,100,500,1e3,1e4,1e5]:[0*this.currency.rate,0*this.currency.rate,10*this.currency.rate,50*this.currency.rate,100*this.currency.rate,500*this.currency.rate,1e3*this.currency.rate,1e4*this.currency.rate,1e5*this.currency.rate]}currencyName(e){if("ru"===this.locationService.location().country.code){if("dollar"===e)return"\u0434\u043e\u043b\u043b\u0430\u0440";if("euro"===e)return"\u0435\u0432\u0440\u043e";if("ruble"===e)return"\u0440\u0443\u0431\u043b\u044c";if("yen"===e)return"\u0439\u0435\u043d\u0430";if("pound"===e)return"\u0444\u0443\u043d\u0442 \u0441\u0442\u0435\u0440\u043b\u0438\u043d\u0433\u043e\u0432"}return e}currencyRate(e){return"dollar"===e||"euro"===e?1:"ruble"===e?61:"yen"===e?147:"pound"===e?.88:1}coinContent(e){return"dollar"===e?"$":"euro"===e?"\u20ac":"ruble"===e?"\u20bd":"yen"===e?"\xa5":"pound"===e?"\xa3":"$"}resultShowPrice(e){this.wasChoosen.showPrice=!0,this.stats.showPrice="close",e?(this.showScreen("hintYes"),this.firstChoose="yes"):(this.showScreen("hintNo"),this.firstChoose="no")}resultHintNo(e){this.wasChoosen.hintNo=!0,this.stats.hintNo="close",e?(this.howShowPrice="hint",this.showScreen("currency")):(this.howShowPrice="notAtAll",this.goToNextStage())}resultHintYes(e){this.wasChoosen.hintYes=!0,this.stats.hintYes="close",e?(this.howShowPrice="hint",this.showScreen("currency"),this.call.refreshCurrecy=!this.call.refreshCurrecy):(this.howShowPrice="exact",this.showScreen("currency"),this.call.refreshCurrecy=!this.call.refreshCurrecy)}formatLabelMoneyHint(e){return 0===e?"< 10":1===e?"10 < ... < 100":2===e?"100 < ... < 1k":3===e?"1k < ... < 10k":4===e?"10k < ... < 100k":5===e?"100k <":"price < 10$"}onSaveCurrencyName(e){this.wasChoosen.currencyName=!0,this.stats.currencyName="close",this.currency.name=e,this.currency.sign=e.slice(0,1),("exact"===this.howShowPrice||"hint"===this.howShowPrice)&&this.showScreen("currencyRate")}onSaveCurrencyRate(e){this.wasChoosen.currencyRate=!0,this.stats.currencyRate="close";let t=parseFloat(e);t||(t=1),this.currency.rate=Math.round(100*t)/100,this.currency.options=[0*this.currency.rate,0*this.currency.rate,10*this.currency.rate,50*this.currency.rate,100*this.currency.rate,500*this.currency.rate,1e3*this.currency.rate,1e4*this.currency.rate,1e5*this.currency.rate],"hint"===this.howShowPrice?this.showScreen("currencySlide"):"exact"===this.howShowPrice&&this.showScreen("currencyValue")}onSaveCurrencyValue(e){this.wasChoosen.currencyValue=!0,this.stats.currencyValue="close";let t=parseFloat(e);t||(t=1),this.currency.value=Math.round(100*t)/100,this.goToNextStage()}onSaveCurrencySlide(){console.log("catch close slide"),this.wasChoosen.currencySlide=!0,this.stats.currencySlide="close",this.goToNextStage()}onInputCurrencyValue(e){this.currency.value=e}goToNextStage(){console.log("GO TO NEXT STAGE")}ngOnInit(){this.subs.push(this.touchService.stream$.subscribe(s=>{this.processTouch(s)})),clearInterval(this.intervalCoins),this.intervalCoins=setInterval(()=>{let s=this.typesCoin[Math.random()*this.typesCoin.length|0];this.coins.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,type:s,speed:10*Math.random()+1}),this.coins.slice(-1*Math.floor(10))},200),setTimeout(()=>{this.showScreen("showPrice")},100)}ngOnDestroy(){this.subs.forEach(e=>{e.unsubscribe()})}}return i.\u0275fac=function(e){return new(e||i)(D(bg),D(Fe),D(Ts))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-page-create-stage2"]],viewQuery:function(e,t){if(1&e&&ht(Ij,5),2&e){let s;qe(s=Ze())&&(t.moneyRef=s.first)}},hostBindings:function(e,t){1&e&&C("touchend",function(){return t.onTouchend()},!1,Ie)("touchcancel",function(){return t.onTouchcancel()},!1,Ie)},decls:49,vars:67,consts:[[3,"show","touch","close"],[1,"stage2-question"],[1,"stage2-answers"],["matRipple","","matRippleColor","#f4433611",1,"stage2-answer",3,"click"],[1,"stage2-answer__text"],["matRipple","","matRippleColor","#4caf5011",1,"stage2-answer",3,"click"],[1,"stage2-answers","stage2-answers_hint"],[3,"show","touch","title","close"],[4,"ngIf"],[1,"stage2-rename",3,"useAnimate","show","value","enterable","max","min","title","save"],[1,"stage2-rename",3,"useAnimate","show","value","enterable","onlyNumbers","max","min","title","save"],[3,"show","value"],[1,"stage2-rename",3,"useAnimate","show","value","enterable","onlyNumbers","max","min","title","save","onInput"],[1,"hint"],[1,"stage2-screen",3,"show","touch","refreshable","doscrolltocenter","close"],[1,"slide-money",3,"active","options","currencyName","touch","onChange","complete"],[1,"stage2-money"],["moneyRef",""],[3,"class","margin-left","margin-top","animation-duration",4,"ngFor","ngForOf"],["matRipple","","matRippleColor","#00000011",3,"click"],[1,"currency-img","currency-img_dollar"],[1,"currency-text"],[1,"currency-img","currency-img_euro"],[1,"currency-img","currency-img_ruble"],[1,"currency-img","currency-img_yen"],[1,"currency-img","currency-img_pound"],[1,"currency-img","currency-img_other"]],template:function(e,t){1&e&&(d(0,"app-touch-screen-static",0),C("close",function(){return t.onCloseScreen("showPrice")}),d(1,"div",1),P(2),p(),d(3,"div",2),d(4,"div",3),C("click",function(){return t.resultShowPrice(!1)}),d(5,"div",4),P(6),p(),p(),d(7,"div",5),C("click",function(){return t.resultShowPrice(!0)}),d(8,"div",4),P(9),p(),p(),p(),p(),d(10,"app-touch-screen-static",0),C("close",function(){return t.onCloseScreen("hintNo")}),d(11,"div",1),P(12),p(),d(13,"div",6),d(14,"div",3),C("click",function(){return t.resultHintNo(!1)}),d(15,"div",4),P(16),p(),p(),d(17,"div",5),C("click",function(){return t.resultHintNo(!0)}),d(18,"div",4),P(19),p(),p(),p(),p(),d(20,"app-touch-screen-static",0),C("close",function(){return t.onCloseScreen("hintYes")}),d(21,"div",1),P(22),p(),d(23,"div",6),d(24,"div",3),C("click",function(){return t.resultHintYes(!1)}),d(25,"div",4),P(26),p(),p(),d(27,"div",5),C("click",function(){return t.resultHintYes(!0)}),d(28,"div",4),P(29),p(),p(),p(),p(),d(30,"app-touch-scroll-fragments-refresh",7),C("close",function(){return t.onCloseScreen("currency")}),T(31,Aj,25,0,"ng-container",8),T(32,Rj,25,0,"ng-container",8),T(33,Fj,25,0,"ng-container",8),p(),d(34,"app-touch-screen-static",0),C("close",function(){return t.onCloseScreen("currencyName")}),d(35,"app-touch-rename",9),C("save",function(o){return t.onSaveCurrencyName(o)}),p(),p(),d(36,"app-touch-screen-static",0),C("close",function(){return t.onCloseScreen("currencyRate")}),d(37,"app-touch-rename",10),C("save",function(o){return t.onSaveCurrencyRate(o)}),p(),p(),d(38,"div"),_(39,"app-touch-money-pack",11),p(),d(40,"app-touch-screen-static",0),C("close",function(){return t.onCloseScreen("currencyValue")}),d(41,"app-touch-rename",12),C("save",function(o){return t.onSaveCurrencyValue(o)})("onInput",function(o){return t.onInputCurrencyValue(o)}),p(),p(),d(42,"div",13),P(43),p(),d(44,"app-touch-screen",14),C("close",function(){return t.onCloseScreen("currencySlide")}),d(45,"app-touch-slide-money",15),C("onChange",function(o){return t.currency.active=o,t.currency.value=t.currency.options[o]})("complete",function(){return t.onSaveCurrencySlide()}),p(),p(),d(46,"div",16,17),T(48,Nj,2,9,"div",18),p()),2&e&&(g("@slideShow",void 0)("show","open"===t.stats.showPrice)("touch",t.touches.showPrice),c(2),O(t.locationService.translate("Specify the value of the gift?","\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043a\u0430?")),c(4),O(t.locationService.translate("NO","\u041d\u0415\u0422")),c(3),O(t.locationService.translate("YES","\u0414\u0410")),c(1),g("show","open"===t.stats.hintNo)("touch",t.touches.hintNo),c(2),O(t.locationService.translate("You can hint at the value of a gift without giving the exact price","\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043c\u0435\u043a\u043d\u0443\u0442\u044c \u043d\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043a\u0430, \u043d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044f \u0442\u043e\u0447\u043d\u0443\u044e \u0446\u0435\u043d\u0443")),c(4),O(t.locationService.translate("Don't list the price at all","\u041d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0446\u0435\u043d\u0443 \u0441\u043e\u0432\u0441\u0435\u043c")),c(3),O(t.locationService.translate("Hint at the price","\u041d\u0430\u043c\u0435\u043a\u043d\u0443\u0442\u044c")),c(1),g("show","open"===t.stats.hintYes)("touch",t.touches.hintYes),c(2),O(t.locationService.translate("You can hint at the value of a gift without giving the exact price","\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u043c\u0435\u043a\u043d\u0443\u0442\u044c \u043d\u0430 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043a\u0430, \u043d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044f \u0442\u043e\u0447\u043d\u0443\u044e \u0446\u0435\u043d\u0443")),c(4),O(t.locationService.translate("Specify the exact price","\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u043e\u0447\u043d\u0443\u044e \u0446\u0435\u043d\u0443")),c(3),O(t.locationService.translate("Hint at the price","\u041d\u0430\u043c\u0435\u043a\u043d\u0443\u0442\u044c")),c(1),g("show","open"===t.stats.currency)("touch",t.touches.currency)("title",t.locationService.translate("select currency","\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443")),c(1),g("ngIf","us"===t.locationService.location().country.code),c(1),g("ngIf","ru"===t.locationService.location().country.code),c(1),g("ngIf","us"!==t.locationService.location().country.code&&"ru"!==t.locationService.location().country.code),c(1),g("show","open"===t.stats.currencyName)("touch",t.touches.currencyName),c(1),g("useAnimate",!1)("show","open"===t.stats.currencyName)("value",t.currency.name)("enterable",!1)("max",20)("min",1)("title",t.locationService.translate("enter currency name","\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043b\u044e\u0442\u044b")),c(1),g("show","open"===t.stats.currencyRate)("touch",t.touches.currencyRate),c(1),g("useAnimate",!1)("show","open"===t.stats.currencyRate)("value",t.currency.rate)("enterable",!1)("onlyNumbers",!0)("max",10)("min",1)("title",t.locationService.translate("rate ","\u043a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442\u044b ")+" 1 $ = ??? "+t.currency.name),c(1),y("opacity","open"===t.stats.currencySlide?"0.5":"1"),c(1),g("show","open"===t.stats.currencyValue||"open"===t.stats.currencySlide)("value",t.currency.value/t.currency.rate),c(1),g("show","open"===t.stats.currencyValue)("touch",t.touches.currencyValue),c(1),g("useAnimate",!1)("show","open"===t.stats.currencyValue)("value",t.currency.value)("enterable",!1)("onlyNumbers",!0)("max",20)("min",1)("title",t.locationService.translate("Total value of your gifts. Currency: "+t.currency.name,"\u0421\u0443\u043c\u043c\u0430\u0440\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u0430\u0448\u0438\u0445 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432 \u0432 \u0432\u0430\u043b\u044e\u0442\u0435: "+t.currency.name)),c(1),y("display","open"===t.stats.currencySlide?"flex":"none"),c(1),Ae(" ",t.locationService.translate("doble tap to continue","\u0434\u0432\u0430 \u0440\u0430\u0437\u0430 \u043d\u0430\u0436\u043c\u0438 - \u0434\u0430\u043b\u044c\u0448\u0435 \u043f\u0440\u043e\u0439\u0434\u0438"),"\n"),c(1),g("show","open"===t.stats.currencySlide)("touch",t.touches.currencySlide)("refreshable",!0)("doscrolltocenter",t.doscrolltocenter),c(1),g("active",t.currency.active)("options",t.currency.options)("currencyName",t.currency.sign)("touch",t.touches.currencySlide),c(3),g("ngForOf",t.coins))},directives:[yj,ni,wj,ot,Lw,xj,h0,Oj,zt],styles:["[_nghost-%COMP%]{position:absolute;left:0px;top:0px;width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{position:fixed;padding:10px;top:50px;left:50%;transform:translate(-50%);background-color:#fff3;backdrop-filter:blur(2px);border-radius:5px;font-size:10px;color:#333;text-align:center;z-index:10}[_nghost-%COMP%]   .slide-money[_ngcontent-%COMP%]{margin:50px 0;width:80%;align-self:center}[_nghost-%COMP%]   .stage2-screen[_ngcontent-%COMP%] {background-color:unset;box-shadow:none}[_nghost-%COMP%]   .stage2-screen[_ngcontent-%COMP%]  app-touch-refresh{margin-top:-41px;z-index:10}[_nghost-%COMP%]   .stage2-screen[_ngcontent-%COMP%] >.back{background-color:unset;border:none}[_nghost-%COMP%]   .stage2-rename[_ngcontent-%COMP%] {background-color:unset;bottom:0px;height:calc(100% - 40px)}[_nghost-%COMP%]   .stage2-rename[_ngcontent-%COMP%]  .title, [_nghost-%COMP%]   .stage2-rename[_ngcontent-%COMP%]  .maxlength, [_nghost-%COMP%]   .stage2-rename[_ngcontent-%COMP%]  .hint{background-color:#fff3;backdrop-filter:blur(2px);width:100%}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0px;left:0px;overflow:hidden;z-index:-1}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;border-radius:100px;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:12px;text-align:center;border:2px dashed #ffffff;box-shadow:2px 2px 5px #0006;opacity:0;background-color:#000;animation-name:coin;animation-duration:2s;animation-timing-function:linear;animation-iteration-count:1}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_dollar[_ngcontent-%COMP%]{background-color:#4caf50}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_euro[_ngcontent-%COMP%]{background-color:#2196f3}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_ruble[_ngcontent-%COMP%]{background-color:#ff9800}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_yen[_ngcontent-%COMP%]{background-color:#e91e63}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_pound[_ngcontent-%COMP%]{background-color:#795548}[_nghost-%COMP%] > .screen-show-price[_ngcontent-%COMP%] {box-shadow:none}[_nghost-%COMP%] > .screen-show-price[_ngcontent-%COMP%] >.back{border-bottom:1px solid #dddddd00}[_nghost-%COMP%]   .stage2-question[_ngcontent-%COMP%]{margin:0 50px;position:absolute;align-self:center;text-align:center;transform:translateY(-50px);user-select:none;color:#333;font-size:16px}[_nghost-%COMP%]   .stage2-answers[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row;align-items:stretch;justify-content:center}[_nghost-%COMP%]   .stage2-answers[_ngcontent-%COMP%] > .stage2-answer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:50%}[_nghost-%COMP%]   .stage2-answers[_ngcontent-%COMP%] > .stage2-answer[_ngcontent-%COMP%] > .stage2-answer__text[_ngcontent-%COMP%]{user-select:none;font-size:18px;color:#333;font-weight:bold;text-align:center}[_nghost-%COMP%]   .stage2-answers[_ngcontent-%COMP%] > .stage2-answer[_ngcontent-%COMP%]:first-child > .stage2-answer__text[_ngcontent-%COMP%]{transform:translate(20px) translateY(150px);color:#f44336}[_nghost-%COMP%]   .stage2-answers[_ngcontent-%COMP%] > .stage2-answer[_ngcontent-%COMP%]:last-child > .stage2-answer__text[_ngcontent-%COMP%]{transform:translate(-20px) translateY(150px);color:#4caf50}[_nghost-%COMP%]   .stage2-answers.stage2-answers_hint[_ngcontent-%COMP%] > .stage2-answer[_ngcontent-%COMP%]:first-child > .stage2-answer__text[_ngcontent-%COMP%]{transform:translate(0) translateY(130px);color:#f44336;width:90%}[_nghost-%COMP%]   .stage2-answers.stage2-answers_hint[_ngcontent-%COMP%] > .stage2-answer[_ngcontent-%COMP%]:last-child > .stage2-answer__text[_ngcontent-%COMP%]{transform:translate(0) translateY(130px);color:#4caf50;width:90%}[_nghost-%COMP%]   .stage2-slider-money[_ngcontent-%COMP%] {position:absolute;transform:translateY(100px);width:80%}[_nghost-%COMP%]   .stage2-slider-money[_ngcontent-%COMP%]  .mat-slider-track-wrapper .mat-slider-track-background{background-color:#ddd}[_nghost-%COMP%]   .stage2-slider-money[_ngcontent-%COMP%]  .mat-slider-track-wrapper .mat-slider-track-fill{background-color:#8bc34a}[_nghost-%COMP%]   .stage2-slider-money[_ngcontent-%COMP%]  .mat-slider-thumb{transform:scale(1);background-color:#8bc34a}[_nghost-%COMP%]   .stage2-slider-money[_ngcontent-%COMP%]  .mat-slider-thumb-label{width:90px;padding:10px;height:20px;background-color:#8bc34a;transform:scale(1);border-radius:5px;right:-50px;top:-60px}[_nghost-%COMP%]   .stage2-slider-money[_ngcontent-%COMP%]  .mat-slider-thumb-label>.mat-slider-thumb-label-text{transform:none;text-align:center;font-size:12px;opacity:1}[_nghost-%COMP%]   .stage2-slider-money.cdk-focused[_ngcontent-%COMP%]  .mat-slider-thumb{transform:scale(1)!important;background-color:#8bc34a}[_nghost-%COMP%]   .stage2-slider-money.cdk-focused[_ngcontent-%COMP%]  .mat-slider-thumb-label{width:90px;padding:10px;height:20px;background-color:#8bc34a;transform:scale(1);border-radius:5px;right:-60px}[_nghost-%COMP%]   .stage2-slider-money.cdk-focused[_ngcontent-%COMP%]  .mat-slider-thumb-label>.mat-slider-thumb-label-text{transform:none;text-align:center;font-size:12px;opacity:1}[_nghost-%COMP%]   .stage2-slider-money.cdk-focused.mat-slider-thumb-label-showing[_ngcontent-%COMP%]   .mat-slider-thumb[_ngcontent-%COMP%]  .mat-slider-thumb{transform:scale(1)}[_nghost-%COMP%]   .currency-img[_ngcontent-%COMP%]{margin:20px 0;width:90%;height:100px;background-position:center;background-repeat:no-repeat;background-size:contain}[_nghost-%COMP%]   .currency-text[_ngcontent-%COMP%]{font-size:18px;color:#333}[_nghost-%COMP%]   .currency-img_dollar[_ngcontent-%COMP%]{background-image:url(dollar.d8b786ed9cb30ce8.png)}[_nghost-%COMP%]   .currency-img_euro[_ngcontent-%COMP%]{background-image:url(euro.87af82d5941c687a.png)}[_nghost-%COMP%]   .currency-img_ruble[_ngcontent-%COMP%]{background-image:url(ruble.8700ba954cdad293.png)}[_nghost-%COMP%]   .currency-img_yen[_ngcontent-%COMP%]{background-image:url(yen.8363d4598249425f.png)}[_nghost-%COMP%]   .currency-img_pound[_ngcontent-%COMP%]{background-image:url(pound.b2c1b8f68ff34e8c.png)}[_nghost-%COMP%]   .currency-img_other[_ngcontent-%COMP%]{background-image:url(other.0440e8f5ac3b054f.png)}@keyframes coin{0%{transform:translateY(0) scale(.1);opacity:0}5%{transform:translateY(5px) scale(1);opacity:.2}50%{transform:translateY(50px) scale(1);opacity:.2}95%{transform:translateY(95px) scale(1);opacity:.2}to{transform:translateY(100px) scale(.1);opacity:0}}"],data:{animation:[ut("slideShow",[me(":enter",[Vi(".stage2-question",[Y({transform:"translateY(-2000px)"})]),Vi(".stage2-answers",[Y({transform:"translateY(-2000px)"})]),Vi(".stage2-question",[le("2s ease",Y({transform:"translateY(-50px)"}))]),Vi(".stage2-answers",[le("2s ease",Y({transform:"translateY(0px) "}))])])])]}}),i})(),Nk=(()=>{class i{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(D(Ji),D(W))},i.\u0275dir=se({type:i}),i})(),zo=(()=>{class i extends Nk{}return i.\u0275fac=function(){let n;return function(t){return(n||(n=function(i){return Cs(()=>{const n=i.prototype.constructor,e=n[Wi]||Td(n),t=Object.prototype;let s=Object.getPrototypeOf(i.prototype).constructor;for(;s&&s!==t;){const o=s[Wi]||Td(s);if(o&&o!==e)return o;s=Object.getPrototypeOf(s)}return o=>new o})}(i)))(t||i)}}(),i.\u0275dir=se({type:i,features:[Ke]}),i})();const fn=new ne("NgValueAccessor"),zj={provide:fn,useExisting:Le(()=>da),multi:!0},Gj=new ne("CompositionEventMode");let da=(()=>{class i extends Nk{constructor(e,t,s){super(e,t),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=Fi()?Fi().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(D(Ji),D(W),D(Gj,8))},i.\u0275dir=se({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&C("input",function(o){return t._handleInput(o.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(o){return t._compositionEnd(o.target.value)})},features:[Re([zj]),Ke]}),i})();const sn=new ne("NgValidators"),Js=new ne("NgAsyncValidators");function Wk(i){return null!=i}function qk(i){const n=qa(i)?Nt(i):i;return Gp(n),n}function Zk(i){let n={};return i.forEach(e=>{n=null!=e?K(K({},n),e):n}),0===Object.keys(n).length?null:n}function Xk(i,n){return n.map(e=>e(i))}function Qk(i){return i.map(n=>function(i){return!i.validate}(n)?n:e=>n.validate(e))}function sm(i){return null!=i?function(i){if(!i)return null;const n=i.filter(Wk);return 0==n.length?null:function(e){return Zk(Xk(e,n))}}(Qk(i)):null}function om(i){return null!=i?function(i){if(!i)return null;const n=i.filter(Wk);return 0==n.length?null:function(e){return function(...i){const n=Zm(i),{args:e,keys:t}=pC(i),s=new Ye(o=>{const{length:r}=e;if(!r)return void o.complete();const a=new Array(r);let l=r,u=r;for(let h=0;h<r;h++){let f=!1;Pn(e[h]).subscribe(new ft(o,m=>{f||(f=!0,u--),a[h]=m},()=>l--,void 0,()=>{(!l||!f)&&(u||o.next(t?fC(t,a):a),o.complete())}))}});return n?s.pipe(Kf(n)):s}(Xk(e,n).map(qk)).pipe(Oe(Zk))}}(Qk(i)):null}function ex(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function tx(i){return i._rawValidators}function nx(i){return i._rawAsyncValidators}function rm(i){return i?Array.isArray(i)?i:[i]:[]}function Fh(i,n){return Array.isArray(i)?i.includes(n):i===n}function ix(i,n){const e=rm(n);return rm(i).forEach(s=>{Fh(e,s)||e.push(s)}),e}function sx(i,n){return rm(n).filter(e=>!Fh(i,e))}class eo extends class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=sm(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=om(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Zl=(()=>{class i extends class{constructor(n){this._cd=n}is(n){var e,t,s;return"submitted"===n?!!(null==(e=this._cd)?void 0:e.submitted):!!(null==(s=null==(t=this._cd)?void 0:t.control)?void 0:s[n])}}{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(D(eo,2))},i.\u0275dir=se({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&H("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[Ke]}),i})();function Xl(i,n){(function(i,n){const e=tx(i);null!==n.validator?i.setValidators(ex(e,n.validator)):"function"==typeof e&&i.setValidators([e]);const t=nx(i);null!==n.asyncValidator?i.setAsyncValidators(ex(t,n.asyncValidator)):"function"==typeof t&&i.setAsyncValidators([t]);const s=()=>i.updateValueAndValidity();Vh(n._rawValidators,s),Vh(n._rawAsyncValidators,s)})(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&ax(i,n)})}(i,n),function(i,n){const e=(t,s)=>{n.valueAccessor.writeValue(t),s&&n.viewToModelUpdate(t)};i.registerOnChange(e),n._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&ax(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const e=t=>{n.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(e),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,n)}function Bh(i,n,e=!0){const t=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(t),n.valueAccessor.registerOnTouched(t)),function(i,n){let e=!1;if(null!==i){if(null!==n.validator){const s=tx(i);if(Array.isArray(s)&&s.length>0){const o=s.filter(r=>r!==n.validator);o.length!==s.length&&(e=!0,i.setValidators(o))}}if(null!==n.asyncValidator){const s=nx(i);if(Array.isArray(s)&&s.length>0){const o=s.filter(r=>r!==n.asyncValidator);o.length!==s.length&&(e=!0,i.setAsyncValidators(o))}}}const t=()=>{};Vh(n._rawValidators,t),Vh(n._rawAsyncValidators,t)}(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Vh(i,n){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function ax(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function jh(i,n){const e=i.indexOf(n);e>-1&&i.splice(e,1)}const Ql="VALID",Gh="INVALID",pa="PENDING",Kl="DISABLED";function dm(i){return(fm(i)?i.validators:i)||null}function cx(i){return Array.isArray(i)?sm(i):i||null}function pm(i,n){return(fm(n)?n.asyncValidators:i)||null}function hx(i){return Array.isArray(i)?om(i):i||null}function fm(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class gm{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=cx(this._rawValidators),this._composedAsyncValidatorFn=hx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Ql}get invalid(){return this.status===Gh}get pending(){return this.status==pa}get disabled(){return this.status===Kl}get enabled(){return this.status!==Kl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=cx(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=hx(n)}addValidators(n){this.setValidators(ix(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(ix(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(sx(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(sx(n,this._rawAsyncValidators))}hasValidator(n){return Fh(this._rawValidators,n)}hasAsyncValidator(n){return Fh(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=pa,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Kl,this.errors=null,this._forEachChild(t=>{t.disable(Yt(K({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Yt(K({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Ql,this._forEachChild(t=>{t.enable(Yt(K({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Yt(K({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ql||this.status===pa)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kl:Ql}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=pa,this._hasOwnPendingAsyncValidator=!0;const e=qk(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function(i,n,e){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let t=i;return n.forEach(s=>{t=t instanceof mm?t.controls.hasOwnProperty(s)?t.controls[s]:null:t instanceof iG&&t.at(s)||null}),t}(this,n)}getError(n,e){const t=e?this.get(e):this;return t&&t.errors?t.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new U,this.statusChanges=new U}_calculateStatus(){return this._allControlsDisabled()?Kl:this.errors?Gh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pa)?pa:this._anyControlsHaveStatus(Gh)?Gh:Ql}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){fm(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class li extends gm{constructor(n=null,e,t){super(dm(e),pm(t,e)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=null,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){jh(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){jh(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class mm extends gm{constructor(n,e,t){super(dm(e),pm(t,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,t={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(t=>{this._throwIfControlMissing(t),this.controls[t].setValue(n[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(t=>{this.controls[t]&&this.controls[t].patchValue(n[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((t,s)=>{t.reset(n[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,t)=>(n[t]=e instanceof li?e.value:e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const t=this.controls[e];t&&n(t,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const t=this.controls[e];if(this.contains(e)&&n(t))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,t)=>((e.enabled||this.disabled)&&(n[t]=e.value),n))}_reduceChildren(n,e){let t=n;return this._forEachChild((s,o)=>{t=e(t,s,o)}),t}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((e,t)=>{if(void 0===n[t])throw new Error(`Must supply a value for form control with name: '${t}'.`)})}}class iG extends gm{constructor(n,e,t){super(dm(e),pm(t,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,t={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){this._checkAllValuesPresent(n),n.forEach((t,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((t,s)=>{this.at(s)&&this.at(s).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((t,s)=>{t.reset(n[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n instanceof li?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((e,t)=>{n(e,t)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((e,t)=>{if(void 0===n[t])throw new Error(`Must supply a value for form control at index: ${t}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}let _x=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({}),i})();const vm=new ne("NgModelWithFormControlWarning"),dG={provide:eo,useExisting:Le(()=>fa)};let fa=(()=>{class i extends eo{constructor(e,t,s,o){super(),this._ngModelWarningConfig=o,this.update=new U,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=function(i,n){if(!n)return null;let e,t,s;return Array.isArray(n),n.forEach(o=>{o.constructor===da?e=o:function(i){return Object.getPrototypeOf(i.constructor)===zo}(o)?t=o:s=o}),s||t||e||null}(0,s)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const t=e.form.previousValue;t&&Bh(t,this,!1),Xl(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}(function(i,n){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)})(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Bh(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return i._ngModelWarningSentOnce=!1,i.\u0275fac=function(e){return new(e||i)(D(sn,10),D(Js,10),D(fn,10),D(vm,8))},i.\u0275dir=se({type:i,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Re([dG]),Ke,ie]}),i})(),Ax=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({imports:[[_x]]}),i})(),OG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({imports:[Ax]}),i})(),IG=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:vm,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({imports:[Ax]}),i})();function AG(i,n){if(1&i){const e=J();d(0,"div",1),C("click",function(){const o=M(e).$implicit;return b().setOptions(o.value)}),_(1,"div",2),d(2,"div",3),P(3),p(),p()}if(2&i){const e=n.$implicit,t=b();H("option_checked",e.value===t.value),c(1),H("checkmark_checked",e.value===t.value),c(1),H("title_checked",e.value===t.value),c(1),O(e.title)}}let RG=(()=>{class i{constructor(){this.options=[],this.value=""}setOptions(e){this.changeFunc(e),this.value=e}writeValue(e){this.value=e}registerOnChange(e){this.changeFunc=e}registerOnTouched(e){this.touchFunc=e}setDisabledState(e){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-radio"]],inputs:{options:"options"},features:[Re([{provide:fn,useExisting:Le(()=>i),multi:!0}])],decls:1,vars:1,consts:[["class","option",3,"option_checked","click",4,"ngFor","ngForOf"],[1,"option",3,"click"],[1,"checkmark"],[1,"title"]],template:function(e,t){1&e&&T(0,AG,4,7,"div",0),2&e&&g("ngForOf",t.options)},directives:[zt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;text-align:center;justify-content:flex-start;user-select:none}[_nghost-%COMP%]   .option[_ngcontent-%COMP%]{margin-left:10px;padding:10px;display:flex;flex-direction:row;text-align:center;justify-content:flex-start;cursor:pointer;border-bottom:1px dashed #00000000;transition:all ease .2s}[_nghost-%COMP%]   .option_checked[_ngcontent-%COMP%]{cursor:default}[_nghost-%COMP%]   .option[_ngcontent-%COMP%]:first-child{margin-left:0}[_nghost-%COMP%]   .option[_ngcontent-%COMP%]:hover{opacity:.5}[_nghost-%COMP%]   .option_checked[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%]   .checkmark[_ngcontent-%COMP%]{margin-right:10px;width:15px;height:15px;border-radius:100%;outline-width:2px;outline-color:#333;outline-offset:2px;outline-style:solid;background-color:#e91e6300;transition:all ease .2s}[_nghost-%COMP%]   .checkmark_checked[_ngcontent-%COMP%]{outline-color:#e91e63;background-color:#e91e63}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px;color:#333;transition:all ease .2s}[_nghost-%COMP%]   .title_checked[_ngcontent-%COMP%]{color:#e91e63}"]}),i})();const FG=["listOptionsRef"];function NG(i,n){if(1&i){const e=J();d(0,"div",6),C("click",function(){const o=M(e).$implicit;return b().setOptions(o.value)}),P(1),p()}if(2&i){const e=n.$implicit;H("option_hide",!b().show),c(1),Ae(" ",e.title," ")}}let LG=(()=>{class i{constructor(e,t,s){this.asyncService=e,this.host=t,this.locationService=s,this.options=[],this.isNull=!0,this.withoutNumber=!1,this.show=!1,this.subs=[],this.control=new li(""),this.value="",this.filteredOptions=[]}onClick(e){let t=e.target,s=!1;for(;"BODY"!==t.tagName;)"APP-DESKTOP-SELECT"===t.tagName&&(s=!0),t=t.parentNode;s||(this.show=!1)}onResize(){this.setListWidth()}setOptions(e){var t;this.control.setValue((null===(t=this.options.find(s=>s.value===e))||void 0===t?void 0:t.title)||e),this.show=!1}writeValue(e){this.control.setValue(e)}registerOnChange(e){this.changeFunc=e}registerOnTouched(e){this.touchFunc=e}setDisabledState(e){}setListWidth(){const e=this.host.nativeElement.getBoundingClientRect();this.listOptionsRef.nativeElement.style.width=e.width-2+"px"}filterOptions(){let e=this.control.value;this.filteredOptions=this.options.filter(s=>new RegExp(`^.*${e}.*$`,"g").test(s.title))}ngOnInit(){this.filteredOptions=this.options}ngAfterViewInit(){this.setListWidth(),this.subs.push(this.control.valueChanges.subscribe(e=>{this.withoutNumber&&(e=e.replace(/[0-9]/g,"")),this.control.setValue(e,{emitEvent:!1}),this.filterOptions();let t=this.options.find(s=>s.title===e);this.changeFunc(t?t.value:e)}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(D(Pe),D(W),D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-select"]],viewQuery:function(e,t){if(1&e&&ht(FG,5,W),2&e){let s;qe(s=Ze())&&(t.listOptionsRef=s.first)}},hostBindings:function(e,t){1&e&&C("click",function(o){return t.onClick(o)},!1,Ie)("resize",function(){return t.onResize()},!1,Ie)},inputs:{options:"options",isNull:"isNull",withoutNumber:"withoutNumber"},features:[Re([{provide:fn,useExisting:Le(()=>i),multi:!0}])],decls:6,vars:11,consts:[[1,"option-active"],["type","text",1,"input-active",3,"formControl","click","input"],[1,"icon","icon_arrow",3,"click"],[1,"list-options"],["listOptionsRef",""],["class","option",3,"option_hide","click",4,"ngFor","ngForOf"],[1,"option",3,"click"]],template:function(e,t){1&e&&(d(0,"div",0),d(1,"input",1),C("click",function(){return t.show=!0})("input",function(){return t.show=!0}),p(),d(2,"div",2),C("click",function(){return t.show=!t.show}),p(),p(),d(3,"div",3,4),T(5,NG,2,3,"div",5),p()),2&e&&(H("option-active_hide",!t.show),c(1),H("input-active_hide",!t.show),g("formControl",t.control),Ue("placeholder",t.locationService.translate("choose","\u0432\u044b\u0431\u0440\u0430\u0442\u044c")),c(1),H("icon_hide",!t.show),c(1),H("list-options_hide",!t.show),c(2),g("ngForOf",t.filteredOptions))},directives:[da,Zl,fa,zt],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start}[_nghost-%COMP%]   .option-active[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;border:1px solid #00000033;border-bottom:1px solid #99999900;border-radius:15px 15px 0 0;background-color:#fff;transition:all ease .2s}[_nghost-%COMP%]   .option-active_hide[_ngcontent-%COMP%]{border-radius:15px;border-bottom:1px solid #00000033}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{margin:0 10px 0 0;width:15px;height:15px;background-color:#fff;background-image:url(arrow-up.0f196ae64df83d91.svg);background-position:center;background-size:contain;background-repeat:no-repeat;border-radius:15px 0 0 15px;transform:rotate(0);transition:all ease .2s}[_nghost-%COMP%]   .icon_hide[_ngcontent-%COMP%]{transform:rotate(180deg)}[_nghost-%COMP%]   .input-active[_ngcontent-%COMP%]{margin:0;padding:10px;border:none;outline:none;font-size:14px;border-radius:15px 0 0 15px;background-color:#fff;font-family:"Comfortaa",cursive}[_nghost-%COMP%]   .list-options[_ngcontent-%COMP%]{position:absolute;background-color:#fff;border:15px;transform:translateY(calc(37px + -0%)) scaleY(1);border:1px solid #00000033;border-top:0px solid #00000033;border-radius:0;max-height:200px;overflow-y:auto;z-index:10;transition:all ease .2s}[_nghost-%COMP%]   .list-options_hide[_ngcontent-%COMP%]{transform:translateY(calc(37px - 50%)) scaleY(0)}[_nghost-%COMP%]   .option[_ngcontent-%COMP%]{padding:10px;cursor:pointer;color:#333;font-size:14px;transition:all ease .2s}[_nghost-%COMP%]   .option[_ngcontent-%COMP%]:hover{background-color:#0002}']}),i})(),BG=(()=>{class i{constructor(e,t){this.asyncService=e,this.host=t,this.postfix="",this.subs=[],this.control=new li(""),this.value=""}writeValue(e){this.control.setValue(`${e}`)}registerOnChange(e){this.changeFunc=e}registerOnTouched(e){this.touchFunc=e}setDisabledState(e){}onKeydownInput(e){if("ArrowLeft"===e.code||"ArrowRight"===e.code)return;let t="";for(let o=0;o<this.postfix.length;o++)t+=`\\${this.postfix[o]}`;let s=new RegExp(`${t}`,"g");e.target.value=e.target.value.replace(s,"").replace(/ /g,"").replace(/\,/g,".")}ngOnInit(){}ngAfterViewInit(){this.subs.push(this.control.valueChanges.subscribe(e=>{let t=parseFloat(e),s=t.toString(),r=(t.toLocaleString(),/\./g.test(e)),a=s.split(".")[0],l=s.split(".")[1],u=a,h="";for(let v=0;u.length>0;v++)h=u.slice(-3)+" "+h,u=u.slice(0,-3);h=h.trim();let f="";if(l){let v=l;f="";for(let k=0;v.length>0;k++)f=v.slice(-3)+" "+f,v=v.slice(0,-3);f=f.trim()}parseFloat(h)||(h="0"),f=parseFloat(f)?f:"";let m=`${h.trim()}${r?" . ":""}${f} ${this.postfix}`;this.control.setValue(m,{emitEvent:!1}),this.changeFunc(parseFloat(m.replace(/ /g,"").replace(/\,/g,".")))}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(D(Pe),D(W))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-input-number"]],inputs:{postfix:"postfix"},features:[Re([{provide:fn,useExisting:Le(()=>i),multi:!0}])],decls:1,vars:1,consts:[["type","text",1,"input",3,"formControl","keydown"]],template:function(e,t){1&e&&(d(0,"input",0),C("keydown",function(o){return t.onKeydownInput(o)}),p()),2&e&&g("formControl",t.control)},directives:[da,Zl,fa],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start}[_nghost-%COMP%]   .input[_ngcontent-%COMP%]{padding:10px;font-size:14px;color:#333;font-family:"Comfortaa",cursive;border:1px solid #00000033;border-radius:15px;outline:none}']}),i})(),VG=(()=>{class i{constructor(e){this.locationService=e}easyAppearence(e){return e<100?`${e}`:e>=1e3&&e<1e6?`${Math.round(e/1e3)} ${this.locationService.translate("k","\u043a")}`:e>=1e6&&e<1e9?`${Math.round(e/1e6)} ${this.locationService.translate("m","\u043c")}`:e>=1e9?`${Math.round(e/1e9)} ${this.locationService.translate("b","\u043c\u043c")}`:`${e}`}}return i.\u0275fac=function(e){return new(e||i)(z(Fe))},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function zG(i,n){1&i&&_(0,"div",10)}let jG=(()=>{class i{constructor(e,t){this.host=e,this.numberService=t,this.options=[0,1e3],this.sign="$",this.position=0,this.textCursor="",this.cursor={active:!1}}writeValue(e){this.position=e}registerOnChange(e){this.changeFunc=e}registerOnTouched(e){this.touchFunc=e}setDisabledState(e){}onMouseDownCursor(e){this.cursor.active=!0}onMouseMove(e){if(!this.cursor.active)return;let[t,s]=[e.clientX,e.clientY];const o=this.host.nativeElement.getBoundingClientRect();let r=Math.floor((t-o.x)/(o.width/(this.options.length-1)));r>this.options.length-2&&(r=this.options.length-2),r<0&&(r=0),this.setPostions(r)}onMouseUp(e){this.cursor.active=!1}setPostions(e){const t=this.host.nativeElement.getBoundingClientRect();this.position=t.width/(this.options.length-1)*e+t.width/(this.options.length-1)/2,this.textCursor=`${this.numberService.easyAppearence(this.options[e])} ${this.sign} < ... < ${this.numberService.easyAppearence(this.options[e+1])} ${this.sign}`,0===e&&this.options[e]===this.options[e+1]&&0===this.options[e]&&(this.textCursor=`${this.numberService.easyAppearence(this.options[e])} ${this.sign}`),e===this.options.length-2&&this.options[e]===this.options[e+1]&&this.options[e]>0&&(this.textCursor=`${this.numberService.easyAppearence(this.options[e])} ${this.sign} < ...`),this.changeFunc(e)}ngOnInit(){setTimeout(()=>{this.setPostions(0)},0)}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(VG))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-slide-money"]],hostBindings:function(e,t){1&e&&C("mousemove",function(o){return t.onMouseMove(o)},!1,Ie)("mouseup",function(o){return t.onMouseUp(o)},!1,Ie)},inputs:{options:"options",sign:"sign"},features:[Re([{provide:fn,useExisting:Le(()=>i),multi:!0}])],decls:13,vars:6,consts:[[1,"wrap-cursor"],[1,"cursor",3,"mousedown"],[1,"cursor__text"],[1,"square"],[1,"ticks"],["class","tick",4,"ngFor","ngForOf"],[1,"line-back"],[1,"wrap-minmax"],[1,"wrap-minmax__text","wrap-minmax__text_left"],[1,"wrap-minmax__text","wrap-minmax__text_right"],[1,"tick"]],template:function(e,t){1&e&&(d(0,"div",0),d(1,"div",1),C("mousedown",function(o){return t.onMouseDownCursor(o)}),d(2,"div",2),P(3),p(),_(4,"div",3),p(),p(),d(5,"div",4),T(6,zG,1,0,"div",5),p(),_(7,"div",6),d(8,"div",7),d(9,"div",8),P(10),p(),d(11,"div",9),P(12),p(),p()),2&e&&(c(1),y("transform","translateX(calc("+t.position+"px - 50%))"),c(2),O(t.textCursor),c(3),g("ngForOf",t.options),c(4),O(t.numberService.easyAppearence(t.options[0])),c(2),O(t.numberService.easyAppearence(t.options[t.options.length-1])))},directives:[zt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;justify-content:center}[_nghost-%COMP%]   .wrap-cursor[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;margin-bottom:10px}[_nghost-%COMP%]   .cursor[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#fff;border-radius:15px;padding:10px;border:1px dashed #e91e63;color:#e91e63;user-select:none;cursor:grab;transition:transform ease .1s}[_nghost-%COMP%]   .cursor__text[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]   .square[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;background-color:#fff;transform:translateY(18px) rotate(45deg);border-right:1px dashed #e91e63;border-bottom:1px dashed #e91e63}[_nghost-%COMP%]   .ticks[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .tick[_ngcontent-%COMP%]{width:1px;height:10px;background-color:#333}[_nghost-%COMP%]   .line-back[_ngcontent-%COMP%]{transform:translateY(0);background-color:#333;height:1px}[_nghost-%COMP%]   .wrap-minmax[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .wrap-minmax__text[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]   .wrap-minmax__text_left[_ngcontent-%COMP%]{transform:translate(-50%)}[_nghost-%COMP%]   .wrap-minmax__text_right[_ngcontent-%COMP%]{transform:translate(50%)}"]}),i})();function GG(i,n){if(1&i&&(d(0,"div"),P(1),p()),2&i){const e=n.$implicit,t=b();Ms("stage2-coin stage2-coin_"+e.type),y("margin-left",e.x+"px")("margin-top",e.y+"px")("animation-duration",e.speed+"s"),c(1),O(t.coinContent(e.type))}}const HG=function(i){return{title:i,value:"yes"}},UG=function(i){return{title:i,value:"no"}},$G=function(i){return{title:i,value:"hint"}},YG=function(i,n,e){return[i,n,e]},WG=function(i){return{title:i,value:"dollar"}},qG=function(i){return{title:i,value:"euro"}},ZG=function(i){return{title:i,value:"ruble"}},XG=function(i){return{title:i,value:"yen"}},QG=function(i){return{title:i,value:"pound"}},KG=function(i,n,e,t,s){return[i,n,e,t,s]};let JG=(()=>{class i{constructor(e){this.locationService=e,this.subs=[],this.firstControl=new li("no"),this.secondControl=new li(""),this.thirdControl=new li(0),this.fourthControl=new li(0),this.fifthControl=new li(0),this.activeCoin=0,this.typesCoin=["dollar","euro","ruble","yen","pound"],this.coins=[],this.intervalCoins=setTimeout(()=>{},0)}initCoins(){clearInterval(this.intervalCoins),this.intervalCoins=setInterval(()=>{let s=this.typesCoin[Math.random()*this.typesCoin.length|0];this.coins.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,type:s,speed:10*Math.random()+1}),this.coins.slice(-1*Math.floor(10))},200)}coinContent(e){return"dollar"===e?"$":"euro"===e?"\u20ac":"ruble"===e?"\u20bd":"yen"===e?"\xa5":"pound"===e?"\xa3":"$"}getValuePostfix(e){return"dollar"===e?"$":"euro"===e?"\u20ac":"ruble"===e?"\u20bd":"yen"===e?"\xa5":"pound"===e?"\xa3":e.slice(0,1)}currencyOption(e,t){return"dollar"===e||"euro"===e?[0,0,10,50,100,500,1e3,1e4,1e5,1e5]:"ruble"===e?[0,0,1e3,5e3,1e4,5e4,1e5,1e6,1e7,1e7]:"yen"===e?[0,0,1500,7500,15e3,75e3,15e4,15e5,15e6,15e6]:"pound"===e?[0,0,10,50,100,500,1e3,1e4,1e5,1e5]:[0*t,0*t,10*t,50*t,100*t,500*t,1e3*t,1e4*t,1e5*t,1e5*t]}isDefaultSign(e){return"dollar"===e||"euro"===e||"ruble"===e||"yen"===e||"pound"===e}ngOnInit(){this.initCoins(),this.subs.push(this.firstControl.valueChanges.subscribe(e=>{})),this.subs.push(this.secondControl.valueChanges.subscribe(e=>{this.thirdControl.setValue(0)})),this.subs.push(this.thirdControl.valueChanges.subscribe(e=>{})),this.subs.push(this.fifthControl.valueChanges.subscribe(e=>{}))}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(D(Fe))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-page-create-stage2"]],decls:24,vars:53,consts:[[1,"content"],[1,"text","margin"],[1,"margin",3,"formControl","options"],[1,"expand"],[1,"margin","input",3,"withoutNumber","formControl","options"],[1,"margin","input",3,"formControl","postfix"],[1,"margin","slide-money",3,"formControl","options","sign"],["background","#e91e63","color","#ffffff",1,"button-next-stage",3,"text"],[1,"stage2-money"],["moneyRef",""],[3,"class","margin-left","margin-top","animation-duration",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(d(0,"div",0),d(1,"div",1),P(2),p(),_(3,"app-desktop-radio",2),d(4,"div",3),d(5,"div",1),P(6),p(),_(7,"app-desktop-select",4),p(),d(8,"div",3),d(9,"div",1),P(10),p(),_(11,"app-desktop-input-number",5),p(),d(12,"div",3),d(13,"div",1),P(14),p(),_(15,"app-desktop-input-number",5),p(),d(16,"div",3),d(17,"div",1),P(18),p(),_(19,"app-desktop-slide-money",6),p(),_(20,"app-desktop-button",7),p(),d(21,"div",8,9),T(23,GG,2,9,"div",10),p()),2&e&&(c(2),Ae(" ",t.locationService.translate("Specify the value of the gift?","\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043a\u0430?")," "),c(1),g("formControl",t.firstControl)("options",Je(33,YG,ts(27,HG,t.locationService.translate("yes","\u0434\u0430")),ts(29,UG,t.locationService.translate("not","\u043d\u0435\u0442")),ts(31,$G,t.locationService.translate("hint","\u043d\u0430\u043c\u0435\u043a\u043d\u0443\u0442\u044c")))),c(1),H("expand_hidden","no"===t.firstControl.value),c(2),Ae(" ",t.locationService.translate("Which currency?","\u0412 \u043a\u0430\u043a\u043e\u0439 \u0432\u0430\u043b\u044e\u0442\u0435?")," "),c(1),g("withoutNumber",!0)("formControl",t.secondControl)("options",function(i,n,e,t,s,o,r,a){const l=un()+i,u=B(),h=qn(u,l,e,t,s,o);return Jt(u,l+4,r)||h?Ii(u,l+5,a?n.call(a,e,t,s,o,r):n(e,t,s,o,r)):Wa(u,l+5)}(47,KG,ts(37,WG,t.locationService.translate("dollar","\u0434\u043e\u043b\u043b\u0430\u0440")),ts(39,qG,t.locationService.translate("euro","\u0435\u0432\u0440\u043e")),ts(41,ZG,t.locationService.translate("ruble","\u0440\u0443\u0431\u043b\u044c")),ts(43,XG,t.locationService.translate("yen","\u0439\u0435\u043d\u0430")),ts(45,QG,t.locationService.translate("pound","\u0444\u0443\u043d\u0442 \u0441\u0442\u0435\u0440\u043b\u0438\u043d\u0433\u043e\u0432")))),c(1),H("expand_hidden","no"===t.firstControl.value||""===t.secondControl.value||t.isDefaultSign(t.secondControl.value)),c(2),Ae(" ",t.locationService.translate("Rate? 1 $ = ??? "+t.getValuePostfix(t.secondControl.value),"\u041a\u0443\u0440\u0441? 1 $ = ??? "+t.getValuePostfix(t.secondControl.value))," "),c(1),g("formControl",t.thirdControl)("postfix",t.getValuePostfix(t.secondControl.value)),c(1),H("expand_hidden","no"===t.firstControl.value||"hint"===t.firstControl.value||""===t.secondControl.value||0===t.thirdControl.value&&!t.isDefaultSign(t.secondControl.value)),c(2),Ae(" ",t.locationService.translate("What is the price?","\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u043e\u0438\u0442?")," "),c(1),g("formControl",t.fourthControl)("postfix",t.getValuePostfix(t.secondControl.value)),c(1),H("expand_hidden","no"===t.firstControl.value||"yes"===t.firstControl.value||""===t.secondControl.value||0===t.thirdControl.value&&!t.isDefaultSign(t.secondControl.value)),c(2),Ae(" ",t.locationService.translate("What is the price?","\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u043e\u0438\u0442?")," "),c(1),g("formControl",t.fifthControl)("options",t.currencyOption(t.secondControl.value,t.thirdControl.value))("sign",t.getValuePostfix(t.secondControl.value)),c(1),g("text",t.locationService.translate("next","\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u044d\u0442\u0430\u043f")),c(3),g("ngForOf",t.coins))},directives:[RG,Zl,fa,LG,BG,jG,js,zt],styles:["[_nghost-%COMP%]{position:absolute;left:0px;top:0px;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .margin[_ngcontent-%COMP%]{margin:10px}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{min-width:500px;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;border-radius:15px;background-color:#fff3;backdrop-filter:blur(2px)}[_nghost-%COMP%]   .button-next-stage[_ngcontent-%COMP%]{margin:10px;align-self:flex-end}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0px;left:0px;overflow:hidden;z-index:-1}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;border-radius:100px;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:12px;text-align:center;border:2px dashed #ffffff;box-shadow:2px 2px 5px #0006;opacity:0;background-color:#000;animation-name:coin;animation-duration:2s;animation-timing-function:linear;animation-iteration-count:1}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_dollar[_ngcontent-%COMP%]{background-color:#4caf50}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_euro[_ngcontent-%COMP%]{background-color:#2196f3}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_ruble[_ngcontent-%COMP%]{background-color:#ff9800}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_yen[_ngcontent-%COMP%]{background-color:#e91e63}[_nghost-%COMP%]   .stage2-money[_ngcontent-%COMP%] > .stage2-coin_pound[_ngcontent-%COMP%]{background-color:#795548}[_nghost-%COMP%]   .slide-money[_ngcontent-%COMP%]{margin:10px 50px 10px 10px;width:400px}[_nghost-%COMP%]   .input[_ngcontent-%COMP%]{width:200px}[_nghost-%COMP%]   .expand[_ngcontent-%COMP%]{max-height:300px;overflow:hidden;transition:all ease .2s}[_nghost-%COMP%]   .expand_hidden[_ngcontent-%COMP%]{max-height:0px}@keyframes coin{0%{transform:translateY(0) scale(.1);opacity:0}5%{transform:translateY(5px) scale(1);opacity:1}50%{transform:translateY(50px) scale(1);opacity:1}95%{transform:translateY(95px) scale(1);opacity:1}to{transform:translateY(100px) scale(.1);opacity:0}}"]}),i})();const ga=function(i,n,e,t){return{width:i,height:n,"background-color":e,transform:t}},St=function(i,n,e){return{width:i,height:n,transform:e}},eu=function(i,n){return{width:i,height:n}},tu=function(i,n,e){return{width:i,height:n,transform:e}},eH=["*"];let Rx=(()=>{class i{constructor(e){this.asyncService=e,this.math=Math,this.animateClass=!1,this.shadow=!1,this.width=300,this.height=200,this.depth=400,this.inside="",this.package="../../assets/box/package/1.jpg",this.tape="../../assets/box/tape/1.jpg",this.animate=!1,this.packed=!1,this.wrapped=!1,this.tapped=!1,this.margin=1,this.widthTape=20,this.sides=["","","","","",""],this.color="#c3aa83",this.unbox=!0,this.bind1=!1,this.bind2=!1,this.wrapbind1=!1,this.wrapbind2=!1,this.wrapbind3=!1,this.tapebind1=!1,this.showPackage=!1,this.displayPackage="none",this.tapeshow=!1,this.tapedisplay="none",this.bowshow=!1,this.bowdisplay="none"}setInside(){var e=this;return N(function*(){if(""==e.inside)return void(e.sides=["","","","","",""]);if(!/^data:image\/png\;base64\,/g.test(e.inside))return;let t=0,s=0,o=yield e.asyncService.loadImg(e.inside);const r=document.createElement("canvas"),a=r.getContext("2d");t=e.height,s=e.depth,r.setAttribute("width",t+"px"),r.setAttribute("height",s+"px"),a.drawImage(o,0,e.height,t,s,0,0,t,s),e.sides[0]=r.toDataURL("image/png"),t=e.width,s=e.height,r.setAttribute("width",t+"px"),r.setAttribute("height",s+"px"),a.drawImage(o,e.height,0,t,s,0,0,t,s),e.sides[1]=r.toDataURL("image/png"),t=e.width,s=e.depth,r.setAttribute("width",t+"px"),r.setAttribute("height",s+"px"),a.drawImage(o,e.height,e.height,t,s,0,0,t,s),e.sides[2]=r.toDataURL("image/png"),t=e.width,s=e.height,r.setAttribute("width",t+"px"),r.setAttribute("height",s+"px"),a.drawImage(o,e.height,e.height+e.depth,t,s,0,0,t,s),e.sides[3]=r.toDataURL("image/png"),t=e.height,s=e.depth,r.setAttribute("width",t+"px"),r.setAttribute("height",s+"px"),a.drawImage(o,e.height+e.width,e.height,t,s,0,0,t,s),e.sides[4]=r.toDataURL("image/png"),t=e.width,s=e.depth,r.setAttribute("width",t+"px"),r.setAttribute("height",s+"px"),a.drawImage(o,e.height+e.width+e.height,e.height,t,s,0,0,t,s),e.sides[5]=r.toDataURL("image/png")})()}doPackedAnim(){var e=this;return N(function*(){return yield e.asyncService.delay(10),e.bind1=!0,yield e.asyncService.delay(300),e.bind1=!1,e.bind2=!0,yield e.asyncService.delay(300),e.unbox=!1,yield e.asyncService.delay(300),new Promise(t=>t())})()}doUnpackedAnim(){var e=this;return N(function*(){return yield e.asyncService.delay(10),e.unbox=!0,yield e.asyncService.delay(300),e.bind2=!1,yield e.asyncService.delay(300),new Promise(t=>t())})()}doPackedNoAnim(){this.bind1=!1,this.bind2=!0,this.unbox=!1}doUnpackedNoAnim(){this.bind1=!1,this.bind2=!1,this.unbox=!0}doWrappedAnim(){var e=this;return N(function*(){return e.displayPackage="flex",yield e.asyncService.delay(10),e.showPackage=!0,yield e.asyncService.delay(1e3),e.wrapbind1=!0,yield e.asyncService.delay(3e3),e.wrapbind2=!0,yield e.asyncService.delay(500),e.wrapbind3=!0,e.shadow=!0,yield e.asyncService.delay(500),new Promise(t=>t())})()}doUnwrappedAnim(){var e=this;return N(function*(){return yield e.asyncService.delay(10),e.wrapbind3=!1,e.shadow=!1,yield e.asyncService.delay(500),e.wrapbind2=!1,yield e.asyncService.delay(500),e.wrapbind1=!1,yield e.asyncService.delay(3e3),e.showPackage=!1,yield e.asyncService.delay(1e3),e.displayPackage="none",new Promise(t=>t())})()}doWrappedNoAnim(){this.displayPackage="flex",this.showPackage=!0,this.wrapbind1=!0,this.wrapbind2=!0,this.wrapbind3=!0,this.shadow=!0}doUnwrappedNoAnim(){this.displayPackage="none",this.showPackage=!1,this.wrapbind1=!1,this.wrapbind2=!1,this.wrapbind3=!1,this.shadow=!1}doTappedAnim(){var e=this;return N(function*(){return e.tapedisplay="flex",e.bowdisplay="flex",yield e.asyncService.delay(10),e.tapeshow=!0,yield e.asyncService.delay(2e3),e.tapebind1=!0,yield e.asyncService.delay(2e3),e.bowshow=!0,yield e.asyncService.delay(2e3),new Promise(t=>t())})()}doUntappedAnim(){var e=this;return N(function*(){return yield e.asyncService.delay(10),e.bowshow=!1,yield e.asyncService.delay(2e3),e.tapebind1=!1,yield e.asyncService.delay(2e3),e.tapeshow=!1,yield e.asyncService.delay(2e3),e.tapedisplay="none",e.bowdisplay="none",new Promise(t=>t())})()}doTappedNoAnim(){this.tapedisplay="flex",this.bowdisplay="flex",this.tapeshow=!0,this.tapebind1=!0,this.bowshow=!0}doUntappedNoAnim(){this.tapedisplay="none",this.bowdisplay="none",this.tapeshow=!1,this.tapebind1=!1,this.bowshow=!1}ngOnInit(){}ngOnChanges(e){e.animate&&e.animate.previousValue!=e.animate.currentValue&&(this.animateClass=this.animate),e.inside&&e.inside.previousValue!=e.inside.currentValue&&this.setInside(),e.packed&&e.packed.previousValue!=e.packed.currentValue&&(e.packed.currentValue?this.animate?this.doPackedAnim():this.doPackedNoAnim():this.animate?this.doUnpackedAnim():this.doUnpackedNoAnim()),e.wrapped&&e.wrapped.previousValue!=e.wrapped.currentValue&&(e.wrapped.currentValue?this.animate?this.doWrappedAnim():this.doWrappedNoAnim():this.animate?this.doUnwrappedAnim():this.doUnwrappedNoAnim()),e.tapped&&e.tapped.previousValue!=e.tapped.currentValue&&(e.tapped.currentValue?this.animate?this.doTappedAnim():this.doTappedNoAnim():this.animate?this.doUntappedAnim():this.doUntappedNoAnim())}}return i.\u0275fac=function(e){return new(e||i)(D(Pe))},i.\u0275cmp=Q({type:i,selectors:[["app-box"]],hostVars:4,hostBindings:function(e,t){2&e&&H("animate",t.animateClass)("shadow",t.shadow)},inputs:{width:["w","width"],height:["h","height"],depth:["d","depth"],inside:"inside",package:"package",tape:"tape",animate:"animate",packed:"packed",wrapped:"wrapped",tapped:"tapped"},features:[ie],ngContentSelectors:eH,decls:136,vars:905,consts:[[1,"side","front"],[1,"wrap"],[1,"\u0441lip"],[1,"triangle","first"],[1,"fill"],[1,"darkness"],[1,"middle"],[1,"triangle","second"],[1,"side","back"],[1,"side","left"],[1,"side","right"],[1,"side","top"],[1,"side","bottom"],[1,"packageSide","bottom"],[1,"image"],[1,"packageSide","centerside"],[1,"packageSide","front1"],[1,"packageCorner"],[1,"packageTriangle"],[1,"packageFill"],[1,"packageSide","back"],[1,"packageSide","top"],[1,"packageSide","front2"],[1,"tape","bottom1"],[1,"tape","left"],[1,"tape","top11"],[1,"tape","right"]],template:function(e,t){1&e&&(vi(),d(0,"div",0),_(1,"div",1),d(2,"div",2),d(3,"div",3),d(4,"div",4),_(5,"div",5),p(),p(),_(6,"div",6),d(7,"div",7),d(8,"div",4),_(9,"div",5),p(),p(),p(),d(10,"div",2),d(11,"div",3),d(12,"div",4),_(13,"div",5),p(),p(),_(14,"div",6),d(15,"div",7),d(16,"div",4),_(17,"div",5),p(),p(),p(),p(),d(18,"div",8),_(19,"div",1),d(20,"div",2),d(21,"div",3),d(22,"div",4),_(23,"div",5),p(),p(),_(24,"div",6),d(25,"div",7),d(26,"div",4),_(27,"div",5),p(),p(),p(),d(28,"div",2),d(29,"div",3),d(30,"div",4),_(31,"div",5),p(),p(),_(32,"div",6),d(33,"div",7),d(34,"div",4),_(35,"div",5),p(),p(),p(),p(),d(36,"div",9),_(37,"div",1),_(38,"div",5),p(),d(39,"div",10),_(40,"div",1),_(41,"div",5),d(42,"div",11),_(43,"div",1),_(44,"div",5),d(45,"div",2),d(46,"div",3),d(47,"div",4),_(48,"div",5),p(),p(),_(49,"div",6),d(50,"div",7),d(51,"div",4),_(52,"div",5),p(),p(),p(),p(),p(),d(53,"div",12),_(54,"div",1),_(55,"div",5),Zn(56),p(),d(57,"div",13),_(58,"div",14),d(59,"div",15),_(60,"div",14),p(),d(61,"div",15),_(62,"div",14),p(),p(),d(63,"div",16),_(64,"div",14),d(65,"div",17),d(66,"div",18),d(67,"div",19),_(68,"div",14),p(),p(),d(69,"div",18),d(70,"div",19),_(71,"div",14),p(),p(),p(),d(72,"div",17),d(73,"div",18),d(74,"div",19),_(75,"div",14),p(),p(),d(76,"div",18),d(77,"div",19),_(78,"div",14),p(),p(),p(),p(),d(79,"div",20),_(80,"div",14),d(81,"div",17),d(82,"div",18),d(83,"div",19),_(84,"div",14),p(),p(),d(85,"div",18),d(86,"div",19),_(87,"div",14),p(),p(),p(),d(88,"div",17),d(89,"div",18),d(90,"div",19),_(91,"div",14),p(),p(),d(92,"div",18),d(93,"div",19),_(94,"div",14),p(),p(),p(),d(95,"div",17),d(96,"div",18),d(97,"div",19),_(98,"div",14),p(),p(),d(99,"div",18),d(100,"div",19),_(101,"div",14),p(),p(),p(),d(102,"div",17),d(103,"div",18),d(104,"div",19),_(105,"div",14),p(),p(),d(106,"div",18),d(107,"div",19),_(108,"div",14),p(),p(),p(),d(109,"div",21),_(110,"div",14),d(111,"div",15),_(112,"div",14),p(),d(113,"div",15),_(114,"div",14),p(),d(115,"div",22),_(116,"div",14),d(117,"div",17),d(118,"div",18),d(119,"div",19),_(120,"div",14),p(),p(),d(121,"div",18),d(122,"div",19),_(123,"div",14),p(),p(),p(),d(124,"div",17),d(125,"div",18),d(126,"div",19),_(127,"div",14),p(),p(),d(128,"div",18),d(129,"div",19),_(130,"div",14),p(),p(),p(),p(),p(),p(),d(131,"div",23),d(132,"div",24),_(133,"div",25),p(),d(134,"div",26),_(135,"div",25),p(),p()),2&e&&(he(go(760,ga,t.width+"px",t.height+"px",t.color,"translateZ("+t.depth/2+"px) rotateX("+(t.unbox?-90:0)+"deg)")),c(1),y("width",t.width+"px")("height",t.height+"px")("transform","translateZ(-1px) rotateX(180deg) rotateZ(0deg)")("background-image","url("+t.sides[3]+")"),c(1),he(Je(765,St,.4*t.height/5+"px",.4*t.height+"px","translateX("+(t.width/2+.4*t.height/5/2)+"px) rotateY("+(t.bind2||!t.unbox?90:0)+"deg)")),c(1),he(Je(769,St,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(-.4*t.height/2+.4*t.height/5/2)+"px) rotateX("+(t.bind1?90:0)+"deg)")),c(1),he(Je(773,St,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*.25+"px) rotateZ(45deg)")),c(1),y("background-color","#00000022"),c(1),he(Rr(777,eu,.4*t.height/5+"px",.4*t.height-.8*t.height/5+"px")),c(1),he(Je(780,St,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(.4*t.height/2-.4*t.height/5/2)+"px) rotateX("+(t.bind1?-90:0)+"deg)")),c(1),he(Je(784,tu,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*-.25+"px) rotateZ(-45deg)")),c(1),y("background-color","#00000022"),c(1),he(Je(788,St,.4*t.height/5+"px",.4*t.height+"px","translateX("+(-t.width/2+.4*t.height/5/2)+"px) rotateZ(180deg) rotateY("+(t.bind2||!t.unbox?90:0)+"deg)")),c(1),he(Je(792,St,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(-.4*t.height/2+.4*t.height/5/2)+"px) rotateX("+(t.bind1?90:0)+"deg)")),c(1),he(Je(796,St,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*.25+"px) rotateZ(45deg)")),c(1),y("background-color","#00000022"),c(1),he(Rr(800,eu,.4*t.height/5+"px",.4*t.height-.8*t.height/5+"px")),c(1),he(Je(803,St,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(.4*t.height/2-.4*t.height/5/2)+"px) rotateX("+(t.bind1?-90:0)+"deg)")),c(1),he(Je(807,tu,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*-.25+"px) rotateZ(-45deg)")),c(1),y("background-color","#00000022"),c(1),he(go(811,ga,t.width+"px",t.height+"px",t.color,"translateZ("+-t.depth/2+"px) rotateY(180deg) rotateX("+(t.unbox?-90:0)+"deg)")),c(1),y("width",t.width+"px")("height",t.height+"px")("transform","translateZ(-1px) rotateX(180deg) rotateZ(180deg)")("background-image","url("+t.sides[1]+")"),c(1),he(Je(816,St,.4*t.height/5+"px",.4*t.height+"px","translateX("+(t.width/2+.4*t.height/5/2)+"px) rotateY("+(t.bind2||!t.unbox?90:0)+"deg)")),c(1),he(Je(820,St,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(-.4*t.height/2+.4*t.height/5/2)+"px) rotateX("+(t.bind1?90:0)+"deg)")),c(1),he(Je(824,St,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*.25+"px) rotateZ(45deg)")),c(1),y("background-color","#00000022"),c(1),he(Rr(828,eu,.4*t.height/5+"px",.4*t.height-.8*t.height/5+"px")),c(1),he(Je(831,St,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(.4*t.height/2-.4*t.height/5/2)+"px) rotateX("+(t.bind1?-90:0)+"deg)")),c(1),he(Je(835,tu,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*-.25+"px) rotateZ(-45deg)")),c(1),y("background-color","#00000022"),c(1),he(Je(839,St,.4*t.height/5+"px",.4*t.height+"px","translateX("+(-t.width/2+.4*t.height/5/2)+"px) rotateZ(180deg) rotateY("+(t.bind2||!t.unbox?90:0)+"deg)")),c(1),he(Je(843,St,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(-.4*t.height/2+.4*t.height/5/2)+"px) rotateX("+(t.bind1?90:0)+"deg)")),c(1),he(Je(847,St,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*.25+"px) rotateZ(45deg)")),c(1),y("background-color","#00000022"),c(1),he(Rr(851,eu,.4*t.height/5+"px",.4*t.height-.8*t.height/5+"px")),c(1),he(Je(854,St,.4*t.height/5+"px",.4*t.height/5+"px","translateY("+(.4*t.height/2-.4*t.height/5/2)+"px) rotateX("+(t.bind1?-90:0)+"deg)")),c(1),he(Je(858,tu,.4*t.height/5*t.math.pow(2,.5)+"px",.4*t.height/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.height/5*-.25+"px) translateY("+.4*t.height/5*-.25+"px) rotateZ(-45deg)")),c(1),y("background-color","#00000022"),c(1),he(go(862,ga,t.depth+"px",t.height+"px",t.color,"translateX("+-t.width/2+"px) rotateY(-90deg) rotateX("+(t.unbox?-90:0)+"deg)")),c(1),y("width",t.height+"px")("height",t.depth+"px")("transform","translateZ(-1px) rotateY(180deg) rotateZ(90deg)")("background-image","url("+t.sides[0]+")"),c(1),y("background-color","#00000011"),c(1),he(go(867,ga,t.depth+"px",t.height+"px",t.color,"translateX("+t.width/2+"px) rotateY(90deg) rotateX("+(t.unbox?-90:0)+"deg)")),c(1),y("width",t.height+"px")("height",t.depth+"px")("transform","translateZ(-1px) rotateX(180deg) rotateZ(90deg)")("background-image","url("+t.sides[4]+")"),c(1),y("background-color","#00000011"),c(1),he(go(872,ga,t.width+"px",t.depth+"px",t.color,"translateX("+t.width/2+"px) translateY("+-t.height/2+"px) rotateX("+(t.unbox?0:90)+"deg) rotateZ(-90deg)")),c(1),y("width",t.width+"px")("height",t.depth+"px")("transform","translateZ(-1px) rotateX(180deg) rotateZ(0deg)")("background-image","url("+t.sides[5]+")"),c(1),y("background-color","#00000022"),c(1),he(Je(877,St,.4*t.depth/5+"px",.4*t.depth+"px","translateX("+(t.width/2+.4*t.depth/5/2-1)+"px) rotateY("+(t.bind2||!t.unbox?90:0)+"deg)")),c(1),he(Je(881,St,.4*t.depth/5+"px",.4*t.depth/5+"px","translateY("+(-.4*t.depth/2+.4*t.depth/5/2)+"px) rotateX("+(t.bind1?90:0)+"deg)")),c(1),he(Je(885,St,.4*t.depth/5*t.math.pow(2,.5)+"px",.4*t.depth/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.depth/5*-.25+"px) translateY("+.4*t.depth/5*.25+"px) rotateZ(45deg)")),c(1),y("background-color","#00000022"),c(1),he(Rr(889,eu,.4*t.depth/5+"px",.4*t.depth-.8*t.depth/5+"px")),c(1),he(Je(892,St,.4*t.depth/5+"px",.4*t.depth/5+"px","translateY("+(.4*t.depth/2-.4*t.depth/5/2)+"px) rotateX("+(t.bind1?-90:0)+"deg)")),c(1),he(Je(896,tu,.4*t.depth/5*t.math.pow(2,.5)+"px",.4*t.depth/5*t.math.pow(2,.5)/2+"px","translateX("+.4*t.depth/5*-.25+"px) translateY("+.4*t.depth/5*-.25+"px) rotateZ(-45deg)")),c(1),y("background-color","#00000022"),c(1),he(go(900,ga,t.width+"px",t.depth+"px",t.color,"translateY("+t.height/2+"px) rotateX(-90deg)")),c(1),y("width",t.width+"px")("height",t.depth+"px")("transform","translateZ(-1px) rotateX(180deg) rotateZ(0deg)")("background-image","url("+t.sides[2]+")"),c(1),y("background-color","#00000022"),c(2),y("width",t.width+2*t.margin+"px")("height",t.depth+2*t.margin+"px")("transform","translateY("+(t.showPackage?t.height/2+t.margin+"px":"150vh")+") rotateX(90deg)")("display",t.displayPackage),c(1),y("transform","translateZ(-0.1px)")("background-image","url("+t.package+")")("background-position","left 0px bottom "+-(t.height/2+2*t.margin)%50+"px"),c(1),y("transform-origin","center bottom")("width",t.depth+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+(t.width+2*t.margin)/2+"px) translateY("+-(t.height/2+2*t.margin)/2+"px) rotateZ(90deg) rotateX("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),y("transform","translateZ(-0.1px) rotateZ(180deg)")("background-image","url("+t.package+")")("background-position","left "+(-(t.height/2+2*t.margin)%50-9)+"px top "+-(t.width+2*t.margin)%50+"px"),c(1),y("transform-origin","center bottom")("width",t.depth+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+-(t.width+2*t.margin)/2+"px) translateY("+-(t.height/2+2*t.margin)/2+"px) rotateZ(90deg) rotateX("+(t.wrapbind2?"-90":"-180")+"deg)"),c(1),y("transform","translateZ(0.1px) rotateZ(180deg) rotateX(180deg)")("background-image","url("+t.package+")")("background-position","left "+(-(t.height/2+2*t.margin)%50-10)+"px top "+(t.height/2+2*t.margin)%50+"px"),c(1),y("transform-origin","center bottom")("width",t.width+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateY("+(t.showPackage?t.height/2-(t.height/2+2*t.margin)/2+t.margin+"px":"147vh")+") translateZ("+(t.depth/2+t.margin)+"px) rotateX("+(t.wrapbind1?"0":"-90")+"deg)")("display",t.displayPackage),c(1),y("transform","translateZ(0.1px) rotateY(180deg) rotateZ(180deg)")("background-image","url("+t.package+")")("background-position","left 0px bottom 0px"),c(1),y("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+((t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2+.1)+"px) rotateY("+(t.wrapbind3?"90":"0")+"deg)"),c(1),y("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right 1px top 2px"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","left 2px bottom 2px"),c(1),y("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+(-(t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2-.1)+"px) rotateY("+(t.wrapbind3?"-90":"0")+"deg) rotateZ(180deg) rotateX(180deg)"),c(1),y("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right 12px top 2px"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","left 2px bottom -11px"),c(1),y("transform-origin","center bottom")("width",t.width+2*t.margin+"px")("height",t.height+2*t.margin+"px")("transform","translateY("+(t.showPackage?t.height/2-(t.height+2*t.margin)/2+t.margin+"px":"145vh")+") translateZ("+(-t.depth/2-t.margin)+"px) rotateX("+(t.wrapbind1?"0":"90")+"deg)")("display",t.displayPackage),c(1),y("transform","translateZ(-0.1px)")("background-image","url("+t.package+")")("background-position","left 0px bottom "+-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+"px"),c(1),y("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+(-(t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2-.5)+"px) translateY("+((t.height/2+2*t.margin)/2-(t.height/2+2*t.margin))+"px) rotateY("+(t.wrapbind3?"90":"0")+"deg) rotateX(0deg) rotateZ(180deg)"),c(1),y("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),y("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+((t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2+.1)+"px) translateY("+(t.height/2+2*t.margin-(t.height/2+2*t.margin)/2)+"px) rotateY("+(t.wrapbind3?"-90":"0")+"deg)"),c(1),y("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),y("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+((t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2+.5)+"px) translateY("+((t.height/2+2*t.margin)/2-(t.height/2+2*t.margin))+"px) rotateY("+(t.wrapbind3?"-90":"0")+"deg) rotateX(180deg)"),c(1),y("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),y("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+(-(t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2-.1)+"px) translateY("+(t.height/2+2*t.margin-(t.height/2+2*t.margin)/2)+"px) rotateY("+(t.wrapbind3?"90":"0")+"deg) rotateX(180deg) rotateZ(180deg)"),c(1),y("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","left "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top -11px"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px bottom -11px"),c(1),y("transform-origin","center bottom")("width",t.width+2*t.margin+"px")("height",t.depth+2*t.margin+"px")("transform","translateY("+(-(t.height+2*t.margin)/2-(t.depth+2*t.margin)/2)+"px) rotateX("+(t.wrapbind1?"-90":"0")+"deg)"),c(1),y("transform","translateZ(-0.1px)")("background-image","url("+t.package+")")("background-position","left 0px bottom "+-(t.height/2+2*t.margin+t.depth+2*t.margin+t.height+2*t.margin)%50+"px"),c(1),y("transform-origin","center bottom")("width",t.depth+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+(t.width+2*t.margin)/2+"px) translateY("+-(t.height/2+2*t.margin)/2+"px) rotateZ(90deg) rotateX("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),y("transform","translateZ(-0.1px) rotateZ(180deg)")("background-image","url("+t.package+")")("background-position","left "+(-(t.height/2+2*t.margin+t.depth+2*t.margin+t.height+2*t.margin)%50-11)+"px top "+-(t.width+2*t.margin)%50+"px"),c(1),y("transform-origin","center bottom")("width",t.depth+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+-(t.width+2*t.margin)/2+"px) translateY("+-(t.height/2+2*t.margin)/2+"px) rotateZ(90deg) rotateX("+(t.wrapbind2?"-90":"-180")+"deg)"),c(1),y("transform","translateZ(0.1px) rotateZ(180deg) rotateX(180deg)")("background-image","url("+t.package+")")("background-position","left "+(-(t.height/2+2*t.margin+t.depth+2*t.margin+t.height+2*t.margin)%50-10)+"px top "+(t.height/2+2*t.margin)%50+"px"),c(1),y("transform-origin","center bottom")("width",t.width+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateY("+(-(t.depth+2*t.margin)/2-(t.height/2+2*t.margin)/2)+"px) rotateX("+(t.wrapbind1?"-90":"0")+"deg)"),c(1),y("transform","translateZ(-0.1px)")("background-image","url("+t.package+")")("background-position","left 0px bottom "+-(t.height/2+2*t.margin+t.depth+2*t.margin+t.height+2*t.margin+t.depth+2*t.margin)%50+"px"),c(1),y("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+(-(t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2-.1)+"px) rotateY("+(t.wrapbind3?"90":"0")+"deg) rotateX(180deg) rotateZ(180deg)"),c(1),y("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),y("transform-origin","left center")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateX("+((t.width+2*t.margin)/2+(t.height/2+2*t.margin)/2+.1)+"px) rotateY("+(t.wrapbind3?"-90":"0")+"deg)"),c(1),y("transform-origin","left bottom")("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ("+(t.wrapbind2?"-90":"0")+"deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","rotateZ(180deg)"),c(1),y("width",(t.height/2+2*t.margin)*t.math.sqrt(2)+"px")("height",(t.height/2+2*t.margin)*t.math.sqrt(2)/2+"px")("transform","translateX(18%) translateY(34%) rotateZ(-45deg)"),c(1),y("width",t.height/2+2*t.margin+"px")("height",t.height/2+2*t.margin+"px")("transform","translateZ(0.1px) translateY(-34%) rotateZ(-45deg)")("background-image","url("+t.package+")")("background-position","right "+(-(t.height/2+2*t.margin+t.depth+2*t.margin)%50+14)+"px top "+((t.depth+2*t.margin)%50-16)+"px"),c(1),y("width",t.width+4*t.margin+"px")("height",t.widthTape+"px")("transform","translateY("+(t.tapeshow?t.height/2+2*t.margin+"px":"150vh")+") rotateX(90deg)")("background-image","url("+t.tape+")")("display",t.tapedisplay),c(1),y("transform-origin","right center")("width",t.height+4*t.margin+"px")("height",t.widthTape+"px")("transform","translateX("+-(t.width/2+2*t.margin+t.height/2+2*t.margin)+"px) rotateY("+(t.tapebind1?"90":"0")+"deg)")("background-image","url("+t.tape+")"),c(1),y("transform-origin","right center")("width",t.width/2+3*t.margin+"px")("height",t.widthTape+"px")("transform","translateX("+(-(t.height+4*t.margin)/2-(t.width/2+3*t.margin)/2)+"px) rotateY("+(t.tapebind1?"90":"0")+"deg)")("background-image","url("+t.tape+")"),c(1),y("transform-origin","left center")("width",t.height+4*t.margin+"px")("height",t.widthTape+"px")("transform","translateX("+(t.width/2+2*t.margin+t.height/2+2*t.margin)+"px) rotateY("+(t.tapebind1?"-90":"0")+"deg)")("background-image","url("+t.tape+")"),c(1),y("transform-origin","left center")("width",t.width/2+3*t.margin+"px")("height",t.widthTape+"px")("transform","translateX("+((t.height+4*t.margin)/2+(t.width/2+3*t.margin)/2)+"px) rotateY("+(t.tapebind1?"-90":"0")+"deg)")("background-image","url("+t.tape+")"))},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]{position:absolute;transform-origin:left center;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]{position:absolute;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;background-color:#c3aa83}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]   .triangle.first[_ngcontent-%COMP%]{transform-origin:center bottom}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]   .triangle.second[_ngcontent-%COMP%]{transform-origin:center top}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{background-color:#c3aa83}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip.first[_ngcontent-%COMP%]{transform:translate(550%) rotateY(0)}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .darkness[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{position:absolute;background-position:center;background-repeat:no-repeat;background-size:contain}[_nghost-%COMP%]   .side.front[_ngcontent-%COMP%], [_nghost-%COMP%]   .side.back[_ngcontent-%COMP%], [_nghost-%COMP%]   .side.left[_ngcontent-%COMP%], [_nghost-%COMP%]   .side.right[_ngcontent-%COMP%]{transform-origin:center bottom}[_nghost-%COMP%]   .side.top[_ngcontent-%COMP%]{transform-origin:left center}[_nghost-%COMP%]   .packageSide[_ngcontent-%COMP%], [_nghost-%COMP%]   .packageCorner[_ngcontent-%COMP%], [_nghost-%COMP%]   .packageTriangle[_ngcontent-%COMP%], [_nghost-%COMP%]   .packageFill[_ngcontent-%COMP%]{position:absolute;transform-style:preserve-3d;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .packageCorner[_ngcontent-%COMP%], [_nghost-%COMP%]   .packageTriangle[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-size:50px}[_nghost-%COMP%]   .packageFill[_ngcontent-%COMP%]{flex-shrink:0;box-shadow:0 0 3px #3330;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center;transform-style:preserve-3d}[_nghost-%COMP%]   .packageFill[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{flex-shrink:0}[_nghost-%COMP%]   .tape[_ngcontent-%COMP%], [_nghost-%COMP%]   .bow[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;background-size:20px;transform-style:preserve-3d}@keyframes rotateBox{0%{transform:translateY(300px) rotateX(-15deg) rotateY(0)}to{transform:translateY(300px) rotateX(-15deg) rotateY(360deg)}}.animate[_nghost-%COMP%]{transition:transform ease .3s}.animate[_nghost-%COMP%]   .side[_ngcontent-%COMP%]{transition:transform ease .3s}.animate[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]{transition:transform ease .3s}.animate[_nghost-%COMP%]   .side[_ngcontent-%COMP%]   .\\441lip[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]{transition:transform ease .3s}.animate[_nghost-%COMP%]   .packageSide[_ngcontent-%COMP%]{transition:transform ease 1s}.animate[_nghost-%COMP%]   .packageCorner[_ngcontent-%COMP%], .animate[_nghost-%COMP%]   .packageSide.centerside[_ngcontent-%COMP%], .animate[_nghost-%COMP%]   .packageTriangle[_ngcontent-%COMP%]{transition:transform ease .5s}.animate[_nghost-%COMP%]   .packageSide.front2[_ngcontent-%COMP%]{transition:transform ease 3s}.animate[_nghost-%COMP%]   .packageFill[_ngcontent-%COMP%]{transition:all ease .5s}.animate[_nghost-%COMP%]   .tape[_ngcontent-%COMP%], .animate[_nghost-%COMP%]   .bow[_ngcontent-%COMP%]{transition:transform ease 2s}.shadow[_nghost-%COMP%]   .packageFill[_ngcontent-%COMP%]{box-shadow:0 0 3px #333}']}),i})(),tH=(()=>{class i{constructor(e,t){this.host=e,this.asyncService=t,this.disable=!1,this.options=[],this.contextClose=new U,this.contextOpen=new U,this.elementWrap=null,this.elementContent=null,this.msToOpen=200,this.touch={down:!1,wasMove:!1,timeout:setTimeout(()=>{},0),coord:{x:0,y:0}},this.settings={width:200,height:237}}onTouchstart(e){this.touchStart(e)}onTouchmove(e){this.touchMove(e)}onTouchend(e){this.touchEnd(e)}onTouchcancel(e){this.touchEnd(e)}touchStart(e){this.disable||e.preventDefault(),this.touch.down=!0;let[t,s]=[e.touches[0].clientX,e.touches[0].clientY];this.touch.coord.x=t,this.touch.coord.y=s,this.touch.timeout=setTimeout(()=>{this.disable||this.showContext()},this.msToOpen)}touchMove(e){!this.touch.down||(this.touch.wasMove=!0,clearTimeout(this.touch.timeout))}touchEnd(e){this.touch.down=!1,this.touch.wasMove=!1,clearTimeout(this.touch.timeout)}showContext(){var e=this;return N(function*(){e.contextOpen.emit();const s=e.host.nativeElement.getBoundingClientRect(),o=document.createElement("div");o.style.position="absolute",o.style.width=`${s.width}px`,o.style.height=`${s.height}px`,o.style.left=`${s.x}px`,o.style.top=`${s.y}px`,o.style.backgroundColor="#ffffff11",o.style.backdropFilter="blur(10px)",o.style.zIndex="100",o.style.opacity="0",o.style.transition="all ease 0.2s",o.onclick=()=>{e.contextClose.emit(""),e.hideContext()};let r={x:e.touch.coord.x-e.settings.width/2,y:e.touch.coord.y-e.settings.height/2};r.x<0&&(r.x=0),r.x+e.settings.width>window.innerWidth&&(r.x=window.innerWidth-e.settings.width),r.y<0&&(r.y=0),r.y+e.settings.height>window.innerHeight&&(r.y=window.innerHeight-e.settings.height);const a=document.createElement("div");a.setAttribute("class","no-scroll"),a.style.position="absolute",a.style.display="flex",a.style.flexDirection="column",a.style.alignItems="stretch",a.style.justifyContent="flex-start",a.style.overflowY="auto",a.style.width=`${e.settings.width}px`,a.style.maxHeight=`${e.settings.height}px`,a.style.left=`${r.x}px`,a.style.top=`${r.y}px`,a.style.backgroundColor="#ffffff",a.style.borderRadius="10px",a.style.boxShadow="0px 0px 5px #00000099",a.style.zIndex="101",a.style.opacity="0",a.style.transform="scale(0.01)",a.style.transition="all ease 0.2s",e.options.forEach(l=>{const u=document.createElement("div");if(l.hr)u.style.margin="10px",u.style.color="#333333",u.style.fontSize="14px",u.style.height="1px",u.style.flexShrink="0",u.style.backgroundColor="#00000033",a.append(u);else{let h=document.createElement("div"),f=document.createElement("div");u.style.display="flex",u.style.flexDirection="row",u.style.alignItems="center",u.style.justifyContent="flex-start",u.style.padding="20px",u.style.color="#333333",u.style.fontSize="14px",h.style.width="20px",h.style.height="20px",h.style.marginRight="10px",h.style.backgroundImage=`url(${l.icon})`,h.style.backgroundPosition="center",h.style.backgroundSize="contain",h.style.backgroundRepeat="no-repeat",f.innerHTML=l.title,u.append(h),u.append(f),a.append(u),u.onclick=()=>{e.contextClose.emit(l.value),e.hideContext()}}}),e.elementWrap=o,e.elementContent=a,document.body.append(o),document.body.append(a),yield e.asyncService.delay(10),a.style.transform="scale(1)",a.style.opacity="1",o.style.opacity="1"})()}hideContext(){var e=this;return N(function*(){e.elementWrap.style.opacity="0",e.elementContent.style.opacity="0",e.elementContent.style.scale="0.01",yield e.asyncService.delay(200),e.elementWrap.remove(),e.elementContent.remove()})()}}return i.\u0275fac=function(e){return new(e||i)(D(W),D(Pe))},i.\u0275dir=se({type:i,selectors:[["","appTouchContext",""]],hostBindings:function(e,t){1&e&&C("touchstart",function(o){return t.onTouchstart(o)})("touchmove",function(o){return t.onTouchmove(o)})("touchend",function(o){return t.onTouchend(o)})("touchcancel",function(o){return t.onTouchcancel(o)})},inputs:{disable:["contextDisable","disable"],options:["contextOptions","options"]},outputs:{contextClose:"contextClose",contextOpen:"contextOpen"}}),i})();const nH=["colorDrawRef"];function iH(i,n){if(1&i&&_(0,"app-greeting-card",36),2&i){const e=b().ngIf,t=b(2);y("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),H("gift_hidden",t.hiddenGifts.get(e.id)),g("size",t.getSizeGift(e))("front",e.front)("back",e.back)("text",e.text)("color",e.color)("sign",e.sign)}}function sH(i,n){if(1&i&&_(0,"app-game",37),2&i){const e=b().ngIf,t=b(2);y("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),H("gift_hidden",t.hiddenGifts.get(e.id)),g("hidden",t.hiddenGifts.get(e.id))("size",t.getSizeGift(e))("color",e.color)("front",e.front)("inside",e.inside)("side",e.side)("code",e.code)}}function oH(i,n){if(1&i&&_(0,"app-speaker",38),2&i){const e=b().ngIf,t=b(2);y("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(0deg) rotateZ(90deg)")("animation-name","rotPlus180"),H("gift_hidden",t.hiddenGifts.get(e.id)),g("size",t.getSizeGift(e))("grill",e.grill)("color",e.color)}}function rH(i,n){if(1&i&&_(0,"app-tablet",39),2&i){const e=b().ngIf,t=b(2);y("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),H("gift_hidden",t.hiddenGifts.get(e.id)),g("size",t.getSizeGift(e))("color",e.color)}}function aH(i,n){if(1&i&&_(0,"app-photo",40),2&i){const e=b().ngIf,t=b(2);y("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),H("gift_hidden",t.hiddenGifts.get(e.id)),g("size",t.getSizeGift(e))("photo",e.photo)("sign",e.sign)}}function lH(i,n){if(1&i&&(Be(0),T(1,iH,1,10,"app-greeting-card",31),T(2,sH,1,11,"app-game",32),T(3,oH,1,9,"app-speaker",33),T(4,rH,1,6,"app-tablet",34),T(5,aH,1,7,"app-photo",35),Ve()),2&i){const e=n.ngIf;c(1),g("ngIf","greetingcard"===e.type),c(1),g("ngIf","game"===e.type),c(1),g("ngIf","speaker"===e.type),c(1),g("ngIf","tablet"===e.type),c(1),g("ngIf","photo"===e.type)}}function uH(i,n){if(1&i&&(Be(0),T(1,lH,6,5,"ng-container",25),Ve()),2&i){const e=n.$implicit,t=b();c(1),g("ngIf",t.getGiftById(e))}}function cH(i,n){if(1&i){const e=J();d(0,"div",41),C("contextOpen",function(){return M(e),b().onOpenContext()})("contextClose",function(s){return M(e),b().onCloseContext(s)}),_(1,"input",42,43),d(3,"app-touch-draw-svg",44),C("save",function(s){return M(e),b().saveDrawInside(s)}),p(),p()}if(2&i){const e=b();g("contextOptions",e.contextOptions),c(1),g("formControl",e.colorDrawControl),c(2),y("transform","translateX("+e.draw.coord.x+"px) translateY("+e.draw.coord.y+"px)"),g("touch",e.touches.draw)("width",e.draw.size.w)("height",e.draw.size.h)("tool",e.toolDraw)("color",e.colorDrawControl.value)("ban",e.draw.ban)("sublimesave",e.sublimeSaveDrawInside)}}function hH(i,n){if(1&i&&(d(0,"div",8),d(1,"div",9),_(2,"div",10),d(3,"div",11),P(4),p(),p(),d(5,"div",12),_(6,"div",13),d(7,"div",14),P(8),p(),p(),p()),2&i){const e=b();c(2),y("background-image","url("+e.getIconTool()+")"),c(2),O(e.getNameTool()),c(4),O(e.locationService.translate("hold","\u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435"))}}function dH(i,n){if(1&i&&(d(0,"div",45),d(1,"div",46),_(2,"div",47),p(),d(3,"div",48),d(4,"div",49),P(5),p(),p(),p()),2&i){const e=b();c(2),y("height",e.wrap.scale/3*100,"%"),c(3),Ae("",e.math.round(100*e.wrap.scale)," %")}}function pH(i,n){1&i&&_(0,"div",53)}function fH(i,n){if(1&i&&(d(0,"app-touch-giftslist-option",51),T(1,pH,1,0,"div",52),P(2),sf(3,"textMore"),p()),2&i){const e=b().$implicit;g("gift",e)("refresh",!1),Ue("giftid",e.id),c(2),Ae(" ",rf(3,4,e.title,20)," ")}}function gH(i,n){if(1&i&&(Be(0),T(1,fH,4,7,"app-touch-giftslist-option",50),Ve()),2&i){const e=n.$implicit,t=b();c(1),g("ngIf",!t.isGiftInBox(e))}}function mH(i,n){if(1&i&&(d(0,"div",54),_(1,"div",55),d(2,"div",56),P(3),p(),p()),2&i){const e=b();c(3),O(e.locationService.translate("next stage","\u0434\u0430\u043b\u0435\u0435"))}}function _H(i,n){1&i&&_(0,"div",59)}function vH(i,n){if(1&i&&(d(0,"div",57),T(1,_H,1,0,"div",58),p()),2&i){const e=b();y("background-image","url("+e.dragGift.img+")")("left",e.dragGift.position.x,"px")("top",e.dragGift.position.y,"px")("width",e.dragGift.size.w,"px")("height",e.dragGift.size.h,"px"),H("drag-gift_animated",e.dragGift.animated),c(1),g("ngIf",!e.dragGift.allowed)}}function yH(i,n){1&i&&_(0,"div",66)}const Fx=function(){return[]};function CH(i,n){if(1&i&&(d(0,"div",64),T(1,yH,1,0,"div",65),p()),2&i){const e=b(3);c(1),g("ngForOf",Vt(1,Fx).constructor(e.grid.w))}}function bH(i,n){if(1&i&&(d(0,"div",61),d(1,"div",62),T(2,CH,2,2,"div",63),p(),p()),2&i){const e=b().ngIf,t=b();c(1),y("left",e.x,"px")("top",e.y,"px")("width",e.w,"px")("height",e.h,"px"),c(1),g("ngForOf",Vt(9,Fx).constructor(t.grid.h))}}function wH(i,n){if(1&i&&(Be(0),T(1,bH,3,10,"div",60),Ve()),2&i){const e=b();c(1),g("ngIf",e.dragGift.img)}}function kH(i,n){if(1&i){const e=J();d(0,"div",67),d(1,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().inputUploadImageTrim()}),p(),d(2,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/1.jpg")}),p(),d(3,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/2.jpg")}),p(),d(4,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/3.jpg")}),p(),d(5,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/4.jpg")}),p(),d(6,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/5.jpg")}),p(),d(7,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/6.jpg")}),p(),d(8,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/7.jpg")}),p(),d(9,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/8.jpg")}),p(),d(10,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/9.jpg")}),p(),d(11,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/10.jpg")}),p(),d(12,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/11.jpg")}),p(),d(13,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/12.jpg")}),p(),d(14,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/13.jpg")}),p(),d(15,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/14.jpg")}),p(),d(16,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/15.jpg")}),p(),d(17,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/16.jpg")}),p(),d(18,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/17.jpg")}),p(),d(19,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/18.jpg")}),p(),d(20,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/19.jpg")}),p(),d(21,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/package/20.jpg")}),p(),p()}2&i&&(c(1),g("value","../../assets/upload.svg"),c(1),g("value","../../assets/box/package/1.jpg"),c(1),g("value","../../assets/box/package/2.jpg"),c(1),g("value","../../assets/box/package/3.jpg"),c(1),g("value","../../assets/box/package/4.jpg"),c(1),g("value","../../assets/box/package/5.jpg"),c(1),g("value","../../assets/box/package/6.jpg"),c(1),g("value","../../assets/box/package/7.jpg"),c(1),g("value","../../assets/box/package/8.jpg"),c(1),g("value","../../assets/box/package/9.jpg"),c(1),g("value","../../assets/box/package/10.jpg"),c(1),g("value","../../assets/box/package/11.jpg"),c(1),g("value","../../assets/box/package/12.jpg"),c(1),g("value","../../assets/box/package/13.jpg"),c(1),g("value","../../assets/box/package/14.jpg"),c(1),g("value","../../assets/box/package/15.jpg"),c(1),g("value","../../assets/box/package/16.jpg"),c(1),g("value","../../assets/box/package/17.jpg"),c(1),g("value","../../assets/box/package/18.jpg"),c(1),g("value","../../assets/box/package/19.jpg"),c(1),g("value","../../assets/box/package/20.jpg"))}function xH(i,n){if(1&i){const e=J();d(0,"div",67),d(1,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().inputUploadImageTrim()}),p(),d(2,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/1.jpg")}),p(),d(3,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/2.jpg")}),p(),d(4,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/3.jpg")}),p(),d(5,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/4.jpg")}),p(),d(6,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/5.jpg")}),p(),d(7,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/6.jpg")}),p(),d(8,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/7.jpg")}),p(),d(9,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/8.jpg")}),p(),d(10,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/9.jpg")}),p(),d(11,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/10.jpg")}),p(),d(12,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/11.jpg")}),p(),d(13,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/12.jpg")}),p(),d(14,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/13.jpg")}),p(),d(15,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/14.jpg")}),p(),d(16,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/15.jpg")}),p(),d(17,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/16.jpg")}),p(),d(18,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/17.jpg")}),p(),d(19,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/18.jpg")}),p(),d(20,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/19.jpg")}),p(),d(21,"app-touch-option-trimlist",68),C("click",function(){return M(e),b().setImageTrim("../../assets/box/tape/20.jpg")}),p(),p()}2&i&&(c(1),g("value","../../assets/upload.svg"),c(1),g("value","../../assets/box/tape/1.jpg"),c(1),g("value","../../assets/box/tape/2.jpg"),c(1),g("value","../../assets/box/tape/3.jpg"),c(1),g("value","../../assets/box/tape/4.jpg"),c(1),g("value","../../assets/box/tape/5.jpg"),c(1),g("value","../../assets/box/tape/6.jpg"),c(1),g("value","../../assets/box/tape/7.jpg"),c(1),g("value","../../assets/box/tape/8.jpg"),c(1),g("value","../../assets/box/tape/9.jpg"),c(1),g("value","../../assets/box/tape/10.jpg"),c(1),g("value","../../assets/box/tape/11.jpg"),c(1),g("value","../../assets/box/tape/12.jpg"),c(1),g("value","../../assets/box/tape/13.jpg"),c(1),g("value","../../assets/box/tape/14.jpg"),c(1),g("value","../../assets/box/tape/15.jpg"),c(1),g("value","../../assets/box/tape/16.jpg"),c(1),g("value","../../assets/box/tape/17.jpg"),c(1),g("value","../../assets/box/tape/18.jpg"),c(1),g("value","../../assets/box/tape/19.jpg"),c(1),g("value","../../assets/box/tape/20.jpg"))}function DH(i,n){if(1&i&&(Be(0),d(1,"div",54),_(2,"div",55),d(3,"div",56),P(4),p(),p(),d(5,"div",21),_(6,"div",22),d(7,"div",23),P(8),p(),p(),Ve()),2&i){const e=b();c(4),O(e.locationService.translate("next stage","\u0434\u0430\u043b\u0435\u0435")),c(4),O(e.locationService.translate("back to gifts","\u043d\u0430\u0437\u0430\u0434 \u043a \u043f\u043e\u0434\u0430\u0440\u043a\u0430\u043c"))}}function PH(i,n){if(1&i&&(Be(0),d(1,"div",54),_(2,"div",69),d(3,"div",56),P(4),p(),p(),d(5,"div",21),_(6,"div",22),d(7,"div",23),P(8),p(),p(),Ve()),2&i){const e=b();c(4),O(e.locationService.translate("complete","\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c")),c(4),O(e.locationService.translate("back to packaging","\u043d\u0430\u0437\u0430\u0434 \u043a \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0435"))}}let SH=(()=>{class i{constructor(e,t,s,o,r,a,l,u){this.touchService=e,this.asyncService=t,this.locationService=s,this.linerSvgService=o,this.snapshotGiftService=r,this.host=a,this.readFileService=l,this.changeDetectorRef=u,this.math=Math,this.subs=[],this.draw={size:{w:0,h:0},coord:{x:0,y:0},ban:[]},this.grid={w:2,h:2},this.box={animate:!1,packed:!1,wrapped:!1,tapped:!1,package:"../../assets/box/package/4.jpg",tape:"../../assets/box/tape/1.jpg",coord:{x:0,y:0,z:0},rotate:{x:0,y:0,z:0},size:{w:110,h:130,d:120},scale:1,shiftRotate:{x:0,y:0}},this.colorDrawControl=new li("#000000"),this.toolDraw="pen",this.colorDraw="#000000",this.tool="pen",this.wrap={x:0,y:0,scale:1,disable:!1,animated:!1},this.initialWrap={x:0,y:0,scale:1},this.dragGift={timeout:setTimeout(()=>{},0),img:null,position:{x:0,y:0},size:{w:0,h:0},animated:!1,id:null,waiting:!1,allowed:!1},this.menu=[],this.menusublimeshow=!1,this.valerror="",this.timeoutError=setTimeout(()=>{},0),this.showLoupeHint=!1,this.contextOptions=[{icon:"../../assets/checkmark.svg",title:this.locationService.translate("next stage","\u0441\u043b\u0435\u0434. \u044d\u0442\u0430\u043f"),value:"next"},{hr:!0},{icon:"../../assets/pen.svg",title:this.locationService.translate("pen","\u043a\u0430\u0440\u0430\u043d\u0434\u0430\u0448"),value:"pen"},{icon:"../../assets/resize.svg",title:this.locationService.translate("move","\u043e\u0431\u0437\u043e\u0440"),value:"move"},{icon:"../../assets/eraser.svg",title:this.locationService.translate("eraser","\u043b\u0430\u0441\u0442\u0438\u043a"),value:"eraser"},{icon:"../../assets/palette.svg",title:this.locationService.translate("color","\u0446\u0432\u0435\u0442"),value:"color"},{icon:"../../assets/loupe-black.svg",title:this.locationService.translate("loupe","\u043b\u0443\u043f\u0430"),value:"loupe"}],this.doscrolltocenterAddGift=!1,this.doscrolltocenterNextChoose=!1,this.sublimeSaveDrawInside=!1,this.stage=0,this.gifts=[],this.inBox=[],this.hiddenGifts=new Map,this.transition=!1,this.modetrim="usual",this.imgtrim="",this.sublimesavetrim=!1,this.hashedtrim=null,this.listtrim="",this.ratiotrim=1,this.touches={draw:null,mainGifts:null,screenadd:null,dragGift:null,mainPackage:null,screentrim:null,screenlisttrim:null,menu:null,chooseNext:null,mainTape:null},this.disableds={draw:!0,mainGifts:!0,screenadd:!0,dragGift:!0,mainPackage:!0,screentrim:!0,screenlisttrim:!0,menu:!0,chooseNext:!0,mainTape:!0},this.stats={mainGifts:"close",screenadd:"close",dragGift:"close",mainPackage:"close",screentrim:"close",screenlisttrim:"close",menu:"close",chooseNext:"close",mainTape:"close"}}onClick(){}setPosition2NoAnimate(){this.showScreen("mainGifts"),this.wrap.animated=!1,this.box.animate=!1,this.wrap.scale=this.getScaleBoxToFitScreen(),this.wrap.x=0,this.wrap.y=0,this.box.rotate.x=-90,this.box.rotate.y=90,this.box.rotate.z=0,this.box.coord.x=0,this.box.coord.y=0,this.box.coord.z=0,this.box.packed=!1,this.box.wrapped=!1,this.box.tapped=!1,this.transition=!1}setPosition3NoAnimate(){this.showScreen("mainPackage"),this.wrap.animated=!1,this.box.animate=!1,this.wrap.scale=this.getScaleBoxToFitScreen(),this.wrap.x=0,this.wrap.y=0,this.wrap.x=0,this.wrap.y=0,this.wrap.scale=1,this.box.rotate.x=-15,this.box.rotate.y=110,this.box.rotate.z=0,this.box.coord.x=0,this.box.coord.y=0,this.box.coord.z=0,this.box.packed=!0,this.box.wrapped=!0,this.box.tapped=!1,this.transition=!1}setPosition1(){var e=this;return N(function*(){return e.transition=!0,e.box.animate=!1,yield e.asyncService.delay(10),e.box.animate=!0,yield e.asyncService.delay(10),e.box.rotate.x=-90,e.box.rotate.y=90,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=e.box.size.w/2,e.box.coord.z=0,e.setDrawSizeAndCoord(),yield e.asyncService.delay(300),e.transition=!1,new Promise(s=>s())})()}setPosition2(){var e=this;return N(function*(){return e.transition=!0,e.showScreen("mainGifts"),e.wrap.x=0,e.wrap.y=0,e.wrap.scale=1,e.box.animate=!1,yield e.asyncService.delay(10),e.box.animate=!0,yield e.asyncService.delay(10),e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,yield e.asyncService.delay(1e3),e.wrap.animated=!0,yield e.asyncService.delay(10),e.wrap.scale=e.getScaleBoxToFitScreen(),e.box.rotate.x=-90,e.box.rotate.y=90,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,yield e.asyncService.delay(300),e.wrap.animated=!1,e.transition=!1,new Promise(s=>s())})()}setPositionFrom3To2(){var e=this;return N(function*(){return e.transition=!0,e.showScreen("mainGifts"),e.box.animate=!0,e.wrap.animated=!0,yield e.asyncService.delay(10),e.box.wrapped=!1,yield e.asyncService.delay(6e3),e.box.packed=!1,yield e.asyncService.delay(1e3),e.wrap.scale=e.getScaleBoxToFitScreen(),e.box.rotate.x=-90,e.box.rotate.y=90,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,yield e.asyncService.delay(300),e.wrap.animated=!1,e.transition=!1,new Promise(t=>t())})()}setPosition3(){var e=this;return N(function*(){return e.transition=!0,e.showScreen("mainPackage"),e.box.animate=!0,e.wrap.animated=!0,yield e.asyncService.delay(10),e.wrap.x=0,e.wrap.y=0,e.wrap.scale=1,e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,yield e.asyncService.delay(1e3),e.box.packed=!0,yield e.asyncService.delay(1e3),e.box.wrapped=!0,yield e.asyncService.delay(6e3),e.box.rotate.y=200,yield e.asyncService.delay(300),e.wrap.animated=!1,e.box.animate=!1,e.transition=!1,new Promise(t=>t())})()}setPositionFrom4To3(){var e=this;return N(function*(){e.transition=!0,e.showScreen("mainPackage"),e.box.animate=!0,e.wrap.animated=!0,yield e.asyncService.delay(10),e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.box.tapped=!1,yield e.asyncService.delay(6e3),e.wrap.animated=!1,e.transition=!1})()}setPosition4(){var e=this;return N(function*(){return e.transition=!0,e.showScreen("mainTape"),e.wrap.x=0,e.wrap.y=0,e.wrap.scale=1,e.box.animate=!1,yield e.asyncService.delay(10),e.box.animate=!0,yield e.asyncService.delay(10),e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,yield e.asyncService.delay(300),e.box.tapped=!0,yield e.asyncService.delay(6e3),e.wrap.animated=!1,e.box.animate=!1,e.transition=!1,new Promise(t=>t())})()}isGiftInBox(e){return!!this.inBox.find(t=>t===e.id)}getEscalateDOM(e,t){let s=e;for(;"BODY"!==s.tagName;){if(s.classList.contains(t))return s;s=s.parentNode}return null}getGiftById(e){return this.gifts.find(t=>t.id===e)||null}showAddGiftMenu(){var e=this;return N(function*(){return e.onCloseScreen("mainGifts"),e.showScreen("screenadd"),new Promise(t=>t())})()}getScaleBoxToFitScreen(){let e=1,t_ratio=this.box.size.d/this.box.size.w,s_w=window.innerWidth,s_h=window.innerHeight,s_ratio=window.innerWidth/window.innerHeight;return t_ratio>=s_ratio?e=s_w/this.box.size.d:t_ratio<=s_ratio&&(e=s_h/this.box.size.w),e}getSizeGift(e){let t=.9;return"greetingcard"===e.type?this.box.size.w/this.grid.h*(297/420)*t:"game"===e.type?this.box.size.w/this.grid.h*(135/190)*t:"speaker"===e.type||"tablet"===e.type?this.box.size.d/this.grid.w*t:"photo"===e.type?this.box.size.w/this.grid.h*.75*t:0}getDepthGift(e){const t=this.getSizeGift(e);return"greetingcard"===e.type?t/297:"game"===e.type?t/9:"speaker"===e.type?t/(299/136):"tablet"===e.type?t/(247/6):"photo"===e.type?t/480:1}getZPositionGift(e){let t=this.getDepthGift(e)/2+2;for(let s=0;this.inBox[s]!==e.id&&s<this.inBox.length;s++){const o=this.getGiftById(this.inBox[s]);e.cell.x===o.cell.x&&e.cell.y===o.cell.y&&(t+=this.getDepthGift(o))}return t}idBannedGiftsInCell(e,t){for(let s=0;s<this.inBox.length;s++){const o=this.getGiftById(this.inBox[s]);if(o.cell.x===e&&o.cell.y===t&&"speaker"===o.type)return o.id}return!1}getTopGiftFromCell(e,t){let s=null;for(let o=0;o<this.inBox.length;o++){const r=this.getGiftById(this.inBox[o]);r.cell.x===e&&r.cell.y===t&&(s=r)}return s}setDrawSizeAndCoord(){this.draw.size.w=this.box.size.d+2*this.box.size.h,this.draw.size.h=2*this.box.size.w+2*this.box.size.h,this.draw.ban=[[0,0,this.box.size.h/this.draw.size.w,(this.box.size.w+this.box.size.h)/this.draw.size.h],[(this.box.size.d+this.box.size.h)/this.draw.size.w,0,1,(this.box.size.w+this.box.size.h)/this.draw.size.h],[0,(this.box.size.h+2*this.box.size.w)/this.draw.size.h,this.box.size.h/this.draw.size.w,1],[(this.box.size.d+this.box.size.h)/this.draw.size.w,(this.box.size.h+2*this.box.size.w)/this.draw.size.h,1,1]]}processTouch(e){var t,s,o,r;if(Object.entries(this.disableds).forEach(([a,l])=>{l||(this.touches[a]=e)}),!this.transition)if(0===this.stage)"end"===e.action&&!e.drag&&(this.setPosition2(),this.stage=2);else if(1===this.stage)if("loupe"!==this.tool||"start"!==e.action||this.wrap.disable)if("move"!==this.tool||"start"!==e.action||this.wrap.disable)if("loupe"!==this.tool||"move"!==e.action||this.wrap.disable)if("move"!==this.tool||"move"!==e.action||this.wrap.disable)"end"===e.action&&(this.showLoupeHint=!1);else{let a=this.draw.size.w*this.wrap.scale-(this.draw.size.w*this.wrap.scale-window.innerWidth)/2-20,l=this.draw.size.h*this.wrap.scale-(this.draw.size.h*this.wrap.scale-window.innerHeight)/2-20,u=e.x-e.start.x,h=e.y-e.start.y;this.initialWrap.x+u<-a&&(u=-a-this.initialWrap.x),this.initialWrap.x+u>a&&(u=a-this.initialWrap.x),this.initialWrap.y+h<-l&&(h=-l-this.initialWrap.y),this.initialWrap.y+h>l&&(h=l-this.initialWrap.y),this.wrap.x=this.initialWrap.x+u,this.wrap.y=this.initialWrap.y+h}else{this.showLoupeHint||(this.showLoupeHint=!0);let l=.5,u=3,h=.01*-(e.y-e.start.y);this.initialWrap.scale+h<l&&(h=l-this.initialWrap.scale),this.initialWrap.scale+h>u&&(h=u-this.initialWrap.scale),Math.abs(this.initialWrap.scale+h-1)<=.1&&(h=1-this.initialWrap.scale),h=Math.round(10*h)/10,this.wrap.scale=this.initialWrap.scale+h}else this.initialWrap.x=this.wrap.x,this.initialWrap.y=this.wrap.y;else this.initialWrap.scale=this.wrap.scale;else if(2===this.stage){if("open"===this.stats.mainGifts){if("start"===e.action){let a=this.cellBoxDragging(e.x,e.y),l=this.getTopGiftFromCell(a.x,a.y);l&&(clearTimeout(this.dragGift.timeout),this.dragGift.timeout=setTimeout(()=>{this.snapshotGiftService.get(l).then(u=>{this.dragGift.animated=!1,this.dragGift.waiting=!0,this.hiddenGifts.set(l.id,!0),this.dragGift.id=l.id,this.dragGift.img=u,this.dragGift.size.w=a.sizeCell.w,this.dragGift.size.h=a.sizeCell.h,this.dragGift.position.x=a.rectAllowed.x+a.x*a.sizeCell.w+a.sizeCell.w/2,this.dragGift.position.y=a.rectAllowed.y+a.y*a.sizeCell.h+a.sizeCell.h/2,this.onCloseScreen("mainGifts"),this.showScreen("dragGift"),this.setStartPositionDragGift(e.x,e.y)})},300))}"move"===e.action&&clearTimeout(this.dragGift.timeout),"end"===e.action&&clearTimeout(this.dragGift.timeout),"end"===e.action&&!e.drag&&this.showAddGiftMenu()}else if("open"===this.stats.screenadd){if("start"===e.action){clearTimeout(this.dragGift.timeout);const a=this.getEscalateDOM(e.target,"giftlist-option");a&&(this.dragGift.timeout=setTimeout(()=>{const u=a.querySelector(".ico").getBoundingClientRect(),h=parseInt(a.getAttribute("giftid")),f=this.gifts.find(m=>m.id===h);this.snapshotGiftService.get(f).then(m=>{this.dragGift.id=h,this.dragGift.img=m,this.dragGift.size.w=u.width,this.dragGift.size.h=u.height,this.dragGift.position.x=u.x+this.dragGift.size.w/2,this.dragGift.position.y=u.y+this.dragGift.size.h/2,this.dragGift.waiting=!0,this.onCloseScreen("screenadd"),this.showScreen("dragGift"),this.setStartPositionDragGift(e.x,e.y)})},300))}if("move"===e.action&&clearTimeout(this.dragGift.timeout),"end"===e.action&&clearTimeout(this.dragGift.timeout),"end"===e.action&&!1===e.drag){const a=this.getEscalateDOM(e.target,"button-back"),l=this.getEscalateDOM(e.target,"button-forward");a?console.log("back to price"):l&&(this.onCloseScreen("screenadd"),this.setPosition3(),this.stage++)}}else if("open"===this.stats.dragGift)if("move"===e.action){let a=this.cellBoxDragging(e.x,e.y);this.dragGift.allowed=a.allowed,a.allowed?(this.dragGift.animated=!0,this.dragGift.position.x=a.rectAllowed.x+a.x*a.sizeCell.w+a.sizeCell.w/2,this.dragGift.position.y=a.rectAllowed.y+a.y*a.sizeCell.h+a.sizeCell.h/2):(this.dragGift.animated=!1,this.dragGift.position.x=e.x,this.dragGift.position.y=e.y)}else if("end"===e.action){{this.dragGift.waiting=!1;const a=this.cellBoxDragging(e.x,e.y);if(this.dragGift.allowed=a.allowed,this.inBox=this.inBox.filter(l=>l!==this.dragGift.id),a.allowed){const l=this.getGiftById(this.dragGift.id);l.pos={x:0,y:0},l.pos.x=-this.box.size.d/2+(.5+a.x)*(this.box.size.d/this.grid.w),l.pos.y=-this.box.size.w/2+(.5+a.y)*(this.box.size.w/this.grid.h),l.cell={x:a.x,y:a.y},l.pos.z=this.getZPositionGift(l),this.inBox.push(this.dragGift.id)}}this.dragGift.id=null,this.dragGift.img=null,this.dragGift.position={x:0,y:0},this.dragGift.size={w:0,h:0},this.dragGift.animated=!1,this.onCloseScreen("dragGift"),this.showScreen("mainGifts"),this.hiddenGifts.clear()}}else if(3===this.stage){if("open"===this.stats.mainPackage&&"close"===this.stats.screentrim&&"close"===this.stats.screenlisttrim){if("start"===e.action&&(clearTimeout(this.dragGift.timeout),this.dragGift.timeout=setTimeout(()=>{this.onCloseScreen("mainPackage"),this.showScreen("chooseNext"),setTimeout(()=>{this.doscrolltocenterNextChoose=!this.doscrolltocenterNextChoose},0)},300)),"move"===e.action){clearTimeout(this.dragGift.timeout);let a=e.x-((null===(t=e.start)||void 0===t?void 0:t.x)||0),l=e.y-((null===(s=e.start)||void 0===s?void 0:s.y)||0);this.box.shiftRotate.x=-l,this.box.shiftRotate.y=a}"end"===e.action&&(clearTimeout(this.dragGift.timeout),this.box.rotate.x=(this.box.rotate.x+this.box.shiftRotate.x)%360,this.box.rotate.y=(this.box.rotate.y+this.box.shiftRotate.y)%360,this.box.shiftRotate.x=0,this.box.shiftRotate.y=0),"end"===e.action&&!e.drag&&"close"===this.stats.chooseNext&&(this.onCloseScreen("mainPackage"),this.showScreen("screentrim"),this.imgtrim=this.box.package,this.ratiotrim=1,this.listtrim="wrapbox",this.disableds.menu=!1,this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/image.svg",value:"chgimage"}])}else if("open"===this.stats.chooseNext&&"end"===e.action&&!1===e.drag){const a=this.getEscalateDOM(e.target,"button-back"),l=this.getEscalateDOM(e.target,"button-forward");a?(this.onCloseScreen("chooseNext"),this.setPositionFrom3To2(),this.stage--):l&&(this.onCloseScreen("chooseNext"),this.setPosition4(),this.stage++)}}else if(4===this.stage)if("open"===this.stats.mainTape&&"close"===this.stats.screentrim&&"close"===this.stats.screenlisttrim){if("start"===e.action&&(clearTimeout(this.dragGift.timeout),this.dragGift.timeout=setTimeout(()=>{this.onCloseScreen("mainTape"),this.showScreen("chooseNext"),setTimeout(()=>{this.doscrolltocenterNextChoose=!this.doscrolltocenterNextChoose},0)},300)),"move"===e.action){clearTimeout(this.dragGift.timeout);let a=e.x-((null===(o=e.start)||void 0===o?void 0:o.x)||0),l=e.y-((null===(r=e.start)||void 0===r?void 0:r.y)||0);this.box.shiftRotate.x=-l,this.box.shiftRotate.y=a}"end"===e.action&&(clearTimeout(this.dragGift.timeout),this.box.rotate.x=(this.box.rotate.x+this.box.shiftRotate.x)%360,this.box.rotate.y=(this.box.rotate.y+this.box.shiftRotate.y)%360,this.box.shiftRotate.x=0,this.box.shiftRotate.y=0),"end"===e.action&&!e.drag&&"close"===this.stats.chooseNext&&(this.onCloseScreen("mainTape"),this.showScreen("screentrim"),this.imgtrim=this.box.tape,this.ratiotrim=1,this.listtrim="tapebox",this.disableds.menu=!1,this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/image.svg",value:"chgimage"}])}else if("open"===this.stats.chooseNext&&"end"===e.action&&!1===e.drag){const a=this.getEscalateDOM(e.target,"button-back"),l=this.getEscalateDOM(e.target,"button-forward");a?(this.onCloseScreen("chooseNext"),this.setPositionFrom4To3(),this.stage--):l&&console.log("COMPLETE")}}closescreentrimlist(){this.onCloseScreen("screenlisttrim"),this.showScreen("screentrim")}closeScreenChooseNext(){this.onCloseScreen("chooseNext"),3===this.stage?this.showScreen("mainPackage"):4===this.stage&&this.showScreen("mainTape")}onCloseScreenScreenAdd(){this.onCloseScreen("screenadd"),"close"===this.stats.dragGift&&this.showScreen("mainGifts")}closescreentrim(){this.onCloseScreen("screentrim"),3===this.stage?this.showScreen("mainPackage"):4===this.stage&&this.showScreen("mainTape"),this.menu=[],this.disableds.menu=!0,"close"===this.stats.screenlisttrim&&(this.listtrim="")}closetrim(){this.menusublimeshow=!this.menusublimeshow,this.changeDetectorRef.detectChanges()}setImageTrim(e){this.onCloseScreen("screenlisttrim"),this.showScreen("screentrim"),this.savetrim(e)}savetrim(e){this.imgtrim=e,this.disableds.menu=!1,this.modetrim="usual","wrapbox"===this.listtrim?this.box.package=e:"tapebox"===this.listtrim&&(this.box.tape=e)}actionmenu(e){this.stats.menu=e,"open"===e?"open"===this.stats.screentrim&&"trim"===this.modetrim&&(this.disableds.menu=!1,this.disableds.screentrim=!0):"close"===e&&"open"===this.stats.screentrim&&"trim"===this.modetrim&&(this.disableds.menu=!0,this.disableds.screentrim=!1)}menuwaschoosen(e){"back"===e?this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change image","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),ico:"../../assets/image.svg",value:"chgimage"}]:"trim"===e?(this.disableds.menu=!0,this.modetrim="trim",this.menu=[{title:this.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"},{title:this.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"}]):"save"===e?"open"===this.stats.screentrim&&(null!==this.hashedtrim&&(this.hashedtrim=null),this.sublimesavetrim=!this.sublimesavetrim,this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change image","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),ico:"../../assets/image.svg",value:"chgimage"}]):"cancel"===e?"open"===this.stats.screentrim&&(null!==this.hashedtrim&&(this.imgtrim=this.hashedtrim,this.hashedtrim=null),this.disableds.menu=!1,this.modetrim="usual",this.menu=[{title:this.locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"),ico:"../../assets/scissors.svg",value:"trim"},{title:this.locationService.translate("change image","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),ico:"../../assets/image.svg",value:"chgimage"}]):"chgimage"===e&&"open"===this.stats.screentrim&&(this.onCloseScreen("screentrim"),this.showScreen("screenlisttrim"),this.menu=[])}inputUploadImageTrim(){this.host.nativeElement.querySelector("#inputuploadtrim").click()}tryuploadimage(e){var t=this;return N(function*(){const s=e.target.files[0];let o=[],r={};return s.size/1048576>3&&o.push("should be less than 3 MB"),"image/png"!==s.type&&"image/jpeg"!==s.type&&"image/webp"!==s.type&&"image/x-icon"!==s.type&&"image/gif"!==s.type&&o.push("should be type of png, jpeg, webp, gif, icon"),o[0]||(r=yield t.readFileService.getImageFromFile(s),(r.naturalWidth>1920||r.naturalHeight>1080)&&o.push("should be less than 1920x1080")),o[0]?(t.showerror(o.join("; ")),e.target.value=null):t.uploadImageTrim(r.src),new Promise(a=>a())})()}showerror(e){var t=this;return N(function*(){return clearTimeout(t.timeoutError),t.valerror="",yield t.asyncService.delay(250),t.valerror=e,t.timeoutError=setTimeout(()=>{t.valerror=""},5e3),new Promise(s=>s())})()}uploadImageTrim(e){var t=this;return N(function*(){return t.hashedtrim=t.imgtrim,t.imgtrim=e,t.onCloseScreen("screenlisttrim"),t.showScreen("screentrim"),yield t.asyncService.delay(300),t.disableds.menu=!0,t.modetrim="trim",t.menu=[{title:t.locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),ico:"../../assets/checkmark.svg",value:"save"},{title:t.locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),ico:"../../assets/cross.svg",value:"cancel"}],new Promise(s=>s())})()}cellBoxDragging(e,t){let s=!1,[o,r]=[0,0],a={w:this.box.size.d*this.wrap.scale,h:this.box.size.w*this.wrap.scale,ratio:0};a.ratio=a.w/a.h;let l={w:window.innerWidth,h:window.innerHeight,ratio:0};l.ratio=l.w/l.h;let u={w:a.w/this.grid.w,h:a.h/this.grid.h},h={w:a.w,h:a.h,x:0,y:0};if(a.ratio>=l.ratio?(h.x=0,h.y=(l.h-a.h)/2):a.ratio<l.ratio&&(h.x=(l.w-a.w)/2,h.y=0),o=Math.floor((e-h.x)/u.w),r=Math.floor((t-h.y)/u.h),e>=h.x&&e<=h.x+h.w&&t>=h.y&&t<=h.y+h.h){const f=this.idBannedGiftsInCell(o,r);(!1===f||f===this.dragGift.id)&&(s=!0)}return o<0&&(o=0),o>this.grid.w-1&&(o=this.grid.w-1),r<0&&(r=0),r>this.grid.h-1&&(r=this.grid.h-1),{x:o,y:r,allowed:s,sizeCell:u,rectAllowed:h}}setStartPositionDragGift(e,t){var s=this;return N(function*(){s.dragGift.animated=!0,yield s.asyncService.delay(0);let r=s.cellBoxDragging(e,t);return s.dragGift.allowed=r.allowed,r.allowed?(s.dragGift.animated=!0,s.dragGift.position.x=r.rectAllowed.x+r.x*r.sizeCell.w+r.sizeCell.w/2,s.dragGift.position.y=r.rectAllowed.y+r.y*r.sizeCell.h+r.sizeCell.h/2):(s.dragGift.animated=!1,s.dragGift.position.x=e,s.dragGift.position.y=t),s.dragGift.size.w=.9*r.sizeCell.w,s.dragGift.size.h=.9*r.sizeCell.h,yield s.asyncService.delay(300),s.dragGift.waiting=!1,new Promise(a=>a())})()}onOpenContext(){this.disableds.draw=!0,this.wrap.disable=!0}onCloseContext(e){this.wrap.disable=!1,"pen"===e?(this.disableds.draw=!1,this.toolDraw="pen",this.tool="pen"):"eraser"===e?(this.disableds.draw=!1,this.toolDraw="eraser",this.tool="eraser"):"color"===e?(this.colorDrawRef.nativeElement.click(),this.disableds.draw=!1):"move"===e?(this.disableds.draw=!0,this.tool="move"):"loupe"===e?(this.disableds.draw=!0,this.tool="loupe"):"next"===e&&(this.sublimeSaveDrawInside=!this.sublimeSaveDrawInside)}getNameTool(){return"pen"===this.tool?this.locationService.translate("pen","\u043a\u0430\u0440\u0430\u043d\u0434\u0430\u0448"):"move"===this.tool?this.locationService.translate("move","\u043e\u0431\u0437\u043e\u0440"):"eraser"===this.tool?this.locationService.translate("eraser","\u043b\u0430\u0441\u0442\u0438\u043a"):"loupe"===this.tool?this.locationService.translate("loupe","\u043b\u0443\u043f\u0430"):""}getIconTool(){return"pen"===this.tool?"../../assets/pen.svg":"move"===this.tool?"../../assets/resize.svg":"eraser"===this.tool?"../../assets/eraser.svg":"loupe"===this.tool?"../../assets/loupe-black.svg":""}saveDrawInside(e){let t=this.linerSvgService.getSvg(this.draw.size.w,this.draw.size.h,e),s=(new XMLSerializer).serializeToString(t),o=unescape(encodeURIComponent(s)),a=`data:image/svg+xml;base64,${btoa(o)}`,l=new Image;l.src=a;let u=document.createElement("canvas"),h=u.getContext("2d");u.width=this.draw.size.w,u.height=this.draw.size.h,l.onload=()=>{h.save(),h.translate(this.draw.size.w/2,this.draw.size.h/2),h.rotate(90*Math.PI/180),h.drawImage(l,-this.draw.size.w/2,-this.draw.size.h/2),h.restore();let f=u.toDataURL("image/png");this.box.inside=f,this.setPosition2(),this.stage++}}onCloseScreen(e){this.disableds[e]=!0,this.stats[e]="close"}showScreen(e){this.disableds[e]=!1,this.stats[e]="open","screenadd"===e?setTimeout(()=>{this.doscrolltocenterAddGift=!this.doscrolltocenterAddGift},0):"chooseWrap"===e&&(this.listtrim="wrapbox")}setBoxSizeAndGrid(){const e=this.gifts.length;e<4?(this.grid={w:1,h:1},this.box.size.w=150,this.box.size.d=150):e>=4&&e<6?(this.grid={w:2,h:2},this.box.size.w=300,this.box.size.d=300):e>=6&&e<9?(this.grid={w:3,h:2},this.box.size.w=300,this.box.size.d=450):e>=9&&(this.grid={w:3,h:3},this.box.size.w=450,this.box.size.d=450);let t=0;this.gifts.forEach(s=>{t+=this.getDepthGift(s)}),t+=20,this.box.size.h=t}ngOnInit(){this.subs.push(this.touchService.stream$.subscribe(e=>{this.processTouch(e)})),this.gifts=JSON.parse(window.localStorage.getItem("gifts")||"[]"),this.setBoxSizeAndGrid()}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(D(bg),D(Pe),D(Fe),D($r),D(ph),D(W),D(us),D(Ts))},i.\u0275cmp=Q({type:i,selectors:[["app-touch-page-create-stage3"]],viewQuery:function(e,t){if(1&e&&ht(nH,5,W),2&e){let s;qe(s=Ze())&&(t.colorDrawRef=s.first)}},hostBindings:function(e,t){1&e&&C("click",function(o){return t.onClick(o)},!1,Ie)},decls:72,vars:97,consts:[[3,"value"],[3,"touch","options","sublimeshow","action","choose"],[1,"wrap"],[1,"box",3,"packed","animate","wrapped","tapped","w","h","d","inside","package","tape"],[4,"ngFor","ngForOf"],["appTouchContext","","class","wrap-draw",3,"contextOptions","contextOpen","contextClose",4,"ngIf"],[1,"waiting"],["class","top-menu",4,"ngIf"],[1,"top-menu"],[1,"tool"],[1,"tool__icon"],[1,"tool__text"],[1,"menu"],[1,"menu__icon"],[1,"menu__text"],[1,"hint"],[1,"hint__text"],[1,"tool__icon","tool__icon_image"],["class","loupe",4,"ngIf"],[3,"touch","show","doscrolltocenter","refreshable","close"],["matRipple","","matRippleColor","#00000011","class","button-forward",4,"ngIf"],["matRipple","","matRippleColor","#00000011",1,"button-back"],[1,"button-back__icon"],[1,"button-back__text"],["class","drag-gift",3,"drag-gift_animated","background-image","left","top","width","height",4,"ngIf"],[4,"ngIf"],[3,"touch","show","scrollable","backable","close"],[3,"touch","ratio","img","mode","sublimesave","closetrim","save"],["type","file","id","inputuploadtrim","accept","image/png, image/jpeg, image/webp, image/x-icon, image/gif",2,"display","none",3,"change"],["class","listimages",4,"ngIf"],[3,"touch","show","doscrolltocenter","scrollable","backable","close"],["class","gift",3,"gift_hidden","transform","size","front","back","text","color","sign",4,"ngIf"],["class","gift",3,"hidden","gift_hidden","transform","size","color","front","inside","side","code",4,"ngIf"],["class","gift",3,"gift_hidden","transform","size","grill","color","animationName",4,"ngIf"],["class","gift",3,"gift_hidden","transform","size","color",4,"ngIf"],["class","gift",3,"gift_hidden","transform","size","photo","sign",4,"ngIf"],[1,"gift",3,"size","front","back","text","color","sign"],[1,"gift",3,"hidden","size","color","front","inside","side","code"],[1,"gift",3,"size","grill","color"],[1,"gift",3,"size","color"],[1,"gift",3,"size","photo","sign"],["appTouchContext","",1,"wrap-draw",3,"contextOptions","contextOpen","contextClose"],["type","color",2,"display","none",3,"formControl"],["colorDrawRef",""],[1,"draw",3,"touch","width","height","tool","color","ban","sublimesave","save"],[1,"loupe"],[1,"loupe__bar"],[1,"loupe__progress"],[1,"loupe__right"],[1,"loupe__percentage"],["class","giftlist-option",3,"gift","refresh",4,"ngIf"],[1,"giftlist-option",3,"gift","refresh"],["class","placeholder-list-gift",4,"cdkDragPlaceholder"],[1,"placeholder-list-gift"],["matRipple","","matRippleColor","#00000011",1,"button-forward"],[1,"button-forward__icon"],[1,"button-forward__text"],[1,"drag-gift"],["class","drag-gift__not-allowed",4,"ngIf"],[1,"drag-gift__not-allowed"],["class","back-drag-gift",4,"ngIf"],[1,"back-drag-gift"],[1,"back-drag-gift__window"],["class","grid__row",4,"ngFor","ngForOf"],[1,"grid__row"],["class","grid__option",4,"ngFor","ngForOf"],[1,"grid__option"],[1,"listimages"],[3,"value","click"],[1,"button-forward__icon","button-forward__icon_complete"]],template:function(e,t){1&e&&(_(0,"app-touch-error",0),d(1,"app-touch-menu",1),C("action",function(o){return t.actionmenu(o)})("choose",function(o){return t.menuwaschoosen(o)}),p(),d(2,"div",2),d(3,"app-box",3),T(4,uH,2,1,"ng-container",4),p(),T(5,cH,4,11,"div",5),p(),d(6,"div",6),P(7),p(),T(8,hH,9,4,"div",7),d(9,"div",8),d(10,"div",9),_(11,"div",10),_(12,"div",11),p(),d(13,"div",12),_(14,"div",13),d(15,"div",14),P(16),p(),p(),p(),d(17,"div",15),d(18,"div",16),P(19),p(),p(),d(20,"div",15),d(21,"div",16),P(22),p(),p(),d(23,"div",15),d(24,"div",16),P(25),p(),p(),d(26,"div",15),d(27,"div",16),P(28),p(),p(),d(29,"div",8),d(30,"div",9),_(31,"div",10),d(32,"div",11),P(33),p(),p(),d(34,"div",9),_(35,"div",17),d(36,"div",11),P(37),p(),p(),p(),d(38,"div",15),d(39,"div",16),P(40),p(),p(),d(41,"div",8),d(42,"div",9),_(43,"div",10),d(44,"div",11),P(45),p(),p(),d(46,"div",9),_(47,"div",17),d(48,"div",11),P(49),p(),p(),p(),d(50,"div",15),d(51,"div",16),P(52),p(),p(),T(53,dH,6,3,"div",18),d(54,"app-touch-screen",19),C("close",function(){return t.onCloseScreenScreenAdd()}),T(55,gH,2,1,"ng-container",4),T(56,mH,4,1,"div",20),d(57,"div",21),_(58,"div",22),d(59,"div",23),P(60),p(),p(),p(),T(61,vH,2,13,"div",24),T(62,wH,2,1,"ng-container",25),d(63,"app-touch-screen",26),C("close",function(){return t.closescreentrim()}),d(64,"app-touch-trim",27),C("closetrim",function(){return t.closetrim()})("save",function(o){return t.savetrim(o)}),p(),p(),d(65,"input",28),C("change",function(o){return t.tryuploadimage(o)}),p(),d(66,"app-touch-screen",26),C("close",function(){return t.closescreentrimlist()}),T(67,kH,22,21,"div",29),T(68,xH,22,21,"div",29),p(),d(69,"app-touch-screen",30),C("close",function(){return t.closeScreenChooseNext()}),T(70,DH,9,2,"ng-container",25),T(71,PH,9,2,"ng-container",25),p()),2&e&&(g("value",t.valerror),c(1),g("touch",t.touches.menu)("options",t.menu)("sublimeshow",t.menusublimeshow),c(1),y("transform","translateX("+t.wrap.x+"px) translateY("+t.wrap.y+"px) scale("+t.wrap.scale+")"),H("wrap_animated",t.wrap.animated),c(1),y("transform","translateX("+t.box.coord.x+"px) translateY("+t.box.coord.y+"px) translateZ("+t.box.coord.z+"px) rotateX("+(t.box.rotate.x+t.box.shiftRotate.x)+"deg) rotateY("+(t.box.rotate.y+t.box.shiftRotate.y)+"deg) rotateZ("+t.box.rotate.z+"deg) scale("+t.box.scale+")"),g("packed",t.box.packed)("animate",t.box.animate)("wrapped",t.box.wrapped)("tapped",t.box.tapped)("w",t.box.size.w)("h",t.box.size.h)("d",t.box.size.d)("inside",t.box.inside)("package",t.box.package)("tape",t.box.tape),c(1),g("ngForOf",t.inBox),c(1),g("ngIf",1===t.stage),c(1),H("waiting_hidden",!1===t.transition),c(1),O(t.locationService.translate("wait","\u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435")),c(1),g("ngIf",!1===t.transition&&1===t.stage),c(1),H("top-menu_hidden",!0===t.transition||2!==t.stage),c(7),O(t.locationService.translate("tap","\u043d\u0430\u0436\u0430\u0442\u044c")),c(1),H("hint_hidden",0!==t.stage),c(2),O(t.locationService.translate("click to continue","\u043d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c")),c(1),H("hint_center",0===t.stage)("hint_hidden",2!==t.stage&&0!==t.stage||"open"===t.stats.screenadd||t.inBox.length===t.gifts.length||t.dragGift.img),c(2),O(t.locationService.translate("put all the gifts in a box","\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u0434\u0430\u0440\u043a\u0438 \u0432 \u043a\u043e\u0440\u043e\u0431\u043a\u0443")),c(1),H("hint_hidden",2!==t.stage||"close"===t.stats.screenadd||t.inBox.length===t.gifts.length),c(2),O(t.locationService.translate("press and hold on the gift","\u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043f\u043e\u0434\u0430\u0440\u043e\u043a \u0438 \u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435")),c(1),H("hint_hidden",2!==t.stage||"open"===t.stats.screenadd||t.inBox.length<t.gifts.length||t.dragGift.img),c(2),O(t.locationService.translate("go to the next step in the menu","\u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u0435 \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u044d\u0442\u0430\u043f \u0432 \u043c\u0435\u043d\u044e")),c(1),H("top-menu_hidden",!0===t.transition||3!==t.stage),c(2),y("background-image","url(/assets/menu.svg)"),c(2),O(t.locationService.translate("hold","\u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c")),c(2),y("background-image","url(/assets/image.svg)"),c(2),O(t.locationService.translate("tap","\u043d\u0430\u0436\u0430\u0442\u044c")),c(1),H("hint_hidden",3!==t.stage||"open"===t.stats.screentrim||"open"===t.stats.screenlisttrim||"open"===t.stats.chooseNext),c(2),O(t.locationService.translate("select packaging","\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0443")),c(1),H("top-menu_hidden",!0===t.transition||4!==t.stage),c(2),y("background-image","url(/assets/menu.svg)"),c(2),O(t.locationService.translate("hold","\u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c")),c(2),y("background-image","url(/assets/image.svg)"),c(2),O(t.locationService.translate("tap","\u043d\u0430\u0436\u0430\u0442\u044c")),c(1),H("hint_hidden",4!==t.stage||"open"===t.stats.screentrim||"open"===t.stats.screenlisttrim||"open"===t.stats.chooseNext),c(2),O(t.locationService.translate("select tape","\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043b\u0435\u043d\u0442\u0443")),c(1),g("ngIf",t.showLoupeHint),c(1),g("touch",t.touches.screenadd)("show","open"==t.stats.screenadd)("doscrolltocenter",t.doscrolltocenterAddGift)("refreshable",!0),c(1),g("ngForOf",t.gifts),c(1),g("ngIf",t.inBox.length===t.gifts.length),c(4),O(t.locationService.translate("back to price","\u043d\u0430\u0437\u0430\u0434 \u043a \u0446\u0435\u043d\u0435")),c(1),g("ngIf",t.dragGift.img),c(1),g("ngIf",t.cellBoxDragging(0,0).rectAllowed),c(1),g("touch",t.touches.screentrim)("show","open"===t.stats.screentrim)("scrollable",!1)("backable","usual"===t.modetrim&&"close"===t.stats.menu),c(1),g("touch",t.touches.screentrim)("ratio",t.ratiotrim)("img",t.imgtrim)("mode",t.modetrim)("sublimesave",t.sublimesavetrim),c(2),g("touch",t.touches.screenlisttrim)("show","open"===t.stats.screenlisttrim)("scrollable",!0)("backable",!0),c(1),g("ngIf","wrapbox"===t.listtrim),c(1),g("ngIf","tapebox"===t.listtrim),c(1),g("touch",t.touches.chooseNext)("show","open"===t.stats.chooseNext)("doscrolltocenter",t.doscrolltocenterNextChoose)("scrollable",!0)("backable",!0),c(1),g("ngIf",3===t.stage),c(1),g("ngIf",4===t.stage))},directives:[wb,Nw,Rx,zt,ot,h0,ni,Bw,Vs,Jr,Mo,Eo,zs,tH,da,Zl,fa,d0,_2,m2,v2],pipes:[y2],styles:["[_nghost-%COMP%]{position:absolute;left:0px;top:0px;width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .wrap_animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%]   .box[_ngcontent-%COMP%]{z-index:1;position:absolute}[_nghost-%COMP%]   .draw[_ngcontent-%COMP%]{z-index:2;position:absolute}[_nghost-%COMP%]   .wrap-draw[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;left:0px;top:0px;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .hint[_ngcontent-%COMP%]{position:fixed;bottom:0px;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;backdrop-filter:blur(5px);background-color:#fff3;text-align:center;z-index:10;transition:all ease .2s}[_nghost-%COMP%]   .hint_center[_ngcontent-%COMP%]{bottom:50%;backdrop-filter:blur(0px);background-color:#fff0}[_nghost-%COMP%]   .hint_hidden[_ngcontent-%COMP%]{transform:translateY(100%)}[_nghost-%COMP%]   .hint_green[_ngcontent-%COMP%]{background-color:#333}[_nghost-%COMP%]   .hint__text[_ngcontent-%COMP%]{margin:10px;text-align:center;color:#333;font-size:14px}[_nghost-%COMP%]   .hint_green[_ngcontent-%COMP%]   .hint__text[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .hint_center[_ngcontent-%COMP%]   .hint__text[_ngcontent-%COMP%]{font-size:20px}[_nghost-%COMP%]   .top-menu[_ngcontent-%COMP%]{position:fixed;top:0px;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;backdrop-filter:blur(5px);background-color:#fff3;transform:translateY(0);transition:transform ease .2s}[_nghost-%COMP%]   .top-menu_hidden[_ngcontent-%COMP%]{transform:translateY(-100%)}[_nghost-%COMP%]   .tool[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .tool__icon[_ngcontent-%COMP%]{flex-shrink:0;margin:10px 10px 10px 20px;width:30px;height:30px;background-position:center;background-size:contain;background-repeat:no-repeat}[_nghost-%COMP%]   .tool__icon_image[_ngcontent-%COMP%]{background-size:70%}[_nghost-%COMP%]   .tool__text[_ngcontent-%COMP%]{margin:10px 20px 10px 0;color:#333;font-size:14px}[_nghost-%COMP%]   .menu[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .menu__icon[_ngcontent-%COMP%]{flex-shrink:0;margin:10px 10px 10px 20px;width:30px;height:30px;background-position:center;background-size:contain;background-repeat:no-repeat;background-image:url(/assets/menu.svg)}[_nghost-%COMP%]   .menu__text[_ngcontent-%COMP%]{margin:10px 20px 10px 0;color:#333;font-size:14px}[_nghost-%COMP%]   .loupe[_ngcontent-%COMP%]{position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#fff9;backdrop-filter:blur(5px);border-radius:20px}[_nghost-%COMP%]   .loupe__bar[_ngcontent-%COMP%]{margin:20px;flex-shrink:0;width:20px;height:200px;border-radius:100px;background-color:#0003;display:flex;flex-direction:column;align-items:center;justify-content:flex-end}[_nghost-%COMP%]   .loupe__progress[_ngcontent-%COMP%]{width:100%;border-radius:100px;background-color:#000}[_nghost-%COMP%]   .loupe__right[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .loupe__percentage[_ngcontent-%COMP%]{color:#333;font-size:24px;font-weight:100}[_nghost-%COMP%]   .placeholder-list-gift[_ngcontent-%COMP%]{width:100%;height:120px;opacity:0;transition:transform .25s ease}[_nghost-%COMP%]   .drag-gift[_ngcontent-%COMP%]{position:absolute;width:100px;height:100px;z-index:999;background-repeat:no-repeat;background-size:contain;background-position:center;transform:translate(-50%) translateY(-50%)}[_nghost-%COMP%]   .drag-gift__not-allowed[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#f003;border-radius:20px}[_nghost-%COMP%]   .drag-gift_animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%]   .gift_hidden[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .back-drag-gift[_ngcontent-%COMP%]{position:absolute;left:0px;height:0px;width:100vw;height:100vh;background-color:#000a}[_nghost-%COMP%]   .back-drag-gift__window[_ngcontent-%COMP%]{position:absolute;backdrop-filter:brightness(2);display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;border:1px solid #ffffff66}[_nghost-%COMP%]   .grid__row[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:row;align-items:stretch;justify-content:flex-start}[_nghost-%COMP%]   .grid__option[_ngcontent-%COMP%]{flex:1;border-right:1px solid #ffffff66;border-bottom:1px solid #ffffff66}[_nghost-%COMP%]   .grid__row[_ngcontent-%COMP%]:last-child   .grid__option[_ngcontent-%COMP%]{border-bottom:1px solid #ffffff00}[_nghost-%COMP%]   .grid__option[_ngcontent-%COMP%]:last-child{border-right:1px solid #ffffff00}[_nghost-%COMP%]   .button-back[_ngcontent-%COMP%], [_nghost-%COMP%]   .button-forward[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .button-back__icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .button-forward__icon[_ngcontent-%COMP%]{margin:10px;width:100px;height:100px;background-position:center;background-repeat:no-repeat;background-size:50%;background-image:url(/assets/arrow-left3.svg)}[_nghost-%COMP%]   .button-forward__icon[_ngcontent-%COMP%]{background-image:url(/assets/arrow-right3.svg)}[_nghost-%COMP%]   .button-forward__icon_complete[_ngcontent-%COMP%]{background-image:url(/assets/checkmark.svg)}[_nghost-%COMP%]   .button-back__text[_ngcontent-%COMP%], [_nghost-%COMP%]   .button-forward__text[_ngcontent-%COMP%]{margin:10px;color:#333;font-size:18px;user-select:none}[_nghost-%COMP%]   .listimages[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around;flex-wrap:wrap}[_nghost-%COMP%]   .waiting[_ngcontent-%COMP%]{padding:20px;position:absolute;width:calc(100% - 40px);left:0px;top:0px;text-align:center;font-size:14px;color:#333;display:flex;flex-direction:column;justify-content:center;align-items:center;transform:translateY(0);z-index:1;backdrop-filter:blur(5px);background-color:#fff3;transition:transform ease .2s}[_nghost-%COMP%]   .waiting_hidden[_ngcontent-%COMP%]{transform:translateY(-100%)}"]}),i})();const MH=["boxRef"];function EH(i,n){if(1&i&&_(0,"app-greeting-card",66),2&i){const e=b().ngIf,t=b(2);y("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),H("gift_hidden",t.hiddenGifts.get(e.id)),g("size",t.getSizeGift(e))("front",e.front)("back",e.back)("text",e.text)("color",e.color)("sign",e.sign)}}function TH(i,n){if(1&i&&_(0,"app-game",67),2&i){const e=b().ngIf,t=b(2);y("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),H("gift_hidden",t.hiddenGifts.get(e.id)),g("hidden",t.hiddenGifts.get(e.id))("size",t.getSizeGift(e))("color",e.color)("front",e.front)("inside",e.inside)("side",e.side)("code",e.code)}}function OH(i,n){if(1&i&&_(0,"app-speaker",68),2&i){const e=b().ngIf,t=b(2);y("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(0deg) rotateZ(90deg)")("animation-name","rotPlus180"),H("gift_hidden",t.hiddenGifts.get(e.id)),g("size",t.getSizeGift(e))("grill",e.grill)("color",e.color)}}function IH(i,n){if(1&i&&_(0,"app-tablet",69),2&i){const e=b().ngIf,t=b(2);y("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),H("gift_hidden",t.hiddenGifts.get(e.id)),g("size",t.getSizeGift(e))("color",e.color)}}function AH(i,n){if(1&i&&_(0,"app-photo",70),2&i){const e=b().ngIf,t=b(2);y("transform","translateX("+-e.pos.y+"px) translateY("+-e.pos.x+"px) translateZ("+-e.pos.z+"px) rotateY(180deg) rotateZ(-90deg)"),H("gift_hidden",t.hiddenGifts.get(e.id)),g("size",t.getSizeGift(e))("photo",e.photo)("sign",e.sign)}}function RH(i,n){if(1&i&&(Be(0),T(1,EH,1,10,"app-greeting-card",61),T(2,TH,1,11,"app-game",62),T(3,OH,1,9,"app-speaker",63),T(4,IH,1,6,"app-tablet",64),T(5,AH,1,7,"app-photo",65),Ve()),2&i){const e=n.ngIf;c(1),g("ngIf","greetingcard"===e.type),c(1),g("ngIf","game"===e.type),c(1),g("ngIf","speaker"===e.type),c(1),g("ngIf","tablet"===e.type),c(1),g("ngIf","photo"===e.type)}}function FH(i,n){if(1&i&&(Be(0),T(1,RH,6,5,"ng-container",57),Ve()),2&i){const e=n.$implicit,t=b();c(1),g("ngIf",t.getGiftById(e))}}function NH(i,n){if(1&i&&_(0,"app-desktop-gift-list-option",72),2&i){const e=b().$implicit;g("scaleIcon",.6)("gift",e)("showButtons",!1),Ue("giftid",e.id)}}function LH(i,n){if(1&i&&(Be(0),T(1,NH,1,4,"app-desktop-gift-list-option",71),Ve()),2&i){const e=n.$implicit,t=b();c(1),g("ngIf",!t.isGiftInBox(e)&&t.dragGift.id!==e.id)}}function BH(i,n){1&i&&_(0,"div",75)}function VH(i,n){if(1&i&&(d(0,"div",73),T(1,BH,1,0,"div",74),p()),2&i){const e=b();y("background-image","url("+e.dragGift.img+")")("left",e.dragGift.position.x,"px")("top",e.dragGift.position.y,"px")("width",e.dragGift.size.w,"px")("height",e.dragGift.size.h,"px"),H("drag-gift_animated",e.dragGift.animated),c(1),g("ngIf",!e.dragGift.allowed)}}function zH(i,n){1&i&&_(0,"div",82)}const Nx=function(){return[]};function jH(i,n){if(1&i&&(d(0,"div",80),T(1,zH,1,0,"div",81),p()),2&i){const e=b(3);c(1),g("ngForOf",Vt(1,Nx).constructor(e.grid.w))}}function GH(i,n){if(1&i&&(d(0,"div",77),d(1,"div",78),T(2,jH,2,2,"div",79),p(),p()),2&i){const e=b().ngIf,t=b();c(1),y("left",e.x,"px")("top",e.y,"px")("width",e.w,"px")("height",e.h,"px"),c(1),g("ngForOf",Vt(9,Nx).constructor(t.grid.h))}}function HH(i,n){if(1&i&&(Be(0),T(1,GH,3,10,"div",76),Ve()),2&i){const e=b();c(1),g("ngIf",e.dragGift.img)}}function UH(i,n){if(1&i){const e=J();d(0,"app-desktop-button",88),C("click",function(){return M(e),b(2).imageUpload.mode="trim"}),p()}2&i&&g("text",b(2).locationService.translate("trim","\u043e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"))("icon","../../assets/scissors.svg")("background","#ffffff")("color","#333333")}function $H(i,n){if(1&i){const e=J();d(0,"app-desktop-button",88),C("click",function(){return M(e),b(2),Ki(107).click()}),p()}2&i&&g("text",b(2).locationService.translate("upload","\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"))("icon","../../assets/upload-mini.svg")("background","#ffffff")("color","#333333")}function YH(i,n){if(1&i){const e=J();d(0,"app-desktop-button",88),C("click",function(){M(e);const s=b(2);return s.imageUpload.sublimesave=!s.imageUpload.sublimesave}),p()}2&i&&g("text",b(2).locationService.translate("save","\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))("icon","../../assets/checkmark.svg")("background","#ffffff")("color","#333333")}function WH(i,n){if(1&i){const e=J();d(0,"app-desktop-button",88),C("click",function(){return M(e),b(2).cancelTrim()}),p()}2&i&&g("text",b(2).locationService.translate("cancel","\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"))("icon","../../assets/cross.svg")("background","#ffffff")("color","#333333")}function qH(i,n){if(1&i){const e=J();d(0,"div",83),d(1,"app-desktop-trim",84),C("save",function(s){return M(e),b().saveUploadImage(s)}),p(),d(2,"div",85),C("click",function(){return M(e),b().imageUpload.visible=!1}),p(),d(3,"div",86),T(4,UH,1,4,"app-desktop-button",87),T(5,$H,1,4,"app-desktop-button",87),T(6,YH,1,4,"app-desktop-button",87),T(7,WH,1,4,"app-desktop-button",87),p(),p()}if(2&i){const e=b();g("@verticalShow",void 0),c(1),g("img",e.imageUpload.img)("ratio",e.imageUpload.ratio)("mode",e.imageUpload.mode)("sublimesave",e.imageUpload.sublimesave),c(1),H("screen-image-upload__close_background","usual"===e.imageUpload.mode),c(2),g("ngIf","usual"===e.imageUpload.mode),c(1),g("ngIf","usual"===e.imageUpload.mode),c(1),g("ngIf","trim"===e.imageUpload.mode),c(1),g("ngIf","trim"===e.imageUpload.mode)}}let ZH=(()=>{class i{constructor(e,t,s,o){this.asyncService=e,this.snapshotGiftService=t,this.locationService=s,this.readFileService=o,this.gifts=[],this.subs=[],this.grid={w:2,h:2},this.inBox=[],this.hiddenGifts=new Map,this.textError="",this.timeoutError=setTimeout(()=>{},0),this.transition=!1,this.box={animate:!1,packed:!1,wrapped:!1,tapped:!1,package:"../../assets/box/package/4.jpg",tape:"../../assets/box/tape/1.jpg",coord:{x:0,y:-1e3,z:0},rotate:{x:-15,y:110,z:0},size:{w:110,h:130,d:120},scale:1,shiftRotate:{x:0,y:0}},this.wrap={x:0,y:0,scale:1,disable:!1,animated:!1},this.initialWrap={x:0,y:0,scale:1},this.dragGift={timeout:setTimeout(()=>{},0),img:null,position:{x:0,y:0},size:{w:0,h:0},animated:!1,id:null,waiting:!1,allowed:!1},this.stage=0,this.showGifts=!1,this.showWrap=!1,this.showTape=!1,this.imageUpload={visible:!1,type:"none",img:"",cancelImg:"",ratio:16/9,mode:"usual",sublimesave:!1,showList:!1},this.mouse={down:!1,start:{x:0,y:0}},this.isRotateGift=!1}onMouseDown(e){if(this.transition)return;this.mouse.down=!0;let[t,s]=[e.clientX,e.clientY];const o=e.target;if(this.mouse.start={x:t,y:s},1===this.stage){document.body.style.userSelect="none",document.body.style.cursor="grabbing",clearTimeout(this.dragGift.timeout);const r=this.getEscalateDOM(o,"gift-option"),a=this.getEscalateDOM(o,"icon");let l=this.cellBoxDragging(t,s),u=this.getTopGiftFromCell(l.x,l.y);if(r&&a){const h=a.getBoundingClientRect(),f=parseInt(r.getAttribute("giftid")),m=this.gifts.find(v=>v.id===f);this.snapshotGiftService.get(m).then(v=>{this.dragGift.id=f,this.dragGift.img=v,this.dragGift.size.w=h.width,this.dragGift.size.h=h.height,this.dragGift.position.x=h.x+this.dragGift.size.w/2,this.dragGift.position.y=h.y+this.dragGift.size.h/2,this.dragGift.waiting=!0,this.setStartPositionDragGift(t,s)})}else if(u){if(t<l.rectAllowed.x||t>l.rectAllowed.x+l.rectAllowed.w||s<l.rectAllowed.y||s>l.rectAllowed.y+l.rectAllowed.h)return;this.snapshotGiftService.get(u).then(h=>{this.dragGift.animated=!1,this.dragGift.waiting=!0,this.hiddenGifts.set(u.id,!0),this.dragGift.id=u.id,this.dragGift.img=h,this.dragGift.size.w=l.sizeCell.w,this.dragGift.size.h=l.sizeCell.h,this.dragGift.position.x=l.rectAllowed.x+l.x*l.sizeCell.w+l.sizeCell.w/2,this.dragGift.position.y=l.rectAllowed.y+l.y*l.sizeCell.h+l.sizeCell.h/2,this.setStartPositionDragGift(t,s)})}}else(2===this.stage||3===this.stage)&&this.getEscalateDOM(o,"display")&&(this.isRotateGift=!0,document.body.style.userSelect="none")}onMouseUp(e){this.mouse.down=!1;let[t,s]=[e.clientX,e.clientY];if(1===this.stage){if(document.body.style.userSelect="auto",document.body.style.cursor="auto",this.dragGift.img){this.dragGift.waiting=!1;const o=this.cellBoxDragging(t,s);if(this.dragGift.allowed=o.allowed,this.inBox=this.inBox.filter(r=>r!==this.dragGift.id),o.allowed){const r=this.getGiftById(this.dragGift.id);r.pos={x:0,y:0},r.pos.x=-this.box.size.d/2+(.5+o.x)*(this.box.size.d/this.grid.w),r.pos.y=-this.box.size.w/2+(.5+o.y)*(this.box.size.w/this.grid.h),r.cell={x:o.x,y:o.y},r.pos.z=this.getZPositionGift(r),this.inBox.push(this.dragGift.id)}this.dragGift.id=null,this.dragGift.img=null,this.dragGift.position={x:0,y:0},this.dragGift.size={w:0,h:0},this.dragGift.animated=!1,this.hiddenGifts.clear()}}else(2===this.stage||3===this.stage)&&(this.isRotateGift=!1,document.body.style.userSelect="auto",this.box.rotate.x=(this.box.rotate.x+this.box.shiftRotate.x)%360,this.box.rotate.y=(this.box.rotate.y+this.box.shiftRotate.y)%360,this.box.shiftRotate.x=0,this.box.shiftRotate.y=0)}onMouseMove(e){if(!this.mouse.down)return;let[t,s]=[e.clientX,e.clientY];if(1===this.stage){if(this.dragGift.img){let o=this.cellBoxDragging(t,s);this.dragGift.allowed=o.allowed,o.allowed?(this.dragGift.animated=!0,this.dragGift.position.x=o.rectAllowed.x+o.x*o.sizeCell.w+o.sizeCell.w/2,this.dragGift.position.y=o.rectAllowed.y+o.y*o.sizeCell.h+o.sizeCell.h/2):(this.dragGift.animated=!1,this.dragGift.position.x=t,this.dragGift.position.y=s)}}else if((2===this.stage||3===this.stage)&&this.isRotateGift){let o=t-(this.mouse.start.x||0);this.box.shiftRotate.x=-(s-(this.mouse.start.y||0)),this.box.shiftRotate.y=o}}setStage1(){var e=this;return N(function*(){return e.transition=!0,e.stage=1,e.wrap.animated=!0,e.box.animate=!0,yield e.asyncService.delay(10),e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,yield e.asyncService.delay(1e3),e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.box.rotate.x=-90,e.box.rotate.y=90,e.box.rotate.z=0,yield e.asyncService.delay(300),e.showGifts=!0,yield e.asyncService.delay(10),e.wrap.animated=!1,e.box.animate=!1,e.transition=!1,new Promise(t=>t())})()}setStage1From2(){var e=this;return N(function*(){return e.transition=!0,e.stage=1,e.wrap.animated=!0,e.box.animate=!0,yield e.asyncService.delay(10),e.showWrap=!1,yield e.asyncService.delay(300),e.box.wrapped=!1,yield e.asyncService.delay(5e3),e.box.packed=!1,yield e.asyncService.delay(1e3),e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.box.rotate.x=-90,e.box.rotate.y=90,e.box.rotate.z=0,yield e.asyncService.delay(300),e.showGifts=!0,yield e.asyncService.delay(300),e.wrap.animated=!1,e.box.animate=!1,e.transition=!1,new Promise(t=>t())})()}setStage2(){var e=this;return N(function*(){return e.transition=!0,e.stage=2,e.wrap.animated=!0,e.box.animate=!0,yield e.asyncService.delay(10),e.showGifts=!1,yield e.asyncService.delay(300),e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,yield e.asyncService.delay(300),e.box.packed=!0,yield e.asyncService.delay(1e3),e.box.wrapped=!0,yield e.asyncService.delay(6e3),e.showWrap=!0,yield e.asyncService.delay(300),e.wrap.animated=!1,e.box.animate=!1,e.transition=!1,new Promise(t=>t())})()}setStage2From3(){var e=this;return N(function*(){return e.transition=!0,e.stage=3,e.wrap.animated=!0,e.box.animate=!0,yield e.asyncService.delay(10),e.showTape=!1,yield e.asyncService.delay(300),e.box.tapped=!1,yield e.asyncService.delay(4e3),e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,yield e.asyncService.delay(300),e.showWrap=!0,yield e.asyncService.delay(300),e.wrap.animated=!1,e.box.animate=!1,e.transition=!1,new Promise(t=>t())})()}setStage3(){var e=this;return N(function*(){return e.transition=!0,e.stage=3,e.wrap.animated=!0,e.box.animate=!0,yield e.asyncService.delay(10),e.showWrap=!1,yield e.asyncService.delay(300),e.box.coord.x=0,e.box.coord.y=0,e.box.coord.z=0,e.box.rotate.x=-15,e.box.rotate.y=110,e.box.rotate.z=0,yield e.asyncService.delay(300),e.box.tapped=!0,yield e.asyncService.delay(4e3),e.showTape=!0,yield e.asyncService.delay(300),e.wrap.animated=!1,e.box.animate=!1,e.transition=!1,new Promise(t=>t())})()}completeStage(){console.log("go go go")}setPackageBox(e){this.box.package=e}setTapeBox(e){this.box.tape=e}trySetStage2(){this.inBox.length<this.gifts.length?this.showError(this.locationService.translate("Put all the gifts in a box","\u041f\u043e\u043b\u043e\u0436\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u0434\u0430\u0440\u043a\u0438 \u0432 \u043a\u043e\u0440\u043e\u0431\u043a\u0443")):this.inBox.length===this.gifts.length&&this.setStage2()}showError(e){var t=this;return N(function*(){return clearTimeout(t.timeoutError),t.textError="",yield t.asyncService.delay(100),t.textError=e,t.timeoutError=setTimeout(()=>{t.textError=""},5e3),new Promise(s=>s())})()}isGiftInBox(e){return!!this.inBox.find(t=>t===e.id)}getTopGiftFromCell(e,t){let s=null;for(let o=0;o<this.inBox.length;o++){const r=this.getGiftById(this.inBox[o]);r.cell.x===e&&r.cell.y===t&&(s=r)}return s}setStartPositionDragGift(e,t){var s=this;return N(function*(){s.dragGift.animated=!0,yield s.asyncService.delay(0);let r=s.cellBoxDragging(e,t);return s.dragGift.allowed=r.allowed,r.allowed?(s.dragGift.position.x=r.rectAllowed.x+r.x*r.sizeCell.w+r.sizeCell.w/2,s.dragGift.position.y=r.rectAllowed.y+r.y*r.sizeCell.h+r.sizeCell.h/2):(s.dragGift.position.x=e,s.dragGift.position.y=t),s.dragGift.size.w=.9*r.sizeCell.w,s.dragGift.size.h=.9*r.sizeCell.h,yield s.asyncService.delay(300),s.dragGift.waiting=!1,s.dragGift.animated=!1,new Promise(a=>a())})()}getZPositionGift(e){let t=this.getDepthGift(e)/2+2;for(let s=0;this.inBox[s]!==e.id&&s<this.inBox.length;s++){const o=this.getGiftById(this.inBox[s]);e.cell.x===o.cell.x&&e.cell.y===o.cell.y&&(t+=this.getDepthGift(o))}return t}getGiftById(e){return this.gifts.find(t=>t.id===e)||null}idBannedGiftsInCell(e,t){for(let s=0;s<this.inBox.length;s++){const o=this.getGiftById(this.inBox[s]);if(o.cell.x===e&&o.cell.y===t&&"speaker"===o.type)return o.id}return!1}cellBoxDragging(e,t){if(!this.boxRef)return;let s=!1,[o,r]=[0,0],a={w:this.box.size.d*this.wrap.scale,h:this.box.size.w*this.wrap.scale,ratio:0};a.ratio=a.w/a.h;let l={w:window.innerWidth,h:window.innerHeight,ratio:0};l.ratio=l.w/l.h;let u={w:a.w/this.grid.w,h:a.h/this.grid.h},h={w:a.w,h:a.h,x:0,y:0},f=this.boxRef.nativeElement.getBoundingClientRect();if(h.x=f.x-a.w/2,h.y=f.y-a.h/2,o=Math.floor((e-h.x)/u.w),r=Math.floor((t-h.y)/u.h),e>=h.x&&e<=h.x+h.w&&t>=h.y&&t<=h.y+h.h){const m=this.idBannedGiftsInCell(o,r);(!1===m||m===this.dragGift.id)&&(s=!0)}return o<0&&(o=0),o>this.grid.w-1&&(o=this.grid.w-1),r<0&&(r=0),r>this.grid.h-1&&(r=this.grid.h-1),{x:o,y:r,allowed:s,sizeCell:u,rectAllowed:h}}getSizeGift(e){let t=.9;return"greetingcard"===e.type?this.box.size.w/this.grid.h*(297/420)*t:"game"===e.type?this.box.size.w/this.grid.h*(135/190)*t:"speaker"===e.type||"tablet"===e.type?this.box.size.d/this.grid.w*t:"photo"===e.type?this.box.size.w/this.grid.h*.75*t:0}getEscalateDOM(e,t){let s=e;for(;"BODY"!==s.tagName;){if(s.classList.contains(t))return s;s=s.parentNode}return null}getDepthGift(e){const t=this.getSizeGift(e);return"greetingcard"===e.type?t/297:"game"===e.type?t/9:"speaker"===e.type?t/(299/136):"tablet"===e.type?t/(247/6):"photo"===e.type?t/480:1}setBoxSizeAndGrid(){const e=this.gifts.length;e<4?(this.grid={w:1,h:1},this.box.size.w=300,this.box.size.d=300):e>=4&&e<6?(this.grid={w:2,h:2},this.box.size.w=400,this.box.size.d=400):e>=6&&e<9?(this.grid={w:3,h:2},this.box.size.w=300,this.box.size.d=500):e>=9&&(this.grid={w:3,h:3},this.box.size.w=500,this.box.size.d=500);let t=0;this.gifts.forEach(s=>{t+=this.getDepthGift(s)}),t+=20,this.box.size.h=t}inputUploadImage(e){this.saveUploadImage(e.target.files[0])}cancelTrim(){this.imageUpload.mode="usual",""!==this.imageUpload.cancelImg&&(this.imageUpload.img=this.imageUpload.cancelImg),this.imageUpload.cancelImg=""}tryuploadimage(e){var t=this;return N(function*(){const s=e.target.files[0];let o=[],r={};return s.size/1048576>3&&o.push("should be less than 3 MB"),"image/png"!==s.type&&"image/jpeg"!==s.type&&"image/webp"!==s.type&&"image/x-icon"!==s.type&&"image/gif"!==s.type&&o.push("should be type of png, jpeg, webp, gif, icon"),o[0]||(r=yield t.readFileService.getImageFromFile(s),(r.naturalWidth>1920||r.naturalHeight>1080)&&o.push("should be less than 1920x1080")),o[0]?(t.showError(o.join("; ")),e.target.value=null):(t.imageUpload.mode="trim",t.imageUpload.cancelImg=t.imageUpload.img,t.imageUpload.img=r.src),new Promise(a=>a(!0))})()}saveUploadImage(e){this.imageUpload.mode="usual","package"===this.imageUpload.type?this.box.package=e:"tape"===this.imageUpload.type&&(this.box.tape=e),this.imageUpload.cancelImg=""}showUploadImagePackage(){this.imageUpload.visible=!0,this.imageUpload.img=this.box.package,this.imageUpload.type="package",this.imageUpload.ratio=1,this.imageUpload.mode="usual"}showUploadImageTape(){this.imageUpload.visible=!0,this.imageUpload.img=this.box.tape,this.imageUpload.type="tape",this.imageUpload.ratio=1,this.imageUpload.mode="usual"}backToPrice(){console.log("back back back")}ngOnInit(){this.setStage1(),this.gifts=JSON.parse(window.localStorage.getItem("gifts")||"[]"),this.setBoxSizeAndGrid()}}return i.\u0275fac=function(e){return new(e||i)(D(Pe),D(ph),D(Fe),D(us))},i.\u0275cmp=Q({type:i,selectors:[["app-desktop-page-create-stage3"]],viewQuery:function(e,t){if(1&e&&ht(MH,5,W),2&e){let s;qe(s=Ze())&&(t.boxRef=s.first)}},hostBindings:function(e,t){1&e&&C("mousedown",function(o){return t.onMouseDown(o)},!1,Ie)("mouseup",function(o){return t.onMouseUp(o)},!1,Ie)("mousemove",function(o){return t.onMouseMove(o)},!1,Ie)},decls:108,vars:55,consts:[[1,"error",3,"text"],[1,"display"],[1,"wrap"],[1,"box",3,"packed","animate","wrapped","tapped","w","h","d","inside","package","tape"],["boxRef",""],[4,"ngFor","ngForOf"],[1,"gifts"],[1,"wraps"],["matRipple","","matRippleColor","#00000022",1,"list-images-option",3,"click"],[1,"list-images-option__image",2,"background-image","url(../../assets/image.svg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/1.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/2.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/3.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/4.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/5.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/6.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/7.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/8.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/9.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/10.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/11.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/12.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/13.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/14.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/15.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/16.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/17.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/18.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/19.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/package/20.jpg)"],["matRipple","","matRippleColor","#00000022",1,"list-images-option","list-images-option_mini",3,"click"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/1.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/2.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/3.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/4.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/5.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/6.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/7.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/8.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/9.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/10.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/11.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/12.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/13.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/14.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/15.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/16.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/17.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/18.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/19.jpg)"],[1,"list-images-option__image",2,"background-image","url(../../assets/box/tape/20.jpg)"],[1,"button-next-stage","button-next-stage_on-display"],["icon","/assets/arrow-left3.svg",1,"button-next-stage__option",3,"text","color","background","click"],["icon","/assets/arrow-right3.svg",1,"button-next-stage__option",3,"text","color","background","disabled","click"],["icon","/assets/arrow-right3.svg",1,"button-next-stage__option",3,"text","color","background","click"],["icon","/assets/checkmark.svg",1,"button-next-stage__option",3,"text","color","background","click"],["class","drag-gift",3,"drag-gift_animated","background-image","left","top","width","height",4,"ngIf"],[4,"ngIf"],["class","screen-image-upload",4,"ngIf"],["type","file","accept","image/png, image/jpeg",2,"display","none",3,"input"],["inputUploadImage",""],["class","gift",3,"gift_hidden","transform","size","front","back","text","color","sign",4,"ngIf"],["class","gift",3,"hidden","gift_hidden","transform","size","color","front","inside","side","code",4,"ngIf"],["class","gift",3,"gift_hidden","transform","size","grill","color","animationName",4,"ngIf"],["class","gift",3,"gift_hidden","transform","size","color",4,"ngIf"],["class","gift",3,"gift_hidden","transform","size","photo","sign",4,"ngIf"],[1,"gift",3,"size","front","back","text","color","sign"],[1,"gift",3,"hidden","size","color","front","inside","side","code"],[1,"gift",3,"size","grill","color"],[1,"gift",3,"size","color"],[1,"gift",3,"size","photo","sign"],["class","gift-option",3,"scaleIcon","gift","showButtons",4,"ngIf"],[1,"gift-option",3,"scaleIcon","gift","showButtons"],[1,"drag-gift"],["class","drag-gift__not-allowed",4,"ngIf"],[1,"drag-gift__not-allowed"],["class","back-drag-gift",4,"ngIf"],[1,"back-drag-gift"],[1,"back-drag-gift__window"],["class","grid__row",4,"ngFor","ngForOf"],[1,"grid__row"],["class","grid__option",4,"ngFor","ngForOf"],[1,"grid__option"],[1,"screen-image-upload"],[3,"img","ratio","mode","sublimesave","save"],[1,"screen-image-upload__close",3,"click"],[1,"screen-image-upload__menu"],[3,"text","icon","background","color","click",4,"ngIf"],[3,"text","icon","background","color","click"]],template:function(e,t){if(1&e&&(_(0,"app-desktop-error",0),d(1,"div",1),d(2,"div",2),d(3,"app-box",3,4),T(5,FH,2,1,"ng-container",5),p(),p(),p(),d(6,"div",6),T(7,LH,2,1,"ng-container",5),p(),d(8,"div",7),d(9,"div",8),C("click",function(){return t.showUploadImagePackage()}),_(10,"div",9),p(),d(11,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/1.jpg")}),_(12,"div",10),p(),d(13,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/2.jpg")}),_(14,"div",11),p(),d(15,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/3.jpg")}),_(16,"div",12),p(),d(17,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/4.jpg")}),_(18,"div",13),p(),d(19,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/5.jpg")}),_(20,"div",14),p(),d(21,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/6.jpg")}),_(22,"div",15),p(),d(23,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/7.jpg")}),_(24,"div",16),p(),d(25,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/8.jpg")}),_(26,"div",17),p(),d(27,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/9.jpg")}),_(28,"div",18),p(),d(29,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/10.jpg")}),_(30,"div",19),p(),d(31,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/11.jpg")}),_(32,"div",20),p(),d(33,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/12.jpg")}),_(34,"div",21),p(),d(35,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/13.jpg")}),_(36,"div",22),p(),d(37,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/14.jpg")}),_(38,"div",23),p(),d(39,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/15.jpg")}),_(40,"div",24),p(),d(41,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/16.jpg")}),_(42,"div",25),p(),d(43,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/17.jpg")}),_(44,"div",26),p(),d(45,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/18.jpg")}),_(46,"div",27),p(),d(47,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/19.jpg")}),_(48,"div",28),p(),d(49,"div",8),C("click",function(){return t.setPackageBox("../../assets/box/package/20.jpg")}),_(50,"div",29),p(),p(),d(51,"div",7),d(52,"div",30),C("click",function(){return t.showUploadImageTape()}),_(53,"div",9),p(),d(54,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/1.jpg")}),_(55,"div",31),p(),d(56,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/2.jpg")}),_(57,"div",32),p(),d(58,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/3.jpg")}),_(59,"div",33),p(),d(60,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/4.jpg")}),_(61,"div",34),p(),d(62,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/5.jpg")}),_(63,"div",35),p(),d(64,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/6.jpg")}),_(65,"div",36),p(),d(66,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/7.jpg")}),_(67,"div",37),p(),d(68,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/8.jpg")}),_(69,"div",38),p(),d(70,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/9.jpg")}),_(71,"div",39),p(),d(72,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/10.jpg")}),_(73,"div",40),p(),d(74,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/11.jpg")}),_(75,"div",41),p(),d(76,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/12.jpg")}),_(77,"div",42),p(),d(78,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/13.jpg")}),_(79,"div",43),p(),d(80,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/14.jpg")}),_(81,"div",44),p(),d(82,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/15.jpg")}),_(83,"div",45),p(),d(84,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/16.jpg")}),_(85,"div",46),p(),d(86,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/17.jpg")}),_(87,"div",47),p(),d(88,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/18.jpg")}),_(89,"div",48),p(),d(90,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/19.jpg")}),_(91,"div",49),p(),d(92,"div",30),C("click",function(){return t.setTapeBox("../../assets/box/tape/20.jpg")}),_(93,"div",50),p(),p(),d(94,"div",51),d(95,"app-desktop-button",52),C("click",function(){return t.backToPrice()}),p(),d(96,"app-desktop-button",53),C("click",function(){return t.trySetStage2()}),p(),p(),d(97,"div",51),d(98,"app-desktop-button",52),C("click",function(){return t.setStage1From2()}),p(),d(99,"app-desktop-button",54),C("click",function(){return t.setStage3()}),p(),p(),d(100,"div",51),d(101,"app-desktop-button",52),C("click",function(){return t.setStage2From3()}),p(),d(102,"app-desktop-button",55),C("click",function(){return t.completeStage()}),p(),p(),T(103,VH,2,13,"div",56),T(104,HH,2,1,"ng-container",57),T(105,qH,8,11,"div",58),d(106,"input",59,60),C("input",function(o){return t.tryuploadimage(o)}),p()),2&e){let s;g("text",t.textError),c(1),H("display_shifted",t.showGifts||t.showWrap||t.showTape),c(1),y("transform","translateX("+t.wrap.x+"px) translateY("+t.wrap.y+"px) scale("+t.wrap.scale+")"),H("wrap_animated",t.wrap.animated),c(1),y("transform","translateX("+t.box.coord.x+"px) translateY("+t.box.coord.y+"px) translateZ("+t.box.coord.z+"px) rotateX("+(t.box.rotate.x+t.box.shiftRotate.x)+"deg) rotateY("+(t.box.rotate.y+t.box.shiftRotate.y)+"deg) rotateZ("+t.box.rotate.z+"deg) scale("+t.box.scale+")"),g("packed",t.box.packed)("animate",t.box.animate)("wrapped",t.box.wrapped)("tapped",t.box.tapped)("w",t.box.size.w)("h",t.box.size.h)("d",t.box.size.d)("inside",t.box.inside)("package",t.box.package)("tape",t.box.tape),c(2),g("ngForOf",t.inBox),c(1),H("gifts_hidden",!t.showGifts),c(1),g("ngForOf",t.gifts),c(1),H("wraps_hidden",!t.showWrap),c(43),H("wraps_hidden",!t.showTape),c(43),H("button-next-stage_hidden",!t.showGifts),c(1),g("text",t.locationService.translate("back to price","\u043d\u0430\u0437\u0430\u0434 \u043a \u0446\u0435\u043d\u0435"))("color","#333333")("background","#ffffff"),c(1),g("text",t.locationService.translate("to pack","\u0443\u043f\u0430\u043a\u043e\u0432\u0430\u0442\u044c"))("color","#333333")("background","#ffffff")("disabled",t.inBox.length<t.gifts.length),c(1),H("button-next-stage_hidden",!t.showWrap),c(1),g("text",t.locationService.translate("back to gifts","\u043d\u0430\u0437\u0430\u0434 \u043a \u043f\u043e\u0434\u0430\u0440\u043a\u0430\u043c"))("color","#333333")("background","#ffffff"),c(1),g("text",t.locationService.translate("tie a gift","\u0437\u0430\u0432\u044f\u0437\u0430\u0442\u044c \u043b\u0435\u043d\u0442\u043e\u0439"))("color","#333333")("background","#ffffff"),c(1),H("button-next-stage_hidden",!t.showTape),c(1),g("text",t.locationService.translate("back to package","\u043d\u0430\u0437\u0430\u0434 \u043a \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438"))("color","#333333")("background","#ffffff"),c(1),g("text",t.locationService.translate("complete","\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c"))("color","#333333")("background","#ffffff"),c(1),g("ngIf",t.dragGift.img),c(1),g("ngIf",null==(s=t.cellBoxDragging(0,0))?null:s.rectAllowed),c(1),g("ngIf",t.imageUpload.visible)}},directives:[wh,Rx,zt,ni,js,ot,Vs,Jr,Mo,Eo,zs,bh,w2],styles:["[_nghost-%COMP%]   .display[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all ease .2s}[_nghost-%COMP%]   .display_shifted[_ngcontent-%COMP%]{width:calc(100% - min(500px,40%))}[_nghost-%COMP%]   .gifts[_ngcontent-%COMP%], [_nghost-%COMP%]   .wraps[_ngcontent-%COMP%]{position:fixed;top:0px;right:0px;width:min(500px,40%);height:100%;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;background-color:#fff;border:1px solid #00000033;transform:translate(0);overflow-y:auto;transition:all ease .2s}[_nghost-%COMP%]   .wraps[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:center;flex-wrap:wrap}[_nghost-%COMP%]   .gifts_hidden[_ngcontent-%COMP%], [_nghost-%COMP%]   .wraps_hidden[_ngcontent-%COMP%]{transform:translate(100%)}[_nghost-%COMP%]   .gift-option[_ngcontent-%COMP%] {user-select:none}[_nghost-%COMP%]   .gift-option[_ngcontent-%COMP%]  .icon{border-radius:15px;border:1px solid #00000000;cursor:grab;transition:border ease .2s}[_nghost-%COMP%]   .gift-option[_ngcontent-%COMP%]  .icon:hover{border:1px solid #00000033}[_nghost-%COMP%]   .drag-gift[_ngcontent-%COMP%]{position:absolute;width:100px;height:100px;z-index:999;background-repeat:no-repeat;background-size:contain;background-position:center;transform:translate(-50%) translateY(-50%)}[_nghost-%COMP%]   .drag-gift__not-allowed[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#f003;border-radius:20px}[_nghost-%COMP%]   .drag-gift_animated[_ngcontent-%COMP%]{transition:all ease .2s}[_nghost-%COMP%]   .gift[_ngcontent-%COMP%]{cursor:grab}[_nghost-%COMP%]   .gift_hidden[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .back-drag-gift[_ngcontent-%COMP%]{position:absolute;left:0px;height:0px;width:100vw;height:100vh;background-color:#000a;z-index:10}[_nghost-%COMP%]   .back-drag-gift__window[_ngcontent-%COMP%]{position:absolute;backdrop-filter:brightness(2);display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;border:1px solid #ffffff66}[_nghost-%COMP%]   .grid__row[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:row;align-items:stretch;justify-content:flex-start}[_nghost-%COMP%]   .grid__option[_ngcontent-%COMP%]{flex:1;border-right:1px solid #ffffff66;border-bottom:1px solid #ffffff66}[_nghost-%COMP%]   .grid__row[_ngcontent-%COMP%]:last-child   .grid__option[_ngcontent-%COMP%]{border-bottom:1px solid #ffffff00}[_nghost-%COMP%]   .grid__option[_ngcontent-%COMP%]:last-child{border-right:1px solid #ffffff00}[_nghost-%COMP%]   .button-next-stage[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;position:fixed;right:calc(min(500px,40%)/2);bottom:50%;margin:0;transform:translate(50%) translateY(50%);z-index:10;transition:all ease .2s}[_nghost-%COMP%]   .button-next-stage__option[_ngcontent-%COMP%]:first-child{margin-right:20px}[_nghost-%COMP%]   .button-next-stage_on-display[_ngcontent-%COMP%]{right:calc(min(500px,40%)/2 + 50%);bottom:20px;transform:translate(50%)}[_nghost-%COMP%]   .button-next-stage_disabled[_ngcontent-%COMP%]{position:fixed;right:0px;left:auto;bottom:0px;margin:20px;transform:translate(0) translateY(0);z-index:10}[_nghost-%COMP%]   .button-next-stage_hidden[_ngcontent-%COMP%]{right:-50%;left:auto;bottom:20px}[_nghost-%COMP%]   .list-images-option[_ngcontent-%COMP%]{margin:30px;width:150px;height:150px;border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0}[_nghost-%COMP%]   .list-images-option__image[_ngcontent-%COMP%]{width:60px;height:60px;background-position:center;background-repeat:no-repeat;background-size:contain}[_nghost-%COMP%]   .list-images-option_mini[_ngcontent-%COMP%] > .list-images-option__image[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:10}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__close[_ngcontent-%COMP%]{position:fixed;top:0px;right:0px;margin:20px;width:40px;height:40px;z-index:15;cursor:pointer;border-radius:100px;background-image:url(cross_white.3cfbf2db249143ad.svg);background-position:center;background-size:70%;background-repeat:no-repeat}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__close_background[_ngcontent-%COMP%]{background-color:#0006}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;border-radius:10px;box-shadow:0 0 5px #0003;background-color:#fff;display:flex;flex-direction:row;align-items:center;justify-content:center;z-index:15}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px 10px 10px 0}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin-left:10px}[_nghost-%COMP%] > .screen-image-upload[_ngcontent-%COMP%] > .screen-image-upload__menu[_ngcontent-%COMP%] > .input-color-sign-greetingcard[_ngcontent-%COMP%]{margin:0;width:0px;height:0px;border:none;outline:none;transform:translate(-90px)}[_nghost-%COMP%]   .error[_ngcontent-%COMP%]{z-index:20}"],data:{animation:[ut("verticalShow",[me(":enter",[Y({transform:"translateY(-100%)"}),le("200ms",Y({transform:"translateY(0%)"}))]),me(":leave",[le("200ms",Y({transform:"translateY(-100%)"}))])]),ut("popup",[Ns("open",Y({display:"flex",transform:"translateX(70px) translateY(-60px)",opacity:"1"})),Ns("close",Y({transform:"translateX(70px) translateY(-80px)",opacity:"0",display:"none"})),me("open <=> close",le("0.2s ease"))])]}}),i})();function XH(i,n){1&i&&_(0,"app-touch-page-create-stage1")}function QH(i,n){1&i&&_(0,"app-desktop-page-create-stage1")}function KH(i,n){1&i&&_(0,"app-touch-page-create-stage2")}function JH(i,n){1&i&&_(0,"app-desktop-page-create-stage2")}function eU(i,n){1&i&&_(0,"app-touch-page-create-stage3")}function tU(i,n){1&i&&_(0,"app-desktop-page-create-stage3")}const nU=[{component:(()=>{class i{constructor(e){this.isTouch=e,this.stage=3,this.typeScreen="none"}setTypeScreen(){this.typeScreen=this.isTouch.get()?"touch":"desktop"}ngOnInit(){this.setTypeScreen()}}return i.\u0275fac=function(e){return new(e||i)(D(u6))},i.\u0275cmp=Q({type:i,selectors:[["app-page-create"]],decls:6,vars:6,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(T(0,XH,1,0,"app-touch-page-create-stage1",0),T(1,QH,1,0,"app-desktop-page-create-stage1",0),T(2,KH,1,0,"app-touch-page-create-stage2",0),T(3,JH,1,0,"app-desktop-page-create-stage2",0),T(4,eU,1,0,"app-touch-page-create-stage3",0),T(5,tU,1,0,"app-desktop-page-create-stage3",0)),2&e&&(g("ngIf","touch"===t.typeScreen&&1===t.stage),c(1),g("ngIf","desktop"===t.typeScreen&&1===t.stage),c(1),g("ngIf","touch"===t.typeScreen&&2===t.stage),c(1),g("ngIf","desktop"===t.typeScreen&&2===t.stage),c(1),g("ngIf","touch"===t.typeScreen&&3===t.stage),c(1),g("ngIf","desktop"===t.typeScreen&&3===t.stage))},directives:[ot,GL,mj,Lj,JG,SH,ZH],styles:[""]}),i})(),path:""}];let iU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({imports:[[_b.forRoot(nU)],_b]}),i})(),fU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Lt({type:i}),i.\u0275inj=Et({imports:[[Q3,dh],dh]}),i})(),gU=(()=>{class i{constructor(){this.title="wcg"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Q({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&_(0,"router-outlet")},directives:[pg],styles:[""]}),i})(),mU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Lt({type:i,bootstrap:[gU]}),i.\u0275inj=Et({providers:[],imports:[[cC,iU,q9,F9,OG,dL,fU,IG]]}),i})();C3=!1,I8().bootstrapModule(mU).catch(i=>console.error(i))}},_e=>{_e(_e.s=162)}]);